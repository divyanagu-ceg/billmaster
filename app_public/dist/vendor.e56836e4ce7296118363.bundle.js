webpackJsonp([3],{"+BWq":function(t,e,n){"use strict";function i(t,e,n){return function(i){return i.lift(new a(t,e,n,i))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("TpsG");e.first=i;var a=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),l=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},"+FJ1":function(t,e,n){"use strict";function i(t,e){return r.mergeMap(t,e,1)}var r=n("mjx3");e.concatMap=i},"+zVg":function(t,e,n){"use strict";var i=n("wZOE");e.of=i.ArrayObservable.of},"/oeL":function(t,e,n){"use strict";(function(t){function i(){if(!Tr){var t=Sr.Symbol;if(t&&t.iterator)Tr=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Tr=i)}}return Tr}function r(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function a(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function l(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+s(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,i=n.length-1,r=t[i];if("function"!=typeof r)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+s(r)+"'");if(i!=r.length)throw new Error("Number of annotations ("+i+") does not match number of arguments ("+r.length+") in the function: "+s(r));for(var o=[],l=0,u=n.length-1;l<u;l++){var c=[];o.push(c);var h=n[l];if(Array.isArray(h))for(var p=0;p<h.length;p++)c.push(a(h[p]));else"function"==typeof h?c.push(a(h)):c.push(h)}return Mr.defineMetadata("parameters",o,r),r}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+s(t)+"'")}function u(t){var e=l(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+s(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var i in t)"extends"!==i&&"prototype"!==i&&t.hasOwnProperty(i)&&(n[i]=l(t[i],i));this&&this.annotations instanceof Array&&Mr.defineMetadata("annotations",this.annotations,e);var r=e.name;return r&&"constructor"!==r||(e.overriddenName="class"+kr++),e}function c(t,e,n,i){function r(t){if(!Mr||!Mr.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof r)return o.call(this,t),this;var e=new r(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var s=function(t){var n=Mr.getOwnMetadata("annotations",t)||[];return n.push(e),Mr.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=u,i&&i(s),s}var o=h(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function h(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,e);for(var r in i)this[r]=i[r]}}}function p(t,e,n){function i(){function t(t,e,n){for(var i=Mr.getOwnMetadata("parameters",t)||[];i.length<=n;)i.push(null);return i[n]=i[n]||[],i[n].push(o),Mr.defineMetadata("parameters",i,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=new(i.bind.apply(i,[void 0].concat(e)));return t.annotation=o,t}var r=h(e);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function d(t,e,n){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n=new(i.bind.apply(i,[void 0].concat(t)));return function(t,e){var i=Mr.getOwnMetadata("propMetadata",t.constructor)||{};i[e]=i.hasOwnProperty(e)&&i[e]||[],i[e].unshift(n),Mr.defineMetadata("propMetadata",i,t.constructor)}}var r=h(e);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function f(t){return t.__forward_ref__=f,t.toString=function(){return s(this())},t}function m(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===f?t():t}function v(t){return t[lo]}function y(t){return t[uo]}function g(t){return t[co]||b}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}function w(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),i=Error(n);return i[uo]=e,i}function _(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function C(t){if(t.length>1){return" ("+_(t.slice().reverse()).map(function(t){return s(t.token)}).join(" -> ")+")"}return""}function E(t,e,n,i){var r=[e],o=n(r),s=i?w(o,i):Error(o);return s.addKey=x,s.keys=r,s.injectors=[t],s.constructResolvingMessage=n,s[uo]=i,s}function x(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function S(t,e){return E(t,e,function(t){return"No provider for "+s(t[0].token)+"!"+C(t)})}function T(t,e){return E(t,e,function(t){return"Cannot instantiate cyclic dependency!"+C(t)})}function k(t,e,n,i){return E(t,i,function(t){var n=s(t[0].token);return e.message+": Error during instantiation of "+n+"!"+C(t)+"."},e)}function M(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}function D(t,e){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];o&&0!=o.length?n.push(o.map(s).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+s(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+s(t)+"' is decorated with Injectable.")}function P(t){return Error("Index "+t+" is out-of-bounds.")}function A(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function O(t){return"function"==typeof t}function I(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,i=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(i)))}):[]}function N(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function L(t){var e,n;if(t.useClass){var i=m(t.useClass);e=wo.factory(i),n=B(i)}else t.useExisting?(e=function(t){return t},n=[_o.fromKey(po.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=j(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Co);return new xo(e,n)}function V(t){return new Eo(po.get(t.provide),[L(t)],t.multi||!1)}function R(t){var e=H(t,[]),n=e.map(V),i=F(n,new Map);return Array.from(i.values())}function F(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw A(r,i);if(i.multiProvider)for(var o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else e.set(i.key.id,i)}else{var s=void 0;s=i.multiProvider?new Eo(i.key,i.resolvedFactories.slice(),i.multiProvider):i,e.set(i.key.id,s)}}return e}function H(t,e){return t.forEach(function(t){if(t instanceof vo)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw M(t);H(t,e)}}),e}function j(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return U(t,e,n)})}return B(t)}function B(t){var e=wo.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw D(t,e);return e.map(function(n){return U(t,n,e)})}function U(t,e,n){var i=null,r=!1;if(!Array.isArray(e))return e instanceof Zr?q(e.token,r,null):q(e,r,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof vo?i=a:a instanceof Zr?i=a.token:a instanceof Jr?r=!0:a instanceof to||a instanceof eo?o=a:a instanceof _r&&(i=a)}if(null!=(i=m(i)))return q(i,r,o);throw D(t,n)}function q(t,e,n){return new _o(po.get(t),e,n)}function z(t,e){for(var n=new Array(t._providers.length),i=0;i<t._providers.length;++i)n[i]=e(t.getProviderAtIndex(i));return n}function W(t){return!!t&&"function"==typeof t.then}function Y(t){return!!t&&"function"==typeof t.subscribe}function G(){return""+X()+X()+X()}function X(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function K(){throw new Error("Runtime compiler is not loaded")}function Q(t){var e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[zo]=t,e}function Z(t,e){return void 0===e&&(e=null),Xo.createScope(t,e)}function J(t,e){return Go.leaveScope(t,e),e}function $(t,e){return null}function tt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function et(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,i,r,o,s){try{return nt(t),e.invokeTask(i,r,o,s)}finally{it(t)}},onInvoke:function(e,n,i,r,o,s,a){try{return nt(t),e.invoke(i,r,o,s,a)}finally{it(t)}},onHasTask:function(e,n,i,r){e.hasTask(i,r),n===i&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,tt(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,n,i,r){return e.handleError(i,r),t.runOutsideAngular(function(){return t.onError.emit(r)}),!1}})}function nt(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function it(t){t._nesting--,tt(t)}function rt(t){ls=t}function ot(){if(cs)throw new Error("Cannot enable prod mode after platform setup.");us=!1}function st(){return cs=!0,us}function at(t){if(ss&&!ss.destroyed&&!ss.injector.get(hs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ss=t.get(ds);var e=t.get(Io,null);return e&&e.forEach(function(t){return t()}),ss}function lt(t,e,n){void 0===n&&(n=[]);var i=new _r("Platform: "+e);return function(e){void 0===e&&(e=[]);var r=ct();return r&&!r.injector.get(hs,!1)||(t?t(n.concat(e).concat({provide:i,useValue:!0})):at(To.resolveAndCreate(n.concat(e).concat({provide:i,useValue:!0})))),ut(i)}}function ut(t){var e=ct();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function ct(){return ss&&!ss.destroyed?ss:null}function ht(t,e,n){try{var i=n();return W(i)?i.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):i}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}function pt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function dt(t,e){var n=Es.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Es.set(t,e)}function ft(t){return t.reduce(function(t,e){var n=Array.isArray(e)?ft(e):e;return t.concat(n)},[])}function mt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function vt(t,e,n){t.childNodes.forEach(function(t){t instanceof Ns&&(e(t)&&n.push(t),vt(t,e,n))})}function yt(t,e,n){t instanceof Ns&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Ns&&yt(t,e,n)})}function gt(t){return Ls.get(t)||null}function bt(t){Ls.set(t.nativeNode,t)}function wt(t){Ls.delete(t.nativeNode)}function _t(t,e){var n=Ct(t),i=Ct(e);if(n&&i)return Et(t,e,_t);var r=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!s)||o(t,e)}function Ct(t){return!!St(t)&&(Array.isArray(t)||!(t instanceof Map)&&i()in t)}function Et(t,e,n){for(var r=t[i()](),o=e[i()]();;){var s=r.next(),a=o.next();if(s.done&&a.done)return!0;if(s.done||a.done)return!1;if(!n(s.value,a.value))return!1}}function xt(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[i()](),o=void 0;!(o=r.next()).done;)e(o.value)}function St(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Tt(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function kt(t){return t.name||typeof t}function Mt(){return wo}function Dt(){return Zs}function Pt(){return Js}function At(t){return t||"en-US"}function Ot(t,e){return t.nodes[e]}function It(t,e){return t.nodes[e]}function Nt(t,e){return t.nodes[e]}function Lt(t,e){return t.nodes[e]}function Vt(t,e){return t.nodes[e]}function Rt(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Ht(r,t)}function Ft(t,e){return t instanceof Error||(t=new Error(t.toString())),jt(t,e),t}function Ht(t,e){var n=new Error(t);return jt(n,e),n}function jt(t,e){t[lo]=e,t[co]=e.logError.bind(e)}function Bt(t){return!!v(t)}function Ut(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function qt(t){var e=ca.get(t);return e||(e=s(t)+"_"+ca.size,ca.set(t,e)),e}function zt(t,e,n,i){if(i instanceof Vs){i=i.wrapped;var r=t.def.nodes[e].bindingIndex+n,o=t.oldValues[r];o instanceof Vs&&(o=o.wrapped),t.oldValues[r]=new Vs(o)}return i}function Wt(t){return{id:ha,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function Yt(t){if(t&&t.id===ha){var e=null!=t.encapsulation&&t.encapsulation!==Xr.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+da++:pa}return t&&t.id===pa&&(t=null),t||null}function Gt(t,e,n,i){var r=t.oldValues;return!(!(2&t.state)&&o(r[e.bindingIndex+n],i))}function Xt(t,e,n,i){return!!Gt(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Kt(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!_t(r,i))throw Rt(la.createDebugContext(t,e.nodeIndex),r,i,0!=(1&t.state))}function Qt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Zt(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Jt(t,e,n,i){return Qt(33554432&t.def.nodes[e].flags?It(t,e).componentView:t),la.handleEvent(t,e,n,i)}function $t(t){if(t.parent){return It(t.parent,t.parentNodeDef.nodeIndex)}return null}function te(t){return t.parent?t.parentNodeDef.parent:null}function ee(t,e){switch(201347067&e.flags){case 1:return It(t,e.nodeIndex).renderElement;case 2:return Ot(t,e.nodeIndex).renderText}}function ne(t,e){return t?t+":"+e:e}function ie(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function re(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function oe(t){return 1<<t%32}function se(t){var e={},n=0,i={};return t&&t.forEach(function(t){var r=t[0],o=t[1];"number"==typeof r?(e[r]=o,n|=oe(r)):i[r]=o}),{matchedQueries:e,references:i,matchedQueryIds:n}}function ae(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:qt(e)}})}function le(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Xr.Native?It(t,n.renderParent.nodeIndex).renderElement:void 0:e}function ue(t){var e=fa.get(t);return e||(e=t(function(){return ua}),e.factory=t,fa.set(t,e)),e}function ce(t){var e=[];return he(t,0,void 0,void 0,e),e}function he(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(ee(t,t.def.lastRenderRootNode))),pe(t,e,0,t.def.nodes.length-1,n,i,r)}function pe(t,e,n,i,r,o,s){for(var a=n;a<=i;a++){var l=t.def.nodes[a];11&l.flags&&fe(t,l,e,r,o,s),a+=l.childCount}}function de(t,e,n,i,r,o){for(var s=t;s&&!ie(s);)s=s.parent;for(var a=s.parent,l=te(s),u=l.nodeIndex+1,c=l.nodeIndex+l.childCount,h=u;h<=c;h++){var p=a.def.nodes[h];p.ngContentIndex===e&&fe(a,p,n,i,r,o),h+=p.childCount}if(!a.parent){var d=t.root.projectableNodes[e];if(d)for(var h=0;h<d.length;h++)me(t,d[h],n,i,r,o)}}function fe(t,e,n,i,r,o){if(8&e.flags)de(t,e.ngContent.index,n,i,r,o);else{var s=ee(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&me(t,s,n,i,r,o),32&e.bindingFlags){var a=It(t,e.nodeIndex).componentView;me(a,s,n,i,r,o)}}else me(t,s,n,i,r,o);if(16777216&e.flags)for(var l=It(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<l.length;u++)he(l[u],n,i,r,o);1&e.flags&&!e.element.name&&pe(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function me(t,e,n,i,r,o){var s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}function ve(t){if(":"===t[0]){var e=t.match(ma);return[e[1],e[2]]}return["",t]}function ye(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ge(t,e){for(var n="",i=0;i<2*t;i+=2)n=n+e[i]+we(e[i+1]);return n+e[2*t]}function be(t,e,n,i,r,o,s,a,l,u,c,h,p,d,f,m,v,y,g,b){switch(t){case 1:return e+we(n)+i;case 2:return e+we(n)+i+we(r)+o;case 3:return e+we(n)+i+we(r)+o+we(s)+a;case 4:return e+we(n)+i+we(r)+o+we(s)+a+we(l)+u;case 5:return e+we(n)+i+we(r)+o+we(s)+a+we(l)+u+we(c)+h;case 6:return e+we(n)+i+we(r)+o+we(s)+a+we(l)+u+we(c)+h+we(p)+d;case 7:return e+we(n)+i+we(r)+o+we(s)+a+we(l)+u+we(c)+h+we(p)+d+we(f)+m;case 8:return e+we(n)+i+we(r)+o+we(s)+a+we(l)+u+we(c)+h+we(p)+d+we(f)+m+we(v)+y;case 9:return e+we(n)+i+we(r)+o+we(s)+a+we(l)+u+we(c)+h+we(p)+d+we(f)+m+we(v)+y+we(g)+b;default:throw new Error("Does not support more than 9 expressions")}}function we(t){return null!=t?t.toString():""}function _e(t,e,n,i,r,o){t|=1;var s=se(e),a=s.matchedQueries,l=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:l,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ue(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||ua},provider:null,text:null,query:null,ngContent:null}}function Ce(t,e,n,i,r,o,s,a,l,u,c,h){void 0===s&&(s=[]),u||(u=ua);var p=se(n),d=p.matchedQueries,f=p.references,m=p.matchedQueryIds,v=null,y=null;o&&(N=ve(o),v=N[0],y=N[1]),a=a||[];for(var g=new Array(a.length),b=0;b<a.length;b++){var w=a[b],_=w[0],C=w[1],E=w[2],x=ve(C),S=x[0],T=x[1],k=void 0,M=void 0;switch(15&_){case 4:M=E;break;case 1:case 8:k=E}g[b]={flags:_,ns:S,name:T,nonMinifiedName:T,securityContext:k,suffix:M}}l=l||[];for(var D=new Array(l.length),b=0;b<l.length;b++){var P=l[b],A=P[0],O=P[1];D[b]={type:0,target:A,eventName:O,propName:null}}s=s||[];var I=s.map(function(t){var e=t[0],n=t[1],i=ve(e);return[i[0],i[1],n]});return h=Yt(h),c&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:f,ngContentIndex:i,childCount:r,bindings:g,bindingFlags:ye(g),outputs:D,element:{ns:v,name:y,attrs:I,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||ua},provider:null,text:null,query:null,ngContent:null};var N}function Ee(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){i=r.name?s.createElement(r.name,r.ns):s.createComment("");var a=le(t,e,n);a&&s.appendChild(a,i)}else i=s.selectRootElement(o);if(r.attrs)for(var l=0;l<r.attrs.length;l++){var u=r.attrs[l],c=u[0],h=u[1],p=u[2];s.setAttribute(i,h,p,c)}return i}function xe(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],s=Se(t,n.nodeIndex,ne(o.target,o.eventName)),a=o.target,l=t;"component"===o.target&&(a=null,l=e);var u=l.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=u}}function Se(t,e,n){return function(i){try{return Jt(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}}function Te(t,e,n,i,r,o,s,a,l,u,c,h){var p=e.bindings.length,d=!1;return p>0&&Me(t,e,0,n)&&(d=!0),p>1&&Me(t,e,1,i)&&(d=!0),p>2&&Me(t,e,2,r)&&(d=!0),p>3&&Me(t,e,3,o)&&(d=!0),p>4&&Me(t,e,4,s)&&(d=!0),p>5&&Me(t,e,5,a)&&(d=!0),p>6&&Me(t,e,6,l)&&(d=!0),p>7&&Me(t,e,7,u)&&(d=!0),p>8&&Me(t,e,8,c)&&(d=!0),p>9&&Me(t,e,9,h)&&(d=!0),d}function ke(t,e,n){for(var i=!1,r=0;r<n.length;r++)Me(t,e,r,n[r])&&(i=!0);return i}function Me(t,e,n,i){if(!Xt(t,e,n,i))return!1;var r=e.bindings[n],o=It(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:De(t,r,s,r.ns,a,i);break;case 2:Pe(t,s,a,i);break;case 4:Ae(t,r,s,a,i);break;case 8:Oe(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}function De(t,e,n,i,r,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var l=t.renderer;null!=o?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}function Pe(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}function Ae(t,e,n,i,r){var o=t.root.sanitizer.sanitize(sa.STYLE,r);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,i,o):a.removeStyle(n,i)}function Oe(t,e,n,i,r){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}function Ie(t,e,n,i){return{index:-1,deps:ae(i),flags:t,token:e,value:n}}function Ne(t){for(var e={},n=0;n<t.length;n++){var i=t[n];i.index=n,e[qt(i.token)]=i}return{factory:null,providersByKey:e,providers:t}}function Le(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||(n[i]=Re(t,r))}}function Ve(t,e,n){if(void 0===n&&(n=so.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var i=e.tokenKey;switch(i){case ba:case wa:return t}var r=t._def.providersByKey[i];if(r){var o=t._providers[r.index];return void 0===o&&(o=t._providers[r.index]=Re(t,r)),o===ga?void 0:o}return t._parent.get(e.token,n)}function Re(t,e){var n;switch(201347067&e.flags){case 512:n=Fe(t,e.value,e.deps);break;case 1024:n=He(t,e.value,e.deps);break;case 2048:n=Ve(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?ga:n}function Fe(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Ve(t,n[0]));case 2:return new e(Ve(t,n[0]),Ve(t,n[1]));case 3:return new e(Ve(t,n[0]),Ve(t,n[1]),Ve(t,n[2]));default:for(var r=new Array(i),o=0;o<i;o++)r[o]=Ve(t,n[o]);return new(e.bind.apply(e,[void 0].concat(r)))}}function He(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Ve(t,n[0]));case 2:return e(Ve(t,n[0]),Ve(t,n[1]));case 3:return e(Ve(t,n[0]),Ve(t,n[1]),Ve(t,n[2]));default:for(var r=Array(i),o=0;o<i;o++)r[o]=Ve(t,n[o]);return e.apply(void 0,r)}}function je(t,e){for(var n=t._def,i=0;i<n.providers.length;i++){if(131072&n.providers[i].flags){var r=t._providers[i];r&&r!==ga&&r.ngOnDestroy()}}}function Be(t,e,n,i){var r=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=r.length),i.viewContainerParent=t,Ke(r,n,i),Ue(e,i),la.dirtyParentQueries(i),Ge(e,n>0?r[n-1]:null,i)}function Ue(t,e){var n=$t(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),qe(e.parent.def,e.parentNodeDef)}}function qe(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}function ze(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,Qe(n,e),la.dirtyParentQueries(i),Xe(i),i}function We(t){if(16&t.state){var e=$t(t);if(e){var n=e.template._projectedViews;n&&(Qe(n,n.indexOf(t)),la.dirtyParentQueries(t))}}}function Ye(t,e,n){var i=t.viewContainer._embeddedViews,r=i[e];return Qe(i,e),null==n&&(n=i.length),Ke(i,n,r),la.dirtyParentQueries(r),Xe(r),Ge(t,n>0?i[n-1]:null,r),r}function Ge(t,e,n){var i=e?ee(e,e.def.lastRenderRootNode):t.renderElement;he(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function Xe(t){he(t,3,null,null,void 0)}function Ke(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qe(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function Ze(t,e,n,i,r,o){return new Ca(t,e,n,i,r,o)}function Je(t){return t.viewDefFactory}function $e(t,e,n){return new xa(t,e,n)}function tn(t){return new Sa(t)}function en(t,e){return new Ta(t,e)}function nn(t,e){return new ka(t,e)}function rn(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=It(t,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return Ot(t,n.nodeIndex).renderText;if(20240&n.flags)return Nt(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function on(t){return new Ma(t.renderer)}function sn(t,e,n,i){return new Da(t,e,n,i)}function an(t,e,n,i,r,o,s,a){var l=[];if(s)for(var u in s){var c=s[u],h=c[0],p=c[1];l[h]={flags:8,name:u,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var f in a)d.push({type:1,propName:f,target:null,eventName:a[f]});return e|=16384,cn(t,e,n,i,r,r,o,l,d)}function ln(t,e,n){return t|=16,cn(-1,t,null,0,e,e,n)}function un(t,e,n,i,r){return cn(-1,t,e,0,n,i,r)}function cn(t,e,n,i,r,o,s,a,l){var u=se(n),c=u.matchedQueries,h=u.references,p=u.matchedQueryIds;l||(l=[]),a||(a=[]);var d=ae(s);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:ye(a),outputs:l,element:null,provider:{token:r,value:o,deps:d},text:null,query:null,ngContent:null}}function hn(t,e){return yn(t,e)}function pn(t,e){for(var n=t;n.parent&&!ie(n);)n=n.parent;return gn(n.parent,te(n),!0,e.provider.value,e.provider.deps)}function dn(t,e){var n=(32768&e.flags)>0,i=gn(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],s=i[o.propName].subscribe(fn(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+r]=s.unsubscribe.bind(s)}return i}function fn(t,e,n){return function(i){try{return Jt(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}}function mn(t,e,n,i,r,o,s,a,l,u,c,h){var p=Nt(t,e.nodeIndex),d=p.instance,f=!1,m=void 0,v=e.bindings.length;return v>0&&Gt(t,e,0,n)&&(f=!0,m=Cn(t,p,e,0,n,m)),v>1&&Gt(t,e,1,i)&&(f=!0,m=Cn(t,p,e,1,i,m)),v>2&&Gt(t,e,2,r)&&(f=!0,m=Cn(t,p,e,2,r,m)),v>3&&Gt(t,e,3,o)&&(f=!0,m=Cn(t,p,e,3,o,m)),v>4&&Gt(t,e,4,s)&&(f=!0,m=Cn(t,p,e,4,s,m)),v>5&&Gt(t,e,5,a)&&(f=!0,m=Cn(t,p,e,5,a,m)),v>6&&Gt(t,e,6,l)&&(f=!0,m=Cn(t,p,e,6,l,m)),v>7&&Gt(t,e,7,u)&&(f=!0,m=Cn(t,p,e,7,u,m)),v>8&&Gt(t,e,8,c)&&(f=!0,m=Cn(t,p,e,8,c,m)),v>9&&Gt(t,e,9,h)&&(f=!0,m=Cn(t,p,e,9,h,m)),m&&d.ngOnChanges(m),2&t.state&&65536&e.flags&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),f}function vn(t,e,n){for(var i=Nt(t,e.nodeIndex),r=i.instance,o=!1,s=void 0,a=0;a<n.length;a++)Gt(t,e,a,n[a])&&(o=!0,s=Cn(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),2&t.state&&65536&e.flags&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}function yn(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return gn(t,e.parent,n,i.value,i.deps);case 1024:return bn(t,e.parent,n,i.value,i.deps);case 2048:return wn(t,e.parent,n,i.deps[0]);case 256:return i.value}}function gn(t,e,n,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(wn(t,e,n,r[0]));case 2:return new i(wn(t,e,n,r[0]),wn(t,e,n,r[1]));case 3:return new i(wn(t,e,n,r[0]),wn(t,e,n,r[1]),wn(t,e,n,r[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=wn(t,e,n,r[a]);return new(i.bind.apply(i,[void 0].concat(s)))}}function bn(t,e,n,i,r){var o=r.length;switch(o){case 0:return i();case 1:return i(wn(t,e,n,r[0]));case 2:return i(wn(t,e,n,r[0]),wn(t,e,n,r[1]));case 3:return i(wn(t,e,n,r[0]),wn(t,e,n,r[1]),wn(t,e,n,r[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=wn(t,e,n,r[a]);return i.apply(void 0,s)}}function wn(t,e,n,i,r){if(void 0===r&&(r=so.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var s=i.tokenKey;for(s===La&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case Pa:var a=_n(t,e,n);return on(a);case Aa:var a=_n(t,e,n);return a.renderer;case Oa:return new _s(It(t,e.nodeIndex).renderElement);case Ia:return It(t,e.nodeIndex).viewContainer;case Na:if(e.element.template)return It(t,e.nodeIndex).template;break;case La:return tn(_n(t,e,n));case Va:return nn(t,e);default:var l=(n?e.element.allProviders:e.element.publicProviders)[s];if(l){var u=Nt(t,l.nodeIndex);return u||(u={instance:yn(t,l)},t.nodes[l.nodeIndex]=u),u.instance}}n=ie(t),e=te(t),t=t.parent}var c=o.root.injector.get(i.token,Ra);return c!==Ra||r===Ra?c:o.root.ngModule.injector.get(i.token,r)}function _n(t,e,n){var i;if(n)i=It(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ie(i);)i=i.parent;return i}function Cn(t,e,n,i,r,o){if(32768&n.flags){var s=It(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}var a=n.bindings[i],l=a.name;if(e.instance[l]=r,524288&n.flags){o=o||{};var u=t.oldValues[n.bindingIndex+i];u instanceof Vs&&(u=u.wrapped);o[n.bindings[i].nonMinifiedName]=new Rs(u,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function En(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0;i<n.length;i++){var r=n[i],o=r.parent;for(!o&&r.flags&e&&Sn(t,i,r.flags&e),0==(r.childFlags&e)&&(i+=r.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&xn(t,o,e),o=o.parent}}function xn(t,e,n){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var r=t.def.nodes[i];r.flags&n&&Sn(t,i,r.flags&n),i+=r.childCount}}function Sn(t,e,n){var i=Nt(t,e);if(i){var r=i.instance;r&&(la.setCurrentNode(t,e),1048576&n&&r.ngAfterContentInit(),2097152&n&&r.ngAfterContentChecked(),4194304&n&&r.ngAfterViewInit(),8388608&n&&r.ngAfterViewChecked(),131072&n&&r.ngOnDestroy())}}function Tn(t,e,n){var i=[];for(var r in n){var o=n[r];i.push({propName:r,bindingType:o})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:oe(e),bindings:i},ngContent:null}}function kn(){return new xs}function Mn(t){for(var e=t.def.nodeMatchedQueries;t.parent&&re(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++){var o=t.def.nodes[r];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Vt(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var r=0;r<t.def.nodes.length;r++){var o=t.def.nodes[r];134217728&o.flags&&536870912&o.flags&&Vt(t,r).setDirty(),r+=o.childCount}}function Dn(t,e){var n=Vt(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=Pn(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=Nt(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Pn(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var s=e.query.bindings,a=!1,l=0;l<s.length;l++){var u=s[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}i[u.propName]=c}a&&n.notifyOnChanges()}}function Pn(t,e,n,i,r){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[i.id];if(null!=a&&r.push(An(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var l=It(t,o);if((s.childMatchedQueries&i.filterId)===i.filterId&&(Pn(t,o+1,o+s.childCount,i,r),o+=s.childCount),16777216&s.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],p=$t(h);p&&p===l&&Pn(h,0,h.def.nodes.length-1,i,r)}var d=l.template._projectedViews;if(d)for(var c=0;c<d.length;c++){var f=d[c];Pn(f,0,f.def.nodes.length-1,i,r)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(o+=s.childCount)}return r}function An(t,e,n){if(null!=n)switch(n){case 1:return It(t,e.nodeIndex).renderElement;case 0:return new _s(It(t,e.nodeIndex).renderElement);case 2:return It(t,e.nodeIndex).template;case 3:return It(t,e.nodeIndex).viewContainer;case 4:return Nt(t,e.nodeIndex).instance}}function On(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function In(t,e,n){var i=le(t,e,n);if(i){de(t,n.ngContent.index,1,i,null,void 0)}}function Nn(t,e){return Rn(128,t,new Array(e+1))}function Ln(t,e){return Rn(32,t,new Array(e))}function Vn(t,e){for(var n=Object.keys(e),i=n.length,r=new Array(i),o=0;o<i;o++){var s=n[o];r[e[s]]=s}return Rn(64,t,r)}function Rn(t,e,n){for(var i=new Array(n.length),r=0;r<n.length;r++){var o=n[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:ye(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Fn(t,e){return{value:void 0}}function Hn(t,e,n,i,r,o,s,a,l,u,c,h){var p=e.bindings,d=!1,f=p.length;if(f>0&&Xt(t,e,0,n)&&(d=!0),f>1&&Xt(t,e,1,i)&&(d=!0),f>2&&Xt(t,e,2,r)&&(d=!0),f>3&&Xt(t,e,3,o)&&(d=!0),f>4&&Xt(t,e,4,s)&&(d=!0),f>5&&Xt(t,e,5,a)&&(d=!0),f>6&&Xt(t,e,6,l)&&(d=!0),f>7&&Xt(t,e,7,u)&&(d=!0),f>8&&Xt(t,e,8,c)&&(d=!0),f>9&&Xt(t,e,9,h)&&(d=!0),d){var m=Lt(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(p.length),f>0&&(v[0]=n),f>1&&(v[1]=i),f>2&&(v[2]=r),f>3&&(v[3]=o),f>4&&(v[4]=s),f>5&&(v[5]=a),f>6&&(v[6]=l),f>7&&(v[7]=u),f>8&&(v[8]=c),f>9&&(v[9]=h);break;case 64:v={},f>0&&(v[p[0].name]=n),f>1&&(v[p[1].name]=i),f>2&&(v[p[2].name]=r),f>3&&(v[p[3].name]=o),f>4&&(v[p[4].name]=s),f>5&&(v[p[5].name]=a),f>6&&(v[p[6].name]=l),f>7&&(v[p[7].name]=u),f>8&&(v[p[8].name]=c),f>9&&(v[p[9].name]=h);break;case 128:var y=n;switch(f){case 1:v=y.transform(n);break;case 2:v=y.transform(i);break;case 3:v=y.transform(i,r);break;case 4:v=y.transform(i,r,o);break;case 5:v=y.transform(i,r,o,s);break;case 6:v=y.transform(i,r,o,s,a);break;case 7:v=y.transform(i,r,o,s,a,l);break;case 8:v=y.transform(i,r,o,s,a,l,u);break;case 9:v=y.transform(i,r,o,s,a,l,u,c);break;case 10:v=y.transform(i,r,o,s,a,l,u,c,h)}}m.value=v}return d}function jn(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Xt(t,e,o,n[o])&&(r=!0);if(r){var s=Lt(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var o=0;o<n.length;o++)a[i[o].name]=n[o];break;case 128:var l=n[0],u=n.slice(1);a=l.transform.apply(l,u)}s.value=a}return r}function Bn(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Un(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=le(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function qn(t,e,n,i,r,o,s,a,l,u,c,h){var p=!1,d=e.bindings,f=d.length;if(f>0&&Xt(t,e,0,n)&&(p=!0),f>1&&Xt(t,e,1,i)&&(p=!0),f>2&&Xt(t,e,2,r)&&(p=!0),f>3&&Xt(t,e,3,o)&&(p=!0),f>4&&Xt(t,e,4,s)&&(p=!0),f>5&&Xt(t,e,5,a)&&(p=!0),f>6&&Xt(t,e,6,l)&&(p=!0),f>7&&Xt(t,e,7,u)&&(p=!0),f>8&&Xt(t,e,8,c)&&(p=!0),f>9&&Xt(t,e,9,h)&&(p=!0),p){var m=e.text.prefix;f>0&&(m+=Wn(n,d[0])),f>1&&(m+=Wn(i,d[1])),f>2&&(m+=Wn(r,d[2])),f>3&&(m+=Wn(o,d[3])),f>4&&(m+=Wn(s,d[4])),f>5&&(m+=Wn(a,d[5])),f>6&&(m+=Wn(l,d[6])),f>7&&(m+=Wn(u,d[7])),f>8&&(m+=Wn(c,d[8])),f>9&&(m+=Wn(h,d[9]));var v=Ot(t,e.nodeIndex).renderText;t.renderer.setValue(v,m)}return p}function zn(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Xt(t,e,o,n[o])&&(r=!0);if(r){for(var s="",o=0;o<n.length;o++)s+=Wn(n[o],i[o]);s=e.text.prefix+s;var a=Ot(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return r}function Wn(t,e){return(null!=t?t.toString():"")+e.suffix}function Yn(t,e,n,i){for(var r=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,p=!1,d=null,f=0;f<e.length;f++){var m=e[f];if(m.nodeIndex=f,m.parent=u,m.bindingIndex=r,m.outputIndex=o,m.renderParent=c,s|=m.flags,l|=m.matchedQueryIds,m.element){var v=m.element;v.publicProviders=u?u.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,h=!1,p=!1,m.element.template&&(l|=m.element.template.nodeMatchedQueries)}if(Xn(u,m,e.length),r+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(d=m),20224&m.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var y=0!=(8192&m.flags),g=0!=(32768&m.flags);!y||g?u.element.publicProviders[qt(m.provider.token)]=m:(p||(p=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[qt(m.provider.token)]=m),g&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,m.childCount>0)u=m,Gn(m)||(c=m);else for(;u&&f===u.nodeIndex+u.childCount;){var b=u.parent;b&&(b.childFlags|=u.childFlags,b.childMatchedQueries|=u.childMatchedQueries),u=b,c=u&&Gn(u)?u.renderParent:u}}var w=function(t,n,i,r){return e[n].element.handleEvent(t,i,r)};return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||ua,updateRenderer:i||ua,handleEvent:w,bindingCount:r,outputCount:o,lastRenderRootNode:d}}function Gn(t){return 0!=(1&t.flags)&&null===t.element.name}function Xn(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags){if(0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!")}if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Kn(t,e,n,i){var r=Jn(t.root,t.renderer,t,e,n);return $n(r,t.component,i),ti(r),r}function Qn(t,e,n){var i=Jn(t,t.renderer,null,null,e);return $n(i,n,n),ti(i),i}function Zn(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,Jn(t.root,r,t,e.element.componentProvider,n)}function Jn(t,e,n,i,r){var o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s}}function $n(t,e,n){t.component=e,t.context=n}function ti(t){var e;if(ie(t)){var n=t.parentNodeDef;e=It(t.parent,n.parent.nodeIndex).renderElement}for(var i=t.def,r=t.nodes,o=0;o<i.nodes.length;o++){var s=i.nodes[o];la.setCurrentNode(t,o);var a=void 0;switch(201347067&s.flags){case 1:var l=Ee(t,e,s),u=void 0;if(33554432&s.flags){var c=ue(s.element.componentView);u=la.createComponentView(t,s,c,l)}xe(t,u,s,l),a={renderElement:l,componentView:u,viewContainer:null,template:s.element.template?en(t,s):void 0},16777216&s.flags&&(a.viewContainer=$e(t,s,a));break;case 2:a=Un(t,e,s);break;case 512:case 1024:case 2048:case 256:if(!((a=r[o])||4096&s.flags)){var h=hn(t,s);a={instance:h}}break;case 16:var h=pn(t,s);a={instance:h};break;case 16384:if(!(a=r[o])){var h=dn(t,s);a={instance:h}}if(32768&s.flags){$n(It(t,s.parent.nodeIndex).componentView,a.instance,a.instance)}break;case 32:case 64:case 128:a=Fn(t,s);break;case 67108864:case 134217728:a=kn();break;case 8:In(t,e,s),a=void 0}r[o]=a}di(t,Fa.CreateViewNodes),yi(t,201326592,268435456,0)}function ei(t){ri(t),la.updateDirectives(t,1),fi(t,Fa.CheckNoChanges),la.updateRenderer(t,1),di(t,Fa.CheckNoChanges),t.state&=-97}function ni(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ri(t),la.updateDirectives(t,0),fi(t,Fa.CheckAndUpdate),yi(t,67108864,536870912,0),En(t,2097152|(2&t.state?1048576:0)),la.updateRenderer(t,0),di(t,Fa.CheckAndUpdate),yi(t,134217728,536870912,0),En(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function ii(t,e,n,i,r,o,s,a,l,u,c,h,p){return 0===n?oi(t,e,i,r,o,s,a,l,u,c,h,p):si(t,e,i)}function ri(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=It(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var s=r[o];s.state|=32,Zt(s,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function oi(t,e,n,i,r,o,s,a,l,u,c,h){switch(201347067&e.flags){case 1:return Te(t,e,n,i,r,o,s,a,l,u,c,h);case 2:return qn(t,e,n,i,r,o,s,a,l,u,c,h);case 16384:return mn(t,e,n,i,r,o,s,a,l,u,c,h);case 32:case 64:case 128:return Hn(t,e,n,i,r,o,s,a,l,u,c,h);default:throw"unreachable"}}function si(t,e,n){switch(201347067&e.flags){case 1:return ke(t,e,n);case 2:return zn(t,e,n);case 16384:return vn(t,e,n);case 32:case 64:case 128:return jn(t,e,n);default:throw"unreachable"}}function ai(t,e,n,i,r,o,s,a,l,u,c,h,p){return 0===n?li(t,e,i,r,o,s,a,l,u,c,h,p):ui(t,e,i),!1}function li(t,e,n,i,r,o,s,a,l,u,c,h){var p=e.bindings.length;p>0&&Kt(t,e,0,n),p>1&&Kt(t,e,1,i),p>2&&Kt(t,e,2,r),p>3&&Kt(t,e,3,o),p>4&&Kt(t,e,4,s),p>5&&Kt(t,e,5,a),p>6&&Kt(t,e,6,l),p>7&&Kt(t,e,7,u),p>8&&Kt(t,e,8,c),p>9&&Kt(t,e,9,h)}function ui(t,e,n){for(var i=0;i<n.length;i++)Kt(t,e,i,n[i])}function ci(t,e){if(Vt(t,e.nodeIndex).dirty)throw Rt(la.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function hi(t){if(!(128&t.state)){if(fi(t,Fa.Destroy),di(t,Fa.Destroy),En(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();We(t),t.renderer.destroyNode&&pi(t),ie(t)&&t.renderer.destroy(),t.state|=128}}function pi(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(It(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Ot(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Vt(t,n).destroy()}}function di(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?mi(It(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function fi(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=It(t,i).viewContainer._embeddedViews,s=0;s<o.length;s++)mi(o[s],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function mi(t,e){var n=t.state;switch(e){case Fa.CheckNoChanges:0==(128&n)&&(12==(12&n)?ei(t):64&n&&vi(t,Fa.CheckNoChangesProjectedViews));break;case Fa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ei(t):64&n&&vi(t,e));break;case Fa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ni(t):64&n&&vi(t,Fa.CheckAndUpdateProjectedViews));break;case Fa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ni(t):64&n&&vi(t,e));break;case Fa.Destroy:hi(t);break;case Fa.CreateViewNodes:ti(t)}}function vi(t,e){fi(t,e),di(t,e)}function yi(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(la.setCurrentNode(t,s.nodeIndex),i){case 0:Dn(t,s);break;case 1:ci(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}function gi(){if(!Ha){Ha=!0;var t=st()?wi():bi();la.setCurrentNode=t.setCurrentNode,la.createRootView=t.createRootView,la.createEmbeddedView=t.createEmbeddedView,la.createComponentView=t.createComponentView,la.createNgModuleRef=t.createNgModuleRef,la.overrideProvider=t.overrideProvider,la.clearProviderOverrides=t.clearProviderOverrides,la.checkAndUpdateView=t.checkAndUpdateView,la.checkNoChangesView=t.checkNoChangesView,la.destroyView=t.destroyView,la.resolveDep=wn,la.createDebugContext=t.createDebugContext,la.handleEvent=t.handleEvent,la.updateDirectives=t.updateDirectives,la.updateRenderer=t.updateRenderer,la.dirtyParentQueries=Mn}}function bi(){return{setCurrentNode:function(){},createRootView:_i,createEmbeddedView:Kn,createComponentView:Zn,createNgModuleRef:sn,overrideProvider:ua,clearProviderOverrides:ua,checkAndUpdateView:ni,checkNoChangesView:ei,destroyView:hi,createDebugContext:function(t,e){return new Ya(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Ai:Oi,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Ai:Oi,t)}}}function wi(){return{setCurrentNode:Vi,createRootView:Ci,createEmbeddedView:xi,createComponentView:Si,createNgModuleRef:Ti,overrideProvider:ki,clearProviderOverrides:Mi,checkAndUpdateView:Ii,checkNoChangesView:Ni,destroyView:Li,createDebugContext:function(t,e){return new Ya(t,e)},handleEvent:Ri,updateDirectives:Fi,updateRenderer:Hi}}function _i(t,e,n,i,r,o){return Qn(Ei(t,r,r.injector.get(gs),e,n),i,o)}function Ci(t,e,n,i,r,o){var s=r.injector.get(gs),a=Ei(t,r,new Ga(s),e,n),l=Di(i);return Qi(Ba.create,Qn,null,[a,l,o])}function Ei(t,e,n,i,r){var o=e.injector.get(aa),s=e.injector.get(ho);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function xi(t,e,n,i){var r=Di(n);return Qi(Ba.create,Kn,null,[t,e,r,i])}function Si(t,e,n,i){var r=Di(n);return Qi(Ba.create,Zn,null,[t,e,r,i])}function Ti(t,e,n,i){return sn(t,e,n,Pi(i))}function ki(t){ja.set(t.token,t)}function Mi(){ja.clear()}function Di(t){if(0===ja.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&ja.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return ua});for(var n=0;n<e.length;n++)!function(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=ja.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=ae(o.deps),r.value=o.value)}}}(t,e[n]);return t}function Pi(t){var e=function(t){var e=!1,n=!1;return 0===ja.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var i=ja.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,i=e.hasDeprecatedOverrides;return n?(t=t.factory(function(){return ua}),function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];i&&(n.flags|=4096);var r=ja.get(n.token);r&&(n.flags=-3841&n.flags|r.flags,n.deps=ae(r.deps),n.value=r.value)}}(t),t):t}function Ai(t,e,n,i,r,o,s,a,l,u,c,h,p){var d=t.def.nodes[e];return ii(t,d,n,i,r,o,s,a,l,u,c,h,p),224&d.flags?Lt(t,e).value:void 0}function Oi(t,e,n,i,r,o,s,a,l,u,c,h,p){var d=t.def.nodes[e];return ai(t,d,n,i,r,o,s,a,l,u,c,h,p),224&d.flags?Lt(t,e).value:void 0}function Ii(t){return Qi(Ba.detectChanges,ni,null,[t])}function Ni(t){return Qi(Ba.checkNoChanges,ei,null,[t])}function Li(t){return Qi(Ba.destroy,hi,null,[t])}function Vi(t,e){qa=t,za=e}function Ri(t,e,n,i){return Vi(t,e),Qi(Ba.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Fi(t,e){function n(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?ji(t,s,i,r):Bi(t,s,i,r),16384&s.flags&&Vi(t,Wi(t,n)),224&s.flags?Lt(t,s.nodeIndex).value:void 0}if(128&t.state)throw Ut(Ba[Ua]);return Vi(t,Wi(t,0)),t.def.updateDirectives(n,t)}function Hi(t,e){function n(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?ji(t,s,i,r):Bi(t,s,i,r),3&s.flags&&Vi(t,Yi(t,n)),224&s.flags?Lt(t,s.nodeIndex).value:void 0}if(128&t.state)throw Ut(Ba[Ua]);return Vi(t,Yi(t,0)),t.def.updateRenderer(n,t)}function ji(t,e,n,i){if(ii.apply(void 0,[t,e,n].concat(i))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],l=r[s];8&a.flags&&(o[Ui(a.nonMinifiedName)]=zi(l))}var u=e.parent,c=It(t,u.nodeIndex).renderElement;if(u.element.name)for(var h in o){var l=o[h];null!=l?t.renderer.setAttribute(c,h,l):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function Bi(t,e,n,i){ai.apply(void 0,[t,e,n].concat(i))}function Ui(t){return"ng-reflect-"+(t=qi(t.replace(/[$@]/g,"_")))}function qi(t){return t.replace(Wa,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}function zi(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Wi(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function Yi(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}function Gi(t,e){for(var n=-1,i=0;i<=e;i++){3&t.nodes[i].flags&&n++}return n}function Xi(t){for(;t&&!ie(t);)t=t.parent;return t.parent?It(t.parent,te(t).nodeIndex):null}function Ki(t,e,n){for(var i in e.references)n[i]=An(t,e,e.references[i])}function Qi(t,e,n,i){var r=Ua,o=qa,s=za;try{Ua=t;var a=e.apply(n,i);return qa=o,za=s,Ua=r,a}catch(t){if(Bt(t)||!qa)throw t;throw Ft(t,Zi())}}function Zi(){return qa?new Ya(qa,za):null}function Ji(t,e,n){return new Ka(t,e,n)}function $i(t,e){return{type:7,name:t,definitions:e,options:{}}}function tr(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function er(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function nr(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function ir(t){return{type:6,styles:t,offset:null}}function rr(t,e,n){return{type:0,name:t,styles:e,options:n}}function or(t){return{type:5,steps:t}}function sr(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function ar(t,e){return $i(t,e)}function lr(t,e){return tr(t,e)}function ur(t){return er(t)}function cr(t){return nr(t)}function hr(t){return ir(t)}function pr(t,e){return rr(t,e)}function dr(t){return or(t)}function fr(t,e){return sr(t,e)}n.d(e,"g",function(){return ms}),n.d(e,"_23",function(){return ot}),n.d(e,"_27",function(){return st}),n.d(e,"_22",function(){return lt}),n.d(e,"Q",function(){return ps}),n.d(e,"c",function(){return Ao}),n.d(e,"U",function(){return Vo}),n.d(e,"W",function(){return Io}),n.d(e,"V",function(){return No}),n.d(e,"b",function(){return Lo}),n.d(e,"d",function(){return Do}),n.d(e,"e",function(){return Po}),n.d(e,"_25",function(){return gt}),n.d(e,"_13",function(){return rs}),n.d(e,"_32",function(){return rt}),n.d(e,"_10",function(){return na}),n.d(e,"_11",function(){return ia}),n.d(e,"I",function(){return ea}),n.d(e,"J",function(){return ra}),n.d(e,"f",function(){return oa}),n.d(e,"_14",function(){return vo}),n.d(e,"x",function(){return ns}),n.d(e,"w",function(){return ho}),n.d(e,"_5",function(){return aa}),n.d(e,"_6",function(){return sa}),n.d(e,"a",function(){return Dr}),n.d(e,"h",function(){return Pr}),n.d(e,"s",function(){return Ir}),n.d(e,"t",function(){return Or}),n.d(e,"Y",function(){return Ar}),n.d(e,"_16",function(){return Lr}),n.d(e,"_17",function(){return Nr}),n.d(e,"o",function(){return Hr}),n.d(e,"u",function(){return Fr}),n.d(e,"z",function(){return qr}),n.d(e,"A",function(){return zr}),n.d(e,"F",function(){return Br}),n.d(e,"T",function(){return Ur}),n.d(e,"X",function(){return jr}),n.d(e,"j",function(){return Wr}),n.d(e,"L",function(){return Yr}),n.d(e,"M",function(){return Gr}),n.d(e,"_19",function(){return Xr}),n.d(e,"_15",function(){return Kr}),n.d(e,"_24",function(){return f}),n.d(e,"_30",function(){return m}),n.d(e,"E",function(){return so}),n.d(e,"_0",function(){return To}),n.d(e,"D",function(){return _r}),n.d(e,"B",function(){return Zr}),n.d(e,"S",function(){return Jr}),n.d(e,"C",function(){return $r}),n.d(e,"_7",function(){return to}),n.d(e,"_8",function(){return eo}),n.d(e,"y",function(){return no}),n.d(e,"R",function(){return is}),n.d(e,"_1",function(){return ys}),n.d(e,"_2",function(){return ws}),n.d(e,"_3",function(){return gs}),n.d(e,"_4",function(){return bs}),n.d(e,"i",function(){return jo}),n.d(e,"m",function(){return Ho}),n.d(e,"n",function(){return Bo}),n.d(e,"K",function(){return Fo}),n.d(e,"p",function(){return qo}),n.d(e,"r",function(){return Uo}),n.d(e,"q",function(){return Yo}),n.d(e,"v",function(){return _s}),n.d(e,"N",function(){return Jo}),n.d(e,"P",function(){return Zo}),n.d(e,"O",function(){return Cs}),n.d(e,"Z",function(){return xs}),n.d(e,"_9",function(){return ks}),n.d(e,"_12",function(){return Ms}),n.d(e,"_18",function(){return Ds}),n.d(e,"k",function(){return Vr}),n.d(e,"l",function(){return Ps}),n.d(e,"G",function(){return Gs}),n.d(e,"H",function(){return Xs}),n.d(e,"_20",function(){return Vs}),n.d(e,"_29",function(){return ta}),n.d(e,"_54",function(){return Ct}),n.d(e,"_38",function(){return Ro}),n.d(e,"_41",function(){return ao}),n.d(e,"_37",function(){return Ko}),n.d(e,"_42",function(){return go}),n.d(e,"_51",function(){return Sr}),n.d(e,"_57",function(){return o}),n.d(e,"_69",function(){return s}),n.d(e,"_55",function(){return Y}),n.d(e,"_56",function(){return W}),n.d(e,"_68",function(){return dt}),n.d(e,"_39",function(){return va}),n.d(e,"_40",function(){return ya}),n.d(e,"_43",function(){return _e}),n.d(e,"_44",function(){return Ze}),n.d(e,"_45",function(){return Ji}),n.d(e,"_46",function(){return Wt}),n.d(e,"_47",function(){return an}),n.d(e,"_48",function(){return Ce}),n.d(e,"_49",function(){return ne}),n.d(e,"_50",function(){return Je}),n.d(e,"_52",function(){return be}),n.d(e,"_53",function(){return ge}),n.d(e,"_58",function(){return Ne}),n.d(e,"_59",function(){return Ie}),n.d(e,"_60",function(){return On}),n.d(e,"_61",function(){return rn}),n.d(e,"_63",function(){return ln}),n.d(e,"_66",function(){return un}),n.d(e,"_62",function(){return Ln}),n.d(e,"_64",function(){return Vn}),n.d(e,"_65",function(){return Nn}),n.d(e,"_67",function(){return Tn}),n.d(e,"_70",function(){return Bn}),n.d(e,"_71",function(){return zt}),n.d(e,"_72",function(){return Yn}),n.d(e,"_36",function(){return ar}),n.d(e,"_21",function(){return lr}),n.d(e,"_26",function(){return ur}),n.d(e,"_31",function(){return cr}),n.d(e,"_34",function(){return hr}),n.d(e,"_33",function(){return pr}),n.d(e,"_28",function(){return dr}),n.d(e,"_35",function(){return fr});var mr=n("6Xbx"),vr=n("bKpL"),yr=(n.n(vr),n("LEug")),gr=(n.n(yr),n("CE6k")),br=(n.n(gr),n("rlar")),wr=(n.n(br),function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}()),_r=function(t){function e(e){return t.call(this,e)||this}return mr.a(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(wr),Cr="undefined"!=typeof window&&window,Er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xr=void 0!==t&&t,Sr=Cr||xr||Er,Tr=null,kr=0,Mr=Sr.Reflect,Dr=new _r("AnalyzeForEntryComponents"),Pr=p("Attribute",function(t){return{attributeName:t}}),Ar=function(){function t(){}return t}(),Or=d("ContentChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},Ar),Ir=d("ContentChild",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},Ar),Nr=d("ViewChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},Ar),Lr=d("ViewChild",function(t,e){return Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},Ar),Vr={};Vr.OnPush=0,Vr.Default=1,Vr[Vr.OnPush]="OnPush",Vr[Vr.Default]="Default";var Rr={};Rr.CheckOnce=0,Rr.Checked=1,Rr.CheckAlways=2,Rr.Detached=3,Rr.Errored=4,Rr.Destroyed=5,Rr[Rr.CheckOnce]="CheckOnce",Rr[Rr.Checked]="Checked",Rr[Rr.CheckAlways]="CheckAlways",Rr[Rr.Detached]="Detached",Rr[Rr.Errored]="Errored",Rr[Rr.Destroyed]="Destroyed";var Fr=c("Directive",function(t){return void 0===t&&(t={}),t}),Hr=c("Component",function(t){return void 0===t&&(t={}),Object.assign({changeDetection:Vr.Default},t)},Fr),jr=c("Pipe",function(t){return Object.assign({pure:!0},t)}),Br=d("Input",function(t){return{bindingPropertyName:t}}),Ur=d("Output",function(t){return{bindingPropertyName:t}}),qr=d("HostBinding",function(t){return{hostPropertyName:t}}),zr=d("HostListener",function(t,e){return{eventName:t,args:e}}),Wr={name:"custom-elements"},Yr={name:"no-errors-schema"},Gr=c("NgModule",function(t){return t}),Xr={};Xr.Emulated=0,Xr.Native=1,Xr.None=2,Xr[Xr.Emulated]="Emulated",Xr[Xr.Native]="Native",Xr[Xr.None]="None";var Kr=(function(){function t(t){void 0===t&&(t={}),this.templateUrl=t.templateUrl,this.template=t.template,this.styleUrls=t.styleUrls,this.styles=t.styles,this.encapsulation=t.encapsulation,this.animations=t.animations,this.interpolation=t.interpolation}}(),function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}()),Qr=new Kr("4.4.7"),Zr=p("Inject",function(t){return{token:t}}),Jr=p("Optional"),$r=c("Injectable"),to=p("Self"),eo=p("SkipSelf"),no=p("Host"),io=new Object,ro=io,oo=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=io),e===io)throw new Error("No provider for "+s(t)+"!");return e},t}(),so=function(){function t(){}return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();so.THROW_IF_NOT_FOUND=io,so.NULL=new oo;var ao="ngComponentType",lo="ngDebugContext",uo="ngOriginalError",co="ngErrorLogger",ho=function(){function t(t){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=g(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?v(t)?v(t):this._findContext(y(t)):null},t.prototype._findOriginalError=function(t){for(var e=y(t);e&&y(e);)e=y(e);return e},t}(),po=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return s(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return mo.get(m(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return mo.numberOfKeys},enumerable:!0,configurable:!0}),t}(),fo=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof po)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new po(t,po.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),mo=new fo,vo=Function,yo=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,go=function(){function t(t){this._reflect=t||Sr.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var i=0;i<n.length;i++)void 0===t?n[i]=[]:t[i]!=Object?n[i]=[t[i]]:n[i]=[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n},t.prototype._ownParameters=function(t,e){if(yo.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var i="function"==typeof n?n():n,r=i.map(function(t){return t&&t.type}),o=i.map(function(t){return t&&I(t.decorators)});return this._zipTypesAndAnnotations(r,o)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var o=this._reflect.getOwnMetadata("parameters",t),r=this._reflect.getOwnMetadata("design:paramtypes",t);if(r||o)return this._zipTypesAndAnnotations(r,o)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!O(t))return[];var e=N(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?I(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!O(t))return[];var e=N(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var i=t.propDecorators,r={};return Object.keys(i).forEach(function(t){r[t]=I(i[t])}),r}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!O(t))return{};var e=N(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,r[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof vo&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+s(t)},t.prototype.resourceUri=function(t){return"./"+s(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return i},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),bo=function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return this.reflectionCapabilities.resolveIdentifier(t,e,n,i)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}(),wo=new bo(new go),_o=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Co=[],Eo=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),xo=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),So=new Object,To=function(){function t(){}return t.resolve=function(t){return R(t)},t.resolveAndCreate=function(e,n){var i=t.resolve(e);return t.fromResolvedProviders(i,n)},t.fromResolvedProviders=function(t,e){return new ko(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),ko=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var i=0;i<n;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=So}return t.prototype.get=function(t,e){return void 0===e&&(e=ro),this._getByKey(po.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=To.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(To.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw P(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw T(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i=this,r=e.factory;try{n=e.dependencies.map(function(t){return i._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var o;try{o=r.apply(void 0,n)}catch(e){throw k(this,e,e.stack,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:ro)},t.prototype._getByKey=function(t,e,n){return t===Mo?this:e instanceof to?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===So&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return So},t.prototype._throwOrNull=function(t,e){if(e!==ro)return e;throw S(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==So?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,i){var r;for(r=i instanceof eo?this._parent:this;r instanceof t;){var o=r,s=o._getObjByKeyId(e.id);if(s!==So)return s;r=o._parent}return null!==r?r.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+z(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),Mo=po.get(so),Do=new _r("Application Initializer"),Po=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this._done=!1,this._donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t._done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();W(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();Po.decorators=[{type:$r}],Po.ctorParameters=function(){return[{type:Array,decorators:[{type:Zr,args:[Do]},{type:Jr}]}]};var Ao=new _r("AppId"),Oo={provide:Ao,useFactory:G,deps:[]},Io=new _r("Platform Initializer"),No=new _r("Platform ID"),Lo=new _r("appBootstrapListener"),Vo=new _r("Application Packages Root URL"),Ro=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();Ro.decorators=[{type:$r}],Ro.ctorParameters=function(){return[]};var Fo=function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}return t}(),Ho=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw K()},t.prototype.compileModuleAsync=function(t){throw K()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw K()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw K()},t.prototype.getNgContentSelectors=function(t){throw K()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}();Ho.decorators=[{type:$r}],Ho.ctorParameters=function(){return[]};var jo=new _r("compilerOptions"),Bo=function(){function t(){}return t.prototype.createCompiler=function(t){},t}(),Uo=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),qo=function(){function t(){}return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,i){},t}(),zo="ngComponent",Wo=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Q(t)},t}(),Yo=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t}();Yo.NULL=new Wo;var Go,Xo,Ko=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var r=t[i];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Q(t);return new Qo(e,this._ngModule)},t}(),Qo=function(t){function e(e,n){var i=t.call(this)||this;return i.factory=e,i.ngModule=n,i}return mr.a(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}(qo),Zo=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Jo=function(){function t(){}return t.prototype.moduleType=function(){},t.prototype.create=function(t){},t}(),$o=function(){var t=Sr.wtf;return!(!t||!(Go=t.trace))&&(Xo=Go.events,!0)}(),ts=$o?Z:function(t,e){return $},es=$o?J:function(t,e){return e},ns=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return mr.a(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var r,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()})),t.prototype.subscribe.call(this,r,o,s)},e}(br.Subject),is=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ns(!1),this.onMicrotaskEmpty=new ns(!1),this.onStable=new ns(!1),this.onError=new ns(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched();var i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.wtfZoneSpec&&(i._inner=i._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),et(i)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this._inner.run(t)},t.prototype.runGuarded=function(t){return this._inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),rs=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){is.assertNotInAngularZone(),r(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?r(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t}();rs.decorators=[{type:$r}],rs.ctorParameters=function(){return[{type:is}]};var os=function(){function t(){this._applications=new Map,ls.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),ls.findTestabilityInTree(this,t,e)},t}();os.decorators=[{type:$r}],os.ctorParameters=function(){return[]};var ss,as=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),ls=new as,us=!0,cs=!1,hs=new _r("AllowMultipleToken"),ps=function(){function t(t,e){this.name=t,this.token=e}return t}(),ds=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),fs=function(t){function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return mr.a(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new is({enableLongStackTrace:st()})),e.run(function(){var i=To.resolveAndCreate([{provide:is,useValue:e}],n.injector),r=t.create(i),o=r.injector.get(ho,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(function(){return pt(n._modules,r)}),e.runOutsideAngular(function(){return e.onError.subscribe({next:function(t){o.handleError(t)}})}),ht(o,e,function(){var t=r.injector.get(Po);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(r),r})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var i=this;return void 0===e&&(e=[]),this.injector.get(Bo).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return i._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ms);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}(ds);fs.decorators=[{type:$r}],fs.ctorParameters=function(){return[{type:so}]};var ms=function(){function t(){}return t.prototype.bootstrap=function(t,e){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),vs=function(t){function e(e,n,i,o,s,a){var l=t.call(this)||this;l._zone=e,l._console=n,l._injector=i,l._exceptionHandler=o,l._componentFactoryResolver=s,l._initStatus=a,l._bootstrapListeners=[],l._rootComponents=[],l._rootComponentTypes=[],l._views=[],l._runningTick=!1,l._enforceNoNewChanges=!1,l._stable=!0,l._enforceNoNewChanges=st(),l._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var u=new vr.Observable(function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){t.next(l._stable),t.complete()})}),c=new vr.Observable(function(t){var e;l._zone.runOutsideAngular(function(){e=l._zone.onStable.subscribe(function(){is.assertNotInAngularZone(),r(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){is.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return l._isStable=Object(yr.merge)(u,gr.share.call(c)),l}return mr.a(e,t),e.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t;pt(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var i;i=t instanceof qo?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(i.componentType);var r=i instanceof Qo?null:this._injector.get(Zo),o=e||i.selector,s=i.create(so.NULL,[],o,r);s.onDestroy(function(){n._unloadComponent(s)});var a=s.injector.get(rs,null);return a&&s.injector.get(os).registerApplication(s.location.nativeElement,a),this._loadComponent(s),st()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(Lo,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),pt(this._rootComponents,t)},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,es(n)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(ms);vs._tickScope=ts("ApplicationRef#tick()"),vs.decorators=[{type:$r}],vs.ctorParameters=function(){return[{type:is},{type:Ro},{type:so},{type:ho},{type:Yo},{type:Po}]};var ys=(function(){function t(t,e,n,i,r,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=i,this.styles=r,this.animations=o}}(),function(){function t(){}t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){}}(),function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,i,r,o,s){},t}()),gs=(new _r("Renderer2Interceptor"),function(){function t(){}t.prototype.renderComponent=function(t){}}(),function(){function t(){}return t.prototype.createRenderer=function(t,e){},t.prototype.begin=function(){},t.prototype.end=function(){},t.prototype.whenRenderingDone=function(){},t}()),bs={};bs.Important=1,bs.DashCase=2,bs[bs.Important]="Important",bs[bs.DashCase]="DashCase";var ws=function(){function t(){}return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,i){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,i){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),_s=function(){function t(t){this.nativeElement=t}return t}(),Cs=function(){function t(){}return t.prototype.load=function(t){},t}(),Es=new Map,xs=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new ns}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[i()]=function(){return this._results[i()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=ft(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._emitter.complete(),this._emitter.unsubscribe()},t}(),Ss=function(){function t(){}return t}(),Ts={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ks=function(){function t(t,e){this._compiler=t,this._config=e||Ts}return t.prototype.load=function(t){return this._compiler instanceof Ho?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=t.split("#"),r=i[0],o=i[1];return void 0===o&&(o="default"),n("gFIY")(r).then(function(t){return t[o]}).then(function(t){return mt(t,r,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("gFIY")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return mt(t,i,r)})},t}();ks.decorators=[{type:$r}],ks.ctorParameters=function(){return[{type:Ho},{type:Ss,decorators:[{type:Jr}]}]};var Ms=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),Ds=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,i,r){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),Ps=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),As=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mr.a(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(Ps),Os=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}mr.a(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){}}(As),function(){function t(t,e){this.name=t,this.callback=e}return t}()),Is=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Ns?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),Ns=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return mr.a(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,i=this.childNodes.indexOf(t);-1!==i&&((r=this.childNodes).splice.apply(r,[i+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var r},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return vt(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return yt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Is),Ls=new Map,Vs=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),Rs=(function(){function t(){this.hasWrappedValue=!1}t.prototype.unwrap=function(t){return t instanceof Vs?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1}}(),function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}()),Fs=function(){function t(){}return t.prototype.supports=function(t){return Ct(t)},t.prototype.create=function(t,e){return new js(e||t)},t}(),Hs=function(t,e){return e},js=function(){function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hs}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<Tt(n,i,r)?e:n,s=Tt(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var l=s-i,u=a-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,p=h+c;u<=p&&p<l&&(r[c]=h+1)}var d=o.previousIndex;r[d]=u-l}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Ct(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,r,s=this._itHead,a=!1;if(Array.isArray(t)){this._length=t.length;for(var l=0;l<this._length;l++)i=t[l],r=this._trackByFn(l,i),null!==s&&o(s.trackById,r)?(a&&(s=this._verifyReinsertion(s,i,r,l)),o(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,r,l),a=!0),s=s._next}else n=0,xt(t,function(t){r=e._trackByFn(n,t),null!==s&&o(s.trackById,r)?(a&&(s=e._verifyReinsertion(s,t,r,n)),o(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,r,n),a=!0),s=s._next,n++}),this._length=n;return this._truncate(s),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,i),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Bs(e,n),r,i)),t},t.prototype._verifyReinsertion=function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var i=[];this.forEachMovedItem(function(t){return i.push(t)});var r=[];this.forEachRemovedItem(function(t){return r.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+i.join(", ")+"\nremovals: "+r.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),Bs=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?s(this.item):s(this.item)+"["+s(this.previousIndex)+"->"+s(this.currentIndex)+"]"},t}(),Us=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&o(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),qs=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,i=this.map.get(n);return i?i.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+s(this.map)+")"},t}(),zs=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||St(t)},t.prototype.create=function(t){return new Ws},t}(),Ws=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||St(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Ys(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){o(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Ys=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}return t}(),Gs=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();return e=e.concat(i),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new eo,new Jr]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+kt(t)+"'")},t}(),Xs=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new eo,new Jr]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Ks=[new zs],Qs=[new Fs],Zs=new Gs(Qs),Js=new Xs(Ks),$s=[{provide:No,useValue:"unknown"},fs,{provide:ds,useExisting:fs},{provide:bo,useFactory:Mt,deps:[]},os,Ro],ta=lt(null,"core",$s),ea=new _r("LocaleId"),na=new _r("Translations"),ia=new _r("TranslationsFormat"),ra={};ra.Error=0,ra.Warning=1,ra.Ignore=2,ra[ra.Error]="Error",ra[ra.Warning]="Warning",ra[ra.Ignore]="Ignore";var oa=function(){function t(t){}return t}();oa.decorators=[{type:Gr,args:[{providers:[vs,{provide:ms,useExisting:vs},Po,Ho,Oo,{provide:Gs,useFactory:Dt},{provide:Xs,useFactory:Pt},{provide:ea,useFactory:At,deps:[[new Zr(ea),new Jr,new eo]]}]}]}],oa.ctorParameters=function(){return[{type:ms}]};var sa={};sa.NONE=0,sa.HTML=1,sa.STYLE=2,sa.SCRIPT=3,sa.URL=4,sa.RESOURCE_URL=5,sa[sa.NONE]="NONE",sa[sa.HTML]="HTML",sa[sa.STYLE]="STYLE",sa[sa.SCRIPT]="SCRIPT",sa[sa.URL]="URL",sa[sa.RESOURCE_URL]="RESOURCE_URL";var aa=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}(),la=(function(){function t(){}t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]}}(),{setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0}),ua=function(){},ca=new Map,ha="$$undefined",pa="$$empty",da=0,fa=new WeakMap,ma=/^:([^:]+):(.+)$/,va=[],ya={},ga=new Object,ba=qt(so),wa=qt(Zo),_a=new Object,Ca=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=r,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=i,a}return mr.a(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){var i=e[n];t.push({propName:n,templateName:i})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=ue(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=la.createRootView(t,e||[],n,r,i,_a),a=Nt(s,o).instance;return n&&s.renderer.setAttribute(It(s,0).renderElement,"ng-version",Qr.full),new Ea(s,new Sa(s),a)},e}(qo),Ea=function(t){function e(e,n,i){var r=t.call(this)||this;return r._view=e,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r}return mr.a(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new _s(It(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new ka(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Uo),xa=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new _s(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new ka(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=te(t),t=t.parent;return t?new ka(t,e):new ka(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length,e=t-1;e>=0;e--){var n=ze(this._data,e);la.destroyView(n)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Sa(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof Qo||(r=o.get(Zo));var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t,i=n._view;return Be(this._view,this._data,e,i),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return Ye(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=ze(this._data,t);e&&la.destroyView(e)},t.prototype.detach=function(t){var e=ze(this._data,t);return e?new Sa(e):null},t}(),Sa=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ce(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Qt(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),la.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){la.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),la.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Xe(this._view),la.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),Ta=function(t){function e(e,n){var i=t.call(this)||this;return i._parentView=e,i._def=n,i}return mr.a(e,t),e.prototype.createEmbeddedView=function(t){return new Sa(la.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new _s(It(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Ms),ka=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=so.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return la.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:qt(t)},e)},t}(),Ma=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=ve(e),i=n[0],r=n[1],o=this.delegate.createElement(r,i);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=ve(e),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Da=function(){function t(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,Le(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=so.THROW_IF_NOT_FOUND),Ve(this,{token:t,tokenKey:qt(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Yo)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,je(this,131072),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Pa=qt(ys),Aa=qt(ws),Oa=qt(_s),Ia=qt(Ds),Na=qt(Ms),La=qt(Ps),Va=qt(so),Ra={},Fa={};Fa.CreateViewNodes=0,Fa.CheckNoChanges=1,Fa.CheckNoChangesProjectedViews=2,Fa.CheckAndUpdate=3,Fa.CheckAndUpdateProjectedViews=4,Fa.Destroy=5,Fa[Fa.CreateViewNodes]="CreateViewNodes",Fa[Fa.CheckNoChanges]="CheckNoChanges",Fa[Fa.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",Fa[Fa.CheckAndUpdate]="CheckAndUpdate",Fa[Fa.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",Fa[Fa.Destroy]="Destroy";var Ha=!1,ja=new Map,Ba={};Ba.create=0,Ba.detectChanges=1,Ba.checkNoChanges=2,Ba.destroy=3,Ba.handleEvent=4,Ba[Ba.create]="create",Ba[Ba.detectChanges]="detectChanges",Ba[Ba.checkNoChanges]="checkNoChanges",Ba[Ba.destroy]="destroy",Ba[Ba.handleEvent]="handleEvent";var Ua,qa,za,Wa=/([A-Z])/g,Ya=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=te(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return It(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return nn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Ki(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ki(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=Xi(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ee(this.view,this.nodeDef):ee(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r;2&this.nodeDef.flags?(i=this.view.def,r=this.nodeDef.nodeIndex):(i=this.elView.def,r=this.elDef.nodeIndex);var o=Gi(i,r),s=-1,a=function(){return s++,s===o?(n=t.error).bind.apply(n,[t].concat(e)):ua;var n};i.factory(a),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),Ga=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Xa(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Xa=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){wt(gt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=Zi();if(i){var r=new Ns(n,null,i);r.name=t,bt(r)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Zi();return n&&bt(new Is(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Zi();return n&&bt(new Is(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=gt(t),i=gt(e);n&&i&&n instanceof Ns&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=gt(t),r=gt(e),o=gt(n);i&&r&&i instanceof Ns&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=gt(t),i=gt(e);n&&i&&n instanceof Ns&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Zi();return n&&bt(new Ns(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,i){var r=gt(t);if(r&&r instanceof Ns){var o=i?i+":"+e:e;r.attributes[o]=n}this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=gt(t);if(i&&i instanceof Ns){var r=n?n+":"+e:e;i.attributes[r]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=gt(t);n&&n instanceof Ns&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=gt(t);n&&n instanceof Ns&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var r=gt(t);r&&r instanceof Ns&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=gt(t);i&&i instanceof Ns&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=gt(t);i&&i instanceof Ns&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=gt(t);i&&i.listeners.push(new Os(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),Ka=function(t){function e(e,n,i){var r=t.call(this)||this;return r.moduleType=e,r._bootstrapComponents=n,r._ngModuleDefFactory=i,r}return mr.a(e,t),e.prototype.create=function(t){gi();var e=ue(this._ngModuleDefFactory);return la.createNgModuleRef(this.moduleType,t||so.NULL,this._bootstrapComponents,e)},e}(Jo)}).call(e,n("fRUx"))},"1eQ7":function(t,e,n){"use strict";function i(t,e,n){return r.first(t,e,n)(this)}var r=n("+BWq");e.first=i},"2B7B":function(t,e,n){"use strict";function i(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var i=t.Map;if(i)for(var r=Object.getOwnPropertyNames(i.prototype),o=0;o<r.length;++o){var s=r[o];if("entries"!==s&&"size"!==s&&i.prototype[s]===i.prototype.entries)return s}return"@@iterator"}var r=n("zijX");e.symbolIteratorPonyfill=i,e.iterator=i(r.root),e.$$iterator=e.iterator},"3lsR":function(t,e,n){"use strict";var i=n("bKpL"),r=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return i.Observable.of(this.value);case"E":return i.Observable.throw(this.error);case"C":return i.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=r},"422b":function(t,e,n){"use strict";function i(t,e){return r.filter(t,e)(this)}var r=n("Hd11");e.filter=i},"5v8a":function(t,e,n){"use strict";var i=n("bKpL"),r=n("lx+J");i.Observable.prototype.map=r.map},"6Xbx":function(t,e,n){"use strict";function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}e.a=i;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)}},"7JOC":function(t,e,n){"use strict";var i=n("OWbQ");e.from=i.FromObservable.create},"82j9":function(t,e){},"8rcZ":function(t,e,n){"use strict";function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeMap(o.identity,null,t)}var r=n("mjx3"),o=n("Yuqz");e.mergeAll=i},BkNc:function(t,e,n){"use strict";function i(t){return new Ue(t)}function r(t){var e=Error("NavigationCancelingError: "+t);return e[qe]=!0,e}function o(t){return t[qe]}function s(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function a(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];l(i,u(e,i))}}function l(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Be)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&a(t.children,e)}function u(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function c(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!h(t[n],e[n]))return!1;return!0}function h(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r,o=0;o<n.length;o++)if(r=n[o],t[r]!==e[r])return!1;return!0}function p(t){return Array.prototype.concat.apply([],t)}function d(t){return t.length>0?t[t.length-1]:null}function f(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function m(t,e){if(0===Object.keys(t).length)return Object(fe.of)({});var n=[],i=[],r={};f(t,function(t,o){var s=be.map.call(e(o,t),function(t){return r[o]=t});o===Be?n.push(s):i.push(s)});var o=xe.concatAll.call(fe.of.apply(void 0,n.concat(i))),s=ge.last.call(o);return be.map.call(s,function(){return r})}function v(t){var e=ke.mergeAll.call(t);return ve.every.call(e,function(t){return!0===t})}function y(t){return Object(ce._55)(t)?t:Object(ce._56)(t)?Object(Te.fromPromise)(Promise.resolve(t)):Object(fe.of)(t)}function g(){return new We(new Ye([],{}),{},null)}function b(t,e,n){return n?w(t.queryParams,e.queryParams)&&_(t.root,e.root):C(t.queryParams,e.queryParams)&&E(t.root,e.root)}function w(t,e){return h(t,e)}function _(t,e){if(!T(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!_(t.children[n],e.children[n]))return!1}return!0}function C(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function E(t,e){return x(t,e,e.segments)}function x(t,e,n){if(t.segments.length>n.length){var i=t.segments.slice(0,n.length);return!!T(i,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!T(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!E(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!T(t.segments,i)&&(!!t.children[Be]&&x(t.children[Be],e,o))}function S(t,e){return T(t,e)&&t.every(function(t,n){return h(t.parameters,e[n].parameters)})}function T(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function k(t,e){var n=[];return f(t.children,function(t,i){i===Be&&(n=n.concat(e(t,i)))}),f(t.children,function(t,i){i!==Be&&(n=n.concat(e(t,i)))}),n}function M(t){return t.segments.map(function(t){return O(t)}).join("/")}function D(t,e){if(!t.hasChildren())return M(t);if(e){var n=t.children[Be]?D(t.children[Be],!1):"",i=[];return f(t.children,function(t,e){e!==Be&&i.push(e+":"+D(t,!1))}),i.length>0?n+"("+i.join("//")+")":n}var r=k(t,function(e,n){return n===Be?[D(t.children[Be],!1)]:[n+":"+D(e,!1)]});return M(t)+"/("+r.join("//")+")"}function P(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function A(t){return decodeURIComponent(t)}function O(t){return""+P(t.path)+I(t.parameters)}function I(t){return Object.keys(t).map(function(e){return";"+P(e)+"="+P(t[e])}).join("")}function N(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return P(e)+"="+P(t)}).join("&"):P(e)+"="+P(n)});return e.length?"?"+e.join("&"):""}function L(t){var e=t.match(Ze);return e?e[0]:""}function V(t){var e=t.match(Je);return e?e[0]:""}function R(t){var e=t.match($e);return e?e[0]:""}function F(t){return new Ce.Observable(function(e){return e.error(new en(t))})}function H(t){return new Ce.Observable(function(e){return e.error(new nn(t))})}function j(t){return new Ce.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function B(t){return new Ce.Observable(function(e){return e.error(r("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function U(t,e,n,i,r){return new rn(t,e,n,i,r).apply()}function q(t,e){var n=e.canLoad;return n&&0!==n.length?v(be.map.call(Object(de.from)(n),function(n){var i=t.get(n);return y(i.canLoad?i.canLoad(e):i(e))})):Object(fe.of)(!0)}function z(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=e.matcher||s,r=i(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function W(t,e,n,i){if(n.length>0&&K(t,n,i)){var r=new Ye(e,X(i,new Ye(n,t.children)));return{segmentGroup:Y(r),slicedSegments:[]}}if(0===n.length&&Q(t,n,i)){var r=new Ye(t.segments,G(t,n,i,t.children));return{segmentGroup:Y(r),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function Y(t){if(1===t.numberOfChildren&&t.children[Be]){var e=t.children[Be];return new Ye(t.segments.concat(e.segments),e.children)}return t}function G(t,e,n,i){for(var r={},o=0,s=n;o<s.length;o++){var a=s[o];Z(t,e,a)&&!i[J(a)]&&(r[J(a)]=new Ye([],{}))}return Object.assign({},i,r)}function X(t,e){var n={};n[Be]=e;for(var i=0,r=t;i<r.length;i++){var o=r[i];""===o.path&&J(o)!==Be&&(n[J(o)]=new Ye([],{}))}return n}function K(t,e,n){return n.some(function(n){return Z(t,e,n)&&J(n)!==Be})}function Q(t,e,n){return n.some(function(n){return Z(t,e,n)})}function Z(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function J(t){return t.outlet||Be}function $(t,e){if(t===e.value)return e;for(var n=0,i=e.children;n<i.length;n++){var r=i[n],o=$(t,r);if(o)return o}return null}function tt(t,e){if(t===e.value)return[e];for(var n=0,i=e.children;n<i.length;n++){var r=i[n],o=tt(t,r);if(o.length)return o.unshift(e),o}return[]}function et(t,e){var n=nt(t,e),i=new he.BehaviorSubject([new Ge("",{})]),r=new he.BehaviorSubject({}),o=new he.BehaviorSubject({}),s=new he.BehaviorSubject({}),a=new he.BehaviorSubject(""),l=new ln(i,r,s,a,o,Be,e,n.root);return l.snapshot=n.root,new an(new sn(l,[]),n)}function nt(t,e){var n={},i={},r={},o=new un([],n,r,"",i,Be,e,null,t.root,-1,{});return new cn("",new sn(o,[]))}function it(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var i=e[n],r=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(r.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function rt(t,e){e.value._routerState=t,e.children.forEach(function(e){return rt(t,e)})}function ot(t){var e=t.children.length>0?" { "+t.children.map(ot).join(", ")+" } ":"";return""+t.value+e}function st(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,h(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),h(e.params,n.params)||t.params.next(n.params),c(e.url,n.url)||t.url.next(n.url),h(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function at(t,e){var n=h(t.params,e.params)&&S(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||at(t.parent,e.parent))}function lt(t,e,n){var i=ut(t,e._root,n?n._root:void 0);return new an(i,e)}function ut(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=ht(t,e,n);return new sn(i,r)}if(t.retrieve(e.value)){var o=t.retrieve(e.value).route;return ct(e,o),o}var i=pt(e.value),r=e.children.map(function(e){return ut(t,e)});return new sn(i,r)}function ct(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)ct(t.children[n],e.children[n])}function ht(t,e,n){return e.children.map(function(e){for(var i=0,r=n.children;i<r.length;i++){var o=r[i];if(t.shouldReuseRoute(o.value.snapshot,e.value))return ut(t,e,o)}return ut(t,e)})}function pt(t){return new ln(new he.BehaviorSubject(t.url),new he.BehaviorSubject(t.params),new he.BehaviorSubject(t.queryParams),new he.BehaviorSubject(t.fragment),new he.BehaviorSubject(t.data),t.outlet,t.component,t)}function dt(t,e,n,i,r){if(0===n.length)return mt(e.root,e.root,e,i,r);var o=yt(n);if(o.toRoot())return mt(e.root,new Ye([],{}),e,i,r);var s=gt(o,e,t),a=s.processChildren?Et(s.segmentGroup,s.index,o.commands):Ct(s.segmentGroup,s.index,o.commands);return mt(s.segmentGroup,a,e,i,r)}function ft(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mt(t,e,n,i,r){var o={};return i&&f(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new We(e,o,r):new We(vt(n.root,t,e),o,r)}function vt(t,e,n){var i={};return f(t.children,function(t,r){i[r]=t===e?n:vt(t,e,n)}),new Ye(t.segments,i)}function yt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hn(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return f(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(i.segmentPath)return t.concat([i.segmentPath])}return"string"!=typeof i?t.concat([i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):t.concat([i])},[]);return new hn(n,e,i)}function gt(t,e,n){if(t.isAbsolute)return new pn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pn(n.snapshot._urlSegment,!0,0);var i=ft(t.commands[0])?0:1,r=n.snapshot._lastPathIndex+i;return bt(n.snapshot._urlSegment,r,t.numberOfDoubleDots)}function bt(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new pn(i,!1,r-o)}function wt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Be]:""+t}function _t(t){return"object"!=typeof t[0]?(e={},e[Be]=t,e):void 0===t[0].outlets?(n={},n[Be]=t,n):t[0].outlets;var e,n}function Ct(t,e,n){if(t||(t=new Ye([],{})),0===t.segments.length&&t.hasChildren())return Et(t,e,n);var i=xt(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Ye(t.segments.slice(0,i.pathIndex),{});return o.children[Be]=new Ye(t.segments.slice(i.pathIndex),t.children),Et(o,0,r)}return i.match&&0===r.length?new Ye(t.segments,{}):i.match&&!t.hasChildren()?St(t,e,n):i.match?Et(t,0,r):St(t,e,n)}function Et(t,e,n){if(0===n.length)return new Ye(t.segments,{});var i=_t(n),r={};return f(i,function(n,i){null!==n&&(r[i]=Ct(t.children[i],e,n))}),f(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Ye(t.segments,r)}function xt(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var s=t.segments[r],a=wt(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Mt(a,l,s))return o;i+=2}else{if(!Mt(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function St(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=Tt(n[r].outlets);return new Ye(i,o)}if(0===r&&ft(n[0])){var s=t.segments[e];i.push(new Ge(s.path,n[0])),r++}else{var a=wt(n[r]),l=r<n.length-1?n[r+1]:null;a&&l&&ft(l)?(i.push(new Ge(a,kt(l))),r+=2):(i.push(new Ge(a,{})),r++)}}return new Ye(i,{})}function Tt(t){var e={};return f(t,function(t,n){null!==t&&(e[n]=St(new Ye([],{}),0,t))}),e}function kt(t){var e={};return f(t,function(t,n){return e[n]=""+t}),e}function Mt(t,e,n){return t==n.path&&h(e,n.parameters)}function Dt(t,e,n,i){return new fn(t,e,n,i).recognize()}function Pt(t){t.sort(function(t,e){return t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)})}function At(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function Ot(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new dn;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=e.matcher||s,r=i(n,t,e);if(!r)throw new dn;var o={};f(r.posParams,function(t,e){o[e]=t.path});var a=r.consumed.length>0?Object.assign({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}function It(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var i=n.url.map(function(t){return t.toString()}).join("/"),r=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+r+"'.")}e[t.value.outlet]=t.value})}function Nt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Lt(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vt(t,e,n,i){if(n.length>0&&Ht(t,n,i)){var r=new Ye(e,Ft(t,e,i,new Ye(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&jt(t,n,i)){var o=new Ye(t.segments,Rt(t,n,i,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new Ye(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Rt(t,e,n,i){for(var r={},o=0,s=n;o<s.length;o++){var a=s[o];if(Bt(t,e,a)&&!i[Ut(a)]){var l=new Ye([],{});l._sourceSegment=t,l._segmentIndexShift=t.segments.length,r[Ut(a)]=l}}return Object.assign({},i,r)}function Ft(t,e,n,i){var r={};r[Be]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&Ut(a)!==Be){var l=new Ye([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,r[Ut(a)]=l}}return r}function Ht(t,e,n){return n.some(function(n){return Bt(t,e,n)&&Ut(n)!==Be})}function jt(t,e,n){return n.some(function(n){return Bt(t,e,n)})}function Bt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function Ut(t){return t.outlet||Be}function qt(t){return t.data||{}}function zt(t){return t.resolve||{}}function Wt(t){throw t}function Yt(t){return Object(fe.of)(null)}function Gt(t){st(t.value),t.children.forEach(Gt)}function Xt(t){for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function Kt(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function Qt(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Zt(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function Jt(t){return""===t||!!t}function $t(){return new ce.Q("Router",_n)}function te(t,e,n){return void 0===n&&(n={}),n.useHash?new ue.d(t,e):new ue.h(t,e)}function ee(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ne(t){return[{provide:ce.a,multi:!0,useValue:t},{provide:yn,multi:!0,useValue:t}]}function ie(t,e,n,i,r,o,s,a,l,u,c){void 0===l&&(l={});var h=new _n(null,e,n,i,r,o,s,p(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.enableTracing){var d=Object(Me.c)();h.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return h}function re(t){return t.routerState.root}function oe(t){return t.appInitializer.bind(t)}function se(t){return t.bootstrapListener.bind(t)}function ae(){return[Un,{provide:ce.d,multi:!0,useFactory:oe,deps:[Un]},{provide:qn,useFactory:se,deps:[Un]},{provide:ce.b,multi:!0,useExisting:qn}]}n.d(e,"a",function(){return _n}),n.d(e,"b",function(){return Bn});var le=n("6Xbx"),ue=n("qbdv"),ce=n("/oeL"),he=n("gvep"),pe=(n.n(he),n("rlar")),de=(n.n(pe),n("7JOC")),fe=(n.n(de),n("+zVg")),me=(n.n(fe),n("TQn8")),ve=(n.n(me),n("THYR")),ye=(n.n(ve),n("1eQ7")),ge=(n.n(ye),n("WSkQ")),be=(n.n(ge),n("lx+J")),we=(n.n(be),n("cPhF")),_e=(n.n(we),n("Tq0x")),Ce=(n.n(_e),n("bKpL")),Ee=(n.n(Ce),n("ueUM")),xe=(n.n(Ee),n("I3ay")),Se=(n.n(xe),n("TpsG")),Te=(n.n(Se),n("QU9E")),ke=(n.n(Te),n("TIdC")),Me=(n.n(ke),n("fc+i")),De=n("422b"),Pe=(n.n(De),function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}()),Ae=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Oe=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Ie=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),Ne=function(){function t(t,e,n,i){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=i}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Le=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Ve=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Re=function(){function t(t,e,n,i){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=i}return t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Fe=function(){function t(t,e,n,i,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}return t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(),He=function(){function t(t,e,n,i){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=i}return t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),je=function(){function t(t,e,n,i){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=i}return t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Be="primary",Ue=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),qe="ngNavigationCancelingError",ze=function(){function t(t,e){this.routes=t,this.module=e}return t}(),We=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=i(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Qe.serialize(this)},t}(),Ye=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,f(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return M(this)},t}(),Ge=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=i(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return O(this)},t}(),Xe=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Ke=function(){function t(){}return t.prototype.parse=function(t){var e=new tn(t);return new We(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+D(t.root,!0)+N(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Qe=new Ke,Ze=/^[^\/()?;=&#]+/,Je=/^[^=?&#]+/,$e=/^[^?&#]+/,tn=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Be]=new Ye(t,e)),n},t.prototype.parseSegment=function(){var t=L(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Ge(A(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=L(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=L(this.remaining);i&&(n=i,this.capture(n))}t[A(e)]=A(n)}},t.prototype.parseQueryParam=function(t){var e=V(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=R(this.remaining);i&&(n=i,this.capture(n))}var r=A(e),o=A(n);if(t.hasOwnProperty(r)){var s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=L(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Be);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Be]:new Ye([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),en=function(){function t(t){this.segmentGroup=t||null}return t}(),nn=function(){function t(t){this.urlTree=t}return t}(),rn=function(){function t(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ce.P)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Be),n=be.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Ee._catch.call(n,function(e){if(e instanceof nn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof en)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Be),i=be.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Ee._catch.call(i,function(t){if(t instanceof en)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i=t.segments.length>0?new Ye([],(r={},r[Be]=t,r)):t;return new We(i,e,n);var r},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?be.map.call(this.expandChildren(t,e,n),function(t){return new Ye([],t)}):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return m(n.children,function(n,r){return i.expandSegmentGroup(t,e,r,n)})},t.prototype.expandSegment=function(t,e,n,i,r,o){var s=this,a=fe.of.apply(void 0,n),l=be.map.call(a,function(a){var l=s.expandSegmentAgainstRoute(t,e,n,a,i,r,o);return Ee._catch.call(l,function(t){if(t instanceof en)return Object(fe.of)(null);throw t})}),u=xe.concatAll.call(l),c=ye.first.call(u,function(t){return!!t});return Ee._catch.call(c,function(t,n){if(t instanceof Se.EmptyError){if(s.noLeftoversInUrl(e,i,r))return Object(fe.of)(new Ye([],{}));throw new en(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,r,o,s){return J(i)!==o?F(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):F(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?H(o):we.mergeMap.call(this.lineralizeSegments(n,o),function(n){var o=new Ye(n,{});return r.expandSegment(t,o,e,n,i,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){var s=this,a=z(e,i,r),l=a.matched,u=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!l)return F(e);var p=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?H(p):we.mergeMap.call(this.lineralizeSegments(i,p),function(i){return s.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?be.map.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Ye(i,{})}):Object(fe.of)(new Ye(i,{}));var o=z(e,n,i),s=o.matched,a=o.consumedSegments,l=o.lastChild;if(!s)return F(e);var u=i.slice(l),c=this.getChildConfig(t,n);return we.mergeMap.call(c,function(t){var n=t.module,i=t.routes,o=W(e,a,u,i),s=o.segmentGroup,l=o.slicedSegments;if(0===l.length&&s.hasChildren()){var c=r.expandChildren(n,i,s);return be.map.call(c,function(t){return new Ye(a,t)})}if(0===i.length&&0===l.length)return Object(fe.of)(new Ye(a,{}));var h=r.expandSegment(n,s,i,l,Be,!0);return be.map.call(h,function(t){return new Ye(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(fe.of)(new ze(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(fe.of)(e._loadedConfig):we.mergeMap.call(q(t.injector,e),function(i){return i?be.map.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):B(e)}):Object(fe.of)(new ze([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(fe.of)(n);if(i.numberOfChildren>1||!i.children[Be])return j(t.redirectTo);i=i.children[Be]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new We(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return f(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),s={};return f(e.children,function(e,o){s[o]=r.createSegmentGroup(t,e,n,i)}),new Ye(o,s)},t.prototype.createSegments=function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){for(var n=0,i=0,r=e;i<r.length;i++){var o=r[i];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),on=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=$(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=$(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=tt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root).map(function(t){return t.value})},t}(),sn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),an=function(t){function e(e,n){var i=t.call(this,e)||this;return i.snapshot=n,rt(i,e),i}return le.a(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(on),ln=function(){function t(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=be.map.call(this.params,function(t){return i(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=be.map.call(this.queryParams,function(t){return i(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),un=function(){function t(t,e,n,i,r,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=i(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=i(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),cn=function(t){function e(e,n){var i=t.call(this,n)||this;return i.url=e,rt(i,n),i}return le.a(e,t),e.prototype.toString=function(){return ot(this._root)},e}(on),hn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ft(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(i&&i!==d(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),pn=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),dn=function(){function t(){}return t}(),fn=function(){function t(t,e,n,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i}return t.prototype.recognize=function(){try{var t=Vt(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Be),n=new un([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new sn(n,e),r=new cn(this.url,i);return this.inheritParamsAndData(r._root),Object(fe.of)(r)}catch(t){return new Ce.Observable(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,i=it(n);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,i=k(e,function(e,i){return n.processSegmentGroup(t,e,i)});return It(i),Pt(i),i},t.prototype.processSegment=function(t,e,n,i){for(var r=0,o=t;r<o.length;r++){var s=o[r];try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(t){if(!(t instanceof dn))throw t}}if(this.noLeftoversInUrl(e,n,i))return[];throw new dn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new dn;if((t.outlet||Be)!==i)throw new dn;if("**"===t.path){var r=n.length>0?d(n).parameters:{},o=new un(n,r,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,qt(t),i,t.component,t,Nt(e),Lt(e)+n.length,zt(t));return[new sn(o,[])]}var s=Ot(e,t,n),a=s.consumedSegments,l=s.parameters,u=s.lastChild,c=n.slice(u),h=At(t),p=Vt(e,a,c,h),f=p.segmentGroup,m=p.slicedSegments,v=new un(a,l,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,qt(t),i,t.component,t,Nt(e),Lt(e)+a.length,zt(t));if(0===m.length&&f.hasChildren()){var y=this.processChildren(h,f);return[new sn(v,y)]}if(0===h.length&&0===m.length)return[new sn(v,[])];var g=this.processSegment(h,f,m,Be);return[new sn(v,g)]},t}(),mn=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),vn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),yn=new ce.D("ROUTES"),gn=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var i=this.loadModuleFactory(e.loadChildren);return be.map.call(i,function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new ze(p(r.injector.get(yn)),r)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Te.fromPromise)(this.loader.load(t)):we.mergeMap.call(y(t()),function(t){return t instanceof ce.N?Object(fe.of)(t):Object(Te.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),bn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),wn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),_n=function(){function t(t,e,n,i,r,o,s,a){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.navigations=new he.BehaviorSubject(null),this.routerEvents=new pe.Subject,this.navigationId=0,this.errorHandler=Wt,this.navigated=!1,this.hooks={beforePreactivation:Yt,afterPreactivation:Yt},this.urlHandlingStrategy=new wn,this.routeReuseStrategy=new vn;var u=function(t){return l.triggerEvent(new Le(t))},c=function(t){return l.triggerEvent(new Ve(t))};this.ngModule=r.get(ce.P),this.resetConfig(a),this.currentUrlTree=g(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new gn(o,s,u,c),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),i="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,i,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){a(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;Object(ce._27)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:r,c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=o?this.currentUrlTree.queryParams:i||null;return dt(l,this.currentUrlTree,t,c,u)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof We?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Zt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof We)return b(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return b(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!==i&&void 0!==i&&(e[n]=i),e},{})},t.prototype.processNavigations=function(){var t=this;me.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(fe.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var r=null,o=null,s=new Promise(function(t,e){r=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:r,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,i=t.rawUrl,r=t.extras,o=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(i),l=!this.navigated||a.toString()!==this.currentUrlTree.toString();l&&this.urlHandlingStrategy.shouldProcessUrl(i)?(this.routerEvents.next(new Pe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!!r.skipLocationChange,!!r.replaceUrl,n,null)}).then(o,s)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Pe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!1,!1,n,et(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=i,o(null))},t.prototype.runNavigate=function(t,e,n,i,r,s){var a=this;return r!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Oe(r,this.serializeUrl(t),"Navigation ID "+r+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(l,u){var c;if(s)c=Object(fe.of)({appliedUrl:t,snapshot:s});else{var h=a.ngModule.injector,p=U(h,a.configLoader,a.urlSerializer,t,a.config);c=we.mergeMap.call(p,function(e){return be.map.call(Dt(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){return a.routerEvents.next(new Ne(r,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var d,f,m=we.mergeMap.call(c,function(t){return be.map.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),v=be.map.call(m,function(t){var e=t.appliedUrl,n=t.snapshot,i=a.ngModule.injector;return d=new xn(n,a.currentRouterState.snapshot,i),d.traverse(a.rootContexts),{appliedUrl:e,snapshot:n}}),y=we.mergeMap.call(v,function(e){var n=e.appliedUrl,i=e.snapshot;return a.navigationId!==r?Object(fe.of)(!1):(a.triggerEvent(new Re(r,a.serializeUrl(t),n,i)),be.map.call(d.checkGuards(),function(e){return a.triggerEvent(new Fe(r,a.serializeUrl(t),n,i,e)),{appliedUrl:n,snapshot:i,shouldActivate:e}}))}),g=we.mergeMap.call(y,function(e){return a.navigationId!==r?Object(fe.of)(!1):e.shouldActivate&&d.isActivating()?(a.triggerEvent(new He(r,a.serializeUrl(t),e.appliedUrl,e.snapshot)),be.map.call(d.resolveData(),function(){return a.triggerEvent(new je(r,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(fe.of)(e)}),b=we.mergeMap.call(g,function(t){return be.map.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),w=be.map.call(b,function(t){var e=t.appliedUrl,n=t.snapshot,i=t.shouldActivate;if(i){return{appliedUrl:e,state:lt(a.routeReuseStrategy,n,a.currentRouterState),shouldActivate:i}}return{appliedUrl:e,state:null,shouldActivate:i}}),_=a.currentRouterState,C=a.currentUrlTree;w.forEach(function(t){var o=t.appliedUrl,s=t.state;if(!t.shouldActivate||r!==a.navigationId)return void(f=!1);if(a.currentUrlTree=o,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.currentRouterState=s,!n){var l=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(l)||i?a.location.replaceState(l):a.location.go(l)}new Sn(a.routeReuseStrategy,s,_).activate(a.rootContexts),f=!0}).then(function(){f?(a.navigated=!0,a.routerEvents.next(new Ae(r,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),l(!0)):(a.resetUrlToCurrentUrlTree(),a.routerEvents.next(new Oe(r,a.serializeUrl(t),"")),l(!1))},function(n){if(o(n))a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.routerEvents.next(new Oe(r,a.serializeUrl(t),n.message)),l(!1);else{a.routerEvents.next(new Ie(r,a.serializeUrl(t),n));try{l(a.errorHandler(n))}catch(t){u(t)}}a.currentRouterState=_,a.currentUrlTree=C,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.location.replaceState(a.serializeUrl(a.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),Cn=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),En=function(){function t(t,e){this.component=t,this.route=e}return t}(),xn=function(){function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(fe.of)(!0);var e=this.runCanDeactivateChecks();return we.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():Object(fe.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Object(fe.of)(null);var e=Object(de.from)(this.canActivateChecks),n=me.concatMap.call(e,function(e){return t.runResolve(e.route)});return _e.reduce.call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.traverseChildRoutes=function(t,e,n,i){var r=this,o=Qt(e);t.children.forEach(function(t){r.traverseRoutes(t,o[t.value.outlet],n,i.concat([t.value])),delete o[t.value.outlet]}),f(o,function(t,e){return r.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.traverseRoutes=function(t,e,n,i){var r=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&r._routeConfig===o._routeConfig){var a=this.shouldRunGuardsAndResolvers(o,r,r._routeConfig.runGuardsAndResolvers);if(a?this.canActivateChecks.push(new Cn(i)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?this.traverseChildRoutes(t,e,s?s.children:null,i):this.traverseChildRoutes(t,e,n,i),a){var l=s.outlet;this.canDeactivateChecks.push(new En(l.component,o))}}else o&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new Cn(i)),r.component?this.traverseChildRoutes(t,null,s?s.children:null,i):this.traverseChildRoutes(t,null,n,i)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!at(t,e)||!h(t.queryParams,e.queryParams);case"paramsChange":default:return!at(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,i=Qt(t),r=t.value;f(i,function(t,i){r.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(i)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),r.component&&e&&e.outlet&&e.outlet.isActivated?this.canDeactivateChecks.push(new En(e.outlet.component,r)):this.canDeactivateChecks.push(new En(null,r))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Object(de.from)(this.canDeactivateChecks),n=we.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ve.every.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Object(de.from)(this.canActivateChecks),n=me.concatMap.call(e,function(e){return v(Object(de.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ve.every.call(n,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,n=t._routeConfig?t._routeConfig.canActivate:null;return n&&0!==n.length?v(be.map.call(Object(de.from)(n),function(n){var i,r=e.getToken(n,t);return i=y(r.canActivate?r.canActivate(t,e.future):r(t,e.future)),ye.first.call(i)})):Object(fe.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return v(be.map.call(Object(de.from)(i),function(t){return v(be.map.call(Object(de.from)(t.guards),function(i){var r,o=e.getToken(i,t.node);return r=y(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),ye.first.call(r)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,i=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!i||0===i.length)return Object(fe.of)(!0);var r=we.mergeMap.call(Object(de.from)(i),function(i){var r,o=n.getToken(i,e);return r=y(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),ye.first.call(r)});return ve.every.call(r,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return be.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,it(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,i=Object.keys(t);if(0===i.length)return Object(fe.of)({});if(1===i.length){var r=i[0];return be.map.call(this.getResolver(t[r],e),function(t){return e={},e[r]=t,e;var e})}var o={},s=we.mergeMap.call(Object(de.from)(i),function(i){return be.map.call(n.getResolver(t[i],e),function(t){return o[i]=t,t})});return be.map.call(ge.last.call(s),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return y(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=Kt(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Sn=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),st(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,r=Qt(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),f(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=Qt(t),o=t.value.component?i.children:e;f(r,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var i=this,r=Qt(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n)})},t.prototype.activateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(st(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Gt(s.route)}else{var a=Xt(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}(),Tn=function(){function t(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(ce._27)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Tn.decorators=[{type:ce.u,args:[{selector:":not(a)[routerLink]"}]}],Tn.ctorParameters=function(){return[{type:_n},{type:ln},{type:void 0,decorators:[{type:ce.h,args:["tabindex"]}]},{type:ce._2},{type:ce.v}]},Tn.propDecorators={queryParams:[{type:ce.F}],fragment:[{type:ce.F}],queryParamsHandling:[{type:ce.F}],preserveFragment:[{type:ce.F}],skipLocationChange:[{type:ce.F}],replaceUrl:[{type:ce.F}],routerLink:[{type:ce.F}],preserveQueryParams:[{type:ce.F}],onClick:[{type:ce.A,args:["click"]}]};var kn=function(){function t(t,e,n){var i=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Ae&&i.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(ce._27)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();kn.decorators=[{type:ce.u,args:[{selector:"a[routerLink]"}]}],kn.ctorParameters=function(){return[{type:_n},{type:ln},{type:ue.g}]},kn.propDecorators={target:[{type:ce.z,args:["attr.target"]},{type:ce.F}],queryParams:[{type:ce.F}],fragment:[{type:ce.F}],queryParamsHandling:[{type:ce.F}],preserveFragment:[{type:ce.F}],skipLocationChange:[{type:ce.F}],replaceUrl:[{type:ce.F}],href:[{type:ce.z}],routerLink:[{type:ce.F}],preserveQueryParams:[{type:ce.F}],onClick:[{type:ce.A,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};var Mn=function(){function t(t,e,n,i){var r=this;this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Ae&&r.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.active!==e&&(t.active=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();Mn.decorators=[{type:ce.u,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],Mn.ctorParameters=function(){return[{type:_n},{type:ce.v},{type:ce._2},{type:ce.l}]},Mn.propDecorators={links:[{type:ce.t,args:[Tn,{descendants:!0}]}],linksWithHrefs:[{type:ce.t,args:[kn,{descendants:!0}]}],routerLinkActiveOptions:[{type:ce.F}],routerLinkActive:[{type:ce.F}]};var Dn=function(){function t(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pn,this.attachRef=null}return t}(),Pn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Dn,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),An=function(){function t(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ce.x,this.deactivateEvents=new ce.x,this.name=i||Be,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=t._futureSnapshot,i=n._routeConfig.component;e=e||this.resolver;var r=e.resolveComponentFactory(i),o=this.parentContexts.getOrCreateContext(this.name).children,s=new On(t,o,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}();An.decorators=[{type:ce.u,args:[{selector:"router-outlet",exportAs:"outlet"}]}],An.ctorParameters=function(){return[{type:Pn},{type:ce._18},{type:ce.q},{type:void 0,decorators:[{type:ce.h,args:["name"]}]},{type:ce.l}]},An.propDecorators={activateEvents:[{type:ce.T,args:["activate"]}],deactivateEvents:[{type:ce.T,args:["deactivate"]}]};var On=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===ln?this.route:t===Pn?this.childContexts:this.parent.get(t,e)},t}(),In=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),Nn=function(){function t(){}return t.prototype.preload=function(t,e){return Ee._catch.call(e(),function(){return Object(fe.of)(null)})},t}(),Ln=function(){function t(){}return t.prototype.preload=function(t,e){return Object(fe.of)(null)},t}(),Vn=function(){function t(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r;var o=function(e){return t.triggerEvent(new Le(e))},s=function(e){return t.triggerEvent(new Ve(e))};this.loader=new gn(e,n,o,s)}return t.prototype.setUpPreloading=function(){var t=this,e=De.filter.call(this.router.events,function(t){return t instanceof Ae});this.subscription=me.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(ce.P);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return ke.mergeAll.call(Object(de.from)(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var i=n.loader.load(t.injector,e);return we.mergeMap.call(i,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();Vn.decorators=[{type:ce.C}],Vn.ctorParameters=function(){return[{type:_n},{type:ce.O},{type:ce.m},{type:ce.E},{type:In}]};var Rn=[An,Tn,kn,Mn],Fn=new ce.D("ROUTER_CONFIGURATION"),Hn=new ce.D("ROUTER_FORROOT_GUARD"),jn=[ue.f,{provide:Xe,useClass:Ke},{provide:_n,useFactory:ie,deps:[ce.g,Xe,Pn,ue.f,ce.E,ce.O,ce.m,yn,Fn,[bn,new ce.S],[mn,new ce.S]]},Pn,{provide:ln,useFactory:re,deps:[_n]},{provide:ce.O,useClass:ce._9},Vn,Ln,Nn,{provide:Fn,useValue:{enableTracing:!1}}],Bn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[jn,ne(e),{provide:Hn,useFactory:ee,deps:[[_n,new ce.S,new ce._8]]},{provide:Fn,useValue:n||{}},{provide:ue.g,useFactory:te,deps:[ue.i,[new ce.B(ue.a),new ce.S],Fn]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ln},{provide:ce.Q,multi:!0,useFactory:$t},ae()]}},t.forChild=function(e){return{ngModule:t,providers:[ne(e)]}},t}();Bn.decorators=[{type:ce.M,args:[{declarations:Rn,exports:Rn}]}],Bn.ctorParameters=function(){return[{type:void 0,decorators:[{type:ce.S},{type:ce.B,args:[Hn]}]},{type:_n,decorators:[{type:ce.S}]}]};var Un=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pe.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ue.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(_n),r=t.injector.get(Fn);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?Object(fe.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Fn),n=this.injector.get(Vn),i=this.injector.get(_n),r=this.injector.get(ce.g);t===r.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),i.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();Un.decorators=[{type:ce.C}],Un.ctorParameters=function(){return[{type:ce.E}]};var qn=new ce.D("Router Initializer");new ce._15("4.4.7")},CE6k:function(t,e,n){"use strict";function i(){return r.share()(this)}var r=n("HwxE");e.share=i},CPp0:function(t,e,n){"use strict";function i(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function r(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function o(t){for(var e=new Uint16Array(t.length),n=0,i=t.length;n<i;n++)e[n]=t.charCodeAt(n);return e.buffer}function s(t){void 0===t&&(t="");var e=new Map;if(t.length>0){t.split("&").forEach(function(t){var n=t.indexOf("="),i=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],r=i[0],o=i[1],s=e.get(r)||[];s.push(o),e.set(r,s)})}return e}function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function l(){var t="object"==typeof window?window:{};return null===R&&(R=t[V]={}),R}function u(t){var e=new O;return Object.keys(t).forEach(function(n){var i=t[n];i&&Array.isArray(i)?i.forEach(function(t){return e.append(n,t.toString())}):e.append(n,i.toString())}),e}function c(t,e){return t.createConnection(e).response}function h(t,e,n,i){var r=t;return e?r.merge(new K({method:e.method||n,url:e.url||i,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):r.merge(new K({method:n,url:i}))}function p(){return new G}function d(t,e){return new it(t,e)}function f(t,e){return new rt(t,e)}n.d(e,"a",function(){return it}),n.d(e,"b",function(){return ot});var m=n("6Xbx"),v=n("/oeL"),y=n("bKpL"),g=(n.n(y),n("fc+i")),b=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();b.decorators=[{type:v.C}],b.ctorParameters=function(){return[]};var w={};w.Get=0,w.Post=1,w.Put=2,w.Delete=3,w.Options=4,w.Head=5,w.Patch=6,w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var _={};_.Unsent=0,_.Open=1,_.HeadersReceived=2,_.Loading=3,_.Done=4,_.Cancelled=5,_[_.Unsent]="Unsent",_[_.Open]="Open",_[_.HeadersReceived]="HeadersReceived",_[_.Loading]="Loading",_[_.Done]="Done",_[_.Cancelled]="Cancelled";var C={};C.Basic=0,C.Cors=1,C.Default=2,C.Error=3,C.Opaque=4,C[C.Basic]="Basic",C[C.Cors]="Cors",C[C.Default]="Default",C[C.Error]="Error",C[C.Opaque]="Opaque";var E={};E.NONE=0,E.JSON=1,E.FORM=2,E.FORM_DATA=3,E.TEXT=4,E.BLOB=5,E.ARRAY_BUFFER=6,E[E.NONE]="NONE",E[E.JSON]="JSON",E[E.FORM]="FORM",E[E.FORM_DATA]="FORM_DATA",E[E.TEXT]="TEXT",E[E.BLOB]="BLOB",E[E.ARRAY_BUFFER]="ARRAY_BUFFER";var x={};x.Text=0,x.Json=1,x.ArrayBuffer=2,x.Blob=3,x[x.Text]="Text",x[x.Json]="Json",x[x.ArrayBuffer]="ArrayBuffer",x[x.Blob]="Blob";var S=function(){function t(e){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var i=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),i.forEach(function(e){return n.append(t,e)})})}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=t.slice(e+1).trim();n.set(i,r)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,i){return t(n,e._normalizedNames.get(i),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,i){var r=[];n.forEach(function(t){return r.push.apply(r,t.split(","))}),e[t._normalizedNames.get(i)]=r}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),T=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,i=t.headers,r=t.statusText,o=t.type,s=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=i?i:null,this.statusText=null!=r?r:null,this.type=null!=o?o:null,this.url=null!=s?s:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),k=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:C.Default,headers:new S})||this}return m.a(e,t),e}(T);k.decorators=[{type:v.C}],k.ctorParameters=function(){return[]};var M=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),D=(function(){function t(){}}(),function(){function t(){}return t.prototype.configureRequest=function(t){},t}()),P=function(t){return t>=200&&t<300},A=function(){function t(){}return t.prototype.encodeKey=function(t){return a(t)},t.prototype.encodeValue=function(t){return a(t)},t}(),O=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new A),this.rawParams=t,this.queryEncoder=e,this.paramsMap=s(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0,i.push(t[0]),e.paramsMap.set(n,i)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var i=e.paramsMap.get(n)||[],r=0;r<t.length;++r)i.push(t[r]);e.paramsMap.set(n,i)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0;for(var r=0;r<t.length;++r)i.push(t[r]);e.paramsMap.set(n,i)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,i){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(i)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),I=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof O)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:o(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),N=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return m.a(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(I),L=0,V="__ng_jsonp__",R=null,F=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+L++},t.prototype.requestCallback=function(t){return V+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){l()[t]=e},t.prototype.removeConnection=function(t){l()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t}();F.decorators=[{type:v.C}],F.ctorParameters=function(){return[]};var H="JSONP injected script did not invoke callback.",j="JSONP requests must use GET request method.",B=function(){function t(){}return t.prototype.finished=function(t){},t}(),U=function(t){function e(e,n,i){var r=t.call(this)||this;if(r._dom=n,r.baseResponseOptions=i,r._finished=!1,e.method!==w.Get)throw new TypeError(j);return r.request=e,r.response=new y.Observable(function(t){r.readyState=_.Loading;var o=r._id=n.nextRequestID();n.exposeConnection(o,r);var s=n.requestCallback(r._id),a=e.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=a.replace("=JSONP_CALLBACK&","="+s+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+"="+s);var l=r._script=n.build(a),u=function(e){if(r.readyState!==_.Cancelled){if(r.readyState=_.Done,n.cleanup(l),!r._finished){var o=new T({body:H,type:C.Error,url:a});return i&&(o=i.merge(o)),void t.error(new N(o))}var s=new T({body:r._responseData,url:a});r.baseResponseOptions&&(s=r.baseResponseOptions.merge(s)),t.next(new N(s)),t.complete()}},c=function(e){if(r.readyState!==_.Cancelled){r.readyState=_.Done,n.cleanup(l);var o=new T({body:e.message,type:C.Error});i&&(o=i.merge(o)),t.error(new N(o))}};return l.addEventListener("load",u),l.addEventListener("error",c),n.send(l),function(){r.readyState=_.Cancelled,l.removeEventListener("load",u),l.removeEventListener("error",c),r._dom.cleanup(l)}}),r}return m.a(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==_.Cancelled&&(this._responseData=t)},e}(B),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.a(e,t),e}(M),z=function(t){function e(e,n){var i=t.call(this)||this;return i._browserJSONP=e,i._baseResponseOptions=n,i}return m.a(e,t),e.prototype.createConnection=function(t){return new U(t,this._browserJSONP,this._baseResponseOptions)},e}(q);z.decorators=[{type:v.C}],z.ctorParameters=function(){return[{type:F},{type:T}]};var W=/^\)\]\}',?\n/,Y=function(){function t(t,e,n){var i=this;this.request=t,this.response=new y.Observable(function(o){var s=e.build();s.open(w[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(s.withCredentials=t.withCredentials);var a=function(){var e=1223===s.status?204:s.status,i=null;204!==e&&"string"==typeof(i=void 0===s.response?s.responseText:s.response)&&(i=i.replace(W,"")),0===e&&(e=i?200:0);var a=S.fromResponseHeaderString(s.getAllResponseHeaders()),l=r(s)||t.url,u=s.statusText||"OK",c=new T({body:i,status:e,headers:a,statusText:u,url:l});null!=n&&(c=n.merge(c));var h=new N(c);if(h.ok=P(e),h.ok)return o.next(h),void o.complete();o.error(h)},l=function(t){var e=new T({body:t,type:C.Error,status:s.status,statusText:s.statusText});null!=n&&(e=n.merge(e)),o.error(new N(e))};if(i.setDetectedContentType(t,s),null==t.headers&&(t.headers=new S),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return s.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=s.responseType)switch(t.responseType){case x.ArrayBuffer:s.responseType="arraybuffer";break;case x.Json:s.responseType="json";break;case x.Text:s.responseType="text";break;case x.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",a),s.addEventListener("error",l),s.send(i.request.getBody()),function(){s.removeEventListener("load",a),s.removeEventListener("error",l),s.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case E.NONE:break;case E.JSON:e.setRequestHeader("content-type","application/json");break;case E.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case E.TEXT:e.setRequestHeader("content-type","text/plain");break;case E.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),G=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=Object(g.c)().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),X=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new Y(t,this._browserXHR,this._baseResponseOptions)},t}();X.decorators=[{type:v.C}],X.ctorParameters=function(){return[{type:b},{type:T},{type:D}]};var K=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,o=t.url,s=t.search,a=t.params,l=t.withCredentials,u=t.responseType;this.method=null!=e?i(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=o?o:null,this.params=this._mergeSearchParams(a||s),this.withCredentials=null!=l?l:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new S(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof O?t.clone():"string"==typeof t?new O(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new O;return Object.keys(t).forEach(function(i){var r=t[i];Array.isArray(r)?r.forEach(function(t){return e._appendParam(i,t,n)}):e._appendParam(i,r,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),Q=function(t){function e(){return t.call(this,{method:w.Get,headers:new S})||this}return m.a(e,t),e}(K);Q.decorators=[{type:v.C}],Q.ctorParameters=function(){return[]};var Z=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var o=e.params||e.search;if(o){var s=void 0;if(s="object"!=typeof o||o instanceof O?o.toString():u(o).toString(),s.length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=r+a+s}}return n._body=e.body,n.method=i(e.method),n.headers=new S(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return m.a(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return E.JSON;case"application/x-www-form-urlencoded":return E.FORM;case"multipart/form-data":return E.FORM_DATA;case"text/plain":case"text/html":return E.TEXT;case"application/octet-stream":return this._body instanceof nt?E.ARRAY_BUFFER:E.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?E.NONE:this._body instanceof O?E.FORM:this._body instanceof tt?E.FORM_DATA:this._body instanceof et?E.BLOB:this._body instanceof nt?E.ARRAY_BUFFER:this._body&&"object"==typeof this._body?E.JSON:E.TEXT},e.prototype.getBody=function(){switch(this.contentType){case E.JSON:case E.FORM:return this.text();case E.FORM_DATA:return this._body;case E.TEXT:return this.text();case E.BLOB:return this.blob();case E.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(I),J=function(){},$="object"==typeof window?window:J,tt=$.FormData||J,et=$.Blob||J,nt=$.ArrayBuffer||J,it=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=c(this._backend,new Z(h(this._defaultOptions,e,w.Get,t)));else{if(!(t instanceof Z))throw new Error("First argument must be a url string or Request instance.");n=c(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new Z(h(this._defaultOptions,e,w.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new Z(h(this._defaultOptions.merge(new K({body:e})),n,w.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new Z(h(this._defaultOptions.merge(new K({body:e})),n,w.Put,t)))},t.prototype.delete=function(t,e){return this.request(new Z(h(this._defaultOptions,e,w.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new Z(h(this._defaultOptions.merge(new K({body:e})),n,w.Patch,t)))},t.prototype.head=function(t,e){return this.request(new Z(h(this._defaultOptions,e,w.Head,t)))},t.prototype.options=function(t,e){return this.request(new Z(h(this._defaultOptions,e,w.Options,t)))},t}();it.decorators=[{type:v.C}],it.ctorParameters=function(){return[{type:M},{type:K}]};var rt=function(t){function e(e,n){return t.call(this,e,n)||this}return m.a(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new Z(h(this._defaultOptions,e,w.Get,t))),!(t instanceof Z))throw new Error("First argument must be a url string or Request instance.");if(t.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return c(this._backend,t)},e}(it);rt.decorators=[{type:v.C}],rt.ctorParameters=function(){return[{type:M},{type:K}]};var ot=function(){function t(){}return t}();ot.decorators=[{type:v.M,args:[{providers:[{provide:it,useFactory:d,deps:[X,K]},b,{provide:K,useClass:Q},{provide:T,useClass:k},X,{provide:D,useFactory:p}]}]}],ot.ctorParameters=function(){return[]};var st=function(){function t(){}return t}();st.decorators=[{type:v.M,args:[{providers:[{provide:rt,useFactory:f,deps:[q,K]},F,{provide:K,useClass:Q},{provide:T,useClass:k},{provide:q,useClass:z}]}]}],st.ctorParameters=function(){return[]};new v._15("4.4.7")},DP67:function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var r=n("zijX");e.getSymbolObservable=i,e.observable=i(r.root),e.$$observable=e.observable},Emqh:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return i(e,t),e}(Error);e.UnsubscriptionError=r},F9px:function(t,e,n){"use strict";function i(){return function(t){return t.lift(new s(t))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.refCount=i;var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new a(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),a=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()},e}(o.Subscriber)},Fhmd:function(t,e,n){"use strict";var i=n("jUlM");e.forkJoin=i.ForkJoinObservable.create},GDiU:function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=0),function(n){return n.lift(new a(t,e))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("3lsR");e.observeOn=i;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var l=function(t){function e(e,n,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=n,this.delay=i}return r(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=l;var u=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=u},GiTH:function(t,e,n){"use strict";function i(t,e){return function(n){return n.lift(new s(t,e,n))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.every=i;var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,i,r){t.call(this,e),this.predicate=n,this.thisArg=i,this.source=r,this.index=0,this.thisArg=i||this}return r(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},H1KZ:function(t,e,n){"use strict";function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.scan=i;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,i,r){t.call(this,e),this.accumulator=n,this._seed=i,this.hasSeed=r,this.index=0}return r(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},H6Sg:function(t,e,n){"use strict";function i(t){return null!=t&&"object"==typeof t}e.isObject=i},Hd11:function(t,e,n){"use strict";function i(t,e){return function(n){return n.lift(new s(t,e))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.filter=i;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,i){t.call(this,e),this.predicate=n,this.thisArg=i,this.count=0}return r(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},HwxE:function(t,e,n){"use strict";function i(){return new a.Subject}function r(){return function(t){return s.refCount()(o.multicast(i)(t))}}var o=n("P02W"),s=n("F9px"),a=n("rlar");e.share=r},I3ay:function(t,e,n){"use strict";function i(){return r.concatAll()(this)}var r=n("NiCh");e.concatAll=i},JwCl:function(t,e,n){"use strict";function i(t,e){return arguments.length>=2?function(n){return a.pipe(r.scan(t,e),o.takeLast(1),s.defaultIfEmpty(e))(n)}:function(e){return a.pipe(r.scan(function(e,n,i){return t(e,n,i+1)}),o.takeLast(1))(e)}}var r=n("H1KZ"),o=n("XvrG"),s=n("PbxL"),a=n("vxPf");e.reduce=i},L8VJ:function(t,e,n){"use strict";function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.map=i;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;var a=function(t){function e(e,n,i){t.call(this,e),this.project=n,this.count=0,this.thisArg=i||this}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},LEug:function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,l=t[t.length-1];return s.isScheduler(l)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof l&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof r.Observable?t[0]:a.mergeAll(n)(new o.ArrayObservable(t,i))}var r=n("bKpL"),o=n("wZOE"),s=n("MicL"),a=n("8rcZ");e.merge=i},Lhvy:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.ObjectUnsubscribedError=r},LiYJ:function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},MicL:function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}e.isScheduler=i},NSJx:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},NiCh:function(t,e,n){"use strict";function i(){return r.mergeAll(1)}var r=n("8rcZ");e.concatAll=i},OWbQ:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("NSJx"),o=n("lhZu"),s=n("mUVF"),a=n("mihg"),l=n("TA58"),u=n("wZOE"),c=n("wCVK"),h=n("2B7B"),p=n("bKpL"),d=n("GDiU"),f=n("DP67"),m=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return i(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[f.observable])return t instanceof p.Observable&&!n?t:new e(t,n);if(r.isArray(t))return new u.ArrayObservable(t,n);if(s.isPromise(t))return new a.PromiseObservable(t,n);if("function"==typeof t[h.iterator]||"string"==typeof t)return new l.IteratorObservable(t,n);if(o.isArrayLike(t))return new c.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[f.observable]().subscribe(t):e[f.observable]().subscribe(new d.ObserveOnSubscriber(t,n,0))},e}(p.Observable);e.FromObservable=m},P02W:function(t,e,n){"use strict";function i(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new o(i,e));var s=Object.create(n,r.connectableObservableDescriptor);return s.source=n,s.subjectFactory=i,s}}var r=n("xKl2");e.multicast=i;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r},t}();e.MulticastOperator=o},PbxL:function(t,e,n){"use strict";function i(t){return void 0===t&&(t=null),function(e){return e.lift(new s(t))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.defaultIfEmpty=i;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return r(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},QU9E:function(t,e,n){"use strict";var i=n("mihg");e.fromPromise=i.PromiseObservable.create},Qa4U:function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n=null);var i=[],r=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=r(t);e&&i.push(e)}),i}function r(t){if(":"!=t[0])return[null,t];var e=t.indexOf(":",1);if(-1==e)throw new Error('Unsupported format "'+t+'" expecting ":namespace:name"');return[t.slice(1,e),t.slice(e+1)]}function o(t){return"ng-container"===r(t)[1]}function s(t){return"ng-content"===r(t)[1]}function a(t){return"ng-template"===r(t)[1]}function l(t){return null===t?null:r(t)[0]}function u(t,e){return t?":"+t+":"+e:e}function c(t){return Er[t.toLowerCase()]||xr}function h(t){return t.replace(Pr,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function p(t,e){return f(t,":",e)}function d(t,e){return f(t,".",e)}function f(t,e,n){var i=t.indexOf(e);return-1==i?n:[t.slice(0,i).trim(),t.slice(i+1).trim()]}function m(t,e,n){return Array.isArray(t)?e.visitArray(t,n):w(t)?e.visitStringMap(t,n):null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.visitPrimitive(t,n):e.visitOther(t,n)}function v(t){return null!==t&&void 0!==t}function y(t){return void 0===t?null:t}function g(t,e){var n=Error(t);return n[Ir]=!0,e&&(n[Nr]=e),n}function b(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function w(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Lr}function _(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&t.length>n+1){var r=t.charCodeAt(n+1);r>=56320&&r<=57343&&(n++,i=(i-55296<<10)+r-56320+65536)}i<=127?e+=String.fromCharCode(i):i<=2047?e+=String.fromCharCode(i>>6&31|192,63&i|128):i<=65535?e+=String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128):i<=2097151&&(e+=String.fromCharCode(i>>18&7|240,i>>12&63|128,i>>6&63|128,63&i|128))}return e}function C(t){return t.replace(/\W/g,"_")}function E(t){if(!t||!t.reference)return null;var e=t.reference;if(e instanceof yr)return e.name;if(e.__anonymousType)return e.__anonymousType;var n=Object(tr._69)(e);return n.indexOf("(")>=0?(n="anonymous_"+Rr++,e.__anonymousType=n):n=C(n),n}function x(t){var e=t.reference;return e instanceof yr?e.filePath:"./"+Object(tr._69)(e)}function S(t,e){return"View_"+E({reference:t})+"_"+e}function T(t){return"RenderType_"+E({reference:t})}function k(t){return"HostView_"+E({reference:t})}function M(t){return E({reference:t})+"NgFactory"}function D(t){return null!=t.value?C(t.value):E(t.identifier)}function P(t){return null!=t.identifier?t.identifier.reference:t.value}function A(t,e,n){var i=Tr.parse(e.selector)[0].getMatchingElementTemplate();return Br.create({isHost:!0,type:{reference:t,diDeps:[],lifecycleHooks:[]},template:new jr({encapsulation:tr._19.None,template:i,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:tr.k.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[],componentViewType:n,rendererType:{id:"__Host__",encapsulation:tr._19.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}function O(t){return t||[]}function I(t){return t.reduce(function(t,e){var n=Array.isArray(e)?I(e):e;return t.concat(n)},[])}function N(t){return t.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function L(t,e,n){var i;return i=n.isInline?e.type.reference instanceof yr?e.type.reference.filePath+"."+e.type.reference.name+".html":E(t)+"/"+E(e.type)+".html":n.templateUrl,N(i)}function V(t,e){var n=t.moduleUrl.split(/\/\\/g);return N("css/"+e+n[n.length-1]+".ngstyle.js")}function R(t){return N(E(t.type)+"/module.ngfactory.js")}function F(t,e){return N(E(t)+"/"+E(e.type)+".ngfactory.js")}function H(t,e){return void 0===e&&(e=!0),null===t?e:t}function j(t){return t>=xo&&t<=Do||t==es}function B(t){return Ho<=t&&t<=jo}function U(t){return t>=Yo&&t<=$o||t>=Bo&&t<=zo}function q(t){return t>=Yo&&t<=Xo||t>=Bo&&t<=qo||B(t)}function z(){return function(t){return t}}function W(t,e){if(Object(tr._27)()&&null!=e){if(!Array.isArray(e))throw new Error("Expected '"+t+"' to be an array of strings.");for(var n=0;n<e.length;n+=1)if("string"!=typeof e[n])throw new Error("Expected '"+t+"' to be an array of strings.")}}function Y(t,e){if(!(null==e||Array.isArray(e)&&2==e.length))throw new Error("Expected '"+t+"' to be an array, [start, end].");if(Object(tr._27)()&&null!=e){var n=e[0],i=e[1];is.forEach(function(t){if(t.test(n)||t.test(i))throw new Error("['"+n+"', '"+i+"'] contains unusable interpolation symbol.")})}}function G(t,e){return new us(t,ss.Character,e,String.fromCharCode(e))}function X(t,e){return new us(t,ss.Identifier,0,e)}function K(t,e){return new us(t,ss.Keyword,0,e)}function Q(t,e){return new us(t,ss.Operator,0,e)}function Z(t,e){return new us(t,ss.String,0,e)}function J(t,e){return new us(t,ss.Number,e,"")}function $(t,e){return new us(t,ss.Error,0,e)}function tt(t){return Yo<=t&&t<=$o||Bo<=t&&t<=zo||t==Wo||t==Ao}function et(t){if(0==t.length)return!1;var e=new hs(t);if(!tt(e.peek))return!1;for(e.advance();e.peek!==Eo;){if(!nt(e.peek))return!1;e.advance()}return!0}function nt(t){return U(t)||B(t)||t==Wo||t==Ao}function it(t){return t==Go||t==Uo}function rt(t){return t==No||t==Io}function ot(t){return t===Oo||t===Po||t===ns}function st(t){switch(t){case Ko:return So;case Xo:return ko;case Qo:return Mo;case Zo:return xo;case Jo:return To;default:return t}}function at(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function lt(t){var e=b(t.start)+"([\\s\\S]*?)"+b(t.end);return new RegExp(e,"g")}function ut(t,e){var n=x(e),i=null!=n?"in "+t+" "+E(e)+" in "+n:"in "+t+" "+E(e),r=new gs("",i);return new bs(new ys(r,-1,-1,-1),new ys(r,-1,-1,-1))}function ct(t,e,n){void 0===n&&(n=null);var i=[],r=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=r(t);e&&i.push(e)}),i}function ht(t,e,n,i,r){return void 0===i&&(i=!1),void 0===r&&(r=os),new Ns(new gs(t,e),n,i,r).tokenize()}function pt(t){return'Unexpected character "'+(t===Eo?"EOF":String.fromCharCode(t))+'"'}function dt(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function ft(t){return!j(t)||t===Eo}function mt(t){return j(t)||t===Fo||t===Lo||t===Oo||t===Po||t===Ro}function vt(t){return(t<Yo||$o<t)&&(t<Bo||zo<t)&&(t<Ho||t>jo)}function yt(t){return t==Vo||t==Eo||!q(t)}function gt(t){return t==Vo||t==Eo||!U(t)}function bt(t,e,n){var i=!!n&&t.indexOf(n.start,e)==e;return t.charCodeAt(e)==ts&&!i}function wt(t){return t===Ro||U(t)||B(t)}function _t(t,e){return Ct(t)==Ct(e)}function Ct(t){return t>=Yo&&t<=$o?t-Yo+Bo:t}function Et(t){for(var e=[],n=void 0,i=0;i<t.length;i++){var r=t[i];n&&n.type==Ms.TEXT&&r.type==Ms.TEXT?(n.parts[0]+=r.parts[0],n.sourceSpan.end=r.sourceSpan.end):(n=r,e.push(n))}return e}function xt(t,e){return t.length>0&&t[t.length-1]===e}function St(t){return t.id||Mt(kt(t.nodes).join("")+"["+t.meaning+"]")}function Tt(t){if(t.id)return t.id;var e=new Bs;return At(t.nodes.map(function(t){return t.visit(e,null)}).join(""),t.meaning)}function kt(t){return t.map(function(t){return t.visit(js,null)})}function Mt(t){var e=_(t),n=jt(e,Us.Big),i=8*e.length,r=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],l=o[2],u=o[3],c=o[4];n[i>>5]|=128<<24-i%32,n[15+(i+64>>9<<4)]=i;for(var h=0;h<n.length;h+=16){for(var p=[s,a,l,u,c],d=p[0],f=p[1],m=p[2],v=p[3],y=p[4],g=0;g<80;g++){r[g]=g<16?n[h+g]:Ft(r[g-3]^r[g-8]^r[g-14]^r[g-16],1);var b=Dt(g,a,l,u),w=b[0],C=b[1],E=[Ft(s,5),w,c,C,r[g]].reduce(Nt);x=[u,l,Ft(a,30),s,E],c=x[0],u=x[1],l=x[2],a=x[3],s=x[4]}S=[Nt(s,d),Nt(a,f),Nt(l,m),Nt(u,v),Nt(c,y)],s=S[0],a=S[1],l=S[2],u=S[3],c=S[4]}return Wt(qt([s,a,l,u,c]));var x,S}function Dt(t,e,n,i){return t<20?[e&n|~e&i,1518500249]:t<40?[e^n^i,1859775393]:t<60?[e&n|e&i|n&i,2400959708]:[e^n^i,3395469782]}function Pt(t){var e=_(t),n=[Ot(e,0),Ot(e,102072)],i=n[0],r=n[1];return 0!=i||0!=r&&1!=r||(i^=319790063,r^=-1801410264),[i,r]}function At(t,e){var n=Pt(t),i=n[0],r=n[1];if(e){var o=Pt(e),s=o[0],a=o[1];l=Vt(Ht([i,r],1),[s,a]),i=l[0],r=l[1]}return Yt(qt([2147483647&i,r]));var l}function Ot(t,e){var n,i=[2654435769,2654435769],r=i[0],o=i[1],s=t.length;for(n=0;n+12<=s;n+=12)r=Nt(r,Ut(t,n,Us.Little)),o=Nt(o,Ut(t,n+4,Us.Little)),e=Nt(e,Ut(t,n+8,Us.Little)),a=It([r,o,e]),r=a[0],o=a[1],e=a[2];return r=Nt(r,Ut(t,n,Us.Little)),o=Nt(o,Ut(t,n+4,Us.Little)),e=Nt(e,s),e=Nt(e,Ut(t,n+8,Us.Little)<<8),It([r,o,e])[2];var a}function It(t){var e=t[0],n=t[1],i=t[2];return e=Rt(e,n),e=Rt(e,i),e^=i>>>13,n=Rt(n,i),n=Rt(n,e),n^=e<<8,i=Rt(i,e),i=Rt(i,n),i^=n>>>13,e=Rt(e,n),e=Rt(e,i),e^=i>>>12,n=Rt(n,i),n=Rt(n,e),n^=e<<16,i=Rt(i,e),i=Rt(i,n),i^=n>>>5,e=Rt(e,n),e=Rt(e,i),e^=i>>>3,n=Rt(n,i),n=Rt(n,e),n^=e<<10,i=Rt(i,e),i=Rt(i,n),i^=n>>>15,[e,n,i]}function Nt(t,e){return Lt(t,e)[1]}function Lt(t,e){var n=(65535&t)+(65535&e),i=(t>>>16)+(e>>>16)+(n>>>16);return[i>>>16,i<<16|65535&n]}function Vt(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],s=Lt(i,o),a=s[0],l=s[1];return[Nt(Nt(n,r),a),l]}function Rt(t,e){var n=(65535&t)-(65535&e);return(t>>16)-(e>>16)+(n>>16)<<16|65535&n}function Ft(t,e){return t<<e|t>>>32-e}function Ht(t,e){var n=t[0],i=t[1];return[n<<e|i>>>32-e,i<<e|n>>>32-e]}function jt(t,e){for(var n=Array(t.length+3>>>2),i=0;i<n.length;i++)n[i]=Ut(t,4*i,e);return n}function Bt(t,e){return e>=t.length?0:255&t.charCodeAt(e)}function Ut(t,e,n){var i=0;if(n===Us.Big)for(var r=0;r<4;r++)i+=Bt(t,e+r)<<24-8*r;else for(var r=0;r<4;r++)i+=Bt(t,e+r)<<8*r;return i}function qt(t){return t.reduce(function(t,e){return t+zt(e)},"")}function zt(t){for(var e="",n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}function Wt(t){for(var e="",n=0;n<t.length;n++){var i=Bt(t,n);e+=(i>>>4).toString(16)+(15&i).toString(16)}return e.toLowerCase()}function Yt(t){for(var e="",n="1",i=t.length-1;i>=0;i--)e=Gt(e,Xt(Bt(t,i),n)),n=Xt(256,n);return e.split("").reverse().join("")}function Gt(t,e){for(var n="",i=Math.max(t.length,e.length),r=0,o=0;r<i||o;r++){var s=o+ +(t[r]||0)+ +(e[r]||0);s>=10?(o=1,n+=s-10):(o=0,n+=s)}return n}function Xt(t,e){for(var n="",i=e;0!==t;t>>>=1)1&t&&(n=Gt(n,i)),i=Gt(i,i);return n}function Kt(t){var e=new ea(ta,t);return function(t,n,i,r){return e.toI18nMessage(t,n,i,r)}}function Qt(t){return t.split(na)[2]}function Zt(t,e,n,i){return new ca(n,i).extract(t,e)}function Jt(t,e,n,i,r){return new ca(i,r).merge(t,e,n)}function $t(t){return!!(t instanceof ks&&t.value&&t.value.startsWith("i18n"))}function te(t){return!!(t instanceof ks&&t.value&&"/i18n"===t.value)}function ee(t){return t.attrs.find(function(t){return t.name===ra})||null}function ne(t){if(!t)return{meaning:"",description:"",id:""};var e=t.indexOf(aa),n=t.indexOf(sa),i=e>-1?[t.slice(0,e),t.slice(e+2)]:[t,""],r=i[0],o=i[1],s=n>-1?[r.slice(0,n),r.slice(n+1)]:["",r];return{meaning:s[0],description:s[1],id:o}}function ie(t){return pa}function re(t){return t.map(function(t){return t.visit(ya)}).join("")}function oe(t){return Ea.reduce(function(t,e){return t.replace(e[0],e[1])},t)}function se(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+t}}function ae(t){switch(t.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}function le(t){return Tt(t)}function ue(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function ce(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=n();return Object.defineProperty(t,e,{enumerable:!0,value:i}),i},set:function(t){throw new Error("Could not overwrite an XTB translation")}})}function he(t){switch(t=(t||"xlf").toLowerCase()){case"xmb":return new Oa;case"xtb":return new La;case"xliff2":case"xlf2":return new Ma;case"xliff":case"xlf":default:return new xa}}function pe(t){return{identifier:{reference:t}}}function de(t,e){return pe(t.resolveExternalReference(e))}function fe(t){return t.some(function(t){return t.name===za})}function me(t){return t.replace(new RegExp(_r,"g")," ")}function ve(t){return new Vs(ct(new Ka,t.rootNodes),t.errors)}function ye(t){var e=new $a;return new Za(ct(e,t),e.isExpanded,e.errors)}function ge(t,e){var n=t.cases.map(function(t){-1!=Qa.indexOf(t.value)||t.value.match(/^=\d+$/)||e.push(new Ja(t.valueSourceSpan,'Plural cases should be "=<number>" or one of '+Qa.join(", ")));var n=ye(t.expression);return e.push.apply(e,n.errors),new Ts("ng-template",[new Ss("ngPluralCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),i=new Ss("[ngPlural]",t.switchValue,t.switchValueSourceSpan);return new Ts("ng-container",[i],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function be(t,e){var n=t.cases.map(function(t){var n=ye(t.expression);return e.push.apply(e,n.errors),"other"===t.value?new Ts("ng-template",[new Ss("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new Ts("ng-template",[new Ss("ngSwitchCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),i=new Ss("[ngSwitch]",t.switchValue,t.switchValueSourceSpan);return new Ts("ng-container",[i],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function we(t,e){var n=e.useExisting,i=e.useValue,r=e.deps;return{token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:i,deps:r,multi:t.multi}}function _e(t,e){var n=e.eager,i=e.providers;return new pr(t.token,t.multiProvider,t.eager||n,i,t.providerType,t.lifecycleHooks,t.sourceSpan)}function Ce(t,e,n){var i=new Map;return t.forEach(function(t){Ee([{token:{identifier:t.type},useClass:t.type}],t.isComponent?dr.Component:dr.Directive,!0,e,n,i)}),t.filter(function(t){return t.isComponent}).concat(t.filter(function(t){return!t.isComponent})).forEach(function(t){Ee(t.providers,dr.PublicService,!1,e,n,i),Ee(t.viewProviders,dr.PrivateService,!1,e,n,i)}),i}function Ee(t,e,n,i,r,o){t.forEach(function(t){var s=o.get(P(t.token));if(null!=s&&!!s.multiProvider!=!!t.multi&&r.push(new tl("Mixing multi and non multi provider is not possible for token "+D(s.token),i)),s)t.multi||(s.providers.length=0),s.providers.push(t);else{var a=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[],l=!(t.useClass||t.useExisting||t.useFactory);s=new pr(t.token,!!t.multi,n||l,[t],e,a,i),o.set(P(t.token),s)}})}function xe(t){var e=1,n=new Map;return t.viewQueries&&t.viewQueries.forEach(function(t){return Te(n,{meta:t,queryId:e++})}),n}function Se(t,e){var n=t,i=new Map;return e.forEach(function(t,e){t.queries&&t.queries.forEach(function(t){return Te(i,{meta:t,queryId:n++})})}),i}function Te(t,e){e.meta.selectors.forEach(function(n){var i=t.get(P(n));i||(i=[],t.set(P(n),i)),i.push(e)})}function ke(t){if(null==t||0===t.length||"/"==t[0])return!1;var e=t.match(ll);return null===e||"package"==e[1]||"asset"==e[1]}function Me(t,e,n){var i=[],r=n.replace(al,"").replace(sl,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[1]||n[2];return ke(o)?(i.push(t.resolve(e,o)),""):n[0]});return new ol(r,i)}function De(t){return"@"==t[0]}function Pe(t,e,n,i){var r=[];return Tr.parse(e).forEach(function(e){var o=e.element?[e.element]:t.allKnownElementNames(),s=new Set(e.notSelectors.filter(function(t){return t.isElementSelector()}).map(function(t){return t.element})),a=o.filter(function(t){return!s.has(t)});r.push.apply(r,a.map(function(e){return t.securityContext(e,n,i)}))}),0===r.length?[tr._6.NONE]:Array.from(new Set(r)).sort()}function Ae(t){var e=null,n=null,i=null,r=!1,o=null;t.attrs.forEach(function(t){var s=t.name.toLowerCase();s==dl?e=t.value:s==vl?n=t.value:s==ml?i=t.value:t.name==wl?r=!0:t.name==_l&&t.value.length>0&&(o=t.value)}),e=Oe(e);var a=t.name.toLowerCase(),l=Cl.OTHER;return s(a)?l=Cl.NG_CONTENT:a==gl?l=Cl.STYLE:a==bl?l=Cl.SCRIPT:a==fl&&i==yl&&(l=Cl.STYLESHEET),new El(l,e,n,r,o)}function Oe(t){return null===t||0===t.length?"*":t}function Ie(t){return function(e){return-1===t.indexOf(e.msg)||(Dl[e.msg]=(Dl[e.msg]||0)+1,Dl[e.msg]<=1)}}function Ne(t){return t?t.split(",").map(function(t){return t.trim()}):[]}function Le(t){return t.trim().split(/\s+/g)}function Ve(t,e){var n=new Tr,i=r(t)[1];n.setElement(i);for(var o=0;o<e.length;o++){var s=e[o][0],a=r(s)[1],l=e[o][1];if(n.addAttribute(a,l),s.toLowerCase()==Tl){Le(l).forEach(function(t){return n.addClassName(t)})}}return n}function Re(t){return t instanceof Cs&&0==t.value.trim().length}function Fe(t){var e=new Map;return t.forEach(function(t){e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}function He(t){return t instanceof bo&&(t=t.ast),t instanceof Jr}function je(t,e,n){if(a(t.name))return!0;var i=r(t.name)[1];return!(i.toLowerCase()!==Sl||!e||i.toLowerCase()!==Sl)&&(n(Ml,t.sourceSpan),!0)}function Be(){return new Ul(".")}function Ue(t){var e=ze(t);return e&&e[zl.Scheme]||""}function qe(t,e,n,i,r,o,s){var a=[];return null!=t&&a.push(t+":"),null!=n&&(a.push("//"),null!=e&&a.push(e+"@"),a.push(n),null!=i&&a.push(":"+i)),null!=r&&a.push(r),null!=o&&a.push("?"+o),null!=s&&a.push("#"+s),a.join("")}function ze(t){return t.match(ql)}function We(t){if("/"==t)return"/";for(var e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",i=t.split("/"),r=[],o=0,s=0;s<i.length;s++){var a=i[s];switch(a){case"":case".":break;case"..":r.length>0?r.pop():o++;break;default:r.push(a)}}if(""==e){for(;o-- >0;)r.unshift("..");0===r.length&&r.push(".")}return e+r.join("/")+n}function Ye(t){var e=t[zl.Path];return e=null==e?"":We(e),t[zl.Path]=e,qe(t[zl.Scheme],t[zl.UserInfo],t[zl.Domain],t[zl.Port],e,t[zl.QueryData],t[zl.Fragment])}function Ge(t,e){var n=ze(encodeURI(e)),i=ze(t);if(null!=n[zl.Scheme])return Ye(n);n[zl.Scheme]=i[zl.Scheme];for(var r=zl.Scheme;r<=zl.Port;r++)null==n[r]&&(n[r]=i[r]);if("/"==n[zl.Path][0])return Ye(n);var o=i[zl.Path];null==o&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+n[zl.Path],n[zl.Path]=o,Ye(n)}function Xe(t){return t instanceof tr.u}function Ke(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}function Qe(t,e){void 0===e&&(e=!1);var n=$e(t,e);return n[0]+".ngfactory"+n[1]}function Ze(t){return t.replace(Kl,".")}function Je(t){return Kl.test(t)}function $e(t,e){if(void 0===e&&(e=!1),t.endsWith(".d.ts"))return[t.slice(0,-5),e?".ts":".d.ts"];var n=t.lastIndexOf(".");return-1!==n?[t.substring(0,n),t.substring(n)]:[t,""]}function tn(t){return t.replace(Xl,"")+".ngsummary.json"}function en(t,e){void 0===e&&(e=!1);var n=$e(Ze(t),e);return n[0]+".ngsummary"+n[1]}function nn(t){return t.replace(Ql,".")}function rn(t){return t+"NgSummary"}function on(t){return t.replace(Zl,"")}function sn(t,e,n){return t.hasLifecycleHook(n,ln(e))}function an(t,e){return $l.filter(function(n){return sn(t,n,e)})}function ln(t){switch(t){case Jl.OnInit:return"ngOnInit";case Jl.OnDestroy:return"ngOnDestroy";case Jl.DoCheck:return"ngDoCheck";case Jl.OnChanges:return"ngOnChanges";case Jl.AfterContentInit:return"ngAfterContentInit";case Jl.AfterContentChecked:return"ngAfterContentChecked";case Jl.AfterViewInit:return"ngAfterViewInit";case Jl.AfterViewChecked:return"ngAfterViewChecked"}}function un(t){return t instanceof tr.M}function cn(t){return t instanceof tr.X}function hn(t,e){if(void 0===e&&(e=[]),t)for(var n=0;n<t.length;n++){var i=Object(tr._30)(t[n]);Array.isArray(i)?hn(i,e):e.push(i)}return e}function pn(t){return t?Array.from(new Set(t)):[]}function dn(t){return pn(hn(t))}function fn(t){return t instanceof yr||t instanceof tr._14}function mn(t,e){m(t,new su,e)}function vn(t){return t instanceof yr?t.name+" in "+t.filePath:Object(tr._69)(t)}function yn(t){var e=Error("Can't compile synchronously as "+Object(tr._69)(t)+" is still being loaded!");return e[tr._41]=t,e}function gn(t){var e=new ac;return e.visitAllStatements(t,null),e.varNames}function bn(t,e){if(!e)return t;var n=new lc(e);return t.visitStatement(n,null)}function wn(t,e){if(!e)return t;var n=new lc(e);return t.visitExpression(n,null)}function _n(t,e,n){return new wu(t,e,n)}function Cn(t,e,n){return void 0===e&&(e=null),new Du(t,null,e,n)}function En(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=t?xn(Cn(t,e,null),n):null}function xn(t,e){return void 0===e&&(e=null),null!=t?new hu(t,e):null}function Sn(t,e,n){return new ju(t,e,n)}function Tn(t,e){return void 0===e&&(e=null),new Uu(t.map(function(t){return new Bu(t.key,t.value,t.quoted)}),e,null)}function kn(t,e){return new Ou(t,e)}function Mn(t,e){return new Iu(t,e)}function Dn(t,e,n,i){return new Vu(t,e,n,i)}function Pn(t,e,n){return new Mu(t,e,n)}function An(t,e,n){return void 0===n&&(n=null),m(e,new uc(t),n)}function On(t,e){var n=0;e.eager||(n|=4096),e.providerType===dr.PrivateService&&(n|=8192),e.lifecycleHooks.forEach(function(t){t!==Jl.OnDestroy&&e.providerType!==dr.Directive&&e.providerType!==dr.Component||(n|=Rn(t))});var i=e.multiProvider?In(t,n,e.providers):Nn(t,n,e.providerType,e.providers[0]);return{providerExpr:i.providerExpr,flags:i.flags,depsExpr:i.depsExpr,tokenExpr:Ln(t,e.token)}}function In(t,e,n){function i(e,n){return n.map(function(n,i){var s="p"+e+"_"+i;return o.push(new Lu(s,fu)),r.push(Vn(t,n)),_n(s)})}var r=[],o=[],s=n.map(function(e,n){var r;if(e.useClass){var o=i(n,e.deps||e.useClass.diDeps);r=t.importExpr(e.useClass.reference).instantiate(o)}else if(e.useFactory){var o=i(n,e.deps||e.useFactory.diDeps);r=t.importExpr(e.useFactory.reference).callFn(o)}else if(e.useExisting){var o=i(n,[{token:e.useExisting}]);r=o[0]}else r=An(t,e.useValue);return r});return{providerExpr:Dn(o,[new Zu(Sn(s))],mu),flags:1024|e,depsExpr:Sn(r)}}function Nn(t,e,n,i){var r,o;return n===dr.Directive||n===dr.Component?(r=t.importExpr(i.useClass.reference),e|=16384,o=i.deps||i.useClass.diDeps):i.useClass?(r=t.importExpr(i.useClass.reference),e|=512,o=i.deps||i.useClass.diDeps):i.useFactory?(r=t.importExpr(i.useFactory.reference),e|=1024,o=i.deps||i.useFactory.diDeps):i.useExisting?(r=zu,e|=2048,o=[{token:i.useExisting}]):(r=An(t,i.useValue),e|=256,o=[]),{providerExpr:r,flags:e,depsExpr:Sn(o.map(function(e){return Vn(t,e)}))}}function Ln(t,e){return e.identifier?t.importExpr(e.identifier.reference):Pn(e.value)}function Vn(t,e){var n=e.isValue?An(t,e.value):Ln(t,e.token),i=0;return e.isSkipSelf&&(i|=1),e.isOptional&&(i|=2),e.isValue&&(i|=8),0===i?n:Sn([Pn(i),n])}function Rn(t){var e=0;switch(t){case Jl.AfterContentChecked:e=2097152;break;case Jl.AfterContentInit:e=1048576;break;case Jl.AfterViewChecked:e=8388608;break;case Jl.AfterViewInit:e=4194304;break;case Jl.DoCheck:e=262144;break;case Jl.OnChanges:e=524288;break;case Jl.OnDestroy:e=131072;break;case Jl.OnInit:e=65536}return e}function Fn(t,e,n,i){var r=i.map(function(t){return e.importExpr(t.componentFactory)}),o=de(t,qa.ComponentFactoryResolver),s={diDeps:[{isValue:!0,value:Sn(r)},{token:o,isSkipSelf:!0,isOptional:!0},{token:de(t,qa.NgModuleRef)}],lifecycleHooks:[],reference:t.resolveExternalReference(qa.CodegenComponentFactoryResolver)},a=Nn(e,n,dr.PrivateService,{token:o,multi:!1,useClass:s});return{providerExpr:a.providerExpr,flags:a.flags,depsExpr:a.depsExpr,tokenExpr:Ln(e,o)}}function Hn(t){var e="";t=_(t);for(var n=0;n<t.length;){var i=t.charCodeAt(n++),r=t.charCodeAt(n++),o=t.charCodeAt(n++);e+=Bn(i>>2),e+=Bn((3&i)<<4|(isNaN(r)?0:r>>4)),e+=isNaN(r)?"=":Bn((15&r)<<2|o>>6),e+=isNaN(r)||isNaN(o)?"=":Bn(63&o)}return e}function jn(t){t=t<0?1+(-t<<1):t<<1;var e="";do{var n=31&t;t>>=5,t>0&&(n|=32),e+=Bn(n)}while(t>0);return e}function Bn(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return fc[t]}function Un(t,e,n){if(void 0===n&&(n=!0),null==t)return null;var i=t.replace(mc,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]});return n||!vc.test(i)?"'"+i+"'":i}function qn(t){for(var e="",n=0;n<t;n++)e+=yc;return e}function zn(t){var e=new Ec,n=_c.createRoot();return(Array.isArray(t)?t:[t]).forEach(function(t){if(t instanceof Gu)t.visitStatement(e,n);else if(t instanceof gu)t.visitExpression(e,n);else{if(!(t instanceof lu))throw new Error("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}function Wn(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];xc[r.toLowerCase()]=t}}function Yn(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}function Gn(t){return t.replace(Qc,"")}function Xn(t){var e=t.match(Zc);return e?e[0]:""}function Kn(t,e){var n=Qn(t),i=0;return n.escapedString.replace(Jc,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=t[2],s="",a=t[4],l="";a&&a.startsWith("{"+nh)&&(s=n.blocks[i++],a=a.substring(nh.length+1),l="{");var u=e(new ih(o,s));return""+t[1]+u.selector+t[3]+l+u.content+a})}function Qn(t){for(var e=t.split($c),n=[],i=[],r=0,o=[],s=0;s<e.length;s++){var a=e[s];a==eh&&r--,r>0?o.push(a):(o.length>0&&(i.push(o.join("")),n.push(nh),o=[]),n.push(a)),a==th&&r++}return o.length>0&&(i.push(o.join("")),n.push(nh)),new rh(n.join(""),i)}function Zn(t){var e="styles";return t&&(e+="_"+E(t.type)),e}function Jn(t,e,n,i){t||(t=new fh);var r=$n({createLiteralArrayConverter:function(t){return function(t){return Sn(t)}},createLiteralMapConverter:function(t){return function(e){return Tn(t.map(function(t,n){return{key:t.key,value:e[n],quoted:t.quoted}}))}},createPipeConverter:function(t){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+t)}},n),o=new dh(t,e,i),s=[];li(r.visit(o,hh.Statement),s),ri(o.temporaryCount,i,s);var a=s.length-1,l=null;if(a>=0){var u=s[a],c=hi(u);c&&(l=ci(i),s[a]=l.set(c.cast(fu).notIdentical(Pn(!1))).toDeclStmt(null,[Yu.Final]))}return new uh(s,l)}function $n(t,e){return ei(t,e)}function ti(t,e,n,i){t||(t=new fh);var r=ui(i),o=[],s=new dh(t,e,i),a=n.visit(s,hh.Expression);if(s.temporaryCount)for(var l=0;l<s.temporaryCount;l++)o.push(ii(i,l));return o.push(r.set(a).toDeclStmt(null,[Yu.Final])),new ch(o,r)}function ei(t,e){var n=new ph(t);return e.visit(n)}function ni(t,e){return"tmp_"+t+"_"+e}function ii(t,e){return new Xu(ni(t,e),zu)}function ri(t,e,n){for(var i=t-1;i>=0;i--)n.unshift(ii(e,i))}function oi(t,e){if(t!==hh.Statement)throw new Error("Expected a statement, but saw "+e)}function si(t,e){if(t!==hh.Expression)throw new Error("Expected an expression, but saw "+e)}function ai(t,e){return t===hh.Statement?e.toStmt():e}function li(t,e){Array.isArray(t)?t.forEach(function(t){return li(t,e)}):e.push(t)}function ui(t){return _n("currVal_"+t)}function ci(t){return _n("pd_"+t)}function hi(t){return t instanceof Qu?t.expr:t instanceof Zu?t.value:null}function pi(t){var e=t[t.length-1];return e instanceof ur?e.hasViewContainer:e instanceof lr?o(e.name)&&e.children.length?pi(e.children):e.hasViewContainer:e instanceof fr}function di(t,e){switch(t.type){case mr.Attribute:return Sn([Pn(1),Pn(t.name),Pn(t.securityContext)]);case mr.Property:return Sn([Pn(8),Pn(t.name),Pn(t.securityContext)]);case mr.Animation:return Sn([Pn(8|(e&&e.directive.isComponent?32:16)),Pn("@"+t.name),Pn(t.securityContext)]);case mr.Class:return Sn([Pn(2),Pn(t.name),zu]);case mr.Style:return Sn([Pn(4),Pn(t.name),Pn(t.unit)])}}function fi(t){var e=Object.create(null);return t.attrs.forEach(function(t){e[t.name]=t.value}),t.directives.forEach(function(t){Object.keys(t.directive.hostAttributes).forEach(function(n){var i=t.directive.hostAttributes[n],r=e[n];e[n]=null!=r?mi(n,r,i):i})}),Sn(Object.keys(e).sort().map(function(t){return Sn([Pn(t),Pn(e[t])])}))}function mi(t,e,n){return t==vh||t==yh?e+" "+n:n}function vi(t,e){return e.length>10?Ch.callFn([_h,Pn(t),Pn(1),Sn(e)]):Ch.callFn([_h,Pn(t),Pn(0)].concat(e))}function yi(t,e,n){return Cn(qa.unwrapValue).callFn([_h,Pn(t),Pn(e),n])}function gi(t,e){return void 0===e&&(e=new Map),t.forEach(function(t){var n=new Set,i=new Set,r=void 0;t instanceof lr?(gi(t.children,e),t.children.forEach(function(t){var r=e.get(t);r.staticQueryIds.forEach(function(t){return n.add(t)}),r.dynamicQueryIds.forEach(function(t){return i.add(t)})}),r=t.queryMatches):t instanceof ur&&(gi(t.children,e),t.children.forEach(function(t){var n=e.get(t);n.staticQueryIds.forEach(function(t){return i.add(t)}),n.dynamicQueryIds.forEach(function(t){return i.add(t)})}),r=t.queryMatches),r&&r.forEach(function(t){return n.add(t.queryId)}),i.forEach(function(t){return n.delete(t)}),e.set(t,{staticQueryIds:n,dynamicQueryIds:i})}),e}function bi(t){var e=new Set,n=new Set;return Array.from(t.values()).forEach(function(t){t.staticQueryIds.forEach(function(t){return e.add(t)}),t.dynamicQueryIds.forEach(function(t){return n.add(t)})}),n.forEach(function(t){return e.delete(t)}),{staticQueryIds:e,dynamicQueryIds:n}}function wi(t,e){return t.isAnimation?{name:"@"+t.name+"."+t.phase,target:e&&e.directive.isComponent?"component":null}:t}function _i(t,e,n){var i=0;return!n||!t.staticQueryIds.has(e)&&t.dynamicQueryIds.has(e)?i|=536870912:i|=268435456,i}function Ci(t,e,n,i,r){var o=new Mh(n,e),s=new Dh(t,n);i.forEach(function(t){return o.addOrMergeSummary({symbol:t.symbol,metadata:t.metadata})});for(var a=0;a<o.symbols.length;a++){var l=o.symbols[a];if(e.isLibraryFile(l.filePath)){var u=e.resolveSummary(l);if(!u){var c=n.resolveSymbol(l);c&&(u={symbol:c.symbol,metadata:c.metadata})}u&&(u.type&&s.addLibType(u.type),o.addOrMergeSummary(u))}}r.forEach(function(t){var n=t.summary,i=t.metadata;if(s.addSourceType(n,i),o.addOrMergeSummary({symbol:n.type.reference,metadata:null,type:n}),n.summaryKind===Fr.NgModule){var r=n;r.exportedDirectives.concat(r.exportedPipes).forEach(function(t){var n=t.reference;if(e.isLibraryFile(n.filePath)){var i=e.resolveSummary(n);i&&o.addOrMergeSummary(i)}})}});var h=o.serialize(),p=h.json,d=h.exportAs;return s.serialize(d),{json:p,exportAs:d}}function Ei(t,e){return new Ph(t).deserialize(e)}function xi(t,e){return Si(t,e,zu)}function Si(t,e,n){var i=rn(e.name);t.statements.push(Dn([],[new Zu(n)],new pu(fu)).toDeclStmt(i,[Yu.Final,Yu.Exported]))}function Ti(t,e){t.statements.push(Cn(e).toStmt())}function ki(t,e,n,i){e.dependencies.forEach(function(e){e.setValue(t.getStaticSymbol(Mi(e.moduleUrl,n,i),e.name))})}function Mi(t,e,n){return t+(e?".shim":"")+".ngstyle"+n}function Di(t,e,n){var i=Ii(t,e,n);return Ai(t,i.ngModules,i.symbolsMissingModule,n)}function Pi(t,e,n){var i=Di(t,e,n);if(i.symbolsMissingModule&&i.symbolsMissingModule.length){throw g(i.symbolsMissingModule.map(function(t){return"Cannot determine the module for class "+t.name+" in "+t.filePath+"! Add "+t.name+" to the NgModule to fix it."}).join("\n"))}return i}function Ai(t,e,n,i){var r=new Map;e.forEach(function(t){return r.set(t.type.reference,t)});var o=new Map,s=new Map,a=new Map,l=new Map,u=new Map,c=new Set;t.forEach(function(t){var e=t.filePath;c.add(e),i.isInjectable(t)&&u.set(e,(u.get(e)||[]).concat(t))}),e.forEach(function(t){var e=t.type.reference.filePath;c.add(e),s.set(e,(s.get(e)||[]).concat(t.type.reference)),t.declaredDirectives.forEach(function(e){var n=e.reference.filePath;c.add(n),a.set(n,(a.get(n)||[]).concat(e.reference)),o.set(e.reference,t)}),t.declaredPipes.forEach(function(e){var n=e.reference.filePath;c.add(n),l.set(n,(l.get(n)||[]).concat(e.reference)),o.set(e.reference,t)})});var h=[];return c.forEach(function(t){var e=a.get(t)||[],n=l.get(t)||[],i=s.get(t)||[],r=u.get(t)||[];h.push({srcUrl:t,directives:e,pipes:n,ngModules:i,injectables:r})}),{ngModuleByPipeOrDirective:o,files:h,ngModules:e,symbolsMissingModule:n}}function Oi(t,e,n){var i=[];return e.filter(function(t){return n.isSourceFile(t)}).forEach(function(e){t.getSymbolsOf(e).forEach(function(e){var n=t.resolveSymbol(e),r=n.metadata;r&&"error"!=r.__symbolic&&i.push(n.symbol)})}),i}function Ii(t,e,n){var i=new Map,r=[],o=new Set,s=function(t){if(i.has(t)||!e.isSourceFile(t.filePath))return!1;var r=n.getNgModuleMetadata(t,!1);return r&&(i.set(r.type.reference,r),r.declaredDirectives.forEach(function(t){return o.add(t.reference)}),r.declaredPipes.forEach(function(t){return o.add(t.reference)}),r.transitiveModule.modules.forEach(function(t){return s(t.reference)})),!!r};t.forEach(function(t){s(t)||!n.isDirective(t)&&!n.isPipe(t)||r.push(t)});var a=r.filter(function(t){return!o.has(t)});return{ngModules:Array.from(i.values()),symbolsMissingModule:a}}function Ni(t){return t&&"ignore"==t.__symbolic}function Li(t){switch(t.message){case"Reference to non-exported class":if(t.context&&t.context.className)return"Reference to a non-exported class "+t.context.className+". Consider exporting the class";break;case"Variable not initialized":return"Only initialized variables and constants can be referenced because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported by the template compiler. Consider simplifying this to avoid destructuring";case"Could not resolve type":if(t.context&&t.context.typeName)return"Could not resolve type "+t.context.typeName;break;case"Function call not supported":return(t.context&&t.context.name?"Calling function '"+t.context.name+"', f":"F")+"unction calls are not supported. Consider replacing the function or lambda with a reference to an exported function";case"Reference to a local symbol":if(t.context&&t.context.name)return"Reference to a local (non-exported) symbol '"+t.context.name+"'. Consider exporting the symbol"}return t.message}function Vi(t){return"Error encountered resolving symbol values statically. "+Li(t)}function Ri(t,e){if(!t)return{};var n={};return Object.keys(t).forEach(function(i){var r=e(t[i],i);Ni(r)||(Oh.test(i)?Object.defineProperty(n,i,{enumerable:!1,configurable:!0,value:r}):n[i]=r)}),n}function Fi(t){return null===t||"function"!=typeof t&&"object"!=typeof t}function Hi(t,e,n,i){var r=new Error(t);return r.fileName=e,r.line=n,r.column=i,r}function ji(t){return t.startsWith("___")?t.substr(1):t}function Bi(t){var e=new qh(null,null,null,new Map);(new Wh).visitAllStatements(t,e);var n={};return e.exports.forEach(function(t){n[t]=e.vars.get(t)}),n}function Ui(t,e,n,i,r){for(var o=i.createChildWihtLocalVars(),s=0;s<t.length;s++)o.vars.set(t[s],e[s]);var a=r.visitAllStatements(n,o);return a?a.value:null}function qi(t,e,n){var i={};t.getters.forEach(function(r){i[r.name]={configurable:!1,get:function(){var i=new qh(e,this,t.name,e.vars);return Ui([],[],r.body,i,n)}}}),t.methods.forEach(function(r){var o=r.params.map(function(t){return t.name});i[r.name]={writable:!1,configurable:!1,value:function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=new qh(e,this,t.name,e.vars);return Ui(o,i,r.body,a,n)}}});var r=t.constructorMethod.params.map(function(t){return t.name}),o=function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new qh(e,this,t.name,e.vars);t.fields.forEach(function(t){i[t.name]=void 0}),Ui(r,o,t.constructorMethod.body,a,n)},s=t.parent?t.parent.visitExpression(n,e):Object;return o.prototype=Object.create(s.prototype,i),o}function zi(t,e,n,i){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Ui(t,r,e,n,i)}}function Wi(t,e,n){var i=e.toSource()+"\n//# sourceURL="+t,r=[],o=[];for(var s in n)r.push(s),o.push(n[s]);if(Object(tr._27)()){var a=(new(Function.bind.apply(Function,[void 0].concat(r.concat("return null;"))))).toString(),l=a.slice(0,a.indexOf("return null;")).split("\n").length-1;i+="\n"+e.toSourceMapGenerator(t,t,l).toJsComment()}return(new(Function.bind.apply(Function,[void 0].concat(r.concat(i))))).apply(void 0,o)}function Yi(t,e){var n=new Kh,i=_c.createRoot();return n.visitAllStatements(e,i),n.createReturnStmt(i),Wi(t,i,n.getArgs())}function Gi(t){if(!t.isComponent)throw new Error("Could not compile '"+E(t.type)+"' because it is not a component.")}function Xi(t,e){return void 0===e&&(e=[]),t().forEach(function(t){"function"==typeof t?Xi(t,e):e.push(t)}),e}function Ki(){return{statements:[],genFilePath:"",importExpr:function(t){return Cn({name:E(t),moduleName:null,runtime:t})}}}function Qi(t){return{useJit:Zi(t.map(function(t){return t.useJit})),defaultEncapsulation:Zi(t.map(function(t){return t.defaultEncapsulation})),providers:Ji(t.map(function(t){return t.providers})),missingTranslation:Zi(t.map(function(t){return t.missingTranslation})),enableLegacyTemplate:Zi(t.map(function(t){return t.enableLegacyTemplate})),preserveWhitespaces:Zi(t.map(function(t){return t.preserveWhitespaces}))}}function Zi(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}function Ji(t){var e=[];return t.forEach(function(t){return t&&e.push.apply(e,t)}),e}var $i=n("6Xbx"),tr=n("/oeL"),er=(new tr._15("4.4.7"),function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}()),nr=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),ir=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),rr=function(){function t(t,e,n,i,r,o){this.name=t,this.type=e,this.securityContext=n,this.value=i,this.unit=r,this.sourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===mr.Animation},enumerable:!0,configurable:!0}),t}(),or=function(){function t(t,e,n,i,r){this.name=t,this.target=e,this.phase=n,this.handler=i,this.sourceSpan=r}return t.calcFullName=function(t,e,n){return e?e+":"+t:n?"@"+t+"."+n:t},t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{get:function(){return t.calcFullName(this.name,this.target,this.phase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),t}(),sr=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),ar=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),lr=function(){function t(t,e,n,i,r,o,s,a,l,u,c,h,p){this.name=t,this.attrs=e,this.inputs=n,this.outputs=i,this.references=r,this.directives=o,this.providers=s,this.hasViewContainer=a,this.queryMatches=l,this.children=u,this.ngContentIndex=c,this.sourceSpan=h,this.endSourceSpan=p}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),ur=function(){function t(t,e,n,i,r,o,s,a,l,u,c){this.attrs=t,this.outputs=e,this.references=n,this.variables=i,this.directives=r,this.providers=o,this.hasViewContainer=s,this.queryMatches=a,this.children=l,this.ngContentIndex=u,this.sourceSpan=c}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),cr=function(){function t(t,e,n,i){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),hr=function(){function t(t,e,n,i,r,o){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=i,this.contentQueryStartId=r,this.sourceSpan=o}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),pr=function(){function t(t,e,n,i,r,o,s){this.token=t,this.multiProvider=e,this.eager=n,this.providers=i,this.providerType=r,this.lifecycleHooks=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return null},t}(),dr={};dr.PublicService=0,dr.PrivateService=1,dr.Component=2,dr.Directive=3,dr.Builtin=4,dr[dr.PublicService]="PublicService",dr[dr.PrivateService]="PrivateService",dr[dr.Component]="Component",dr[dr.Directive]="Directive",dr[dr.Builtin]="Builtin";var fr=function(){function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}(),mr={};mr.Property=0,mr.Attribute=1,mr.Class=2,mr.Style=3,mr.Animation=4,mr[mr.Property]="Property",mr[mr.Attribute]="Attribute",mr[mr.Class]="Class",mr[mr.Style]="Style",mr[mr.Animation]="Animation";var vr=function(){function t(){}return t.prototype.visitNgContent=function(t,e){},t.prototype.visitEmbeddedTemplate=function(t,e){},t.prototype.visitElement=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t.prototype.visitBoundText=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitDirective=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t}(),yr=(function(t){function e(){return t.call(this)||this}$i.a(e,t),e.prototype.visitEmbeddedTemplate=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.references),e(t.variables),e(t.directives),e(t.providers),e(t.children)})},e.prototype.visitElement=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.inputs),e(t.outputs),e(t.references),e(t.directives),e(t.providers),e(t.children)})},e.prototype.visitDirective=function(t,e){return this.visitChildren(e,function(e){e(t.inputs),e(t.hostProperties),e(t.hostEvents)})},e.prototype.visitChildren=function(t,e){function n(e){e&&e.length&&r.push(i(o,e,t))}var r=[],o=this;return e(n),[].concat.apply([],r)}}(vr),function(){function t(t,e,n){this.filePath=t,this.name=e,this.members=n}return t.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},t}()),gr=function(){function t(){this.cache=new Map}return t.prototype.get=function(t,e,n){n=n||[];var i=n.length?"."+n.join("."):"",r='"'+t+'".'+e+i,o=this.cache.get(r);return o||(o=new yr(t,e,n),this.cache.set(r,o)),o},t}(),br={};br.RAW_TEXT=0,br.ESCAPABLE_RAW_TEXT=1,br.PARSABLE_DATA=2,br[br.RAW_TEXT]="RAW_TEXT",br[br.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",br[br.PARSABLE_DATA]="PARSABLE_DATA";var wr={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},_r="\ue500";wr.ngsp=_r;var Cr=function(){function t(t){var e=void 0===t?{}:t,n=e.closedByChildren,i=e.requiredParents,r=e.implicitNamespacePrefix,o=e.contentType,s=void 0===o?br.PARSABLE_DATA:o,a=e.closedByParent,l=void 0!==a&&a,u=e.isVoid,c=void 0!==u&&u,h=e.ignoreFirstLf,p=void 0!==h&&h,d=this;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(t){return d.closedByChildren[t]=!0}),this.isVoid=c,this.closedByParent=l||c,i&&i.length>0&&(this.requiredParents={},this.parentToAdd=i[0],i.forEach(function(t){return d.requiredParents[t]=!0})),this.implicitNamespacePrefix=r||null,this.contentType=s,this.ignoreFirstLf=p}return t.prototype.requireExtraParent=function(t){if(!this.requiredParents)return!1;if(!t)return!0;var e=t.toLowerCase();return!("template"===e||"ng-template"===t)&&1!=this.requiredParents[e]},t.prototype.isClosedByChild=function(t){return this.isVoid||t.toLowerCase()in this.closedByChildren},t}(),Er={base:new Cr({isVoid:!0}),meta:new Cr({isVoid:!0}),area:new Cr({isVoid:!0}),embed:new Cr({isVoid:!0}),link:new Cr({isVoid:!0}),img:new Cr({isVoid:!0}),input:new Cr({isVoid:!0}),param:new Cr({isVoid:!0}),hr:new Cr({isVoid:!0}),br:new Cr({isVoid:!0}),source:new Cr({isVoid:!0}),track:new Cr({isVoid:!0}),wbr:new Cr({isVoid:!0}),p:new Cr({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Cr({closedByChildren:["tbody","tfoot"]}),tbody:new Cr({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Cr({closedByChildren:["tbody"],closedByParent:!0}),tr:new Cr({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new Cr({closedByChildren:["td","th"],closedByParent:!0}),th:new Cr({closedByChildren:["td","th"],closedByParent:!0}),col:new Cr({requiredParents:["colgroup"],isVoid:!0}),svg:new Cr({implicitNamespacePrefix:"svg"}),math:new Cr({implicitNamespacePrefix:"math"}),li:new Cr({closedByChildren:["li"],closedByParent:!0}),dt:new Cr({closedByChildren:["dt","dd"]}),dd:new Cr({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Cr({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Cr({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Cr({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Cr({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Cr({closedByChildren:["optgroup"],closedByParent:!0}),option:new Cr({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Cr({ignoreFirstLf:!0}),listing:new Cr({ignoreFirstLf:!0}),style:new Cr({contentType:br.RAW_TEXT}),script:new Cr({contentType:br.RAW_TEXT}),title:new Cr({contentType:br.ESCAPABLE_RAW_TEXT}),textarea:new Cr({contentType:br.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},xr=new Cr,Sr=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),Tr=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){var n,i=[],r=function(t,e){e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)},o=new t,s=o,a=!1;for(Sr.lastIndex=0;n=Sr.exec(e);){if(n[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new t,o.notSelectors.push(s)}if(n[2]&&s.setElement(n[2]),n[3]&&s.addClassName(n[3]),n[4]&&s.addAttribute(n[4],n[6]),n[7]&&(a=!1,s=o),n[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(i,o),o=s=new t}}return r(i,o),i},t.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},t.prototype.hasElementSelector=function(){return!!this.element},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=this.element||"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",i=0;i<this.attrs.length;i+=2){n+=" "+this.attrs[i]+(""!==this.attrs[i+1]?'="'+this.attrs[i+1]+'"':"")}return c(t).isVoid?"<"+t+e+n+"/>":"<"+t+e+n+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=""),this.attrs.push(t,e&&e.toLowerCase()||"")},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e],i=this.attrs[e+1];t+="["+n+(i?"="+i:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),kr=function(){function t(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return t.createNotMatcher=function(e){var n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var n=null;t.length>1&&(n=new Mr(t),this._listContexts.push(n));for(var i=0;i<t.length;i++)this._addSelectable(t[i],e,n)},t.prototype._addSelectable=function(t,e,n){var i=this,r=t.element,o=t.classNames,s=t.attrs,a=new Dr(t,e,n);if(r){var l=0===s.length&&0===o.length;l?this._addTerminal(i._elementMap,r,a):i=this._addPartial(i._elementPartialMap,r)}if(o)for(var u=0;u<o.length;u++){var l=0===s.length&&u===o.length-1,c=o[u];l?this._addTerminal(i._classMap,c,a):i=this._addPartial(i._classPartialMap,c)}if(s)for(var u=0;u<s.length;u+=2){var l=u===s.length-2,h=s[u],p=s[u+1];if(l){var d=i._attrValueMap,f=d.get(h);f||(f=new Map,d.set(h,f)),this._addTerminal(f,p,a)}else{var m=i._attrValuePartialMap,v=m.get(h);v||(v=new Map,m.set(h,v)),i=this._addPartial(v,p)}}},t.prototype._addTerminal=function(t,e,n){var i=t.get(e);i||(i=[],t.set(e,i)),i.push(n)},t.prototype._addPartial=function(e,n){var i=e.get(n);return i||(i=new t,e.set(n,i)),i},t.prototype.match=function(t,e){for(var n=!1,i=t.element,r=t.classNames,o=t.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,i,t,e)||n,n=this._matchPartial(this._elementPartialMap,i,t,e)||n,r)for(var s=0;s<r.length;s++){var a=r[s];n=this._matchTerminal(this._classMap,a,t,e)||n,n=this._matchPartial(this._classPartialMap,a,t,e)||n}if(o)for(var s=0;s<o.length;s+=2){var l=o[s],u=o[s+1],c=this._attrValueMap.get(l);u&&(n=this._matchTerminal(c,"",t,e)||n),n=this._matchTerminal(c,u,t,e)||n;var h=this._attrValuePartialMap.get(l);u&&(n=this._matchPartial(h,"",t,e)||n),n=this._matchPartial(h,u,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,i){if(!t||"string"!=typeof e)return!1;var r=t.get(e)||[],o=t.get("*");if(o&&(r=r.concat(o)),0===r.length)return!1;for(var s,a=!1,l=0;l<r.length;l++)s=r[l],a=s.finalize(n,i)||a;return a},t.prototype._matchPartial=function(t,e,n,i){if(!t||"string"!=typeof e)return!1;var r=t.get(e);return!!r&&r.match(n,i)},t}(),Mr=function(){function t(t){this.selectors=t,this.alreadyMatched=!1}return t}(),Dr=function(){function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!kr.createNotMatcher(this.notSelectors).match(t,null)}return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}(),Pr=/-+([a-z0-9])/g,Ar=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return m(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,i={};return Object.keys(t).forEach(function(r){i[r]=m(t[r],n,e)}),i},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),Or={assertSync:function(t){if(Object(tr._56)(t))throw new Error("Illegal state: value cannot be a promise");return t},then:function(t,e){return Object(tr._56)(t)?t.then(e):e(t)},all:function(t){return t.some(tr._56)?Promise.all(t):t}},Ir="ngSyntaxError",Nr="ngParseErrors",Lr=Object.getPrototypeOf({}),Vr=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,Rr=0,Fr={};Fr.Pipe=0,Fr.Directive=1,Fr.NgModule=2,Fr.Injectable=3,Fr[Fr.Pipe]="Pipe",Fr[Fr.Directive]="Directive",Fr[Fr.NgModule]="NgModule",Fr[Fr.Injectable]="Injectable";var Hr=function(){function t(t){var e=void 0===t?{}:t,n=e.moduleUrl,i=e.styles,r=e.styleUrls;this.moduleUrl=n||null,this.styles=O(i),this.styleUrls=O(r)}return t}(),jr=function(){function t(t){var e=t.encapsulation,n=t.template,i=t.templateUrl,r=t.styles,o=t.styleUrls,s=t.externalStylesheets,a=t.animations,l=t.ngContentSelectors,u=t.interpolation,c=t.isInline,h=t.preserveWhitespaces;if(this.encapsulation=e,this.template=n,this.templateUrl=i,this.styles=O(r),this.styleUrls=O(o),this.externalStylesheets=O(s),this.animations=a?I(a):[],this.ngContentSelectors=l||[],u&&2!=u.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=u,this.isInline=c,this.preserveWhitespaces=h}return t.prototype.toSummary=function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},t}(),Br=function(){function t(t){var e=t.isHost,n=t.type,i=t.isComponent,r=t.selector,o=t.exportAs,s=t.changeDetection,a=t.inputs,l=t.outputs,u=t.hostListeners,c=t.hostProperties,h=t.hostAttributes,p=t.providers,d=t.viewProviders,f=t.queries,m=t.viewQueries,v=t.entryComponents,y=t.template,g=t.componentViewType,b=t.rendererType,w=t.componentFactory;this.isHost=!!e,this.type=n,this.isComponent=i,this.selector=r,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=l,this.hostListeners=u,this.hostProperties=c,this.hostAttributes=h,this.providers=O(p),this.viewProviders=O(d),this.queries=O(f),this.viewQueries=O(m),this.entryComponents=O(v),this.template=y,this.componentViewType=g,this.rendererType=b,this.componentFactory=w}return t.create=function(e){var n=e.isHost,i=e.type,r=e.isComponent,o=e.selector,s=e.exportAs,a=e.changeDetection,l=e.inputs,u=e.outputs,c=e.host,h=e.providers,d=e.viewProviders,f=e.queries,m=e.viewQueries,v=e.entryComponents,y=e.template,g=e.componentViewType,b=e.rendererType,w=e.componentFactory,_={},C={},E={};null!=c&&Object.keys(c).forEach(function(t){var e=c[t],n=t.match(Vr);null===n?E[t]=e:null!=n[1]?C[n[1]]=e:null!=n[2]&&(_[n[2]]=e)});var x={};null!=l&&l.forEach(function(t){var e=p(t,[t,t]);x[e[0]]=e[1]});var S={};return null!=u&&u.forEach(function(t){var e=p(t,[t,t]);S[e[0]]=e[1]}),new t({isHost:n,type:i,isComponent:!!r,selector:o,exportAs:s,changeDetection:a,inputs:x,outputs:S,hostListeners:_,hostProperties:C,hostAttributes:E,providers:h,viewProviders:d,queries:f,viewQueries:m,entryComponents:v,template:y,componentViewType:g,rendererType:b,componentFactory:w})},t.prototype.toSummary=function(){return{summaryKind:Fr.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},t}(),Ur=function(){function t(t){var e=t.type,n=t.name,i=t.pure;this.type=e,this.name=n,this.pure=!!i}return t.prototype.toSummary=function(){return{summaryKind:Fr.Pipe,type:this.type,name:this.name,pure:this.pure}},t}(),qr=function(){function t(t){var e=t.type,n=t.providers,i=t.declaredDirectives,r=t.exportedDirectives,o=t.declaredPipes,s=t.exportedPipes,a=t.entryComponents,l=t.bootstrapComponents,u=t.importedModules,c=t.exportedModules,h=t.schemas,p=t.transitiveModule,d=t.id;this.type=e||null,this.declaredDirectives=O(i),this.exportedDirectives=O(r),this.declaredPipes=O(o),this.exportedPipes=O(s),this.providers=O(n),this.entryComponents=O(a),this.bootstrapComponents=O(l),this.importedModules=O(u),this.exportedModules=O(c),this.schemas=O(h),this.id=d||null,this.transitiveModule=p||null}return t.prototype.toSummary=function(){var t=this.transitiveModule;return{summaryKind:Fr.NgModule,type:this.type,entryComponents:t.entryComponents,providers:t.providers,modules:t.modules,exportedDirectives:t.exportedDirectives,exportedPipes:t.exportedPipes}},t}(),zr=function(){function t(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return t.prototype.addProvider=function(t,e){this.providers.push({provider:t,module:e})},t.prototype.addDirective=function(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))},t.prototype.addExportedDirective=function(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))},t.prototype.addPipe=function(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))},t.prototype.addExportedPipe=function(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))},t.prototype.addModule=function(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))},t.prototype.addEntryComponent=function(t){this.entryComponentsSet.has(t.componentType)||(this.entryComponentsSet.add(t.componentType),this.entryComponents.push(t))},t}(),Wr=function(){function t(t,e){var n=e.useClass,i=e.useValue,r=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=n||null,this.useValue=i,this.useExisting=r,this.useFactory=o||null,this.dependencies=s||null,this.multi=!!a}return t}(),Yr=function(){function t(){}return t.prototype.parameters=function(t){},t.prototype.annotations=function(t){},t.prototype.propMetadata=function(t){},t.prototype.hasLifecycleHook=function(t,e){},t.prototype.componentModuleUrl=function(t,e){},t.prototype.resolveExternalReference=function(t){},t}(),Gr=function(){function t(t){var e=void 0===t?{}:t,n=e.defaultEncapsulation,i=void 0===n?tr._19.Emulated:n,r=e.useJit,o=void 0===r||r,s=e.missingTranslation,a=e.enableLegacyTemplate,l=e.preserveWhitespaces;this.defaultEncapsulation=i,this.useJit=!!o,this.missingTranslation=s||null,this.enableLegacyTemplate=!1!==a,this.preserveWhitespaces=H(y(l))}return t}(),Xr=function(){function t(t,e,n,i){this.input=e,this.errLocation=n,this.ctxLocation=i,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+i}return t}(),Kr=function(){function t(t,e){this.start=t,this.end=e}return t}(),Qr=function(){function t(t){this.span=t}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),Zr=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.prefix=n,o.uninterpretedExpression=i,o.location=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(Qr),Jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(Qr),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(Qr),to=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expressions=n,i}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(Qr),eo=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.condition=n,o.trueExp=i,o.falseExp=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(Qr),no=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.receiver=n,r.name=i,r}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(Qr),io=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.receiver=n,o.name=i,o.value=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(Qr),ro=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.receiver=n,r.name=i,r}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(Qr),oo=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.obj=n,r.key=i,r}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(Qr),so=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.obj=n,o.key=i,o.value=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(Qr),ao=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.exp=n,o.name=i,o.args=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(Qr),lo=function(t){function e(e,n){var i=t.call(this,e)||this;return i.value=n,i}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(Qr),uo=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expressions=n,i}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(Qr),co=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keys=n,r.values=i,r}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(Qr),ho=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.strings=n,r.expressions=i,r}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(Qr),po=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.operation=n,o.left=i,o.right=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(Qr),fo=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expression=n,i}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(Qr),mo=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expression=n,i}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitNonNullAssert(this,e)},e}(Qr),vo=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.receiver=n,o.name=i,o.args=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(Qr),yo=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.receiver=n,o.name=i,o.args=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(Qr),go=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.target=n,r.args=i,r}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(Qr),bo=function(t){function e(e,n,i,r){var o=t.call(this,new Kr(0,null==n?0:n.length))||this;return o.ast=e,o.source=n,o.location=i,o.errors=r,o}return $i.a(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(Qr),wo=function(){function t(t,e,n,i,r){this.span=t,this.key=e,this.keyIsVar=n,this.name=i,this.expression=r}return t}(),_o=(function(){function t(){}t.prototype.visitBinary=function(t,e){},t.prototype.visitChain=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitLiteralArray=function(t,e){},t.prototype.visitLiteralMap=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitPipe=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitNonNullAssert=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitQuote=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){}}(),function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitNonNullAssert=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}()),Co=function(){function t(){}return t.prototype.visitImplicitReceiver=function(t,e){return t},t.prototype.visitInterpolation=function(t,e){return new ho(t.span,t.strings,this.visitAll(t.expressions))},t.prototype.visitLiteralPrimitive=function(t,e){return new lo(t.span,t.value)},t.prototype.visitPropertyRead=function(t,e){return new no(t.span,t.receiver.visit(this),t.name)},t.prototype.visitPropertyWrite=function(t,e){return new io(t.span,t.receiver.visit(this),t.name,t.value.visit(this))},t.prototype.visitSafePropertyRead=function(t,e){return new ro(t.span,t.receiver.visit(this),t.name)},t.prototype.visitMethodCall=function(t,e){return new vo(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitSafeMethodCall=function(t,e){return new yo(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitFunctionCall=function(t,e){return new go(t.span,t.target.visit(this),this.visitAll(t.args))},t.prototype.visitLiteralArray=function(t,e){return new uo(t.span,this.visitAll(t.expressions))},t.prototype.visitLiteralMap=function(t,e){return new co(t.span,t.keys,this.visitAll(t.values))},t.prototype.visitBinary=function(t,e){return new po(t.span,t.operation,t.left.visit(this),t.right.visit(this))},t.prototype.visitPrefixNot=function(t,e){return new fo(t.span,t.expression.visit(this))},t.prototype.visitNonNullAssert=function(t,e){return new mo(t.span,t.expression.visit(this))},t.prototype.visitConditional=function(t,e){return new eo(t.span,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))},t.prototype.visitPipe=function(t,e){return new ao(t.span,t.exp.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitKeyedRead=function(t,e){return new oo(t.span,t.obj.visit(this),t.key.visit(this))},t.prototype.visitKeyedWrite=function(t,e){return new so(t.span,t.obj.visit(this),t.key.visit(this),t.value.visit(this))},t.prototype.visitAll=function(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n].visit(this);return e},t.prototype.visitChain=function(t,e){return new to(t.span,this.visitAll(t.expressions))},t.prototype.visitQuote=function(t,e){return new Zr(t.span,t.prefix,t.uninterpretedExpression,t.location)},t}(),Eo=0,xo=9,So=10,To=11,ko=12,Mo=13,Do=32,Po=34,Ao=36,Oo=39,Io=43,No=45,Lo=47,Vo=59,Ro=61,Fo=62,Ho=48,jo=57,Bo=65,Uo=69,qo=70,zo=90,Wo=95,Yo=97,Go=101,Xo=102,Ko=110,Qo=114,Zo=116,Jo=118,$o=122,ts=123,es=160,ns=96,is=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],rs=function(){function t(t,e){this.start=t,this.end=e}return t.fromArray=function(e){return e?(Y("interpolation",e),new t(e[0],e[1])):os},t}(),os=new rs("{{","}}"),ss={};ss.Character=0,ss.Identifier=1,ss.Keyword=2,ss.String=3,ss.Operator=4,ss.Number=5,ss.Error=6,ss[ss.Character]="Character",ss[ss.Identifier]="Identifier",ss[ss.Keyword]="Keyword",ss[ss.String]="String",ss[ss.Operator]="Operator",ss[ss.Number]="Number",ss[ss.Error]="Error";var as=["var","let","as","null","undefined","true","false","if","else","this"],ls=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new hs(t),n=[],i=e.scanToken();null!=i;)n.push(i),i=e.scanToken();return n},t}();ls.decorators=[{type:z}],ls.ctorParameters=function(){return[]};var us=function(){function t(t,e,n,i){this.index=t,this.type=e,this.numValue=n,this.strValue=i}return t.prototype.isCharacter=function(t){return this.type==ss.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==ss.Number},t.prototype.isString=function(){return this.type==ss.String},t.prototype.isOperator=function(t){return this.type==ss.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==ss.Identifier},t.prototype.isKeyword=function(){return this.type==ss.Keyword},t.prototype.isKeywordLet=function(){return this.type==ss.Keyword&&"let"==this.strValue},t.prototype.isKeywordAs=function(){return this.type==ss.Keyword&&"as"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==ss.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==ss.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==ss.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==ss.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==ss.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==ss.Error},t.prototype.toNumber=function(){return this.type==ss.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case ss.Character:case ss.Identifier:case ss.Keyword:case ss.Operator:case ss.String:case ss.Error:return this.strValue;case ss.Number:return this.numValue.toString();default:return null}},t}(),cs=new us(-1,ss.Character,0,""),hs=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?Eo:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,i=this.index;n<=Do;){if(++i>=e){n=Eo;break}n=t.charCodeAt(i)}if(this.peek=n,this.index=i,i>=e)return null;if(tt(n))return this.scanIdentifier();if(B(n))return this.scanNumber(i);var r=i;switch(n){case 46:return this.advance(),B(this.peek)?this.scanNumber(r):G(r,46);case 40:case 41:case ts:case 125:case 91:case 93:case 44:case 58:case Vo:return this.scanCharacter(r,n);case Oo:case Po:return this.scanString();case 35:case Io:case No:case 42:case Lo:case 37:case 94:return this.scanOperator(r,String.fromCharCode(n));case 63:return this.scanComplexOperator(r,"?",46,".");case 60:case Fo:return this.scanComplexOperator(r,String.fromCharCode(n),Ro,"=");case 33:case Ro:return this.scanComplexOperator(r,String.fromCharCode(n),Ro,"=",Ro,"=");case 38:return this.scanComplexOperator(r,"&",38,"&");case 124:return this.scanComplexOperator(r,"|",124,"|");case es:for(;j(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),G(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),Q(t,e)},t.prototype.scanComplexOperator=function(t,e,n,i,r,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=i),null!=r&&this.peek==r&&(this.advance(),s+=o),Q(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();nt(this.peek);)this.advance();var e=this.input.substring(t,this.index);return as.indexOf(e)>-1?K(t,e):X(t,e)},t.prototype.scanNumber=function(t){var e=this.index===t;for(this.advance();;){if(B(this.peek));else if(46==this.peek)e=!1;else{if(!it(this.peek))break;if(this.advance(),rt(this.peek)&&this.advance(),!B(this.peek))return this.error("Invalid exponent",-1);e=!1}this.advance()}var n=this.input.substring(t,this.index);return J(t,e?at(n):parseFloat(n))},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n="",i=this.index,r=this.input;this.peek!=e;)if(92==this.peek){n+=r.substring(i,this.index),this.advance();var o=void 0;if(this.peek=this.peek,117==this.peek){var s=r.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=st(this.peek),this.advance();n+=String.fromCharCode(o),i=this.index}else{if(this.peek==Eo)return this.error("Unterminated quote",0);this.advance()}var l=r.substring(i,this.index);return this.advance(),Z(t,n+l)},t.prototype.error=function(t,e){var n=this.index+e;return $(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}(),ps=function(){function t(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}return t}(),ds=function(){function t(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}return t}(),fs=function(){function t(t){this._lexer=t,this.errors=[]}return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=os),this._checkNoInterpolation(t,e,n);var i=this._stripComments(t),r=this._lexer.tokenize(this._stripComments(t)),o=new ms(t,e,r,i.length,!0,this.errors,t.length-i.length).parseChain();return new bo(o,t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){void 0===n&&(n=os);var i=this._parseBindingAst(t,e,n);return new bo(i,t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=os);var i=this._parseBindingAst(t,e,n),r=vs.check(i);return r.length>0&&this._reportError("Host binding expression cannot contain "+r.join(" "),t,e),new bo(i,t,e,this.errors)},t.prototype._reportError=function(t,e,n,i){this.errors.push(new Xr(t,e,n,i))},t.prototype._parseBindingAst=function(t,e,n){var i=this._parseQuote(t,e);if(null!=i)return i;this._checkNoInterpolation(t,e,n);var r=this._stripComments(t),o=this._lexer.tokenize(r);return new ms(t,e,o,r.length,!1,this.errors,t.length-r.length).parseChain()},t.prototype._parseQuote=function(t,e){if(null==t)return null;var n=t.indexOf(":");if(-1==n)return null;var i=t.substring(0,n).trim();if(!et(i))return null;var r=t.substring(n+1);return new Zr(new Kr(0,t.length),i,r,e)},t.prototype.parseTemplateBindings=function(t,e,n){var i=this._lexer.tokenize(e);if(t){var r=this._lexer.tokenize(t).map(function(t){return t.index=0,t});i.unshift.apply(i,r)}return new ms(e,n,i,e.length,!1,this.errors,0).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e,n){void 0===n&&(n=os);var i=this.splitInterpolation(t,e,n);if(null==i)return null;for(var r=[],o=0;o<i.expressions.length;++o){var s=i.expressions[o],a=this._stripComments(s),l=this._lexer.tokenize(a),u=new ms(t,e,l,a.length,!1,this.errors,i.offsets[o]+(s.length-a.length)).parseChain();r.push(u)}return new bo(new ho(new Kr(0,null==t?0:t.length),i.strings,r),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=os);var i=lt(n),r=t.split(i);if(r.length<=1)return null;for(var o=[],s=[],a=[],l=0,u=0;u<r.length;u++){var c=r[u];u%2==0?(o.push(c),l+=c.length):c.trim().length>0?(l+=n.start.length,s.push(c),a.push(l),l+=c.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(r,u,n)+" in",e),s.push("$implict"),a.push(l))}return new ps(o,s,a)},t.prototype.wrapLiteralPrimitive=function(t,e){return new bo(new lo(new Kr(0,null==t?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var e=this._commentStart(t);return null!=e?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var e=null,n=0;n<t.length-1;n++){var i=t.charCodeAt(n),r=t.charCodeAt(n+1);if(i===Lo&&r==Lo&&null==e)return n;e===i?e=null:null==e&&ot(i)&&(e=i)}return null},t.prototype._checkNoInterpolation=function(t,e,n){var i=lt(n),r=t.split(i);r.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(r,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var i="",r=0;r<e;r++)i+=r%2==0?t[r]:""+n.start+t[r]+n.end;return i.length},t}();fs.decorators=[{type:z}],fs.ctorParameters=function(){return[{type:ls}]};var ms=function(){function t(t,e,n,i,r,o,s){this.input=t,this.location=e,this.tokens=n,this.inputLength=i,this.parseAction=r,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:cs},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new Kr(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(Vo))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(Vo););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new Jr(this.span(e)):1==t.length?t[0]:new to(this.span(e),t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(58);)n.push(this.parseExpression());t=new ao(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),i=void 0;if(this.optionalCharacter(58))i=this.parsePipe();else{var r=this.inputIndex,o=this.input.substring(t,r);this.error("Conditional expression "+o+" requires all 3 expressions"),i=new Jr(this.span(t))}return new eo(this.span(t),e,n,i)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new po(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new po(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==ss.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new po(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==ss.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new po(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==ss.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new po(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==ss.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new po(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==ss.Operator){var t=this.inputIndex,e=this.next.strValue,n=void 0;switch(e){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new po(this.span(t),e,new lo(new Kr(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new fo(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var n=this.parseConditional();t=new so(this.span(t.span.start),t,e,n)}else t=new oo(this.span(t.span.start),t,e)}else if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new go(this.span(t.span.start),t,i)}else{if(!this.optionalOperator("!"))return t;t=new mo(this.span(t.span.start),t)}},t.prototype.parsePrimary=function(){var t=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new lo(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new lo(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new lo(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new lo(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new $r(this.span(t));if(this.optionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new uo(this.span(t),n)}if(this.next.isCharacter(ts))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new $r(this.span(t)),!1);if(this.next.isNumber()){var i=this.next.toNumber();return this.advance(),new lo(this.span(t),i)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new lo(this.span(t),r)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new Jr(this.span(t))):(this.error("Unexpected token "+this.next),new Jr(this.span(t)))},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(ts),!this.optionalCharacter(125)){this.rbracesExpected++;do{var i=this.next.isString(),r=this.expectIdentifierOrKeywordOrString();t.push({key:r,quoted:i}),this.expectCharacter(58),e.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new co(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=t.span.start,i=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(n);return e?new yo(o,t,i,r):new vo(o,t,i,r)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Jr(this.span(n))):new ro(this.span(n),t,i);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Jr(this.span(n));var s=this.parseConditional();return new io(this.span(n),t,i,s)}return new no(this.span(n),t,i)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var t=[],e=null,n=[];this.index<this.tokens.length;){var i=this.inputIndex,r=this.peekKeywordLet();r&&this.advance();var o=this.expectTemplateBindingKey(),s=o;r||(null==e?e=s:s=e+s[0].toUpperCase()+s.substring(1)),this.optionalCharacter(58);var a=null,l=null;if(r)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs()){var u=this.inputIndex;this.advance(),a=o,s=this.expectTemplateBindingKey(),r=!0}else if(this.next!==cs&&!this.peekKeywordLet()){var c=this.inputIndex,h=this.parsePipe(),p=this.input.substring(c-this.offset,this.inputIndex-this.offset);l=new bo(h,p,this.location,this.errors)}if(t.push(new wo(this.span(i),s,r,a,l)),this.peekKeywordAs()&&!r){var u=this.inputIndex;this.advance();var d=this.expectTemplateBindingKey();t.push(new wo(this.span(u),d,!0,s,null))}this.optionalCharacter(Vo)||this.optionalCharacter(44)}return new ds(t,n,this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new Xr(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),null==t&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(Vo)&&(this.rparensExpected<=0||!t.isCharacter(41))&&(this.rbracesExpected<=0||!t.isCharacter(125))&&(this.rbracketsExpected<=0||!t.isCharacter(93));)this.next.isError()&&this.errors.push(new Xr(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),vs=function(){function t(){this.errors=[]}return t.check=function(e){var n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitNonNullAssert=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}(),ys=function(){function t(t,e,n,i){this.file=t,this.offset=e,this.line=n,this.col=i}return t.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},t.prototype.moveBy=function(e){for(var n=this.file.content,i=n.length,r=this.offset,o=this.line,s=this.col;r>0&&e<0;){r--,e++;var a=n.charCodeAt(r);if(a==So){o--;var l=n.substr(0,r-1).lastIndexOf(String.fromCharCode(So));s=l>0?r-l:r}else s--}for(;r<i&&e>0;){var a=n.charCodeAt(r);r++,e--,a==So?(o++,s=0):s++}return new t(this.file,r,o,s)},t.prototype.getContext=function(t,e){var n=this.file.content,i=this.offset;if(null!=i){i>n.length-1&&(i=n.length-1);for(var r=i,o=0,s=0;o<t&&i>0&&(i--,o++,"\n"!=n[i]||++s!=e););for(o=0,s=0;o<t&&r<n.length-1&&(r++,o++,"\n"!=n[r]||++s!=e););return{before:n.substring(i,this.offset),after:n.substring(this.offset,r+1)}}return null},t}(),gs=function(){function t(t,e){this.content=t,this.url=e}return t}(),bs=function(){function t(t,e,n){void 0===n&&(n=null),this.start=t,this.end=e,this.details=n}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}(),ws={};ws.WARNING=0,ws.ERROR=1,ws[ws.WARNING]="WARNING",ws[ws.ERROR]="ERROR";var _s=function(){function t(t,e,n){void 0===n&&(n=ws.ERROR),this.span=t,this.msg=e,this.level=n}return t.prototype.contextualMessage=function(){var t=this.span.start.getContext(100,3);return t?' ("'+t.before+"["+ws[this.level]+" ->]"+t.after+'")':""},t.prototype.toString=function(){var t=this.span.details?", "+this.span.details:"";return""+this.msg+this.contextualMessage()+": "+this.span.start+t},t}(),Cs=(function(){function t(t,e){void 0===e&&(e=-1),this.path=t,this.position=e}Object.defineProperty(t.prototype,"empty",{get:function(){return!this.path||!this.path.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"head",{get:function(){return this.path[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t.prototype.parentOf=function(t){return t&&this.path[this.path.indexOf(t)-1]},t.prototype.childOf=function(t){return this.path[this.path.indexOf(t)+1]},t.prototype.first=function(t){for(var e=this.path.length-1;e>=0;e--){var n=this.path[e];if(n instanceof t)return n}},t.prototype.push=function(t){this.path.push(t)},t.prototype.pop=function(){return this.path.pop()}}(),function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}()),Es=function(){function t(t,e,n,i,r){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=i,this.switchValueSourceSpan=r}return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),xs=function(){function t(t,e,n,i,r){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=i,this.expSourceSpan=r}return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),Ss=function(){function t(t,e,n,i){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=i}return t.prototype.visit=function(t,e){return t.visitAttribute(this,e)},t}(),Ts=function(){function t(t,e,n,i,r,o){void 0===r&&(r=null),void 0===o&&(o=null),this.name=t,this.attrs=e,this.children=n,this.sourceSpan=i,this.startSourceSpan=r,this.endSourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),ks=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}(),Ms=(function(){function t(){}t.prototype.visitElement=function(t,e){this.visitChildren(e,function(e){e(t.attrs),e(t.children)})},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){return this.visitChildren(e,function(e){e(t.cases)})},t.prototype.visitExpansionCase=function(t,e){},t.prototype.visitChildren=function(t,e){function n(e){e&&i.push(ct(r,e,t))}var i=[],r=this;return e(n),[].concat.apply([],i)}}(),{});Ms.TAG_OPEN_START=0,Ms.TAG_OPEN_END=1,Ms.TAG_OPEN_END_VOID=2,Ms.TAG_CLOSE=3,Ms.TEXT=4,Ms.ESCAPABLE_RAW_TEXT=5,Ms.RAW_TEXT=6,Ms.COMMENT_START=7,Ms.COMMENT_END=8,Ms.CDATA_START=9,Ms.CDATA_END=10,Ms.ATTR_NAME=11,Ms.ATTR_VALUE=12,Ms.DOC_TYPE=13,Ms.EXPANSION_FORM_START=14,Ms.EXPANSION_CASE_VALUE=15,Ms.EXPANSION_CASE_EXP_START=16,Ms.EXPANSION_CASE_EXP_END=17,Ms.EXPANSION_FORM_END=18,Ms.EOF=19,Ms[Ms.TAG_OPEN_START]="TAG_OPEN_START",Ms[Ms.TAG_OPEN_END]="TAG_OPEN_END",Ms[Ms.TAG_OPEN_END_VOID]="TAG_OPEN_END_VOID",Ms[Ms.TAG_CLOSE]="TAG_CLOSE",Ms[Ms.TEXT]="TEXT",Ms[Ms.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",Ms[Ms.RAW_TEXT]="RAW_TEXT",Ms[Ms.COMMENT_START]="COMMENT_START",Ms[Ms.COMMENT_END]="COMMENT_END",Ms[Ms.CDATA_START]="CDATA_START",Ms[Ms.CDATA_END]="CDATA_END",Ms[Ms.ATTR_NAME]="ATTR_NAME",Ms[Ms.ATTR_VALUE]="ATTR_VALUE",Ms[Ms.DOC_TYPE]="DOC_TYPE",Ms[Ms.EXPANSION_FORM_START]="EXPANSION_FORM_START",Ms[Ms.EXPANSION_CASE_VALUE]="EXPANSION_CASE_VALUE",Ms[Ms.EXPANSION_CASE_EXP_START]="EXPANSION_CASE_EXP_START",Ms[Ms.EXPANSION_CASE_EXP_END]="EXPANSION_CASE_EXP_END",Ms[Ms.EXPANSION_FORM_END]="EXPANSION_FORM_END",Ms[Ms.EOF]="EOF";var Ds=function(){function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}(),Ps=function(t){function e(e,n,i){var r=t.call(this,i,e)||this;return r.tokenType=n,r}return $i.a(e,t),e}(_s),As=function(){function t(t,e){this.tokens=t,this.errors=e}return t}(),Os=/\r\n?/g,Is=function(){function t(t){this.error=t}return t}(),Ns=function(){function t(t,e,n,i){void 0===i&&(i=os),this._file=t,this._getTagDefinition=e,this._tokenizeIcu=n,this._interpolationConfig=i,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=t.content,this._length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return t.replace(Os,"\n")},t.prototype.tokenize=function(){for(;this._peek!==Eo;){var t=this._getLocation();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(t):this._attemptCharCode(No)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(Lo)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof Is))throw t;this.errors.push(t.error)}}return this._beginToken(Ms.EOF),this._endToken([]),new As(Et(this.tokens),this.errors)},t.prototype._tokenizeExpansionForm=function(){if(bt(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(wt(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._peek){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},t.prototype._getLocation=function(){return new ys(this._file,this._index,this._line,this._column)},t.prototype._getSpan=function(t,e){return void 0===t&&(t=this._getLocation()),void 0===e&&(e=this._getLocation()),new bs(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=this._getLocation()),this._currentTokenStart=e,this._currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=this._getLocation());var n=new Ds(this._currentTokenType,t,new bs(this._currentTokenStart,e));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},t.prototype._createError=function(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new Ps(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new Is(n)},t.prototype._advance=function(){if(this._index>=this._length)throw this._createError(pt(Eo),this._getSpan());this._peek===So?(this._line++,this._column=0):this._peek!==So&&this._peek!==Mo&&this._column++,this._index++,this._peek=this._index>=this._length?Eo:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?Eo:this._input.charCodeAt(this._index+1)},t.prototype._attemptCharCode=function(t){return this._peek===t&&(this._advance(),!0)},t.prototype._attemptCharCodeCaseInsensitive=function(t){return!!_t(this._peek,t)&&(this._advance(),!0)},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(pt(this._peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){var e=t.length;if(this._index+e>this._length)return!1;for(var n=this._savePosition(),i=0;i<e;i++)if(!this._attemptCharCode(t.charCodeAt(i)))return this._restorePosition(n),!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(pt(this._peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this._peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this._index-n.offset<e)throw this._createError(pt(this._peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this._peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&38===this._peek)return this._decodeEntity();var e=this._index;return this._advance(),this._input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(35)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(gt),this._peek!=Vo)return this._restorePosition(e),"&";this._advance();var n=this._input.substring(t.offset+1,this._index-1),i=wr[n];if(!i)throw this._createError(dt(n),this._getSpan(t));return i}var r=this._attemptCharCode(120)||this._attemptCharCode(88),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(yt),this._peek!=Vo)throw this._createError(pt(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,r?16:10);return String.fromCharCode(a)}catch(e){var l=this._input.substring(t.offset+1,this._index-1);throw this._createError(dt(l),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var i,r=this._getLocation();this._beginToken(t?Ms.ESCAPABLE_RAW_TEXT:Ms.RAW_TEXT,r);for(var o=[];;){if(i=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this._index>i.offset&&o.push(this._input.substring(i.offset,this._index));this._peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],i)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(Ms.COMMENT_START,t),this._requireCharCode(No),this._endToken([]);var n=this._consumeRawText(!1,No,function(){return e._attemptStr("->")});this._beginToken(Ms.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(Ms.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,93,function(){return e._attemptStr("]>")});this._beginToken(Ms.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(Ms.DOC_TYPE,t),this._attemptUntilChar(Fo),this._advance(),this._endToken([this._input.substring(t.offset+2,this._index-1)])},t.prototype._consumePrefixAndName=function(){for(var t=this._index,e=null;58!==this._peek&&!vt(this._peek);)this._advance();var n;return 58===this._peek?(this._advance(),e=this._input.substring(t,this._index-1),n=this._index):n=t,this._requireCharCodeUntilFn(mt,this._index===n?1:0),[e,this._input.substring(n,this._index)]},t.prototype._consumeTagOpen=function(t){var e,n,i=this._savePosition();try{if(!U(this._peek))throw this._createError(pt(this._peek),this._getSpan());var r=this._index;for(this._consumeTagOpenStart(t),e=this._input.substring(r,this._index),n=e.toLowerCase(),this._attemptCharCodeUntilFn(ft);this._peek!==Lo&&this._peek!==Fo;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(ft),this._attemptCharCode(Ro)&&(this._attemptCharCodeUntilFn(ft),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ft);this._consumeTagOpenEnd()}catch(e){if(e instanceof Is)return this._restorePosition(i),this._beginToken(Ms.TEXT,t),void this._endToken(["<"]);throw e}var o=this._getTagDefinition(e).contentType;o===br.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):o===br.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,i=this._consumeRawText(e,60,function(){return!!n._attemptCharCode(Lo)&&(n._attemptCharCodeUntilFn(ft),!!n._attemptStrCaseInsensitive(t)&&(n._attemptCharCodeUntilFn(ft),n._attemptCharCode(Fo)))});this._beginToken(Ms.TAG_CLOSE,i.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(Ms.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(Ms.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(Ms.ATTR_VALUE);var t;if(this._peek===Oo||this._peek===Po){var e=this._peek;this._advance();for(var n=[];this._peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var i=this._index;this._requireCharCodeUntilFn(mt,1),t=this._input.substring(i,this._index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode(Lo)?Ms.TAG_OPEN_END_VOID:Ms.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(Fo),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(Ms.TAG_CLOSE,t),this._attemptCharCodeUntilFn(ft);var e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ft),this._requireCharCode(Fo),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(Ms.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(ts),this._endToken([]),this._expansionCaseStack.push(Ms.EXPANSION_FORM_START),this._beginToken(Ms.RAW_TEXT,this._getLocation());var t=this._readUntil(44);this._endToken([t],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ft),this._beginToken(Ms.RAW_TEXT,this._getLocation());var e=this._readUntil(44);this._endToken([e],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ft)},t.prototype._consumeExpansionCaseStart=function(){this._beginToken(Ms.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil(ts).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(ft),this._beginToken(Ms.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(ts),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ft),this._expansionCaseStack.push(Ms.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(Ms.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(125),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ft),this._expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(Ms.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(Ms.TEXT,t);var e=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype._isTextEnd=function(){if(60===this._peek||this._peek===Eo)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(bt(this._input,this._index,this._interpolationConfig))return!0;if(125===this._peek&&this._isInExpansionCase())return!0}return!1},t.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this._index;return this._attemptUntilChar(t),this._input.substring(e,this._index)},t.prototype._restorePosition=function(t){this._peek=t[0],this._index=t[1],this._column=t[2],this._line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=this.tokens.slice(0,e))},t.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Ms.EXPANSION_CASE_EXP_START},t.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Ms.EXPANSION_FORM_START},t}(),Ls=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return r.elementName=e,r}return $i.a(e,t),e.create=function(t,n,i){return new e(t,n,i)},e}(_s),Vs=function(){function t(t,e){this.rootNodes=t,this.errors=e}return t}(),Rs=function(){function t(t){this.getTagDefinition=t}return t.prototype.parse=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=os);var r=ht(t,e,this.getTagDefinition,n,i),o=new Fs(r.tokens,this.getTagDefinition).build();return new Vs(o.rootNodes,r.errors.concat(o.errors))},t}(),Fs=function(){function t(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return t.prototype.build=function(){for(;this._peek.type!==Ms.EOF;)this._peek.type===Ms.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Ms.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Ms.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Ms.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Ms.TEXT||this._peek.type===Ms.RAW_TEXT||this._peek.type===Ms.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Ms.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Vs(this._rootNodes,this._errors)},t.prototype._advance=function(){var t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t},t.prototype._advanceIf=function(t){return this._peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(Ms.CDATA_END)},t.prototype._consumeComment=function(t){var e=this._advanceIf(Ms.RAW_TEXT);this._advanceIf(Ms.COMMENT_END);var n=null!=e?e.parts[0].trim():null;this._addToParent(new ks(n,t.sourceSpan))},t.prototype._consumeExpansion=function(t){for(var e=this._advance(),n=this._advance(),i=[];this._peek.type===Ms.EXPANSION_CASE_VALUE;){var r=this._parseExpansionCase();if(!r)return;i.push(r)}if(this._peek.type!==Ms.EXPANSION_FORM_END)return void this._errors.push(Ls.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var o=new bs(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Es(e.parts[0],n.parts[0],i,o,e.sourceSpan)),this._advance()},t.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==Ms.EXPANSION_CASE_EXP_START)return this._errors.push(Ls.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),i=this._collectExpansionExpTokens(n);if(!i)return null;var r=this._advance();i.push(new Ds(Ms.EOF,[],r.sourceSpan));var o=new t(i,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new bs(e.sourceSpan.start,r.sourceSpan.end),a=new bs(n.sourceSpan.start,r.sourceSpan.end);return new xs(e.parts[0],o.rootNodes,s,e.sourceSpan,a)},t.prototype._collectExpansionExpTokens=function(t){for(var e=[],n=[Ms.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==Ms.EXPANSION_FORM_START&&this._peek.type!==Ms.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===Ms.EXPANSION_CASE_EXP_END){if(!xt(n,Ms.EXPANSION_CASE_EXP_START))return this._errors.push(Ls.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===Ms.EXPANSION_FORM_END){if(!xt(n,Ms.EXPANSION_FORM_START))return this._errors.push(Ls.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===Ms.EOF)return this._errors.push(Ls.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var e=t.parts[0];if(e.length>0&&"\n"==e[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new Cs(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()},t.prototype._consumeStartTag=function(t){for(var e=t.parts[0],n=t.parts[1],i=[];this._peek.type===Ms.ATTR_NAME;)i.push(this._consumeAttr(this._advance()));var r=this._getElementFullName(e,n,this._getParentElement()),o=!1;if(this._peek.type===Ms.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(r);s.canSelfClose||null!==l(r)||s.isVoid||this._errors.push(Ls.create(r,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))}else this._peek.type===Ms.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,u=new bs(t.sourceSpan.start,a),c=new Ts(r,i,[],u,u,void 0);this._pushElement(c),o&&(this._popElement(r),c.endSourceSpan=u)},t.prototype._pushElement=function(t){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop();var n=this.getTagDefinition(t.name),i=this._getParentElementSkippingContainers(),r=i.parent,o=i.container;if(r&&n.requireExtraParent(r.name)){var s=new Ts(n.parentToAdd,[],[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._insertBeforeContainer(r,o,s)}this._addToParent(t),this._elementStack.push(t)},t.prototype._consumeEndTag=function(t){var e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid)this._errors.push(Ls.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"'));else if(!this._popElement(e)){var n='Unexpected closing tag "'+e+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags';this._errors.push(Ls.create(e,t.sourceSpan,n))}},t.prototype._popElement=function(t){for(var e=this._elementStack.length-1;e>=0;e--){var n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var e=u(t.parts[0],t.parts[1]),n=t.sourceSpan.end,i="",r=void 0;if(this._peek.type===Ms.ATTR_VALUE){var o=this._advance();i=o.parts[0],n=o.sourceSpan.end,r=o.sourceSpan}return new Ss(e,i,new bs(t.sourceSpan.start,n),r)},t.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},t.prototype._getParentElementSkippingContainers=function(){for(var t=null,e=this._elementStack.length-1;e>=0;e--){if(!o(this._elementStack[e].name))return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:null,container:t}},t.prototype._addToParent=function(t){var e=this._getParentElement();null!=e?e.children.push(t):this._rootNodes.push(t)},t.prototype._insertBeforeContainer=function(t,e,n){if(e){if(t){var i=t.children.indexOf(e);t.children[i]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)},t.prototype._getElementFullName=function(t,e,n){return null==t&&null==(t=this.getTagDefinition(e).implicitNamespacePrefix)&&null!=n&&(t=l(n.name)),u(t,e)},t}(),Hs=function(){function t(){}return t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return"["+t.children.map(function(t){return t.visit(n)}).join(", ")+"]"},t.prototype.visitIcu=function(t,e){var n=this,i=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+i.join(", ")+"}"},t.prototype.visitTagPlaceholder=function(t,e){var n=this;return t.isVoid?'<ph tag name="'+t.startName+'"/>':'<ph tag name="'+t.startName+'">'+t.children.map(function(t){return t.visit(n)}).join(", ")+'</ph name="'+t.closeName+'">'},t.prototype.visitPlaceholder=function(t,e){return t.value?'<ph name="'+t.name+'">'+t.value+"</ph>":'<ph name="'+t.name+'"/>'},t.prototype.visitIcuPlaceholder=function(t,e){return'<ph icu name="'+t.name+'">'+t.value.visit(this)+"</ph>"},t}(),js=new Hs,Bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.visitIcu=function(t,e){var n=this,i=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+i.join(", ")+"}"},e}(Hs),Us={};Us.Little=0,Us.Big=1,Us[Us.Little]="Little",Us[Us.Big]="Big";var qs=function(){function t(t,e,n,i,r,o){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=i,this.description=r,this.id=o,t.length?this.sources=[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:this.sources=[]}return t}(),zs=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Ws=function(){function t(t,e){this.children=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitContainer(this,e)},t}(),Ys=function(){function t(t,e,n,i){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitIcu(this,e)},t}(),Gs=function(){function t(t,e,n,i,r,o,s){this.tag=t,this.attrs=e,this.startName=n,this.closeName=i,this.children=r,this.isVoid=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return t.visitTagPlaceholder(this,e)},t}(),Xs=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitPlaceholder(this,e)},t}(),Ks=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitIcuPlaceholder(this,e)},t}(),Qs=function(){function t(){}return t.prototype.visitText=function(t,e){return new zs(t.value,t.sourceSpan)},t.prototype.visitContainer=function(t,e){var n=this,i=t.children.map(function(t){return t.visit(n,e)});return new Ws(i,t.sourceSpan)},t.prototype.visitIcu=function(t,e){var n=this,i={};Object.keys(t.cases).forEach(function(r){return i[r]=t.cases[r].visit(n,e)});var r=new Ys(t.expression,t.type,i,t.sourceSpan);return r.expressionPlaceholder=t.expressionPlaceholder,r},t.prototype.visitTagPlaceholder=function(t,e){var n=this,i=t.children.map(function(t){return t.visit(n,e)});return new Gs(t.tag,t.attrs,t.startName,t.closeName,i,t.isVoid,t.sourceSpan)},t.prototype.visitPlaceholder=function(t,e){return new Xs(t.value,t.name,t.sourceSpan)},t.prototype.visitIcuPlaceholder=function(t,e){return new Ks(t.value,t.name,t.sourceSpan)},t}(),Zs=function(){function t(){}return t.prototype.visitText=function(t,e){},t.prototype.visitContainer=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},t.prototype.visitTagPlaceholder=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitPlaceholder=function(t,e){},t.prototype.visitIcuPlaceholder=function(t,e){},t}(),Js={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},$s=function(){function t(){this._placeHolderNameCounts={},this._signatureToName={}}return t.prototype.getStartTagPlaceholderName=function(t,e,n){var i=this._hashTag(t,e,n);if(this._signatureToName[i])return this._signatureToName[i];var r=t.toUpperCase(),o=Js[r]||"TAG_"+r,s=this._generateUniqueName(n?o:"START_"+o);return this._signatureToName[i]=s,s},t.prototype.getCloseTagPlaceholderName=function(t){var e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];var n=t.toUpperCase(),i=Js[n]||"TAG_"+n,r=this._generateUniqueName("CLOSE_"+i);return this._signatureToName[e]=r,r},t.prototype.getPlaceholderName=function(t,e){var n=t.toUpperCase(),i="PH: "+n+"="+e;if(this._signatureToName[i])return this._signatureToName[i];var r=this._generateUniqueName(n);return this._signatureToName[i]=r,r},t.prototype.getUniquePlaceholder=function(t){return this._generateUniqueName(t.toUpperCase())},t.prototype._hashTag=function(t,e,n){return"<"+t+Object.keys(e).sort().map(function(t){return" "+t+"="+e[t]}).join("")+(n?"/>":"></"+t+">")},t.prototype._hashClosingTag=function(t){return this._hashTag("/"+t,{},!1)},t.prototype._generateUniqueName=function(t){if(!this._placeHolderNameCounts.hasOwnProperty(t))return this._placeHolderNameCounts[t]=1,t;var e=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=e+1,t+"_"+e},t}(),ta=new fs(new ls),ea=function(){function t(t,e){this._expressionParser=t,this._interpolationConfig=e}return t.prototype.toI18nMessage=function(t,e,n,i){this._isIcu=1==t.length&&t[0]instanceof Es,this._icuDepth=0,this._placeholderRegistry=new $s,this._placeholderToContent={},this._placeholderToMessage={};var r=ct(this,t,{});return new qs(r,this._placeholderToContent,this._placeholderToMessage,e,n,i)},t.prototype.visitElement=function(t,e){var n=ct(this,t.children),i={};t.attrs.forEach(function(t){i[t.name]=t.value});var r=c(t.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(t.name,i,r);this._placeholderToContent[o]=t.sourceSpan.toString();var s="";return r||(s=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[s]="</"+t.name+">"),new Gs(t.name,i,o,s,n,r,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitExpansion=function(e,n){var i=this;this._icuDepth++;var r={},o=new Ys(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(function(t){r[t.value]=new Ws(t.expression.map(function(t){return t.visit(i,{})}),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var s=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return o.expressionPlaceholder=s,this._placeholderToContent[s]=e.switchValue,o}var a=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),l=new t(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[a]=l.toI18nMessage([e],"","",""),new Ks(o,a,e.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Unreachable code")},t.prototype._visitTextWithInterpolation=function(t,e){var n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)return new zs(t,e);for(var i=[],r=new Ws(i,e),o=this._interpolationConfig,s=o.start,a=o.end,l=0;l<n.strings.length-1;l++){var u=n.expressions[l],c=Qt(u)||"INTERPOLATION",h=this._placeholderRegistry.getPlaceholderName(c,u);n.strings[l].length&&i.push(new zs(n.strings[l],e)),i.push(new Xs(u,h,e)),this._placeholderToContent[h]=s+u+a}var p=n.strings.length-1;return n.strings[p].length&&i.push(new zs(n.strings[p],e)),r},t}(),na=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g,ia=function(t){function e(e,n){return t.call(this,e,n)||this}return $i.a(e,t),e}(_s),ra="i18n",oa=/^i18n:?/,sa="|",aa="@@",la=function(){function t(t,e){this.messages=t,this.errors=e}return t}(),ua={};ua.Extract=0,ua.Merge=1,ua[ua.Extract]="Extract",ua[ua.Merge]="Merge";var ca=function(){function t(t,e){this._implicitTags=t,this._implicitAttrs=e}return t.prototype.extract=function(t,e){var n=this;return this._init(ua.Extract,e),t.forEach(function(t){return t.visit(n,null)}),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new la(this._messages,this._errors)},t.prototype.merge=function(t,e,n){this._init(ua.Merge,n),this._translations=e;var i=new Ts("wrapper",[],t,void 0,void 0,void 0),r=i.visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new Vs(r.children,this._errors)},t.prototype.visitExpansionCase=function(t,e){var n=ct(this,t.expression,e);if(this._mode===ua.Merge)return new xs(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)},t.prototype.visitExpansion=function(t,e){this._mayBeAddBlockChildren(t);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var i=ct(this,t.cases,e);return this._mode===ua.Merge&&(t=new Es(t.switchValue,t.type,i,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t},t.prototype.visitComment=function(t,e){var n=$t(t);if(n&&this._isInTranslatableSection)return void this._reportError(t,"Could not start a block inside a translatable section");var i=te(t);if(i&&!this._inI18nBlock)return void this._reportError(t,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var r=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),o=this._translateMessage(t,r);return ct(this,o)}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else n&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(oa,"").trim(),this._openTranslatableSection(t))},t.prototype.visitText=function(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t},t.prototype.visitElement=function(t,e){var n=this;this._mayBeAddBlockChildren(t),this._depth++;var i=this._inI18nNode,r=this._inImplicitNode,o=[],s=void 0,a=ee(t),l=a?a.value:"",u=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,c=!r&&u;if(this._inImplicitNode=r||u,this._isInTranslatableSection||this._inIcu)(a||c)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==ua.Extract&&ct(this,t.children);else{if(a||c){this._inI18nNode=!0;var h=this._addMessage(t.children,l);s=this._translateMessage(t,h)}if(this._mode==ua.Extract){var p=a||c;p&&this._openTranslatableSection(t),ct(this,t.children),p&&this._closeTranslatableSection(t,t.children)}}if(this._mode===ua.Merge){(s||t.children).forEach(function(t){var i=t.visit(n,e);i&&!n._isInTranslatableSection&&(o=o.concat(i))})}if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=i,this._inImplicitNode=r,this._mode===ua.Merge){var d=this._translateAttributes(t);return new Ts(t.name,d,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}return null},t.prototype.visitAttribute=function(t,e){throw new Error("unreachable code")},t.prototype._init=function(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=Kt(e)},t.prototype._visitAttributesOf=function(t){var e=this,n={},i=this._implicitAttrs[t.name]||[];t.attrs.filter(function(t){return t.name.startsWith("i18n-")}).forEach(function(t){return n[t.name.slice("i18n-".length)]=t.value}),t.attrs.forEach(function(t){t.name in n?e._addMessage([t],n[t.name]):i.some(function(e){return t.name===e})&&e._addMessage([t])})},t.prototype._addMessage=function(t,e){if(0==t.length||1==t.length&&t[0]instanceof Ss&&!t[0].value)return null;var n=ne(e),i=n.meaning,r=n.description,o=n.id,s=this._createI18nMessage(t,i,r,o);return this._messages.push(s),s},t.prototype._translateMessage=function(t,e){if(e&&this._mode===ua.Merge){var n=this._translations.get(e);if(n)return n;this._reportError(t,'Translation unavailable for message id="'+this._translations.digest(e)+'"')}return[]},t.prototype._translateAttributes=function(t){var e=this,n=t.attrs,i={};n.forEach(function(t){t.name.startsWith("i18n-")&&(i[t.name.slice("i18n-".length)]=ne(t.value))});var r=[];return n.forEach(function(n){if(n.name!==ra&&!n.name.startsWith("i18n-"))if(n.value&&""!=n.value&&i.hasOwnProperty(n.name)){var o=i[n.name],s=o.meaning,a=o.description,l=o.id,u=e._createI18nMessage([n],s,a,l),c=e._translations.get(u);if(c)if(0==c.length)r.push(new Ss(n.name,"",n.sourceSpan));else if(c[0]instanceof Cs){var h=c[0].value;r.push(new Ss(n.name,h,n.sourceSpan))}else e._reportError(t,'Unexpected translation for attribute "'+n.name+'" (id="'+(l||e._translations.digest(u))+'")');else e._reportError(t,'Translation unavailable for attribute "'+n.name+'" (id="'+(l||e._translations.digest(u))+'")')}else r.push(n)}),r},t.prototype._mayBeAddBlockChildren=function(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)},t.prototype._openTranslatableSection=function(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(t.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),t.prototype._closeTranslatableSection=function(t,e){if(!this._isInTranslatableSection)return void this._reportError(t,"Unexpected section end");var n=this._msgCountAtSectionStart;if(1==e.reduce(function(t,e){return t+(e instanceof ks?0:1)},0))for(var i=this._messages.length-1;i>=n;i--){var r=this._messages[i].nodes;if(!(1==r.length&&r[0]instanceof zs)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0},t.prototype._reportError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),ha=function(){function t(){this.closedByParent=!1,this.contentType=br.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return t.prototype.requireExtraParent=function(t){return!1},t.prototype.isClosedByChild=function(t){return!1},t}(),pa=new ha,da=function(t){function e(){return t.call(this,ie)||this}return $i.a(e,t),e.prototype.parse=function(e,n,i){return void 0===i&&(i=!1),t.prototype.parse.call(this,e,n,i)},e}(Rs),fa=function(){function t(){}return t.prototype.write=function(t,e){},t.prototype.load=function(t,e){},t.prototype.digest=function(t){},t.prototype.createNameMapper=function(t){return null},t}(),ma=function(t){function e(e,n){var i=t.call(this)||this;return i.mapName=n,i.internalToPublic={},i.publicToNextId={},i.publicToInternal={},e.nodes.forEach(function(t){return t.visit(i)}),i}return $i.a(e,t),e.prototype.toPublicName=function(t){return this.internalToPublic.hasOwnProperty(t)?this.internalToPublic[t]:null},e.prototype.toInternalName=function(t){return this.publicToInternal.hasOwnProperty(t)?this.publicToInternal[t]:null},e.prototype.visitText=function(t,e){return null},e.prototype.visitTagPlaceholder=function(e,n){this.visitPlaceholderName(e.startName),t.prototype.visitTagPlaceholder.call(this,e,n),this.visitPlaceholderName(e.closeName)},e.prototype.visitPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitIcuPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitPlaceholderName=function(t){if(t&&!this.internalToPublic.hasOwnProperty(t)){var e=this.mapName(t);if(this.publicToInternal.hasOwnProperty(e)){var n=this.publicToNextId[e];this.publicToNextId[e]=n+1,e=e+"_"+n}else this.publicToNextId[e]=1;this.internalToPublic[t]=e,this.publicToInternal[e]=t}},e}(Zs),va=function(){function t(){}return t.prototype.visitTag=function(t){var e=this,n=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<"+t.name+n+"/>";var i=t.children.map(function(t){return t.visit(e)});return"<"+t.name+n+">"+i.join("")+"</"+t.name+">"},t.prototype.visitText=function(t){return t.value},t.prototype.visitDeclaration=function(t){return"<?xml"+this._serializeAttributes(t.attrs)+" ?>"},t.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return e.length>0?" "+e:""},t.prototype.visitDoctype=function(t){return"<!DOCTYPE "+t.rootTag+" [\n"+t.dtd+"\n]>"},t}(),ya=new va,ga=function(){function t(t){var e=this;this.attrs={},Object.keys(t).forEach(function(n){e.attrs[n]=oe(t[n])})}return t.prototype.visit=function(t){return t.visitDeclaration(this)},t}(),ba=function(){function t(t,e){this.rootTag=t,this.dtd=e}return t.prototype.visit=function(t){return t.visitDoctype(this)},t}(),wa=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]);var i=this;this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(function(t){i.attrs[t]=oe(e[t])})}return t.prototype.visit=function(t){return t.visitTag(this)},t}(),_a=function(){function t(t){this.value=oe(t)}return t.prototype.visit=function(t){return t.visitText(this)},t}(),Ca=function(t){function e(e){return void 0===e&&(e=0),t.call(this,"\n"+new Array(e+1).join(" "))||this}return $i.a(e,t),e}(_a),Ea=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.write=function(t,e){var n=new Sa,i=[];t.forEach(function(t){var e=[];t.sources.forEach(function(t){var n=new wa("context-group",{purpose:"location"});n.children.push(new Ca(10),new wa("context",{"context-type":"sourcefile"},[new _a(t.filePath)]),new Ca(10),new wa("context",{"context-type":"linenumber"},[new _a(""+t.startLine)]),new Ca(8)),e.push(new Ca(8),n)});var r=new wa("trans-unit",{id:t.id,datatype:"html"});(o=r.children).push.apply(o,[new Ca(8),new wa("source",{},n.serialize(t.nodes))].concat(e)),t.description&&r.children.push(new Ca(8),new wa("note",{priority:"1",from:"description"},[new _a(t.description)])),t.meaning&&r.children.push(new Ca(8),new wa("note",{priority:"1",from:"meaning"},[new _a(t.meaning)])),r.children.push(new Ca(6)),i.push(new Ca(6),r);var o});var r=new wa("body",{},i.concat([new Ca(4)])),o=new wa("file",{"source-language":e||"en",datatype:"plaintext",original:"ng2.template"},[new Ca(4),r,new Ca(2)]),s=new wa("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Ca(2),o,new Ca]);return re([new ga({version:"1.0",encoding:"UTF-8"}),new Ca,s,new Ca])},e.prototype.load=function(t,e){var n=new Ta,i=n.parse(t,e),r=i.locale,o=i.msgIdToHtml,s=i.errors,a={},l=new ka;if(Object.keys(o).forEach(function(t){var n=l.convert(o[t],e),i=n.i18nNodes,r=n.errors;s.push.apply(s,r),a[t]=i}),s.length)throw new Error("xliff parse errors:\n"+s.join("\n"));return{locale:r,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return St(t)},e}(fa),Sa=function(){function t(){}return t.prototype.visitText=function(t,e){return[new _a(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,i=[];return t.children.forEach(function(t){return i.push.apply(i,t.visit(n))}),i},t.prototype.visitIcu=function(t,e){var n=this,i=[new _a("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){i.push.apply(i,[new _a(e+" {")].concat(t.cases[e].visit(n),[new _a("} ")]))}),i.push(new _a("}")),i},t.prototype.visitTagPlaceholder=function(t,e){var n=se(t.tag),i=new wa("x",{id:t.startName,ctype:n});if(t.isVoid)return[i];var r=new wa("x",{id:t.closeName,ctype:n});return[i].concat(this.serialize(t.children),[r])},t.prototype.visitPlaceholder=function(t,e){return[new wa("x",{id:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new wa("x",{id:t.name})]},t.prototype.serialize=function(t){var e=this;return[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),Ta=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._unitMlString=null,this._msgIdToHtml={};var n=(new da).parse(t,e,!1);return this._errors=n.errors,ct(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"trans-unit":this._unitMlString=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var i=n.value;this._msgIdToHtml.hasOwnProperty(i)?this._addError(t,"Duplicated translations for msg "+i):(ct(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[i]=this._unitMlString:this._addError(t,"Message "+i+" misses a translation"))}else this._addError(t,'<trans-unit> misses the "id" attribute');break;case"source":break;case"target":var r=t.startSourceSpan.end.offset,o=t.endSourceSpan.start.offset,s=t.startSourceSpan.start.file.content,a=s.slice(r,o);this._unitMlString=a;break;case"file":var l=t.attrs.find(function(t){return"target-language"===t.name});l&&(this._locale=l.value),ct(this,t.children,null);break;default:ct(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),ka=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new da).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:ct(this,n.rootNodes),errors:this._errors}},t.prototype.visitText=function(t,e){return new zs(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){if("x"===t.name){var n=t.attrs.find(function(t){return"id"===t.name});if(n)return new Xs("",n.value,t.sourceSpan);this._addError(t,'<x> misses the "id" attribute')}else this._addError(t,"Unexpected tag");return null},t.prototype.visitExpansion=function(t,e){var n={};return ct(this,t.cases).forEach(function(e){n[e.value]=new Ws(e.nodes,t.sourceSpan)}),new Ys(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:ct(this,t.expression)}},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),Ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.write=function(t,e){var n=new Da,i=[];t.forEach(function(t){var e=new wa("unit",{id:t.id}),r=new wa("notes");(t.description||t.meaning)&&(t.description&&r.children.push(new Ca(8),new wa("note",{category:"description"},[new _a(t.description)])),t.meaning&&r.children.push(new Ca(8),new wa("note",{category:"meaning"},[new _a(t.meaning)]))),t.sources.forEach(function(t){r.children.push(new Ca(8),new wa("note",{category:"location"},[new _a(t.filePath+":"+t.startLine+(t.endLine!==t.startLine?","+t.endLine:""))]))}),r.children.push(new Ca(6)),e.children.push(new Ca(6),r);var o=new wa("segment");o.children.push(new Ca(8),new wa("source",{},n.serialize(t.nodes)),new Ca(6)),e.children.push(new Ca(6),o,new Ca(4)),i.push(new Ca(4),e)});var r=new wa("file",{original:"ng.template",id:"ngi18n"},i.concat([new Ca(2)])),o=new wa("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:e||"en"},[new Ca(2),r,new Ca]);return re([new ga({version:"1.0",encoding:"UTF-8"}),new Ca,o,new Ca])},e.prototype.load=function(t,e){var n=new Pa,i=n.parse(t,e),r=i.locale,o=i.msgIdToHtml,s=i.errors,a={},l=new Aa;if(Object.keys(o).forEach(function(t){var n=l.convert(o[t],e),i=n.i18nNodes,r=n.errors;s.push.apply(s,r),a[t]=i}),s.length)throw new Error("xliff2 parse errors:\n"+s.join("\n"));return{locale:r,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return Tt(t)},e}(fa),Da=function(){function t(){}return t.prototype.visitText=function(t,e){return[new _a(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,i=[];return t.children.forEach(function(t){return i.push.apply(i,t.visit(n))}),i},t.prototype.visitIcu=function(t,e){var n=this,i=[new _a("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){i.push.apply(i,[new _a(e+" {")].concat(t.cases[e].visit(n),[new _a("} ")]))}),i.push(new _a("}")),i},t.prototype.visitTagPlaceholder=function(t,e){var n=this,i=ae(t.tag);if(t.isVoid){return[new wa("ph",{id:(this._nextPlaceholderId++).toString(),equiv:t.startName,type:i,disp:"<"+t.tag+"/>"})]}var r=new wa("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:t.startName,equivEnd:t.closeName,type:i,dispStart:"<"+t.tag+">",dispEnd:"</"+t.tag+">"}),o=[].concat.apply([],t.children.map(function(t){return t.visit(n)}));return o.length?o.forEach(function(t){return r.children.push(t)}):r.children.push(new _a("")),[r]},t.prototype.visitPlaceholder=function(t,e){var n=(this._nextPlaceholderId++).toString();return[new wa("ph",{id:n,equiv:t.name,disp:"{{"+t.value+"}}"})]},t.prototype.visitIcuPlaceholder=function(t,e){var n=Object.keys(t.value.cases).map(function(t){return t+" {...}"}).join(" "),i=(this._nextPlaceholderId++).toString();return[new wa("ph",{id:i,equiv:t.name,disp:"{"+t.value.expression+", "+t.value.type+", "+n+"}"})]},t.prototype.serialize=function(t){var e=this;return this._nextPlaceholderId=0,[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),Pa=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._unitMlString=null,this._msgIdToHtml={};var n=(new da).parse(t,e,!1);return this._errors=n.errors,ct(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"unit":this._unitMlString=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var i=n.value;this._msgIdToHtml.hasOwnProperty(i)?this._addError(t,"Duplicated translations for msg "+i):(ct(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[i]=this._unitMlString:this._addError(t,"Message "+i+" misses a translation"))}else this._addError(t,'<unit> misses the "id" attribute');break;case"source":break;case"target":var r=t.startSourceSpan.end.offset,o=t.endSourceSpan.start.offset,s=t.startSourceSpan.start.file.content,a=s.slice(r,o);this._unitMlString=a;break;case"xliff":var l=t.attrs.find(function(t){return"trgLang"===t.name});l&&(this._locale=l.value);var u=t.attrs.find(function(t){return"version"===t.name});if(u){var c=u.value;"2.0"!==c?this._addError(t,"The XLIFF file version "+c+" is not compatible with XLIFF 2.0 serializer"):ct(this,t.children,null)}break;default:ct(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),Aa=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new da).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat.apply([],ct(this,n.rootNodes)),errors:this._errors}},t.prototype.visitText=function(t,e){return new zs(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){var n=this;switch(t.name){case"ph":var i=t.attrs.find(function(t){return"equiv"===t.name});if(i)return[new Xs("",i.value,t.sourceSpan)];this._addError(t,'<ph> misses the "equiv" attribute');break;case"pc":var r=t.attrs.find(function(t){return"equivStart"===t.name}),o=t.attrs.find(function(t){return"equivEnd"===t.name});if(r){if(o){var s=r.value,a=o.value,l=[];return l.concat.apply(l,[new Xs("",s,t.sourceSpan)].concat(t.children.map(function(t){return t.visit(n,null)}),[new Xs("",a,t.sourceSpan)]))}this._addError(t,'<ph> misses the "equivEnd" attribute')}else this._addError(t,'<ph> misses the "equivStart" attribute');break;default:this._addError(t,"Unexpected tag")}return null},t.prototype.visitExpansion=function(t,e){var n={};return ct(this,t.cases).forEach(function(e){n[e.value]=new Ws(e.nodes,t.sourceSpan)}),new Ys(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:[].concat.apply([],ct(this,t.expression))}},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),Oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.write=function(t,e){var n=new Na,i=new Ia,r=new wa("messagebundle");return t.forEach(function(t){var e={id:t.id};t.description&&(e.desc=t.description),t.meaning&&(e.meaning=t.meaning);var n=[];t.sources.forEach(function(t){n.push(new wa("source",{},[new _a(t.filePath+":"+t.startLine+(t.endLine!==t.startLine?","+t.endLine:""))]))}),r.children.push(new Ca(2),new wa("msg",e,n.concat(i.serialize(t.nodes))))}),r.children.push(new Ca),re([new ga({version:"1.0",encoding:"UTF-8"}),new Ca,new ba("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Ca,n.addDefaultExamples(r),new Ca])},e.prototype.load=function(t,e){throw new Error("Unsupported")},e.prototype.digest=function(t){return le(t)},e.prototype.createNameMapper=function(t){return new ma(t,ue)},e}(fa),Ia=function(){function t(){}return t.prototype.visitText=function(t,e){return[new _a(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,i=[];return t.children.forEach(function(t){return i.push.apply(i,t.visit(n))}),i},t.prototype.visitIcu=function(t,e){var n=this,i=[new _a("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){i.push.apply(i,[new _a(e+" {")].concat(t.cases[e].visit(n),[new _a("} ")]))}),i.push(new _a("}")),i},t.prototype.visitTagPlaceholder=function(t,e){var n=new wa("ex",{},[new _a("<"+t.tag+">")]),i=new wa("ph",{name:t.startName},[n]);if(t.isVoid)return[i];var r=new wa("ex",{},[new _a("</"+t.tag+">")]),o=new wa("ph",{name:t.closeName},[r]);return[i].concat(this.serialize(t.children),[o])},t.prototype.visitPlaceholder=function(t,e){return[new wa("ph",{name:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new wa("ph",{name:t.name})]},t.prototype.serialize=function(t){var e=this;return[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),Na=function(){function t(){}return t.prototype.addDefaultExamples=function(t){return t.visit(this),t},t.prototype.visitTag=function(t){var e=this;if("ph"===t.name){if(!t.children||0==t.children.length){var n=new _a(t.attrs.name||"...");t.children=[new wa("ex",{},[n])]}}else t.children&&t.children.forEach(function(t){return t.visit(e)})},t.prototype.visitText=function(t){},t.prototype.visitDeclaration=function(t){},t.prototype.visitDoctype=function(t){},t}(),La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.write=function(t,e){throw new Error("Unsupported")},e.prototype.load=function(t,e){var n=new Va,i=n.parse(t,e),r=i.locale,o=i.msgIdToHtml,s=i.errors,a={},l=new Ra;if(Object.keys(o).forEach(function(t){ce(a,t,function(){var n=l.convert(o[t],e),i=n.i18nNodes,r=n.errors;if(r.length)throw new Error("xtb parse errors:\n"+r.join("\n"));return i})}),s.length)throw new Error("xtb parse errors:\n"+s.join("\n"));return{locale:r,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return le(t)},e.prototype.createNameMapper=function(t){return new ma(t,ue)},e}(fa),Va=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._bundleDepth=0,this._msgIdToHtml={};var n=(new da).parse(t,e,!1);return this._errors=n.errors,ct(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<translationbundle> elements can not be nested");var n=t.attrs.find(function(t){return"lang"===t.name});n&&(this._locale=n.value),ct(this,t.children,null),this._bundleDepth--;break;case"translation":var i=t.attrs.find(function(t){return"id"===t.name});if(i){var r=i.value;if(this._msgIdToHtml.hasOwnProperty(r))this._addError(t,"Duplicated translations for msg "+r);else{var o=t.startSourceSpan.end.offset,s=t.endSourceSpan.start.offset,a=t.startSourceSpan.start.file.content,l=a.slice(o,s);this._msgIdToHtml[r]=l}}else this._addError(t,'<translation> misses the "id" attribute');break;default:this._addError(t,"Unexpected tag")}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),Ra=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new da).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:ct(this,n.rootNodes),errors:this._errors}},t.prototype.visitText=function(t,e){return new zs(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){var n={};return ct(this,t.cases).forEach(function(e){n[e.value]=new Ws(e.nodes,t.sourceSpan)}),new Ys(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:ct(this,t.expression)}},t.prototype.visitElement=function(t,e){if("ph"===t.name){var n=t.attrs.find(function(t){return"name"===t.name});if(n)return new Xs("",n.value,t.sourceSpan);this._addError(t,'<ph> misses the "name" attribute')}else this._addError(t,"Unexpected tag");return null},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),Fa=function(t){function e(){return t.call(this,c)||this}return $i.a(e,t),e.prototype.parse=function(e,n,i,r){return void 0===i&&(i=!1),void 0===r&&(r=os),t.prototype.parse.call(this,e,n,i,r)},e}(Rs);Fa.decorators=[{type:z}],Fa.ctorParameters=function(){return[]};var Ha=function(){function t(t,e,n,i,r,o){void 0===t&&(t={}),void 0===r&&(r=tr.J.Warning),this._i18nNodesByMsgId=t,this.digest=n,this.mapperFactory=i,this._i18nToHtml=new ja(t,e,n,i,r,o)}return t.load=function(e,n,i,r,o){var s=i.load(e,n),a=s.locale;return new t(s.i18nNodesByMsgId,a,function(t){return i.digest(t)},function(t){return i.createNameMapper(t)},r,o)},t.prototype.get=function(t){var e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},t.prototype.has=function(t){return this.digest(t)in this._i18nNodesByMsgId},t}(),ja=function(){function t(t,e,n,i,r,o){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this._locale=e,this._digest=n,this._mapperFactory=i,this._missingTranslationStrategy=r,this._console=o,this._contextStack=[],this._errors=[]}return t.prototype.convert=function(t){this._contextStack.length=0,this._errors.length=0;var e=this._convertToText(t),n=t.nodes[0].sourceSpan.start.file.url,i=(new Fa).parse(e,n,!0);return{nodes:i.rootNodes,errors:this._errors.concat(i.errors)}},t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return t.children.map(function(t){return t.visit(n)}).join("")},t.prototype.visitIcu=function(t,e){var n=this,i=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression)+", "+t.type+", "+i.join(" ")+"}"},t.prototype.visitPlaceholder=function(t,e){var n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,'Unknown placeholder "'+t.name+'"'),"")},t.prototype.visitTagPlaceholder=function(t,e){var n=this,i=""+t.tag,r=Object.keys(t.attrs).map(function(e){return e+'="'+t.attrs[e]+'"'}).join(" ");return t.isVoid?"<"+i+" "+r+"/>":"<"+i+" "+r+">"+t.children.map(function(t){return t.visit(n)}).join("")+"</"+i+">"},t.prototype.visitIcuPlaceholder=function(t,e){return this._convertToText(this._srcMsg.placeholderToMessage[t.name])},t.prototype._convertToText=function(t){var e,n=this,i=this._digest(t),r=this._mapperFactory?this._mapperFactory(t):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._i18nNodesByMsgId.hasOwnProperty(i))e=this._i18nNodesByMsgId[i],this._mapper=function(t){return r?r.toInternalName(t):t};else{if(this._missingTranslationStrategy===tr.J.Error){var o=this._locale?' for locale "'+this._locale+'"':"";this._addError(t.nodes[0],'Missing translation for message "'+i+'"'+o)}else if(this._console&&this._missingTranslationStrategy===tr.J.Warning){var o=this._locale?' for locale "'+this._locale+'"':"";this._console.warn('Missing translation for message "'+i+'"'+o)}e=t.nodes,this._mapper=function(t){return t}}var s=e.map(function(t){return t.visit(n)}).join(""),a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,s},t.prototype._addError=function(t,e){this._errors.push(new ia(t.sourceSpan,e))},t}(),Ba=function(){function t(t,e,n,i,r){if(void 0===i&&(i=tr.J.Warning),this._htmlParser=t,e){var o=he(n);this._translationBundle=Ha.load(e,"i18n",o,i,r)}else this._translationBundle=new Ha({},null,St,void 0,i,r)}return t.prototype.parse=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=os);var r=this._htmlParser.parse(t,e,n,i);return r.errors.length?new Vs(r.rootNodes,r.errors):Jt(r.rootNodes,this._translationBundle,i,[],{})},t}(),Ua="@angular/core",qa=function(){function t(){}return t}();qa.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Ua,runtime:tr.a},qa.ElementRef={name:"ElementRef",moduleName:Ua,runtime:tr.v},qa.NgModuleRef={name:"NgModuleRef",moduleName:Ua,runtime:tr.P},qa.ViewContainerRef={name:"ViewContainerRef",moduleName:Ua,runtime:tr._18},qa.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Ua,runtime:tr.l},qa.QueryList={name:"QueryList",moduleName:Ua,runtime:tr.Z},qa.TemplateRef={name:"TemplateRef",moduleName:Ua,runtime:tr._12},qa.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Ua,runtime:tr._37},qa.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Ua,runtime:tr.q},qa.ComponentFactory={name:"ComponentFactory",moduleName:Ua,runtime:tr.p},qa.ComponentRef={name:"ComponentRef",moduleName:Ua,runtime:tr.r},qa.NgModuleFactory={name:"NgModuleFactory",moduleName:Ua,runtime:tr.N},qa.createModuleFactory={name:"\u0275cmf",moduleName:Ua,runtime:tr._45},qa.moduleDef={name:"\u0275mod",moduleName:Ua,runtime:tr._58},qa.moduleProviderDef={name:"\u0275mpd",moduleName:Ua,runtime:tr._59},qa.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Ua,runtime:tr._68},qa.Injector={name:"Injector",moduleName:Ua,runtime:tr.E},qa.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Ua,runtime:tr._19},qa.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Ua,runtime:tr.k},qa.SecurityContext={name:"SecurityContext",moduleName:Ua,runtime:tr._6},qa.LOCALE_ID={name:"LOCALE_ID",moduleName:Ua,runtime:tr.I},qa.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Ua,runtime:tr._11},qa.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Ua,runtime:tr._52},qa.interpolate={name:"\u0275interpolate",moduleName:Ua,runtime:tr._53},qa.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Ua,runtime:tr._39},qa.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Ua,runtime:tr._40},qa.Renderer={name:"Renderer",moduleName:Ua,runtime:tr._1},qa.viewDef={name:"\u0275vid",moduleName:Ua,runtime:tr._72},qa.elementDef={name:"\u0275eld",moduleName:Ua,runtime:tr._48},qa.anchorDef={name:"\u0275and",moduleName:Ua,runtime:tr._43},qa.textDef={name:"\u0275ted",moduleName:Ua,runtime:tr._70},qa.directiveDef={name:"\u0275did",moduleName:Ua,runtime:tr._47},qa.providerDef={name:"\u0275prd",moduleName:Ua,runtime:tr._66},qa.queryDef={name:"\u0275qud",moduleName:Ua,runtime:tr._67},qa.pureArrayDef={name:"\u0275pad",moduleName:Ua,runtime:tr._62},qa.pureObjectDef={name:"\u0275pod",moduleName:Ua,runtime:tr._64},qa.purePipeDef={name:"\u0275ppd",moduleName:Ua,runtime:tr._65},qa.pipeDef={name:"\u0275pid",moduleName:Ua,runtime:tr._63},qa.nodeValue={name:"\u0275nov",moduleName:Ua,runtime:tr._61},qa.ngContentDef={name:"\u0275ncd",moduleName:Ua,runtime:tr._60},qa.unwrapValue={name:"\u0275unv",moduleName:Ua,runtime:tr._71},qa.createRendererType2={name:"\u0275crt",moduleName:Ua,runtime:tr._46},qa.RendererType2={name:"RendererType2",moduleName:Ua,runtime:null},qa.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Ua,runtime:null},qa.createComponentFactory={name:"\u0275ccf",moduleName:Ua,runtime:tr._44};var za="ngPreserveWhitespaces",Wa=new Set(["pre","template","textarea","script","style"]),Ya=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",Ga=new RegExp("[^"+Ya+"]"),Xa=new RegExp("["+Ya+"]{2,}","g"),Ka=function(){function t(){}return t.prototype.visitElement=function(t,e){return Wa.has(t.name)||fe(t.attrs)?new Ts(t.name,ct(this,t.attrs),t.children,t.sourceSpan,t.startSourceSpan,t.endSourceSpan):new Ts(t.name,t.attrs,ct(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t.name!==za?t:null},t.prototype.visitText=function(t,e){return t.value.match(Ga)?new Cs(me(t.value).replace(Xa," "),t.sourceSpan):null},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),Qa=["zero","one","two","few","many","other"],Za=function(){function t(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}return t}(),Ja=function(t){function e(e,n){return t.call(this,e,n)||this}return $i.a(e,t),e}(_s),$a=function(){function t(){this.isExpanded=!1,this.errors=[]}return t.prototype.visitElement=function(t,e){return new Ts(t.name,t.attrs,ct(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return this.isExpanded=!0,"plural"==t.type?ge(t,this.errors):be(t,this.errors)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Should not be reached")},t}(),tl=function(t){function e(e,n){return t.call(this,n,e)||this}return $i.a(e,t),e}(_s),el=function(){function t(t,e){var n=this;this.reflector=t,this.component=e,this.errors=[],this.viewQueries=xe(e),this.viewProviders=new Map,e.viewProviders.forEach(function(t){null==n.viewProviders.get(P(t.token))&&n.viewProviders.set(P(t.token),!0)})}return t}(),nl=function(){function t(t,e,n,i,r,o,s,a,l){var u=this;this.viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=i,this._sourceSpan=l,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._queriedTokens=new Map,this._attrs={},r.forEach(function(t){return u._attrs[t.name]=t.value});var c=i.map(function(t){return t.directive});if(this._allProviders=Ce(c,l,t.errors),this._contentQueries=Se(a,c),Array.from(this._allProviders.values()).forEach(function(t){u._addQueryReadsTo(t.token,t.token,u._queriedTokens)}),s){var h=de(this.viewContext.reflector,qa.TemplateRef);this._addQueryReadsTo(h,h,this._queriedTokens)}o.forEach(function(t){var e=t.value||de(u.viewContext.reflector,qa.ElementRef);u._addQueryReadsTo({value:t.name},e,u._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(qa.ViewContainerRef))&&(this._hasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(t){(t.eager||u._queriedTokens.get(P(t.token)))&&u._getOrCreateLocalProvider(t.providerType,t.token,!0)})}return t.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){var t=[],e=[];return this._transformedProviders.forEach(function(n){n.eager?e.push(n):t.push(n)}),t.concat(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var t=this.transformProviders.map(function(t){return t.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryMatches",{get:function(){var t=[];return this._queriedTokens.forEach(function(e){t.push.apply(t,e)}),t},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e,n){this._getQueriesFor(t).forEach(function(t){var i=t.meta.read||e,r=P(i),o=n.get(r);o||(o=[],n.set(r,o)),o.push({queryId:t.queryId,value:i})})},t.prototype._getQueriesFor=function(t){for(var e,n=[],i=this,r=0;null!==i;)e=i._contentQueries.get(P(t)),e&&n.push.apply(n,e.filter(function(t){return t.meta.descendants||r<=1})),i._directiveAsts.length>0&&r++,i=i._parent;return e=this.viewContext.viewQueries.get(P(t)),e&&n.push.apply(n,e),n},t.prototype._getOrCreateLocalProvider=function(t,e,n){var i=this,r=this._allProviders.get(P(e));if(!r||(t===dr.Directive||t===dr.PublicService)&&r.providerType===dr.PrivateService||(t===dr.PrivateService||t===dr.PublicService)&&r.providerType===dr.Builtin)return null;var o=this._transformedProviders.get(P(e));if(o)return o;if(null!=this._seenProviders.get(P(e)))return this.viewContext.errors.push(new tl("Cannot instantiate cyclic dependency! "+D(e),this._sourceSpan)),null;this._seenProviders.set(P(e),!0);var s=r.providers.map(function(t){var e=t.useValue,o=t.useExisting,s=void 0;if(null!=t.useExisting){var a=i._getDependency(r.providerType,{token:t.useExisting},n);null!=a.token?o=a.token:(o=null,e=a.value)}else if(t.useFactory){var l=t.deps||t.useFactory.diDeps;s=l.map(function(t){return i._getDependency(r.providerType,t,n)})}else if(t.useClass){var l=t.deps||t.useClass.diDeps;s=l.map(function(t){return i._getDependency(r.providerType,t,n)})}return we(t,{useExisting:o,useValue:e,deps:s})});return o=_e(r,{eager:n,providers:s}),this._transformedProviders.set(P(e),o),o},t.prototype._getLocalDependency=function(t,e,n){if(void 0===n&&(n=!1),e.isAttribute){var i=this._attrs[e.token.value];return{isValue:!0,value:null==i?null:i}}if(null!=e.token){if(t===dr.Directive||t===dr.Component){if(P(e.token)===this.viewContext.reflector.resolveExternalReference(qa.Renderer)||P(e.token)===this.viewContext.reflector.resolveExternalReference(qa.ElementRef)||P(e.token)===this.viewContext.reflector.resolveExternalReference(qa.ChangeDetectorRef)||P(e.token)===this.viewContext.reflector.resolveExternalReference(qa.TemplateRef))return e;P(e.token)===this.viewContext.reflector.resolveExternalReference(qa.ViewContainerRef)&&(this._hasViewContainer=!0)}if(P(e.token)===this.viewContext.reflector.resolveExternalReference(qa.Injector))return e;if(null!=this._getOrCreateLocalProvider(t,e.token,n))return e}return null},t.prototype._getDependency=function(t,e,n){void 0===n&&(n=!1);var i=this,r=n,o=null;if(e.isSkipSelf||(o=this._getLocalDependency(t,e,n)),e.isSelf)!o&&e.isOptional&&(o={isValue:!0,value:null});else{for(;!o&&i._parent;){var s=i;i=i._parent,s._isViewRoot&&(r=!1),o=i._getLocalDependency(dr.PublicService,e,r)}o||(o=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===P(e.token)||null!=this.viewContext.viewProviders.get(P(e.token))?e:e.isOptional?o={isValue:!0,value:null}:null)}return o||this.viewContext.errors.push(new tl("No provider for "+D(e.token),this._sourceSpan)),o},t}(),il=function(){function t(t,e,n,i){var r=this;this.reflector=t,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,e.transitiveModule.modules.forEach(function(t){Ee([{token:{identifier:t},useClass:t}],dr.PublicService,!0,i,r._errors,r._allProviders)}),Ee(e.transitiveModule.providers.map(function(t){return t.provider}).concat(n),dr.PublicService,!1,i,this._errors,this._allProviders)}return t.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}var n=[],i=[];return this._transformedProviders.forEach(function(t){t.eager?i.push(t):n.push(t)}),n.concat(i)},t.prototype._getOrCreateLocalProvider=function(t,e){var n=this,i=this._allProviders.get(P(t));if(!i)return null;var r=this._transformedProviders.get(P(t));if(r)return r;if(null!=this._seenProviders.get(P(t)))return this._errors.push(new tl("Cannot instantiate cyclic dependency! "+D(t),i.sourceSpan)),null;this._seenProviders.set(P(t),!0);var o=i.providers.map(function(t){var r=t.useValue,o=t.useExisting,s=void 0;if(null!=t.useExisting){var a=n._getDependency({token:t.useExisting},e,i.sourceSpan);null!=a.token?o=a.token:(o=null,r=a.value)}else if(t.useFactory){var l=t.deps||t.useFactory.diDeps;s=l.map(function(t){return n._getDependency(t,e,i.sourceSpan)})}else if(t.useClass){var l=t.deps||t.useClass.diDeps;s=l.map(function(t){return n._getDependency(t,e,i.sourceSpan)})}return we(t,{useExisting:o,useValue:r,deps:s})});return r=_e(i,{eager:e,providers:o}),this._transformedProviders.set(P(t),r),r},t.prototype._getDependency=function(t,e,n){void 0===e&&(e=!1);var i=!1;t.isSkipSelf||null==t.token||(P(t.token)===this.reflector.resolveExternalReference(qa.Injector)||P(t.token)===this.reflector.resolveExternalReference(qa.ComponentFactoryResolver)?i=!0:null!=this._getOrCreateLocalProvider(t.token,e)&&(i=!0));var r=t;return t.isSelf&&!i&&(t.isOptional?r={isValue:!0,value:null}:this._errors.push(new tl("No provider for "+D(t.token),n))),r},t}(),rl=function(){function t(){}return t.prototype.hasProperty=function(t,e,n){},t.prototype.hasElement=function(t,e){},t.prototype.securityContext=function(t,e,n){},t.prototype.allKnownElementNames=function(){},t.prototype.getMappedPropName=function(t){},t.prototype.getDefaultComponentElementName=function(){},t.prototype.validateProperty=function(t){},t.prototype.validateAttribute=function(t){},t.prototype.normalizeAnimationStyleProperty=function(t){},t.prototype.normalizeAnimationStyleValue=function(t,e,n){},t}(),ol=function(){function t(t,e){this.style=t,this.styleUrls=e}return t}(),sl=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,al=/\/\*[\s\S]+?\*\//g,ll=/^([^:\/?#]+):/,ul={};ul.DEFAULT=0,ul.LITERAL_ATTR=1,ul.ANIMATION=2,ul[ul.DEFAULT]="DEFAULT",ul[ul.LITERAL_ATTR]="LITERAL_ATTR",ul[ul.ANIMATION]="ANIMATION";var cl=function(){function t(t,e,n,i){this.name=t,this.expression=e,this.type=n,this.sourceSpan=i}return Object.defineProperty(t.prototype,"isLiteral",{get:function(){return this.type===ul.LITERAL_ATTR},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===ul.ANIMATION},enumerable:!0,configurable:!0}),t}(),hl=function(){function t(t,e,n,i,r){var o=this;this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this._targetErrors=r,this.pipesByName=new Map,this._usedPipes=new Map,i.forEach(function(t){return o.pipesByName.set(t.name,t)})}return t.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},t.prototype.createDirectiveHostPropertyAsts=function(t,e,n){var i=this;if(t.hostProperties){var r=[];return Object.keys(t.hostProperties).forEach(function(e){var o=t.hostProperties[e];"string"==typeof o?i.parsePropertyBinding(e,o,!0,n,[],r):i._reportError('Value of the host property binding "'+e+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",n)}),r.map(function(t){return i.createElementPropertyAst(e,t)})}return null},t.prototype.createDirectiveHostEventAsts=function(t,e){var n=this;if(t.hostListeners){var i=[];return Object.keys(t.hostListeners).forEach(function(r){var o=t.hostListeners[r];"string"==typeof o?n.parseEvent(r,o,e,[],i):n._reportError('Value of the host listener "'+r+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),i}return null},t.prototype.parseInterpolation=function(t,e){var n=e.start.toString();try{var i=this._exprParser.parseInterpolation(t,n,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,e),this._checkPipes(i,e),i}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype.parseInlineTemplateBinding=function(t,e,n,i,r,o){for(var s=this._parseTemplateBindings(t,e,n),a=0;a<s.length;a++){var l=s[a];l.keyIsVar?o.push(new ar(l.key,l.name,n)):l.expression?this._parsePropertyAst(l.key,l.expression,n,i,r):(i.push([l.key,""]),this.parseLiteralAttr(l.key,null,n,i,r))}},t.prototype._parseTemplateBindings=function(t,e,n){var i=this,r=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(t,e,r);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(t){t.expression&&i._checkPipes(t.expression,n)}),o.warnings.forEach(function(t){i._reportError(t,n,ws.WARNING)}),o.templateBindings}catch(t){return this._reportError(""+t,n),[]}},t.prototype.parseLiteralAttr=function(t,e,n,i,r){De(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,ws.ERROR),this._parseAnimation(t,e,n,i,r)):r.push(new cl(t,this._exprParser.wrapLiteralPrimitive(e,""),ul.LITERAL_ATTR,n))},t.prototype.parsePropertyBinding=function(t,e,n,i,r,o){var s=!1;t.startsWith("animate-")?(s=!0,t=t.substring("animate-".length)):De(t)&&(s=!0,t=t.substring(1)),s?this._parseAnimation(t,e,i,r,o):this._parsePropertyAst(t,this._parseBinding(e,n,i),i,r,o)},t.prototype.parsePropertyInterpolation=function(t,e,n,i,r){var o=this.parseInterpolation(e,n);return!!o&&(this._parsePropertyAst(t,o,n,i,r),!0)},t.prototype._parsePropertyAst=function(t,e,n,i,r){i.push([t,e.source]),r.push(new cl(t,e,ul.DEFAULT,n))},t.prototype._parseAnimation=function(t,e,n,i,r){var o=this._parseBinding(e||"undefined",!1,n);i.push([t,o.source]),r.push(new cl(t,o,ul.ANIMATION,n))},t.prototype._parseBinding=function(t,e,n){var i=n.start.toString();try{var r=e?this._exprParser.parseSimpleBinding(t,i,this._interpolationConfig):this._exprParser.parseBinding(t,i,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,n),this._checkPipes(r,n),r}catch(t){return this._reportError(""+t,n),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},t.prototype.createElementPropertyAst=function(t,e){if(e.isAnimation)return new rr(e.name,mr.Animation,tr._6.NONE,e.expression,null,e.sourceSpan);var n=null,i=void 0,r=null,o=e.name.split("."),s=void 0;if(o.length>1)if("attr"==o[0]){r=o[1],this._validatePropertyOrAttributeName(r,e.sourceSpan,!0),s=Pe(this._schemaRegistry,t,r,!0);var a=r.indexOf(":");if(a>-1){var l=r.substring(0,a),c=r.substring(a+1);r=u(l,c)}i=mr.Attribute}else"class"==o[0]?(r=o[1],i=mr.Class,s=[tr._6.NONE]):"style"==o[0]&&(n=o.length>2?o[2]:null,r=o[1],i=mr.Style,s=[tr._6.STYLE]);return null===r&&(r=this._schemaRegistry.getMappedPropName(e.name),s=Pe(this._schemaRegistry,t,r,!1),i=mr.Property,this._validatePropertyOrAttributeName(r,e.sourceSpan,!1)),new rr(r,i,s[0],e.expression,n,e.sourceSpan)},t.prototype.parseEvent=function(t,e,n,i,r){De(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,r)):this._parseEvent(t,e,n,i,r)},t.prototype._parseAnimationEvent=function(t,e,n,i){var r=d(t,[t,""]),o=r[0],s=r[1].toLowerCase();if(s)switch(s){case"start":case"done":var a=this._parseAction(e,n);i.push(new or(o,null,s,a,n));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",n)},t.prototype._parseEvent=function(t,e,n,i,r){var o=p(t,[null,t]),s=o[0],a=o[1],l=this._parseAction(e,n);i.push([t,l.source]),r.push(new or(a,s,null,l,n))},t.prototype._parseAction=function(t,e){var n=e.start.toString();try{var i=this._exprParser.parseAction(t,n,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,e),!i||i.ast instanceof Jr?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(i,e),i)}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._reportError=function(t,e,n){void 0===n&&(n=ws.ERROR),this._targetErrors.push(new _s(e,t,n))},t.prototype._reportExpressionParserErrors=function(t,e){for(var n=0,i=t;n<i.length;n++){var r=i[n];this._reportError(r.message,e)}},t.prototype._checkPipes=function(t,e){var n=this;if(t){var i=new pl;t.visit(i),i.pipes.forEach(function(t,i){var r=n.pipesByName.get(i);r?n._usedPipes.set(i,r):n._reportError("The pipe '"+i+"' could not be found",new bs(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}},t.prototype._validatePropertyOrAttributeName=function(t,e,n){var i=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);i.error&&this._reportError(i.msg,e,ws.ERROR)},t}(),pl=function(t){function e(){var e=t.apply(this,arguments)||this;return e.pipes=new Map,e}return $i.a(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null},e}(_o),dl="select",fl="link",ml="rel",vl="href",yl="stylesheet",gl="style",bl="script",wl="ngNonBindable",_l="ngProjectAs",Cl={};Cl.NG_CONTENT=0,Cl.STYLE=1,Cl.STYLESHEET=2,Cl.SCRIPT=3,Cl.OTHER=4,Cl[Cl.NG_CONTENT]="NG_CONTENT",Cl[Cl.STYLE]="STYLE",Cl[Cl.STYLESHEET]="STYLESHEET",Cl[Cl.SCRIPT]="SCRIPT",Cl[Cl.OTHER]="OTHER";var El=function(){function t(t,e,n,i,r){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=i,this.projectAs=r}return t}(),xl=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,Sl="template",Tl="class",kl=Tr.parse("*")[0],Ml="The <template> element is deprecated. Use <ng-template> instead",Dl={},Pl=new tr.D("TemplateTransforms"),Al=function(t){function e(e,n,i){return t.call(this,n,e,i)||this}return $i.a(e,t),e}(_s),Ol=function(){function t(t,e,n){this.templateAst=t,this.usedPipes=e,this.errors=n}return t}(),Il=function(){function t(t,e,n,i,r,o,s){this._config=t,this._reflector=e,this._exprParser=n,this._schemaRegistry=i,this._htmlParser=r,this._console=o,this.transforms=s}return t.prototype.parse=function(t,e,n,i,r,o,s){var a=this.tryParse(t,e,n,i,r,o,s),l=a.errors.filter(function(t){return t.level===ws.WARNING}).filter(Ie(["The template attribute is deprecated. Use an ng-template element instead.",Ml])),u=a.errors.filter(function(t){return t.level===ws.ERROR});if(l.length>0&&this._console.warn("Template parse warnings:\n"+l.join("\n")),u.length>0){throw g("Template parse errors:\n"+u.join("\n"),u)}return{template:a.templateAst,pipes:a.usedPipes}},t.prototype.tryParse=function(t,e,n,i,r,o,s){var a=this._htmlParser.parse(e,o,!0,this.getInterpolationConfig(t));return s||(a=ve(a)),this.tryParseHtml(this.expandHtml(a),t,n,i,r)},t.prototype.tryParseHtml=function(t,e,n,r,o){var s,a=t.errors,l=[];if(t.rootNodes.length>0){var u=Fe(n),c=Fe(r),h=new el(this._reflector,e),p=void 0;e.template&&e.template.interpolation&&(p={start:e.template.interpolation[0],end:e.template.interpolation[1]});var d=new hl(this._exprParser,p,this._schemaRegistry,c,a),f=new Nl(this._reflector,this._config,h,u,d,this._schemaRegistry,o,a);s=ct(f,t.rootNodes,Fl),a.push.apply(a,h.errors),l.push.apply(l,d.getUsedPipes())}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,a),a.length>0?new Ol(s,l,a):(this.transforms&&this.transforms.forEach(function(t){s=i(t,s)}),new Ol(s,l,a))},t.prototype.expandHtml=function(t,e){void 0===e&&(e=!1);var n=t.errors;if(0==n.length||e){var i=ye(t.rootNodes);n.push.apply(n,i.errors),t=new Vs(i.nodes,n)}return t},t.prototype.getInterpolationConfig=function(t){if(t.template)return rs.fromArray(t.template.interpolation)},t.prototype._assertNoReferenceDuplicationOnTemplate=function(t,e){var n=[];t.filter(function(t){return!!t.references}).forEach(function(t){return t.references.forEach(function(t){var i=t.name;if(n.indexOf(i)<0)n.push(i);else{var r=new Al('Reference "#'+i+'" is defined several times',t.sourceSpan,ws.ERROR);e.push(r)}})})},t}();Il.decorators=[{type:z}],Il.ctorParameters=function(){return[{type:Gr},{type:Yr},{type:fs},{type:rl},{type:Ba},{type:tr._38},{type:Array,decorators:[{type:tr.S},{type:tr.B,args:[Pl]}]}]};var Nl=function(){function t(t,e,n,i,r,o,s,a){var l=this;this.reflector=t,this.config=e,this.providerViewContext=n,this._bindingParser=r,this._schemaRegistry=o,this._schemas=s,this._targetErrors=a,this.selectorMatcher=new kr,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,i.forEach(function(t,e){var n=Tr.parse(t.selector);l.selectorMatcher.addSelectables(n,t),l.directivesIndex.set(t,e)})}return t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(kl),i=me(t.value),r=this._bindingParser.parseInterpolation(i,t.sourceSpan);return r?new nr(r,n,t.sourceSpan):new er(i,n,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return new ir(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this,i=this.contentQueryStartId,r=t.name,o=Ae(t);if(o.type===Cl.SCRIPT||o.type===Cl.STYLE)return null;if(o.type===Cl.STYLESHEET&&ke(o.hrefAttr))return null;var s=[],a=[],l=[],u=[],c=[],h=[],p=[],d=[],f=!1,m=[],v=je(t,this.config.enableLegacyTemplate,function(t,e){return n._reportError(t,e,ws.WARNING)});t.attrs.forEach(function(t){var e,i,r=n._parseAttr(v,t,s,a,c,l,u),o=n._normalizeAttributeName(t.name);n.config.enableLegacyTemplate&&"template"==o?(n._reportError("The template attribute is deprecated. Use an ng-template element instead.",t.sourceSpan,ws.WARNING),e=t.value):o.startsWith("*")&&(e=t.value,i=o.substring("*".length)+":");var y=null!=e;y&&(f&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",t.sourceSpan),f=!0,n._bindingParser.parseInlineTemplateBinding(i,e,t.sourceSpan,p,h,d)),r||y||(m.push(n.visitAttribute(t,null)),s.push([t.name,t.value]))});var y=Ve(r,s),g=this._parseDirectives(this.selectorMatcher,y),b=g.directives,w=g.matchElement,_=[],C=new Set,E=this._createDirectiveAsts(v,t.name,b,a,l,t.sourceSpan,_,C),x=this._createElementPropertyAsts(t.name,a,C),S=e.isTemplateElement||f,T=new nl(this.providerViewContext,e.providerContext,S,E,m,_,v,i,t.sourceSpan),k=ct(o.nonBindable?Hl:this,t.children,Rl.create(v,E,v?e.providerContext:T));T.afterElement();var M,D=null!=o.projectAs?Tr.parse(o.projectAs)[0]:y,P=e.findNgContentIndex(D);if(o.type===Cl.NG_CONTENT)t.children&&!t.children.every(Re)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),M=new fr(this.ngContentCount++,f?null:P,t.sourceSpan);else if(v)this._assertAllEventsPublishedByDirectives(E,c),this._assertNoComponentsNorElementBindingsOnTemplate(E,x,t.sourceSpan),M=new ur(m,c,_,u,T.transformedDirectiveAsts,T.transformProviders,T.transformedHasViewContainer,T.queryMatches,k,f?null:P,t.sourceSpan);else{this._assertElementExists(w,t),this._assertOnlyOneComponent(E,t.sourceSpan);var A=f?null:e.findNgContentIndex(D);M=new lr(r,m,x,c,_,T.transformedDirectiveAsts,T.transformProviders,T.transformedHasViewContainer,T.queryMatches,k,f?null:A,t.sourceSpan,t.endSourceSpan||null)}if(f){var O=this.contentQueryStartId,I=Ve(Sl,p),N=this._parseDirectives(this.selectorMatcher,I).directives,L=new Set,V=this._createDirectiveAsts(!0,t.name,N,h,[],t.sourceSpan,[],L),R=this._createElementPropertyAsts(t.name,h,L);this._assertNoComponentsNorElementBindingsOnTemplate(V,R,t.sourceSpan);var F=new nl(this.providerViewContext,e.providerContext,e.isTemplateElement,V,[],[],!0,O,t.sourceSpan);F.afterElement(),M=new ur([],[],[],d,F.transformedDirectiveAsts,F.transformProviders,F.transformedHasViewContainer,F.queryMatches,[M],P,t.sourceSpan)}return M},t.prototype._parseAttr=function(t,e,n,i,r,o,s){var a=this._normalizeAttributeName(e.name),l=e.value,u=e.sourceSpan,c=a.match(xl),h=!1;if(null!==c)if(h=!0,null!=c[1])this._bindingParser.parsePropertyBinding(c[7],l,!1,u,n,i);else if(c[2])if(t){var p=c[7];this._parseVariable(p,l,u,s)}else this._reportError('"let-" is only supported on template elements.',u);else if(c[3]){var p=c[7];this._parseReference(p,l,u,o)}else c[4]?this._bindingParser.parseEvent(c[7],l,u,n,r):c[5]?(this._bindingParser.parsePropertyBinding(c[7],l,!1,u,n,i),this._parseAssignmentEvent(c[7],l,u,n,r)):c[6]?this._bindingParser.parseLiteralAttr(a,l,u,n,i):c[8]?(this._bindingParser.parsePropertyBinding(c[8],l,!1,u,n,i),this._parseAssignmentEvent(c[8],l,u,n,r)):c[9]?this._bindingParser.parsePropertyBinding(c[9],l,!1,u,n,i):c[10]&&this._bindingParser.parseEvent(c[10],l,u,n,r);else h=this._bindingParser.parsePropertyInterpolation(a,l,u,n,i);return h||this._bindingParser.parseLiteralAttr(a,l,u,n,i),h},t.prototype._normalizeAttributeName=function(t){return/^data-/i.test(t)?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,i){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),i.push(new ar(t,e,n))},t.prototype._parseReference=function(t,e,n,i){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),i.push(new Vl(t,e,n))},t.prototype._parseAssignmentEvent=function(t,e,n,i,r){this._bindingParser.parseEvent(t+"Change",e+"=$event",n,i,r)},t.prototype._parseDirectives=function(t,e){var n=this,i=new Array(this.directivesIndex.size),r=!1;return t.match(e,function(t,e){i[n.directivesIndex.get(e)]=e,r=r||t.hasElementSelector()}),{directives:i.filter(function(t){return!!t}),matchElement:r}},t.prototype._createDirectiveAsts=function(t,e,n,i,r,o,s,a){var l=this,u=new Set,c=null,h=n.map(function(t){var n=new bs(o.start,o.end,"Directive "+E(t.type));t.isComponent&&(c=t);var h=[],p=l._bindingParser.createDirectiveHostPropertyAsts(t,e,n);p=l._checkPropertiesInSchema(e,p);var d=l._bindingParser.createDirectiveHostEventAsts(t,n);l._createDirectivePropertyAsts(t.inputs,i,h,a),r.forEach(function(e){(0===e.value.length&&t.isComponent||e.isReferenceToDirective(t))&&(s.push(new sr(e.name,pe(t.type.reference),e.sourceSpan)),u.add(e.name))});var f=l.contentQueryStartId;return l.contentQueryStartId+=t.queries.length,new hr(t,h,p,d,f,n)});return r.forEach(function(e){if(e.value.length>0)u.has(e.name)||l._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!c){var n=null;t&&(n=de(l.reflector,qa.TemplateRef)),s.push(new sr(e.name,n,e.sourceSpan))}}),h},t.prototype._createDirectivePropertyAsts=function(t,e,n,i){if(t){var r=new Map;e.forEach(function(t){var e=r.get(t.name);e&&!e.isLiteral||r.set(t.name,t)}),Object.keys(t).forEach(function(e){var o=t[e],s=r.get(o);s&&(i.add(s.name),He(s.expression)||n.push(new cr(e,s.name,s.expression,s.sourceSpan)))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var i=this,r=[];return e.forEach(function(e){e.isLiteral||n.has(e.name)||r.push(i._bindingParser.createElementPropertyAst(t,e))}),this._checkPropertiesInSchema(t,r)},t.prototype._findComponentDirectives=function(t){return t.filter(function(t){return t.directive.isComponent})},t.prototype._findComponentDirectiveNames=function(t){return this._findComponentDirectives(t).map(function(t){return E(t.directive.type)})},t.prototype._assertOnlyOneComponent=function(t,e){var n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),e)},t.prototype._assertElementExists=function(t,e){var n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){var i="'"+n+"' is not a known element:\n";i+="1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n",n.indexOf("-")>-1?i+="2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":i+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(i,e.sourceSpan)}},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var i=this,r=this._findComponentDirectiveNames(t);r.length>0&&this._reportError("Components on an embedded template: "+r.join(","),n),e.forEach(function(t){i._reportError("Property binding "+t.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var n=this,i=new Set;t.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){var n=t.directive.outputs[e];i.add(n)})}),e.forEach(function(t){null==t.target&&i.has(t.name)||n._reportError("Event binding "+t.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',t.sourceSpan)})},t.prototype._checkPropertiesInSchema=function(t,e){var n=this;return e.filter(function(e){if(e.type===mr.Property&&!n._schemaRegistry.hasProperty(t,e.name,n._schemas)){var i="Can't bind to '"+e.name+"' since it isn't a known property of '"+t+"'.";t.startsWith("ng-")?i+="\n1. If '"+e.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":t.indexOf("-")>-1&&(i+="\n1. If '"+t+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module.\n2. If '"+t+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(i,e.sourceSpan)}return!He(e.value)})},t.prototype._reportError=function(t,e,n){void 0===n&&(n=ws.ERROR),this._targetErrors.push(new _s(e,t,n))},t}(),Ll=function(){function t(){}return t.prototype.visitElement=function(t,e){var n=Ae(t);if(n.type===Cl.SCRIPT||n.type===Cl.STYLE||n.type===Cl.STYLESHEET)return null;var i=t.attrs.map(function(t){return[t.name,t.value]}),r=Ve(t.name,i),o=e.findNgContentIndex(r),s=ct(this,t.children,Fl);return new lr(t.name,ct(this,t.attrs),[],[],[],[],[],!1,[],s,o,t.sourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return new ir(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(kl);return new er(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),Vl=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.isReferenceToDirective=function(t){return-1!==Ne(t.exportAs).indexOf(this.value)},t}(),Rl=function(){function t(t,e,n,i){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=i}return t.create=function(e,n,i){var r=new kr,o=null,s=n.find(function(t){return t.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,l=0;l<a.length;l++){var u=a[l];"*"===u?o=l:r.addSelectables(Tr.parse(a[l]),l)}return new t(e,r,o,i)},t.prototype.findNgContentIndex=function(t){var e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),e.sort(),null!=this._wildcardNgContentIndex&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}(),Fl=new Rl(!0,new kr,null,null),Hl=new Ll,jl=function(){function t(){}return t.prototype.get=function(t){return""},t}(),Bl={provide:tr.U,useValue:"/"},Ul=function(){function t(t){void 0===t&&(t=null),this._packagePrefix=t}return t.prototype.resolve=function(t,e){var n=e;null!=t&&t.length>0&&(n=Ge(t,n));var i=ze(n),r=this._packagePrefix;if(null!=r&&null!=i&&"package"==i[zl.Scheme]){var o=i[zl.Path];return r=r.replace(/\/+$/,""),o=o.replace(/^\/+/,""),r+"/"+o}return n},t}();Ul.decorators=[{type:z}],Ul.ctorParameters=function(){return[{type:void 0,decorators:[{type:tr.B,args:[tr.U]}]}]};var ql=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),zl={};zl.Scheme=1,zl.UserInfo=2,zl.Domain=3,zl.Port=4,zl.Path=5,zl.QueryData=6,zl.Fragment=7,zl[zl.Scheme]="Scheme",zl[zl.UserInfo]="UserInfo",zl[zl.Domain]="Domain",zl[zl.Port]="Port",zl[zl.Path]="Path",zl[zl.QueryData]="QueryData",zl[zl.Fragment]="Fragment";var Wl=function(){function t(t,e,n,i){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=i,this._resourceLoaderCache=new Map}return t.prototype.clearCache=function(){this._resourceLoaderCache.clear()},t.prototype.clearCacheFor=function(t){var e=this;if(t.isComponent){var n=t.template;this._resourceLoaderCache.delete(n.templateUrl),n.externalStylesheets.forEach(function(t){e._resourceLoaderCache.delete(t.moduleUrl)})}},t.prototype._fetch=function(t){var e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e},t.prototype.normalizeTemplate=function(t){var e=this;if(v(t.template)){if(v(t.templateUrl))throw g("'"+Object(tr._69)(t.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof t.template)throw g("The template specified for component "+Object(tr._69)(t.componentType)+" is not a string")}else{if(!v(t.templateUrl))throw g("No template specified for component "+Object(tr._69)(t.componentType));if("string"!=typeof t.templateUrl)throw g("The templateUrl specified for component "+Object(tr._69)(t.componentType)+" is not a string")}if(v(t.preserveWhitespaces)&&"boolean"!=typeof t.preserveWhitespaces)throw g("The preserveWhitespaces option for component "+Object(tr._69)(t.componentType)+" must be a boolean");return Or.then(this.normalizeTemplateOnly(t),function(t){return e.normalizeExternalStylesheets(t)})},t.prototype.normalizeTemplateOnly=function(t){var e,n,i=this;return null!=t.template?(e=t.template,n=t.moduleUrl):(n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl),e=this._fetch(n)),Or.then(e,function(e){return i.normalizeLoadedTemplate(t,e,n)})},t.prototype.normalizeLoadedTemplate=function(t,e,n){var i=!!t.template,r=rs.fromArray(t.interpolation),o=this._htmlParser.parse(e,L({reference:t.ngModuleType},{type:{reference:t.componentType}},{isInline:i,templateUrl:n}),!0,r);if(o.errors.length>0){throw g("Template parse errors:\n"+o.errors.join("\n"))}var s=this.normalizeStylesheet(new Hr({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})),a=new Yl;ct(a,o.rootNodes);var l=this.normalizeStylesheet(new Hr({styles:a.styles,styleUrls:a.styleUrls,moduleUrl:n})),u=t.encapsulation;null==u&&(u=this._config.defaultEncapsulation);var c=s.styles.concat(l.styles),h=s.styleUrls.concat(l.styleUrls);return u===tr._19.Emulated&&0===c.length&&0===h.length&&(u=tr._19.None),new jr({encapsulation:u,template:e,templateUrl:n,styles:c,styleUrls:h,ngContentSelectors:a.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:i,externalStylesheets:[],preserveWhitespaces:H(t.preserveWhitespaces,this._config.preserveWhitespaces)})},t.prototype.normalizeExternalStylesheets=function(t){return Or.then(this._loadMissingExternalStylesheets(t.styleUrls),function(e){return new jr({encapsulation:t.encapsulation,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,externalStylesheets:e,ngContentSelectors:t.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:t.isInline,preserveWhitespaces:t.preserveWhitespaces})})},t.prototype._loadMissingExternalStylesheets=function(t,e){var n=this;return void 0===e&&(e=new Map),Or.then(Or.all(t.filter(function(t){return!e.has(t)}).map(function(t){return Or.then(n._fetch(t),function(i){var r=n.normalizeStylesheet(new Hr({styles:[i],moduleUrl:t}));return e.set(t,r),n._loadMissingExternalStylesheets(r.styleUrls,e)})})),function(t){return Array.from(e.values())})},t.prototype.normalizeStylesheet=function(t){var e=this,n=t.moduleUrl,i=t.styleUrls.filter(ke).map(function(t){return e._urlResolver.resolve(n,t)}),r=t.styles.map(function(t){var r=Me(e._urlResolver,n,t);return i.push.apply(i,r.styleUrls),r.style});return new Hr({styles:r,styleUrls:i,moduleUrl:n})},t}();Wl.decorators=[{type:z}],Wl.ctorParameters=function(){return[{type:jl},{type:Ul},{type:Fa},{type:Gr}]};var Yl=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return t.prototype.visitElement=function(t,e){var n=Ae(t);switch(n.type){case Cl.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case Cl.STYLE:var i="";t.children.forEach(function(t){t instanceof Cs&&(i+=t.value)}),this.styles.push(i);break;case Cl.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,ct(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitExpansion=function(t,e){ct(this,t.cases)},t.prototype.visitExpansionCase=function(t,e){ct(this,t.expression)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t}(),Gl=function(){function t(t){this._reflector=t}return t.prototype.isDirective=function(t){var e=this._reflector.annotations(Object(tr._30)(t));return e&&e.some(Xe)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=this._reflector.annotations(Object(tr._30)(t));if(n){var i=Ke(n,Xe);if(i){var r=this._reflector.propMetadata(t);return this._mergeWithPropertyMetadata(i,r,t)}}if(e)throw new Error("No Directive annotation found on "+Object(tr._69)(t));return null},t.prototype._mergeWithPropertyMetadata=function(t,e,n){var i=[],r=[],o={},s={};return Object.keys(e).forEach(function(t){var n=Ke(e[t],function(t){return t instanceof tr.F});n&&(n.bindingPropertyName?i.push(t+": "+n.bindingPropertyName):i.push(t));var a=Ke(e[t],function(t){return t instanceof tr.T});a&&(a.bindingPropertyName?r.push(t+": "+a.bindingPropertyName):r.push(t)),e[t].filter(function(t){return t&&t instanceof tr.z}).forEach(function(e){if(e.hostPropertyName){var n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o["["+e.hostPropertyName+"]"]=t}else o["["+t+"]"]=t}),e[t].filter(function(t){return t&&t instanceof tr.A}).forEach(function(e){var n=e.args||[];o["("+e.eventName+")"]=t+"("+n.join(",")+")"});var l=Ke(e[t],function(t){return t instanceof tr.Y});l&&(s[t]=l)}),this._merge(t,i,r,o,s,n)},t.prototype._extractPublicName=function(t){return p(t,[null,t])[1].trim()},t.prototype._dedupeBindings=function(t){for(var e=new Set,n=[],i=t.length-1;i>=0;i--){var r=t[i],o=this._extractPublicName(r);e.has(o)||(e.add(o),n.push(r))}return n.reverse()},t.prototype._merge=function(t,e,n,i,r,o){var s=this._dedupeBindings(t.inputs?t.inputs.concat(e):e),a=this._dedupeBindings(t.outputs?t.outputs.concat(n):n),l=t.host?Object.assign({},t.host,i):i,u=t.queries?Object.assign({},t.queries,r):r;return t instanceof tr.o?new tr.o({selector:t.selector,inputs:s,outputs:a,host:l,exportAs:t.exportAs,moduleId:t.moduleId,queries:u,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation,preserveWhitespaces:t.preserveWhitespaces}):new tr.u({selector:t.selector,inputs:s,outputs:a,host:l,exportAs:t.exportAs,queries:u,providers:t.providers})},t}();Gl.decorators=[{type:z}],Gl.ctorParameters=function(){return[{type:Yr}]};var Xl=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,Kl=/\.ngfactory\.|\.ngsummary\./,Ql=/\.ngsummary\./,Zl=/NgSummary$/,Jl={};Jl.OnInit=0,Jl.OnDestroy=1,Jl.DoCheck=2,Jl.OnChanges=3,Jl.AfterContentInit=4,Jl.AfterContentChecked=5,Jl.AfterViewInit=6,Jl.AfterViewChecked=7,Jl[Jl.OnInit]="OnInit",Jl[Jl.OnDestroy]="OnDestroy",Jl[Jl.DoCheck]="DoCheck",Jl[Jl.OnChanges]="OnChanges",Jl[Jl.AfterContentInit]="AfterContentInit",Jl[Jl.AfterContentChecked]="AfterContentChecked",Jl[Jl.AfterViewInit]="AfterViewInit",Jl[Jl.AfterViewChecked]="AfterViewChecked";var $l=[Jl.OnInit,Jl.OnDestroy,Jl.DoCheck,Jl.OnChanges,Jl.AfterContentInit,Jl.AfterContentChecked,Jl.AfterViewInit,Jl.AfterViewChecked],tu=function(){function t(t){this._reflector=t}return t.prototype.isNgModule=function(t){return this._reflector.annotations(t).some(un)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=Ke(this._reflector.annotations(t),un);if(n)return n;if(e)throw new Error("No NgModule metadata found for '"+Object(tr._69)(t)+"'.");return null},t}();tu.decorators=[{type:z}],tu.ctorParameters=function(){return[{type:Yr}]};var eu=function(){function t(t){this._reflector=t}return t.prototype.isPipe=function(t){var e=this._reflector.annotations(Object(tr._30)(t));return e&&e.some(cn)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=this._reflector.annotations(Object(tr._30)(t));if(n){var i=Ke(n,cn);if(i)return i}if(e)throw new Error("No Pipe decorator found on "+Object(tr._69)(t));return null},t}();eu.decorators=[{type:z}],eu.ctorParameters=function(){return[{type:Yr}]};var nu=function(){function t(){}return t.prototype.isLibraryFile=function(t){},t.prototype.getLibraryFileName=function(t){},t.prototype.resolveSummary=function(t){},t.prototype.getSymbolsOf=function(t){},t.prototype.getImportAs=function(t){},t.prototype.addSummary=function(t){},t}(),iu=function(){function t(){this._summaries=new Map}return t.prototype.isLibraryFile=function(t){return!1},t.prototype.getLibraryFileName=function(t){return null},t.prototype.resolveSummary=function(t){return this._summaries.get(t)||null},t.prototype.getSymbolsOf=function(t){return[]},t.prototype.getImportAs=function(t){return t},t.prototype.addSummary=function(t){this._summaries.set(t.symbol,t)},t}();iu.decorators=[{type:z}],iu.ctorParameters=function(){return[]};var ru=new tr.D("ErrorCollector"),ou=function(){function t(t,e,n,i,r,o,s,a,l,u,c){this._config=t,this._ngModuleResolver=e,this._directiveResolver=n,this._pipeResolver=i,this._summaryResolver=r,this._schemaRegistry=o,this._directiveNormalizer=s,this._console=a,this._staticSymbolCache=l,this._reflector=u,this._errorCollector=c,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map}return t.prototype.getReflector=function(){return this._reflector},t.prototype.clearCacheFor=function(t){var e=this._directiveCache.get(t);this._directiveCache.delete(t),this._nonNormalizedDirectiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)},t.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},t.prototype._createProxyClass=function(t,e){var n=null,i=function(){if(!n)throw new Error("Illegal state: Class "+e+" for type "+Object(tr._69)(t)+" is not compiled yet!");return n.apply(this,arguments)};return i.setDelegate=function(t){n=t,i.prototype=t.prototype},i.overriddenName=e,i},t.prototype.getGeneratedClass=function(t,e){return t instanceof yr?this._staticSymbolCache.get(Qe(t.filePath),e):this._createProxyClass(t,e)},t.prototype.getComponentViewClass=function(t){return this.getGeneratedClass(t,S(t,0))},t.prototype.getHostComponentViewClass=function(t){return this.getGeneratedClass(t,k(t))},t.prototype.getHostComponentType=function(t){var e=E({reference:t})+"_Host";if(t instanceof yr)return this._staticSymbolCache.get(t.filePath,e);var n=function(){};return n.overriddenName=e,n},t.prototype.getRendererType=function(t){return t instanceof yr?this._staticSymbolCache.get(Qe(t.filePath),T(t)):{}},t.prototype.getComponentFactory=function(t,e,n,i){if(e instanceof yr)return this._staticSymbolCache.get(Qe(e.filePath),M(e));var r=this.getHostComponentViewClass(e);return Object(tr._44)(t,e,r,n,i,[])},t.prototype.initComponentFactory=function(t,e){t instanceof yr||(n=t.ngContentSelectors).push.apply(n,e);var n},t.prototype._loadSummary=function(t,e){var n=this._summaryCache.get(t);if(!n){var i=this._summaryResolver.resolveSummary(t);n=i?i.type:null,this._summaryCache.set(t,n||null)}return n&&n.summaryKind===e?n:null},t.prototype.loadDirectiveMetadata=function(t,e,n){var i=this;if(this._directiveCache.has(e))return null;e=Object(tr._30)(e);var r=this.getNonNormalizedDirectiveMetadata(e),o=r.annotation,s=r.metadata,a=function(t){var n=new Br({isHost:!1,type:s.type,isComponent:s.isComponent,selector:s.selector,exportAs:s.exportAs,changeDetection:s.changeDetection,inputs:s.inputs,outputs:s.outputs,hostListeners:s.hostListeners,hostProperties:s.hostProperties,hostAttributes:s.hostAttributes,providers:s.providers,viewProviders:s.viewProviders,queries:s.queries,viewQueries:s.viewQueries,entryComponents:s.entryComponents,componentViewType:s.componentViewType,rendererType:s.rendererType,componentFactory:s.componentFactory,template:t});return t&&i.initComponentFactory(s.componentFactory,t.ngContentSelectors),i._directiveCache.set(e,n),i._summaryCache.set(e,n.toSummary()),null};if(s.isComponent){var l=s.template,u=this._directiveNormalizer.normalizeTemplate({ngModuleType:t,componentType:e,moduleUrl:this._reflector.componentModuleUrl(e,o),encapsulation:l.encapsulation,template:l.template,templateUrl:l.templateUrl,styles:l.styles,styleUrls:l.styleUrls,animations:l.animations,interpolation:l.interpolation,preserveWhitespaces:l.preserveWhitespaces});return Object(tr._56)(u)&&n?(this._reportError(yn(e),e),null):Or.then(u,a)}return a(null),null},t.prototype.getNonNormalizedDirectiveMetadata=function(t){var e=this;if(!(t=Object(tr._30)(t)))return null;var n=this._nonNormalizedDirectiveCache.get(t);if(n)return n;var i=this._directiveResolver.resolve(t,!1);if(!i)return null;var r=void 0;if(i instanceof tr.o){W("styles",i.styles),W("styleUrls",i.styleUrls),Y("interpolation",i.interpolation);var o=i.animations;r=new jr({encapsulation:y(i.encapsulation),template:y(i.template),templateUrl:y(i.templateUrl),styles:i.styles||[],styleUrls:i.styleUrls||[],animations:o||[],interpolation:y(i.interpolation),isInline:!!i.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:y(i.preserveWhitespaces)})}var s=null,a=[],l=[],u=i.selector;i instanceof tr.o?(s=i.changeDetection,i.viewProviders&&(a=this._getProvidersMetadata(i.viewProviders,l,'viewProviders for "'+vn(t)+'"',[],t)),i.entryComponents&&(l=dn(i.entryComponents).map(function(t){return e._getEntryComponentMetadata(t)}).concat(l)),u||(u=this._schemaRegistry.getDefaultComponentElementName())):u||(this._reportError(g("Directive "+vn(t)+" has no selector, please add it!"),t),u="error");var c=[];null!=i.providers&&(c=this._getProvidersMetadata(i.providers,l,'providers for "'+vn(t)+'"',[],t));var h=[],p=[];null!=i.queries&&(h=this._getQueriesMetadata(i.queries,!1,t),p=this._getQueriesMetadata(i.queries,!0,t));var d=Br.create({isHost:!1,selector:u,exportAs:y(i.exportAs),isComponent:!!r,type:this._getTypeMetadata(t),template:r,changeDetection:s,inputs:i.inputs||[],outputs:i.outputs||[],host:i.host||{},providers:c||[],viewProviders:a||[],queries:h||[],viewQueries:p||[],entryComponents:l,componentViewType:r?this.getComponentViewClass(t):null,rendererType:r?this.getRendererType(t):null,componentFactory:null});return r&&(d.componentFactory=this.getComponentFactory(u,t,d.inputs,d.outputs)),n={metadata:d,annotation:i},this._nonNormalizedDirectiveCache.set(t,n),n},t.prototype.getDirectiveMetadata=function(t){var e=this._directiveCache.get(t);return e||this._reportError(g("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+vn(t)+"."),t),e},t.prototype.getDirectiveSummary=function(t){var e=this._loadSummary(t,Fr.Directive);return e||this._reportError(g("Illegal state: Could not load the summary for directive "+vn(t)+"."),t),e},t.prototype.isDirective=function(t){return!!this._loadSummary(t,Fr.Directive)||this._directiveResolver.isDirective(t)},t.prototype.isPipe=function(t){return!!this._loadSummary(t,Fr.Pipe)||this._pipeResolver.isPipe(t)},t.prototype.isNgModule=function(t){return!!this._loadSummary(t,Fr.NgModule)||this._ngModuleResolver.isNgModule(t)},t.prototype.getNgModuleSummary=function(t){var e=this._loadSummary(t,Fr.NgModule);if(!e){var n=this.getNgModuleMetadata(t,!1);e=n?n.toSummary():null,e&&this._summaryCache.set(t,e)}return e},t.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=this.getNgModuleMetadata(t,n),o=[];return r&&(r.declaredDirectives.forEach(function(n){var r=i.loadDirectiveMetadata(t,n.reference,e);r&&o.push(r)}),r.declaredPipes.forEach(function(t){return i._loadPipeMetadata(t.reference)})),Promise.all(o)},t.prototype.getNgModuleMetadata=function(t,e){var n=this;void 0===e&&(e=!0),t=Object(tr._30)(t);var i=this._ngModuleCache.get(t);if(i)return i;var r=this._ngModuleResolver.resolve(t,e);if(!r)return null;var o=[],s=[],a=[],l=[],u=[],c=[],h=[],p=[],d=[];r.imports&&dn(r.imports).forEach(function(e){var i=void 0;if(fn(e))i=e;else if(e&&e.ngModule){var r=e;i=r.ngModule,r.providers&&c.push.apply(c,n._getProvidersMetadata(r.providers,h,"provider for the NgModule '"+vn(i)+"'",[],e))}if(!i)return void n._reportError(g("Unexpected value '"+vn(e)+"' imported by the module '"+vn(t)+"'"),t);if(!n._checkSelfImport(t,i)){var o=n.getNgModuleSummary(i);if(!o)return void n._reportError(g("Unexpected "+n._getTypeDescriptor(e)+" '"+vn(e)+"' imported by the module '"+vn(t)+"'. Please add a @NgModule annotation."),t);l.push(o)}}),r.exports&&dn(r.exports).forEach(function(e){if(!fn(e))return void n._reportError(g("Unexpected value '"+vn(e)+"' exported by the module '"+vn(t)+"'"),t);var i=n.getNgModuleSummary(e);i?u.push(i):s.push(n._getIdentifierMetadata(e))});var f=this._getTransitiveNgModuleMetadata(l,u);r.declarations&&dn(r.declarations).forEach(function(e){if(!fn(e))return void n._reportError(g("Unexpected value '"+vn(e)+"' declared by the module '"+vn(t)+"'"),t);var i=n._getIdentifierMetadata(e);if(n.isDirective(e))f.addDirective(i),o.push(i),n._addTypeToModule(e,t);else{if(!n.isPipe(e))return void n._reportError(g("Unexpected "+n._getTypeDescriptor(e)+" '"+vn(e)+"' declared by the module '"+vn(t)+"'. Please add a @Pipe/@Directive/@Component annotation."),t);f.addPipe(i),f.pipes.push(i),a.push(i),n._addTypeToModule(e,t)}});var m=[],v=[];return s.forEach(function(e){if(f.directivesSet.has(e.reference))m.push(e),f.addExportedDirective(e);else{if(!f.pipesSet.has(e.reference))return void n._reportError(g("Can't export "+n._getTypeDescriptor(e.reference)+" "+vn(e.reference)+" from "+vn(t)+" as it was neither declared nor imported!"),t);v.push(e),f.addExportedPipe(e)}}),r.providers&&c.push.apply(c,this._getProvidersMetadata(r.providers,h,"provider for the NgModule '"+vn(t)+"'",[],t)),r.entryComponents&&h.push.apply(h,dn(r.entryComponents).map(function(t){return n._getEntryComponentMetadata(t)})),r.bootstrap&&dn(r.bootstrap).forEach(function(e){if(!fn(e))return void n._reportError(g("Unexpected value '"+vn(e)+"' used in the bootstrap property of module '"+vn(t)+"'"),t);p.push(n._getIdentifierMetadata(e))}),h.push.apply(h,p.map(function(t){return n._getEntryComponentMetadata(t.reference)})),r.schemas&&d.push.apply(d,dn(r.schemas)),i=new qr({type:this._getTypeMetadata(t),providers:c,entryComponents:h,bootstrapComponents:p,schemas:d,declaredDirectives:o,exportedDirectives:m,declaredPipes:a,exportedPipes:v,importedModules:l,exportedModules:u,transitiveModule:f,id:r.id||null}),h.forEach(function(t){return f.addEntryComponent(t)}),c.forEach(function(t){return f.addProvider(t,i.type)}),f.addModule(i.type),this._ngModuleCache.set(t,i),i},t.prototype._checkSelfImport=function(t,e){return t===e&&(this._reportError(g("'"+vn(t)+"' module can't import itself"),t),!0)},t.prototype._getTypeDescriptor=function(t){return this.isDirective(t)?"directive":this.isPipe(t)?"pipe":this.isNgModule(t)?"module":t.provide?"provider":"value"},t.prototype._addTypeToModule=function(t,e){var n=this._ngModuleOfTypes.get(t);if(n&&n!==e)return void this._reportError(g("Type "+vn(t)+" is part of the declarations of 2 modules: "+vn(n)+" and "+vn(e)+"! Please consider moving "+vn(t)+" to a higher module that imports "+vn(n)+" and "+vn(e)+". You can also create a new NgModule that exports and includes "+vn(t)+" then import that NgModule in "+vn(n)+" and "+vn(e)+"."),e);this._ngModuleOfTypes.set(t,e)},t.prototype._getTransitiveNgModuleMetadata=function(t,e){var n=new zr,i=new Map;return t.concat(e).forEach(function(t){t.modules.forEach(function(t){return n.addModule(t)}),t.entryComponents.forEach(function(t){return n.addEntryComponent(t)});var e=new Set;t.providers.forEach(function(t){var r=P(t.provider.token),o=i.get(r);o||(o=new Set,i.set(r,o));var s=t.module.reference;!e.has(r)&&o.has(s)||(o.add(s),e.add(r),n.addProvider(t.provider,t.module))})}),e.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addExportedDirective(t)}),t.exportedPipes.forEach(function(t){return n.addExportedPipe(t)})}),t.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addDirective(t)}),t.exportedPipes.forEach(function(t){return n.addPipe(t)})}),n},t.prototype._getIdentifierMetadata=function(t){return t=Object(tr._30)(t),{reference:t}},t.prototype.isInjectable=function(t){return this._reflector.annotations(t).some(function(t){return t.constructor===tr.C})},t.prototype.getInjectableSummary=function(t){return{summaryKind:Fr.Injectable,type:this._getTypeMetadata(t,null,!1)}},t.prototype._getInjectableMetadata=function(t,e){void 0===e&&(e=null);var n=this._loadSummary(t,Fr.Injectable);return n?n.type:this._getTypeMetadata(t,e)},t.prototype._getTypeMetadata=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var i=this._getIdentifierMetadata(t);return{reference:i.reference,diDeps:this._getDependenciesMetadata(i.reference,e,n),lifecycleHooks:an(this._reflector,i.reference)}},t.prototype._getFactoryMetadata=function(t,e){return void 0===e&&(e=null),t=Object(tr._30)(t),{reference:t,diDeps:this._getDependenciesMetadata(t,e)}},t.prototype.getPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||this._reportError(g("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+vn(t)+"."),t),e||null},t.prototype.getPipeSummary=function(t){var e=this._loadSummary(t,Fr.Pipe);return e||this._reportError(g("Illegal state: Could not load the summary for pipe "+vn(t)+"."),t),e},t.prototype.getOrLoadPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e},t.prototype._loadPipeMetadata=function(t){t=Object(tr._30)(t);var e=this._pipeResolver.resolve(t),n=new Ur({type:this._getTypeMetadata(t),name:e.name,pure:!!e.pure});return this._pipeCache.set(t,n),this._summaryCache.set(t,n.toSummary()),n},t.prototype._getDependenciesMetadata=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=!1,o=e||this._reflector.parameters(t)||[],s=o.map(function(t){var e=!1,n=!1,o=!1,s=!1,a=!1,l=null;return Array.isArray(t)?t.forEach(function(t){t instanceof tr.y?n=!0:t instanceof tr._7?o=!0:t instanceof tr._8?s=!0:t instanceof tr.S?a=!0:t instanceof tr.h?(e=!0,l=t.attributeName):t instanceof tr.B?l=t.token:t instanceof tr.D?l=t:fn(t)&&null==l&&(l=t)}):l=t,null==l?(r=!0,null):{isAttribute:e,isHost:n,isSelf:o,isSkipSelf:s,isOptional:a,token:i._getTokenMetadata(l)}});if(r){var a=s.map(function(t){return t?vn(t.token):"?"}).join(", "),l="Can't resolve all parameters for "+vn(t)+": ("+a+").";n?this._reportError(g(l),t):this._console.warn("Warning: "+l+" This will become an error in Angular v5.x")}return s},t.prototype._getTokenMetadata=function(t){t=Object(tr._30)(t);return"string"==typeof t?{value:t}:{identifier:{reference:t}}},t.prototype._getProvidersMetadata=function(t,e,n,i,r){var o=this;return void 0===i&&(i=[]),t.forEach(function(s,a){if(Array.isArray(s))o._getProvidersMetadata(s,e,n,i);else{s=Object(tr._30)(s);var l=void 0;if(s&&"object"==typeof s&&s.hasOwnProperty("provide"))o._validateProvider(s),l=new Wr(s.provide,s);else{if(!fn(s)){if(void 0===s)return void o._reportError(g("Encountered undefined provider! Usually this means you have a circular dependencies (might be caused by using 'barrel' index.ts files."));var u=t.reduce(function(t,e,n){return n<a?t.push(""+vn(e)):n==a?t.push("?"+vn(e)+"?"):n==a+1&&t.push("..."),t},[]).join(", ");return void o._reportError(g("Invalid "+(n||"provider")+" - only instances of Provider and Type are allowed, got: ["+u+"]"),r)}l=new Wr(s,{useClass:s})}l.token===o._reflector.resolveExternalReference(qa.ANALYZE_FOR_ENTRY_COMPONENTS)?e.push.apply(e,o._getEntryComponentsFromProvider(l,r)):i.push(o.getProviderMetadata(l))}}),i},t.prototype._validateProvider=function(t){t.hasOwnProperty("useClass")&&null==t.useClass&&this._reportError(g("Invalid provider for "+vn(t.provide)+". useClass cannot be "+t.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},t.prototype._getEntryComponentsFromProvider=function(t,e){var n=this,i=[],r=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(g("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(mn(t.useValue,r),r.forEach(function(t){var e=n._getEntryComponentMetadata(t.reference,!1);e&&i.push(e)}),i):(this._reportError(g("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[])},t.prototype._getEntryComponentMetadata=function(t,e){void 0===e&&(e=!0);var n=this.getNonNormalizedDirectiveMetadata(t);if(n&&n.metadata.isComponent)return{componentType:t,componentFactory:n.metadata.componentFactory};var i=this._loadSummary(t,Fr.Directive);if(i&&i.isComponent)return{componentType:t,componentFactory:i.componentFactory};if(e)throw g(t.name+" cannot be used as an entry component.");return null},t.prototype.getProviderMetadata=function(t){var e=void 0,n=null,i=null,r=this._getTokenMetadata(t.token);return t.useClass?(n=this._getInjectableMetadata(t.useClass,t.dependencies),e=n.diDeps,t.token===t.useClass&&(r={identifier:n})):t.useFactory&&(i=this._getFactoryMetadata(t.useFactory,t.dependencies),e=i.diDeps),{token:r,useClass:n,useValue:t.useValue,useFactory:i,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):void 0,deps:e,multi:t.multi}},t.prototype._getQueriesMetadata=function(t,e,n){var i=this,r=[];return Object.keys(t).forEach(function(o){var s=t[o];s.isViewQuery===e&&r.push(i._getQueryMetadata(s,o,n))}),r},t.prototype._queryVarBindings=function(t){return t.split(/\s*,\s*/)},t.prototype._getQueryMetadata=function(t,e,n){var i,r=this;return"string"==typeof t.selector?i=this._queryVarBindings(t.selector).map(function(t){return r._getTokenMetadata(t)}):t.selector?i=[this._getTokenMetadata(t.selector)]:(this._reportError(g("Can't construct a query for the property \""+e+'" of "'+vn(n)+"\" since the query selector wasn't defined."),n),i=[]),{selectors:i,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null}},t.prototype._reportError=function(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)},t}();ou.decorators=[{type:z}],ou.ctorParameters=function(){return[{type:Gr},{type:tu},{type:Gl},{type:eu},{type:nu},{type:rl},{type:Wl},{type:tr._38},{type:gr,decorators:[{type:tr.S}]},{type:Yr},{type:void 0,decorators:[{type:tr.S},{type:tr.B,args:[ru]}]}]};var su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.visitOther=function(t,e){e.push({reference:t})},e}(Ar),au={};au.Const=0,au[au.Const]="Const";var lu=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.visitType=function(t,e){},t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),uu={};uu.Dynamic=0,uu.Bool=1,uu.String=2,uu.Int=3,uu.Number=4,uu.Function=5,uu.Inferred=6,uu[uu.Dynamic]="Dynamic",uu[uu.Bool]="Bool",uu[uu.String]="String",uu[uu.Int]="Int",uu[uu.Number]="Number",uu[uu.Function]="Function",uu[uu.Inferred]="Inferred";var cu=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,n)||this;return i.name=e,i}return $i.a(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltintType(this,e)},e}(lu),hu=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,n)||this;return i.value=e,i}return $i.a(e,t),e.prototype.visitType=function(t,e){return t.visitExpressionType(this,e)},e}(lu),pu=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,n)||this;return i.of=e,i}return $i.a(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(lu),du=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,n)||this;return i.valueType=e||null,i}return $i.a(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(lu),fu=new cu(uu.Dynamic),mu=new cu(uu.Inferred),vu=new cu(uu.Bool),yu=(new cu(uu.Int),new cu(uu.Number),new cu(uu.String),new cu(uu.Function),{});yu.Equals=0,yu.NotEquals=1,yu.Identical=2,yu.NotIdentical=3,yu.Minus=4,yu.Plus=5,yu.Divide=6,yu.Multiply=7,yu.Modulo=8,yu.And=9,yu.Or=10,yu.Lower=11,yu.LowerEquals=12,yu.Bigger=13,yu.BiggerEquals=14,yu[yu.Equals]="Equals",yu[yu.NotEquals]="NotEquals",yu[yu.Identical]="Identical",yu[yu.NotIdentical]="NotIdentical",yu[yu.Minus]="Minus",yu[yu.Plus]="Plus",yu[yu.Divide]="Divide",yu[yu.Multiply]="Multiply",yu[yu.Modulo]="Modulo",yu[yu.And]="And",yu[yu.Or]="Or",yu[yu.Lower]="Lower",yu[yu.LowerEquals]="LowerEquals",yu[yu.Bigger]="Bigger",yu[yu.BiggerEquals]="BiggerEquals";var gu=function(){function t(t,e){this.type=t||null,this.sourceSpan=e||null}return t.prototype.visitExpression=function(t,e){},t.prototype.prop=function(t,e){return new Fu(this,t,null,e)},t.prototype.key=function(t,e,n){return new Hu(this,t,e,n)},t.prototype.callMethod=function(t,e,n){return new Su(this,t,e,null,n)},t.prototype.callFn=function(t,e){return new Tu(this,t,null,e)},t.prototype.instantiate=function(t,e,n){return new ku(this,t,e,n)},t.prototype.conditional=function(t,e,n){return void 0===e&&(e=null),new Au(this,t,e,null,n)},t.prototype.equals=function(t,e){return new Ru(yu.Equals,this,t,null,e)},t.prototype.notEquals=function(t,e){return new Ru(yu.NotEquals,this,t,null,e)},t.prototype.identical=function(t,e){return new Ru(yu.Identical,this,t,null,e)},t.prototype.notIdentical=function(t,e){return new Ru(yu.NotIdentical,this,t,null,e)},t.prototype.minus=function(t,e){return new Ru(yu.Minus,this,t,null,e)},t.prototype.plus=function(t,e){return new Ru(yu.Plus,this,t,null,e)},t.prototype.divide=function(t,e){return new Ru(yu.Divide,this,t,null,e)},t.prototype.multiply=function(t,e){return new Ru(yu.Multiply,this,t,null,e)},t.prototype.modulo=function(t,e){return new Ru(yu.Modulo,this,t,null,e)},t.prototype.and=function(t,e){return new Ru(yu.And,this,t,null,e)},t.prototype.or=function(t,e){return new Ru(yu.Or,this,t,null,e)},t.prototype.lower=function(t,e){return new Ru(yu.Lower,this,t,null,e)},t.prototype.lowerEquals=function(t,e){return new Ru(yu.LowerEquals,this,t,null,e)},t.prototype.bigger=function(t,e){return new Ru(yu.Bigger,this,t,null,e)},t.prototype.biggerEquals=function(t,e){return new Ru(yu.BiggerEquals,this,t,null,e)},t.prototype.isBlank=function(t){return this.equals(Wu,t)},t.prototype.cast=function(t,e){return new Nu(this,t,e)},t.prototype.toStmt=function(){return new Qu(this,null)},t}(),bu={};bu.This=0,bu.Super=1,bu.CatchError=2,bu.CatchStack=3,bu[bu.This]="This",bu[bu.Super]="Super",bu[bu.CatchError]="CatchError",bu[bu.CatchStack]="CatchStack";var wu=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return"string"==typeof e?(r.name=e,r.builtin=null):(r.name=null,r.builtin=e),r}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){if(!this.name)throw new Error("Built in variable "+this.builtin+" can not be assigned to.");return new _u(this.name,t,null,this.sourceSpan)},e}(gu),_u=function(t){function e(e,n,i,r){var o=t.call(this,i||n.type,r)||this;return o.name=e,o.value=n,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return new Xu(this.name,this.value,t,e,this.sourceSpan)},e}(gu),Cu=function(t){function e(e,n,i,r,o){var s=t.call(this,r||i.type,o)||this;return s.receiver=e,s.index=n,s.value=i,s}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(gu),Eu=function(t){function e(e,n,i,r,o){var s=t.call(this,r||i.type,o)||this;return s.receiver=e,s.name=n,s.value=i,s}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(gu),xu={};xu.ConcatArray=0,xu.SubscribeObservable=1,xu.Bind=2,xu[xu.ConcatArray]="ConcatArray",xu[xu.SubscribeObservable]="SubscribeObservable",xu[xu.Bind]="Bind";var Su=function(t){function e(e,n,i,r,o){var s=t.call(this,r,o)||this;return s.receiver=e,s.args=i,"string"==typeof n?(s.name=n,s.builtin=null):(s.name=null,s.builtin=n),s}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(gu),Tu=function(t){function e(e,n,i,r){var o=t.call(this,i,r)||this;return o.fn=e,o.args=n,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(gu),ku=function(t){function e(e,n,i,r){var o=t.call(this,i,r)||this;return o.classExpr=e,o.args=n,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(gu),Mu=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return r.value=e,r}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(gu),Du=function(t){function e(e,n,i,r){void 0===i&&(i=null);var o=t.call(this,n,r)||this;return o.value=e,o.typeParams=i,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitExternalExpr(this,e)},e}(gu),Pu=function(){function t(t,e,n){this.moduleName=t,this.name=e,this.runtime=n}return t}(),Au=function(t){function e(e,n,i,r,o){void 0===i&&(i=null);var s=t.call(this,r||n.type,o)||this;return s.condition=e,s.falseCase=i,s.trueCase=n,s}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(gu),Ou=function(t){function e(e,n){var i=t.call(this,vu,n)||this;return i.condition=e,i}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(gu),Iu=function(t){function e(e,n){var i=t.call(this,e.type,n)||this;return i.condition=e,i}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitAssertNotNullExpr(this,e)},e}(gu),Nu=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return r.value=e,r}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(gu),Lu=function(){function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t}(),Vu=function(t){function e(e,n,i,r){var o=t.call(this,i,r)||this;return o.params=e,o.statements=n,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new Ku(t,this.params,this.statements,this.type,e,this.sourceSpan)},e}(gu),Ru=function(t){function e(e,n,i,r,o){var s=t.call(this,r||n.type,o)||this;return s.operator=e,s.rhs=i,s.lhs=n,s}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(gu),Fu=function(t){function e(e,n,i,r){var o=t.call(this,i,r)||this;return o.receiver=e,o.name=n,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new Eu(this.receiver,this.name,t,null,this.sourceSpan)},e}(gu),Hu=function(t){function e(e,n,i,r){var o=t.call(this,i,r)||this;return o.receiver=e,o.index=n,o}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new Cu(this.receiver,this.index,t,null,this.sourceSpan)},e}(gu),ju=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return r.entries=e,r}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(gu),Bu=function(){function t(t,e,n){this.key=t,this.value=e,this.quoted=n}return t}(),Uu=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return r.entries=e,r.valueType=null,n&&(r.valueType=n.valueType),r}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(gu),qu=function(t){function e(e,n){var i=t.call(this,e[e.length-1].type,n)||this;return i.parts=e,i}return $i.a(e,t),e.prototype.visitExpression=function(t,e){return t.visitCommaExpr(this,e)},e}(gu),zu=(new wu(bu.This,null,null),new wu(bu.Super,null,null),new wu(bu.CatchError,null,null),new wu(bu.CatchStack,null,null),new Mu(null,null,null)),Wu=new Mu(null,mu,null),Yu={};Yu.Final=0,Yu.Private=1,Yu.Exported=2,Yu[Yu.Final]="Final",Yu[Yu.Private]="Private",Yu[Yu.Exported]="Exported";var Gu=function(){function t(t,e){this.modifiers=t||[],this.sourceSpan=e||null}return t.prototype.visitStatement=function(t,e){},t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),Xu=function(t){function e(e,n,i,r,o){void 0===r&&(r=null);var s=t.call(this,r,o)||this;return s.name=e,s.value=n,s.type=i||n.type,s}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(Gu),Ku=function(t){function e(e,n,i,r,o,s){void 0===o&&(o=null);var a=t.call(this,o,s)||this;return a.name=e,a.params=n,a.statements=i,a.type=r||null,a}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(Gu),Qu=function(t){function e(e,n){var i=t.call(this,null,n)||this;return i.expr=e,i}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(Gu),Zu=function(t){function e(e,n){var i=t.call(this,null,n)||this;return i.value=e,i}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(Gu),Ju=function(){function t(t,e){this.modifiers=e,e||(this.modifiers=[]),this.type=t||null}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),$u=function(t){function e(e,n,i,r,o){void 0===o&&(o=null);var s=t.call(this,r,o)||this;return s.name=e,s.params=n,s.body=i,s}return $i.a(e,t),e}(Ju),tc=function(t){function e(e,n,i,r){void 0===r&&(r=null);var o=t.call(this,i,r)||this;return o.name=e,o.body=n,o}return $i.a(e,t),e}(Ju),ec=function(t){function e(e,n,i,r,o,s,a,l){void 0===a&&(a=null);var u=t.call(this,a,l)||this;return u.name=e,u.parent=n,u.fields=i,u.getters=r,u.constructorMethod=o,u.methods=s,u}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(Gu),nc=function(t){function e(e,n,i,r){void 0===i&&(i=[]);var o=t.call(this,null,r)||this;return o.condition=e,o.trueCase=n,o.falseCase=i,o}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(Gu),ic=(function(t){function e(e,n){var i=t.call(this,null,n)||this;return i.comment=e,i}$i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitCommentStmt(this,e)}}(Gu),function(t){function e(e,n,i){var r=t.call(this,null,i)||this;return r.bodyStmts=e,r.catchStmts=n,r}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(Gu)),rc=function(t){function e(e,n){var i=t.call(this,null,n)||this;return i.error=e,i}return $i.a(e,t),e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(Gu),oc=function(){function t(){}return t.prototype.transformExpr=function(t,e){return t},t.prototype.transformStmt=function(t,e){return t},t.prototype.visitReadVarExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitWriteVarExpr=function(t,e){return this.transformExpr(new _u(t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWriteKeyExpr=function(t,e){return this.transformExpr(new Cu(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWritePropExpr=function(t,e){return this.transformExpr(new Eu(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeMethodExpr=function(t,e){var n=t.builtin||t.name;return this.transformExpr(new Su(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeFunctionExpr=function(t,e){return this.transformExpr(new Tu(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInstantiateExpr=function(t,e){return this.transformExpr(new ku(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitExternalExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitConditionalExpr=function(t,e){return this.transformExpr(new Au(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitNotExpr=function(t,e){return this.transformExpr(new Ou(t.condition.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitAssertNotNullExpr=function(t,e){return this.transformExpr(new Iu(t.condition.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCastExpr=function(t,e){return this.transformExpr(new Nu(t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitFunctionExpr=function(t,e){return this.transformExpr(new Vu(t.params,this.visitAllStatements(t.statements,e),t.type,t.sourceSpan),e)},t.prototype.visitBinaryOperatorExpr=function(t,e){return this.transformExpr(new Ru(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitReadPropExpr=function(t,e){return this.transformExpr(new Fu(t.receiver.visitExpression(this,e),t.name,t.type,t.sourceSpan),e)},t.prototype.visitReadKeyExpr=function(t,e){return this.transformExpr(new Hu(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralArrayExpr=function(t,e){return this.transformExpr(new ju(this.visitAllExpressions(t.entries,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,i=t.entries.map(function(t){return new Bu(t.key,t.value.visitExpression(n,e),t.quoted)}),r=new du(t.valueType,null);return this.transformExpr(new Uu(i,r,t.sourceSpan),e)},t.prototype.visitCommaExpr=function(t,e){return this.transformExpr(new qu(this.visitAllExpressions(t.parts,e),t.sourceSpan),e)},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return this.transformStmt(new Xu(t.name,t.value.visitExpression(this,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.transformStmt(new Ku(t.name,t.params,this.visitAllStatements(t.statements,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitExpressionStmt=function(t,e){return this.transformStmt(new Qu(t.expr.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitReturnStmt=function(t,e){return this.transformStmt(new Zu(t.value.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitDeclareClassStmt=function(t,e){var n=this,i=t.parent.visitExpression(this,e),r=t.getters.map(function(t){return new tc(t.name,n.visitAllStatements(t.body,e),t.type,t.modifiers)}),o=t.constructorMethod&&new $u(t.constructorMethod.name,t.constructorMethod.params,this.visitAllStatements(t.constructorMethod.body,e),t.constructorMethod.type,t.constructorMethod.modifiers),s=t.methods.map(function(t){return new $u(t.name,t.params,n.visitAllStatements(t.body,e),t.type,t.modifiers)});return this.transformStmt(new ec(t.name,i,t.fields,r,o,s,t.modifiers,t.sourceSpan),e)},t.prototype.visitIfStmt=function(t,e){return this.transformStmt(new nc(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t.sourceSpan),e)},t.prototype.visitTryCatchStmt=function(t,e){return this.transformStmt(new ic(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t.sourceSpan),e)},t.prototype.visitThrowStmt=function(t,e){return this.transformStmt(new rc(t.error.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCommentStmt=function(t,e){return this.transformStmt(t,e)},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),sc=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitAssertNotNullExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitFunctionExpr=function(t,e){return this.visitAllStatements(t.statements,e),t},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),t},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),t},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t.value.visitExpression(n,e)}),t},t.prototype.visitCommaExpr=function(t,e){this.visitAllExpressions(t.parts,e)},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.visitAllStatements(t.statements,e),t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){var n=this;return t.parent.visitExpression(this,e),t.getters.forEach(function(t){return n.visitAllStatements(t.body,e)}),t.constructorMethod&&this.visitAllStatements(t.constructorMethod.body,e),t.methods.forEach(function(t){return n.visitAllStatements(t.body,e)}),t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),ac=function(t){function e(){var e=t.apply(this,arguments)||this;return e.varNames=new Set,e}return $i.a(e,t),e.prototype.visitDeclareFunctionStmt=function(t,e){return t},e.prototype.visitDeclareClassStmt=function(t,e){return t},e.prototype.visitReadVarExpr=function(t,e){return t.name&&this.varNames.add(t.name),null},e}(sc),lc=function(t){function e(e){var n=t.call(this)||this;return n.sourceSpan=e,n}return $i.a(e,t),e.prototype._clone=function(t){var e=Object.create(t.constructor.prototype);for(var n in t)e[n]=t[n];return e},e.prototype.transformExpr=function(t,e){return t.sourceSpan||(t=this._clone(t),t.sourceSpan=this.sourceSpan),t},e.prototype.transformStmt=function(t,e){return t.sourceSpan||(t=this._clone(t),t.sourceSpan=this.sourceSpan),t},e}(oc),uc=function(){function t(t){this.ctx=t}return t.prototype.visitArray=function(t,e){var n=this;return Sn(t.map(function(t){return m(t,n,null)}),e)},t.prototype.visitStringMap=function(t,e){var n=this,i=[],r=new Set(t&&t.$quoted$);return Object.keys(t).forEach(function(e){i.push(new Bu(e,m(t[e],n,null),r.has(e)))}),new Uu(i,e)},t.prototype.visitPrimitive=function(t,e){return Pn(t,e)},t.prototype.visitOther=function(t,e){return t instanceof gu?t:this.ctx.importExpr(t)},t}(),cc=function(){function t(t){this.ngModuleFactoryVar=t}return t}(),hc=_n("_l"),pc=function(){function t(t){this.reflector=t}return t.prototype.compile=function(t,e,n){var i=ut("NgModule",e.type),r=e.transitiveModule.entryComponents,o=e.bootstrapComponents,s=new il(this.reflector,e,n,i),a=[Fn(this.reflector,t,0,r)].concat(s.parse().map(function(e){return On(t,e)})).map(function(t){var e=t.providerExpr,n=t.depsExpr,i=t.flags,r=t.tokenExpr;return Cn(qa.moduleProviderDef).callFn([Pn(i),r,e,n])}),l=Cn(qa.moduleDef).callFn([Sn(a)]),u=Dn([new Lu(hc.name)],[new Zu(l)],mu),c=E(e.type)+"NgFactory";if(this._createNgModuleFactory(t,e.type.reference,Cn(qa.createModuleFactory).callFn([t.importExpr(e.type.reference),Sn(o.map(function(e){return t.importExpr(e.reference)})),u])),e.id){var h=Cn(qa.RegisterModuleFactoryFn).callFn([Pn(e.id),_n(c)]).toStmt();t.statements.push(h)}return new cc(c)},t.prototype.createStub=function(t,e){this._createNgModuleFactory(t,e,zu)},t.prototype._createNgModuleFactory=function(t,e,n){var i=E({reference:e})+"NgFactory",r=_n(i).set(n).toDeclStmt(En(qa.NgModuleFactory,[xn(t.importExpr(e))],[au.Const]),[Yu.Final,Yu.Exported]);t.statements.push(r)},t}();pc.decorators=[{type:z}],pc.ctorParameters=function(){return[{type:Yr}]};var dc=function(){function t(t){void 0===t&&(t=null),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return t.prototype.addSource=function(t,e){return void 0===e&&(e=null),this.sourcesContent.has(t)||this.sourcesContent.set(t,e),this},t.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},t.prototype.addMapping=function(t,e,n,i){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=e&&!this.sourcesContent.has(e))throw new Error('Unknown source file "'+e+'"');if(null==t)throw new Error("The column in the generated code must be provided");if(t<this.lastCol0)throw new Error("Mapping should be added in output order");if(e&&(null==n||null==i))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=t,this.currentLine.push({col0:t,sourceUrl:e,sourceLine0:n,sourceCol0:i}),this},Object.defineProperty(t.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var t=this;if(!this.hasMappings)return null;var e=new Map,n=[],i=[];Array.from(this.sourcesContent.keys()).forEach(function(r,o){e.set(r,o),n.push(r),i.push(t.sourcesContent.get(r)||null)});var r="",o=0,s=0,a=0,l=0;return this.lines.forEach(function(t){o=0,r+=t.map(function(t){var n=jn(t.col0-o);return o=t.col0,null!=t.sourceUrl&&(n+=jn(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=jn(t.sourceLine0-a),a=t.sourceLine0,n+=jn(t.sourceCol0-l),l=t.sourceCol0),n}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:n,sourcesContent:i,mappings:r}},t.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+Hn(JSON.stringify(this,null,0)):""},t}(),fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mc=/'|\\|\n|\r|\$/g,vc=/^[$A-Z_][0-9A-Z_$]*$/i,yc="  ",gc=_n("error",null,null),bc=_n("stack",null,null),wc=function(){function t(t){this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]}return t}(),_c=function(){function t(t){this._indent=t,this._classes=[],this._preambleLineCount=0,this._lines=[new wc(t)]}return t.createRoot=function(){return new t(0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.println=function(t,e){void 0===e&&(e=""),this.print(t||null,e,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.lineLength=function(){return this._currentLine.indent*yc.length+this._currentLine.partsLength},t.prototype.print=function(t,e,n){void 0===n&&(n=!1),e.length>0&&(this._currentLine.parts.push(e),this._currentLine.partsLength+=e.length,this._currentLine.srcSpans.push(t&&t.sourceSpan||null)),n&&this._lines.push(new wc(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},t.prototype.decIndent=function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){return this.sourceLines.map(function(t){return t.parts.length>0?qn(t.indent)+t.parts.join(""):""}).join("\n")},t.prototype.toSourceMapGenerator=function(t,e,n){void 0===n&&(n=0);for(var i=new dc(e),r=!1,o=function(){r||(i.addSource(t," ").addMapping(0,t,0,0),r=!0)},s=0;s<n;s++)i.addLine(),o();return this.sourceLines.forEach(function(t,e){i.addLine();for(var n=t.srcSpans,s=t.parts,a=t.indent*yc.length,l=0;l<n.length&&!n[l];)a+=s[l].length,l++;for(l<n.length&&0===e&&0===a?r=!0:o();l<n.length;){var u=n[l],c=u.start.file,h=u.start.line,p=u.start.col;for(i.addSource(c.url,c.content).addMapping(a,c.url,h,p),a+=s[l].length,l++;l<n.length&&(u===n[l]||!n[l]);)a+=s[l].length,l++}}),i},t.prototype.setPreambleLineCount=function(t){return this._preambleLineCount=t},t.prototype.spanOf=function(t,e){var n=this._lines[t-this._preambleLineCount];if(n)for(var i=e-qn(n.indent).length,r=0;r<n.parts.length;r++){var o=n.parts[r];if(o.length>i)return n.srcSpans[r];i-=o.length}return null},Object.defineProperty(t.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),t}(),Cc=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print(t,"return "),t.value.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCastExpr=function(t,e){},t.prototype.visitDeclareClassStmt=function(t,e){},t.prototype.visitIfStmt=function(t,e){e.print(t,"if ("),t.condition.visitExpression(this,e),e.print(t,") {");var n=null!=t.falseCase&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(t," "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(t," ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println(t,"} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println(t,"}"),null},t.prototype.visitTryCatchStmt=function(t,e){},t.prototype.visitThrowStmt=function(t,e){return e.print(t,"throw "),t.error.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCommentStmt=function(t,e){return t.comment.split("\n").forEach(function(n){e.println(t,"// "+n)}),null},t.prototype.visitDeclareVarStmt=function(t,e){},t.prototype.visitWriteVarExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),e.print(t,t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"] = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWritePropExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var n=t.name;return null!=t.builtin&&null==(n=this.getBuiltinMethodName(t.builtin))?null:(e.print(t,"."+n+"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null)},t.prototype.getBuiltinMethodName=function(t){},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(null!=t.builtin)switch(t.builtin){case bu.Super:n="super";break;case bu.This:n="this";break;case bu.CatchError:n=gc.name;break;case bu.CatchStack:n=bc.name;break;default:throw new Error("Unknown builtin variable "+t.builtin)}return e.print(t,n),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),t.classExpr.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitLiteralExpr=function(t,e){var n=t.value;return"string"==typeof n?e.print(t,Un(n,this._escapeDollarInStrings)):e.print(t,""+n),null},t.prototype.visitExternalExpr=function(t,e){},t.prototype.visitConditionalExpr=function(t,e){return e.print(t,"("),t.condition.visitExpression(this,e),e.print(t,"? "),t.trueCase.visitExpression(this,e),e.print(t,": "),t.falseCase.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitNotExpr=function(t,e){return e.print(t,"!"),t.condition.visitExpression(this,e),null},t.prototype.visitAssertNotNullExpr=function(t,e){return t.condition.visitExpression(this,e),null},t.prototype.visitFunctionExpr=function(t,e){},t.prototype.visitDeclareFunctionStmt=function(t,e){},t.prototype.visitBinaryOperatorExpr=function(t,e){var n;switch(t.operator){case yu.Equals:n="==";break;case yu.Identical:n="===";break;case yu.NotEquals:n="!=";break;case yu.NotIdentical:n="!==";break;case yu.And:n="&&";break;case yu.Or:n="||";break;case yu.Plus:n="+";break;case yu.Minus:n="-";break;case yu.Divide:n="/";break;case yu.Multiply:n="*";break;case yu.Modulo:n="%";break;case yu.Lower:n="<";break;case yu.LowerEquals:n="<=";break;case yu.Bigger:n=">";break;case yu.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+t.operator)}return e.print(t,"("),t.lhs.visitExpression(this,e),e.print(t," "+n+" "),t.rhs.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"."),e.print(t,t.name),null},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){return e.print(t,"["),this.visitAllExpressions(t.entries,e,","),e.print(t,"]"),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return e.print(t,"{"),this.visitAllObjects(function(i){e.print(t,Un(i.key,n._escapeDollarInStrings,i.quoted)+":"),i.value.visitExpression(n,e)},t.entries,e,","),e.print(t,"}"),null},t.prototype.visitCommaExpr=function(t,e){return e.print(t,"("),this.visitAllExpressions(t.parts,e,","),e.print(t,")"),null},t.prototype.visitAllExpressions=function(t,e,n){var i=this;this.visitAllObjects(function(t){return t.visitExpression(i,e)},t,e,n)},t.prototype.visitAllObjects=function(t,e,n,i){for(var r=!1,o=0;o<e.length;o++)o>0&&(n.lineLength()>80?(n.print(null,i,!0),r||(n.incIndent(),n.incIndent(),r=!0)):n.print(null,i,!1)),t(e[o]);r&&(n.decIndent(),n.decIndent())},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),Ec=(function(){function t(){}t.prototype.emitStatementsAndContext=function(t,e,n,i,r){void 0===i&&(i=""),void 0===r&&(r=!0);var o=new Ec,s=_c.createRoot();o.visitAllStatements(n,s);var a=i?i.split("\n"):[];o.reexports.forEach(function(t,e){var n=t.map(function(t){return t.name+" as "+t.as}).join(",");a.push("export {"+n+"} from '"+e+"';")}),o.importsWithPrefixes.forEach(function(t,e){a.push("import * as "+t+" from '"+e+"';")});var l=r?s.toSourceMapGenerator(t,e,a.length).toJsComment():"",u=a.concat([s.toSource(),l]);return l&&u.push(""),s.setPreambleLineCount(a.length),{sourceText:u.join("\n"),context:s}},t.prototype.emitStatements=function(t,e,n,i){return void 0===i&&(i=""),this.emitStatementsAndContext(t,e,n,i).sourceText}}(),function(t){function e(){var e=t.call(this,!1)||this;return e.typeExpression=0,e.importsWithPrefixes=new Map,e.reexports=new Map,e}return $i.a(e,t),e.prototype.visitType=function(t,e,n){void 0===n&&(n="any"),t?(this.typeExpression++,t.visitType(this,e),this.typeExpression--):e.print(null,n)},e.prototype.visitLiteralExpr=function(e,n){var i=e.value;return null==i&&e.type!=mu?(n.print(e,"("+i+" as any)"),null):t.prototype.visitLiteralExpr.call(this,e,n)},e.prototype.visitLiteralArrayExpr=function(e,n){0===e.entries.length&&n.print(e,"(");var i=t.prototype.visitLiteralArrayExpr.call(this,e,n);return 0===e.entries.length&&n.print(e," as any[])"),i},e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitAssertNotNullExpr=function(e,n){var i=t.prototype.visitAssertNotNullExpr.call(this,e,n);return n.print(e,"!"),i},e.prototype.visitDeclareVarStmt=function(t,e){if(t.hasModifier(Yu.Exported)&&t.value instanceof Du&&!t.type){var n=t.value.value,i=n.name,r=n.moduleName;if(r){var o=this.reexports.get(r);return o||(o=[],this.reexports.set(r,o)),o.push({name:i,as:t.name}),null}}return t.hasModifier(Yu.Exported)&&e.print(t,"export "),t.hasModifier(Yu.Final)?e.print(t,"const"):e.print(t,"var"),e.print(t," "+t.name),this._printColonType(t.type,e),e.print(t," = "),t.value.visitExpression(this,e),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return e.print(t,"(<"),t.type.visitType(this,e),e.print(t,">"),t.value.visitExpression(this,e),e.print(t,")"),null},e.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),this.typeExpression++,t.classExpr.visitExpression(this,e),this.typeExpression--,e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),t.hasModifier(Yu.Exported)&&e.print(t,"export "),e.print(t,"class "+t.name),null!=t.parent&&(e.print(t," extends "),this.typeExpression++,t.parent.visitExpression(this,e),this.typeExpression--),e.println(t," {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),null!=t.constructorMethod&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println(t,"}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(Yu.Private)&&e.print(null,"/*private*/ "),e.print(null,t.name),this._printColonType(t.type,e),e.println(null,";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(Yu.Private)&&e.print(null,"private "),e.print(null,"get "+t.name+"()"),this._printColonType(t.type,e),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype._visitClassConstructor=function(t,e){e.print(t,"constructor("),this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println(t,"}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(Yu.Private)&&e.print(null,"private "),e.print(null,t.name+"("),this._visitParams(t.params,e),e.print(null,")"),this._printColonType(t.type,e,"void"),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," => {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return t.hasModifier(Yu.Exported)&&e.print(t,"export "),e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+gc.name+") {"),e.incIndent();var n=[bc.set(gc.prop("stack",null)).toDeclStmt(null,[Yu.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitBuiltintType=function(t,e){var n;switch(t.name){case uu.Bool:n="boolean";break;case uu.Dynamic:n="any";break;case uu.Function:n="Function";break;case uu.Number:case uu.Int:n="number";break;case uu.String:n="string";break;default:throw new Error("Unsupported builtin type "+t.name)}return e.print(null,n),null},e.prototype.visitExpressionType=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitArrayType=function(t,e){return this.visitType(t.of,e),e.print(null,"[]"),null},e.prototype.visitMapType=function(t,e){return e.print(null,"{[key: string]:"),this.visitType(t.valueType,e),e.print(null,"}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case xu.ConcatArray:e="concat";break;case xu.SubscribeObservable:e="subscribe";break;case xu.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(null,t.name),n._printColonType(t.type,e)},t,e,",")},e.prototype._visitIdentifier=function(t,e,n){var i=this,r=t.name,o=t.moduleName;if(o){var s=this.importsWithPrefixes.get(o);null==s&&(s="i"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(o,s)),n.print(null,s+".")}if(n.print(null,r),this.typeExpression>0){(e||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(function(t){return t.visitType(i,n)},e,n,","),n.print(null,">"))}},e.prototype._printColonType=function(t,e,n){t!==mu&&(e.print(null,":"),this.visitType(t,e,n))},e}(Cc)),xc={};Wn(tr._6.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Wn(tr._6.STYLE,["*|style"]),Wn(tr._6.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Wn(tr._6.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var Sc="boolean",Tc="number",kc="string",Mc="object",Dc=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Pc={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ac=function(t){function e(){var e=t.call(this)||this;return e._schema={},Dc.forEach(function(t){var n={},i=t.split("|"),r=i[0],o=i[1],s=o.split(","),a=r.split("^"),l=a[0],u=a[1];l.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var c=u&&e._schema[u.toLowerCase()];c&&Object.keys(c).forEach(function(t){n[t]=c[t]}),s.forEach(function(t){if(t.length>0)switch(t[0]){case"*":break;case"!":n[t.substring(1)]=Sc;break;case"#":n[t.substring(1)]=Tc;break;case"%":n[t.substring(1)]=Mc;break;default:n[t]=kc}})}),e}return $i.a(e,t),e.prototype.hasProperty=function(t,e,n){if(n.some(function(t){return t.name===tr.L.name}))return!0;if(t.indexOf("-")>-1){if(o(t)||s(t))return!1;if(n.some(function(t){return t.name===tr.j.name}))return!0}return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[e]},e.prototype.hasElement=function(t,e){if(e.some(function(t){return t.name===tr.L.name}))return!0;if(t.indexOf("-")>-1){if(o(t)||s(t))return!0;if(e.some(function(t){return t.name===tr.j.name}))return!0}return!!this._schema[t.toLowerCase()]},e.prototype.securityContext=function(t,e,n){n&&(e=this.getMappedPropName(e)),t=t.toLowerCase(),e=e.toLowerCase();var i=xc[t+"|"+e];return i||((i=xc["*|"+e])||tr._6.NONE)},e.prototype.getMappedPropName=function(t){return Pc[t]||t},e.prototype.getDefaultComponentElementName=function(){return"ng-component"},e.prototype.validateProperty=function(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:"Binding to event property '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=...\nIf '"+t+"' is a directive input, make sure the directive is imported by the current module."}}return{error:!1}},e.prototype.validateAttribute=function(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:"Binding to event attribute '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=..."}}return{error:!1}},e.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},e.prototype.normalizeAnimationStyleProperty=function(t){return h(t)},e.prototype.normalizeAnimationStyleValue=function(t,e,n){var i="",r=n.toString().trim(),o=null;if(Yn(t)&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+e+":"+n)}return{error:o,value:r+i}},e}(rl);Ac.decorators=[{type:z}],Ac.ctorParameters=function(){return[]};var Oc=function(){function t(){this.strictStyling=!0}return t.prototype.shimCssText=function(t,e,n){void 0===n&&(n="");var i=Xn(t);return t=Gn(t),t=this._insertDirectives(t),this._scopeCssText(t,e,n)+i},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){return t.replace(Nc,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[2]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){return t.replace(Lc,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0].replace(t[1],"").replace(t[2],"");return t[4]+n})},t.prototype._scopeCssText=function(t,e,n){var i=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),t=t+"\n"+i,t.trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){var e,n="";for(Vc.lastIndex=0;null!==(e=Vc.exec(t));){n+=e[0].replace(e[2],"").replace(e[1],e[4])+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,jc,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,Bc,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t[2]){for(var i=t[2].split(","),r=[],o=0;o<i.length;o++){var s=i[o].trim();if(!s)break;r.push(n(Uc,s,t[3]))}return r.join(",")}return Uc+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return e.indexOf(Rc)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+e.replace(Rc,"")+n},t.prototype._convertShadowDOMSelectors=function(t){return zc.reduce(function(t,e){return t.replace(e," ")},t)},t.prototype._scopeSelectors=function(t,e,n){var i=this;return Kn(t,function(t){var r=t.selector,o=t.content;return"@"!=t.selector[0]?r=i._scopeSelector(t.selector,e,n,i.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(o=i._scopeSelectors(t.content,e,n)),new ih(r,o)})},t.prototype._scopeSelector=function(t,e,n,i){var r=this;return t.split(",").map(function(t){return t.trim().split(Wc)}).map(function(t){var o=t[0],s=t.slice(1);return[function(t){return r._selectorNeedsScoping(t,e)?i?r._applyStrictSelectorScope(t,e,n):r._applySelectorScope(t,e,n):t}(o)].concat(s).join(" ")}).join(", ")},t.prototype._selectorNeedsScoping=function(t,e){return!this._makeScopeMatcher(e).test(t)},t.prototype._makeScopeMatcher=function(t){var e=/\[/g,n=/\]/g;return t=t.replace(e,"\\[").replace(n,"\\]"),new RegExp("^("+t+")"+Yc,"m")},t.prototype._applySelectorScope=function(t,e,n){return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if(Gc.lastIndex=0,Gc.test(t)){var i=this.strictStyling?"["+n+"]":e;return t.replace(qc,function(t,e){return e.replace(/([^:]*)(:*)(.*)/,function(t,e,n,r){return e+i+n+r})}).replace(Gc,i+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e,n){var i=this,r=/\[is=([^\]]*)\]/g;e=e.replace(r,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]});var o="["+e+"]",s=function(t){var r=t.trim();if(!r)return"";if(t.indexOf(Uc)>-1)r=i._applySimpleSelectorScope(t,e,n);else{var s=t.replace(Gc,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);a&&(r=a[1]+o+a[2]+a[3])}}return r},a=new Ic(t);t=a.content();for(var l,u="",c=0,h=/( |>|\+|~(?!=))\s*/g,p=t.indexOf(Uc);null!==(l=h.exec(t));){var d=l[1],f=t.slice(c,l.index).trim();u+=(c>=p?s(f):f)+" "+d+" ",c=h.lastIndex}return u+=s(t.substring(c)),a.restore(u)},t.prototype._insertPolyfillHostInCssText=function(t){return t.replace(Kc,Fc).replace(Xc,Rc)},t}(),Ic=function(){function t(t){var e=this;this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,function(t,n){var i="__ph-"+e.index+"__";return e.placeholders.push(n),e.index++,i}),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(t,n,i){var r="__ph-"+e.index+"__";return e.placeholders.push(i),e.index++,n+r})}return t.prototype.restore=function(t){var e=this;return t.replace(/__ph-(\d+)__/g,function(t,n){return e.placeholders[+n]})},t.prototype.content=function(){return this._content},t}(),Nc=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Lc=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Vc=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Rc="-shadowcsshost",Fc="-shadowcsscontext",Hc=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",jc=new RegExp("("+Rc+Hc,"gim"),Bc=new RegExp("("+Fc+Hc,"gim"),Uc=Rc+"-no-combinator",qc=/-shadowcsshost-no-combinator([^\s]*)/,zc=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Wc=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Yc="([>\\s~+[.,{:][\\s\\S]*)?$",Gc=/-shadowcsshost/gim,Xc=/:host/gim,Kc=/:host-context/gim,Qc=/\/\*\s*[\s\S]*?\*\//g,Zc=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,Jc=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,$c=/([{}])/g,th="{",eh="}",nh="%BLOCK%",ih=function(){function t(t,e){this.selector=t,this.content=e}return t}(),rh=function(){function t(t,e){this.escapedString=t,this.blocks=e}return t}(),oh=function(){function t(t,e,n){this.name=t,this.moduleUrl=e,this.setValue=n}return t}(),sh=function(){function t(t,e,n,i,r){this.outputCtx=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=i,this.meta=r}return t}(),ah=function(){function t(t){this._urlResolver=t,this._shadowCss=new Oc}return t.prototype.compileComponent=function(t,e){var n=e.template;return this._compileStyles(t,e,new Hr({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:x(e.type)}),!0)},t.prototype.compileStyles=function(t,e,n){return this._compileStyles(t,e,n,!1)},t.prototype.needsStyleShim=function(t){return t.template.encapsulation===tr._19.Emulated},t.prototype._compileStyles=function(t,e,n,i){var r=this,o=this.needsStyleShim(e),s=n.styles.map(function(t){return Pn(r._shimIfNeeded(t,o))}),a=[];n.styleUrls.forEach(function(e){var n=s.length;s.push(null),a.push(new oh(Zn(null),e,function(e){return s[n]=t.importExpr(e)}))});var l=Zn(i?e:null),u=_n(l).set(Sn(s,new pu(fu,[au.Const]))).toDeclStmt(null,i?[Yu.Final]:[Yu.Final,Yu.Exported]);return t.statements.push(u),new sh(t,l,a,o,n)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,"_ngcontent-%COMP%","_nghost-%COMP%"):t},t}();ah.decorators=[{type:z}],ah.ctorParameters=function(){return[{type:Ul}]};var lh=function(){function t(){}return t}();lh.event=_n("$event");var uh=function(){function t(t,e){this.stmts=t,this.allowDefault=e}return t}(),ch=function(){function t(t,e){this.stmts=t,this.currValExpr=e}return t}(),hh={};hh.Statement=0,hh.Expression=1,hh[hh.Statement]="Statement",hh[hh.Expression]="Expression";var ph=function(t){function e(e){var n=t.call(this)||this;return n._converterFactory=e,n}return $i.a(e,t),e.prototype.visitPipe=function(t,e){var n=this,i=[t.exp].concat(t.args).map(function(t){return t.visit(n,e)});return new mh(t.span,i,this._converterFactory.createPipeConverter(t.name,i.length))},e.prototype.visitLiteralArray=function(t,e){var n=this,i=t.expressions.map(function(t){return t.visit(n,e)});return new mh(t.span,i,this._converterFactory.createLiteralArrayConverter(t.expressions.length))},e.prototype.visitLiteralMap=function(t,e){var n=this,i=t.values.map(function(t){return t.visit(n,e)});return new mh(t.span,i,this._converterFactory.createLiteralMapConverter(t.keys))},e}(Co),dh=function(){function t(t,e,n){this._localResolver=t,this._implicitReceiver=e,this.bindingId=n,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0}return t.prototype.visitBinary=function(t,e){var n;switch(t.operation){case"+":n=yu.Plus;break;case"-":n=yu.Minus;break;case"*":n=yu.Multiply;break;case"/":n=yu.Divide;break;case"%":n=yu.Modulo;break;case"&&":n=yu.And;break;case"||":n=yu.Or;break;case"==":n=yu.Equals;break;case"!=":n=yu.NotEquals;break;case"===":n=yu.Identical;break;case"!==":n=yu.NotIdentical;break;case"<":n=yu.Lower;break;case">":n=yu.Bigger;break;case"<=":n=yu.LowerEquals;break;case">=":n=yu.BiggerEquals;break;default:throw new Error("Unsupported operation "+t.operation)}return ai(e,new Ru(n,this._visit(t.left,hh.Expression),this._visit(t.right,hh.Expression)))},t.prototype.visitChain=function(t,e){return oi(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return ai(e,this._visit(t.condition,hh.Expression).conditional(this._visit(t.trueExp,hh.Expression),this._visit(t.falseExp,hh.Expression)))},t.prototype.visitPipe=function(t,e){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+t.name)},t.prototype.visitFunctionCall=function(t,e){var n,i=this.visitAll(t.args,hh.Expression);return n=t instanceof mh?t.converter(i):this._visit(t.target,hh.Expression).callFn(i),ai(e,n)},t.prototype.visitImplicitReceiver=function(t,e){return si(e,t),this._implicitReceiver},t.prototype.visitInterpolation=function(t,e){si(e,t);for(var n=[Pn(t.expressions.length)],i=0;i<t.strings.length-1;i++)n.push(Pn(t.strings[i])),n.push(this._visit(t.expressions[i],hh.Expression));return n.push(Pn(t.strings[t.strings.length-1])),t.expressions.length<=9?Cn(qa.inlineInterpolate).callFn(n):Cn(qa.interpolate).callFn([n[0],Sn(n.slice(1))])},t.prototype.visitKeyedRead=function(t,e){var n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):ai(e,this._visit(t.obj,hh.Expression).key(this._visit(t.key,hh.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var n=this._visit(t.obj,hh.Expression),i=this._visit(t.key,hh.Expression),r=this._visit(t.value,hh.Expression);return ai(e,n.key(i).set(r))},t.prototype.visitLiteralArray=function(t,e){throw new Error("Illegal State: literal arrays should have been converted into functions")},t.prototype.visitLiteralMap=function(t,e){throw new Error("Illegal State: literal maps should have been converted into functions")},t.prototype.visitLiteralPrimitive=function(t,e){return ai(e,Pn(t.value))},t.prototype._getLocal=function(t){return this._localResolver.getLocal(t)},t.prototype.visitMethodCall=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var i=this.visitAll(t.args,hh.Expression),r=null,o=this._visit(t.receiver,hh.Expression);if(o===this._implicitReceiver){var s=this._getLocal(t.name);s&&(r=s.callFn(i))}return null==r&&(r=o.callMethod(t.name,i)),ai(e,r)},t.prototype.visitPrefixNot=function(t,e){return ai(e,kn(this._visit(t.expression,hh.Expression)))},t.prototype.visitNonNullAssert=function(t,e){return ai(e,Mn(this._visit(t.expression,hh.Expression)))},t.prototype.visitPropertyRead=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var i=null,r=this._visit(t.receiver,hh.Expression);return r===this._implicitReceiver&&(i=this._getLocal(t.name)),null==i&&(i=r.prop(t.name)),ai(e,i)},t.prototype.visitPropertyWrite=function(t,e){var n=this._visit(t.receiver,hh.Expression);if(n===this._implicitReceiver){if(this._getLocal(t.name))throw new Error("Cannot assign to a reference or variable!")}return ai(e,n.prop(t.name).set(this._visit(t.value,hh.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitSafeMethodCall=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return n._visit(t,e)})},t.prototype.visitQuote=function(t,e){throw new Error("Quotes are not supported for evaluation!\n        Statement: "+t.uninterpretedExpression+" located at "+t.location)},t.prototype._visit=function(t,e){var n=this._resultMap.get(t);return n||(this._nodeMap.get(t)||t).visit(this,e)},t.prototype.convertSafeAccess=function(t,e,n){var i=this._visit(e.receiver,hh.Expression),r=void 0;this.needsTemporary(e.receiver)&&(r=this.allocateTemporary(),i=r.set(i),this._resultMap.set(e.receiver,r));var o=i.isBlank();e instanceof yo?this._nodeMap.set(e,new vo(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new no(e.span,e.receiver,e.name));var s=this._visit(t,hh.Expression);return this._nodeMap.delete(e),r&&this.releaseTemporary(r),ai(n,o.conditional(Pn(null),s))},t.prototype.leftMostSafeNode=function(t){var e=this,n=function(t,n){return(e._nodeMap.get(n)||n).visit(t)};return t.visit({visitBinary:function(t){return null},visitChain:function(t){return null},visitConditional:function(t){return null},visitFunctionCall:function(t){return null},visitImplicitReceiver:function(t){return null},visitInterpolation:function(t){return null},visitKeyedRead:function(t){return n(this,t.obj)},visitKeyedWrite:function(t){return null},visitLiteralArray:function(t){return null},visitLiteralMap:function(t){return null},visitLiteralPrimitive:function(t){return null},visitMethodCall:function(t){return n(this,t.receiver)},visitPipe:function(t){return null},visitPrefixNot:function(t){return null},visitNonNullAssert:function(t){return null},visitPropertyRead:function(t){return n(this,t.receiver)},visitPropertyWrite:function(t){return null},visitQuote:function(t){return null},visitSafeMethodCall:function(t){return n(this,t.receiver)||t},visitSafePropertyRead:function(t){return n(this,t.receiver)||t}})},t.prototype.needsTemporary=function(t){var e=this,n=function(t,n){return n&&(e._nodeMap.get(n)||n).visit(t)},i=function(t,e){return e.some(function(e){return n(t,e)})};return t.visit({visitBinary:function(t){return n(this,t.left)||n(this,t.right)},visitChain:function(t){return!1},visitConditional:function(t){return n(this,t.condition)||n(this,t.trueExp)||n(this,t.falseExp)},visitFunctionCall:function(t){return!0},visitImplicitReceiver:function(t){return!1},visitInterpolation:function(t){return i(this,t.expressions)},visitKeyedRead:function(t){return!1},visitKeyedWrite:function(t){return!1},visitLiteralArray:function(t){return!0},visitLiteralMap:function(t){return!0},visitLiteralPrimitive:function(t){return!1},visitMethodCall:function(t){return!0},visitPipe:function(t){return!0},visitPrefixNot:function(t){return n(this,t.expression)},visitNonNullAssert:function(t){return n(this,t.expression)},visitPropertyRead:function(t){return!1},visitPropertyWrite:function(t){return!1},visitQuote:function(t){return!1},visitSafeMethodCall:function(t){return!0},visitSafePropertyRead:function(t){return!1}})},t.prototype.allocateTemporary=function(){var t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new wu(ni(this.bindingId,t))},t.prototype.releaseTemporary=function(t){if(this._currentTemporary--,t.name!=ni(this.bindingId,this._currentTemporary))throw new Error("Temporary "+t.name+" released out of order")},t}(),fh=function(){function t(){}return t.prototype.getLocal=function(t){return t===lh.event.name?lh.event:null},t}(),mh=function(t){function e(e,n,i){var r=t.call(this,e,null,n)||this;return r.args=n,r.converter=i,r}return $i.a(e,t),e}(go),vh="class",yh="style",gh=function(){function t(t,e){this.viewClassVar=t,this.rendererTypeVar=e}return t}(),bh=function(){function t(t){this._reflector=t}return t.prototype.compileComponent=function(t,e,n,i,r){var o=this,s=0,a=gi(n),l=void 0;if(!e.isHost){var u=e.template,c=[];u.animations&&u.animations.length&&c.push(new Bu("animation",An(t,u.animations),!0));var h=_n(T(e.type.reference));l=h.name,t.statements.push(h.set(Cn(qa.createRendererType2).callFn([new Uu([new Bu("encapsulation",Pn(u.encapsulation),!1),new Bu("styles",i,!1),new Bu("data",new Uu(c),!1)])])).toDeclStmt(En(qa.RendererType2),[Yu.Final,Yu.Exported]))}var p=function(n){var i=s++;return new Th(o._reflector,t,n,e,i,r,a,p)},d=p(null);return d.visitAll([],n),(f=t.statements).push.apply(f,d.build()),new gh(d.viewName,l);var f},t}();bh.decorators=[{type:z}],bh.ctorParameters=function(){return[{type:Yr}]};var wh=_n("_l"),_h=_n("_v"),Ch=_n("_ck"),Eh=_n("_co"),xh=_n("en"),Sh=_n("ad"),Th=function(){function t(t,e,n,i,r,o,s,a){this.reflector=t,this.outputCtx=e,this.parent=n,this.component=i,this.embeddedViewIndex=r,this.usedPipes=o,this.staticQueryIds=s,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?fu:xn(e.importExpr(this.component.type.reference))}return Object.defineProperty(t.prototype,"viewName",{get:function(){return S(this.component.type.reference,this.embeddedViewIndex)},enumerable:!0,configurable:!0}),t.prototype.visitAll=function(t,e){var n=this;if(this.variables=t,this.parent||this.usedPipes.forEach(function(t){t.pure&&(n.purePipeNodeIndices[t.name]=n._createPipe(null,t))}),!this.parent){var r=bi(this.staticQueryIds);this.component.viewQueries.forEach(function(t,e){var i=e+1,o=t.first?0:1,s=134217728|_i(r,i,t.first);n.nodes.push(function(){return{sourceSpan:null,nodeFlags:s,nodeDef:Cn(qa.queryDef).callFn([Pn(s),Pn(i),new Uu([new Bu(t.propertyName,Pn(o),!1)])])}})})}i(this,e),this.parent&&(0===e.length||pi(e))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:Cn(qa.anchorDef).callFn([Pn(0),zu,zu,Pn(0)])}})},t.prototype.build=function(t){void 0===t&&(t=[]),this.children.forEach(function(e){return e.build(t)});var e=this._createNodeExpressions(),n=e.updateRendererStmts,i=e.updateDirectivesStmts,r=e.nodeDefExprs,o=this._createUpdateFn(n),s=this._createUpdateFn(i),a=0;this.parent||this.component.changeDetection!==tr.k.OnPush||(a|=2);var l=new Ku(this.viewName,[new Lu(wh.name)],[new Zu(Cn(qa.viewDef).callFn([Pn(a),Sn(r),s,o]))],En(qa.ViewDefinition),0===this.embeddedViewIndex?[Yu.Exported]:[]);return t.push(l),t},t.prototype._createUpdateFn=function(t){var e;if(t.length>0){var n=[];!this.component.isHost&&gn(t).has(Eh.name)&&n.push(Eh.set(_h.prop("component")).toDeclStmt(this.compType)),e=Dn([new Lu(Ch.name,mu),new Lu(_h.name,mu)],n.concat(t),mu)}else e=zu;return e},t.prototype.visitNgContent=function(t,e){this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:8,nodeDef:Cn(qa.ngContentDef).callFn([Pn(t.ngContentIndex),Pn(t.index)])}})},t.prototype.visitText=function(t,e){this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:Cn(qa.textDef).callFn([Pn(-1),Pn(t.ngContentIndex),Sn([Pn(t.value)])])}})},t.prototype.visitBoundText=function(t,e){var n=this,i=this.nodes.length;this.nodes.push(null);var r=t.value,o=r.ast,s=o.expressions.map(function(e,r){return n._preprocessUpdateExpression({nodeIndex:i,bindingIndex:r,sourceSpan:t.sourceSpan,context:Eh,value:e})}),a=i;this.nodes[i]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:Cn(qa.textDef).callFn([Pn(a),Pn(t.ngContentIndex),Sn(o.strings.map(function(t){return Pn(t)}))]),updateRenderer:s}}},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this,i=this.nodes.length;this.nodes.push(null);var r=this._visitElementOrTemplate(i,t),o=r.flags,s=r.queryMatchesExpr,a=r.hostEvents,l=this.viewBuilderFactory(this);this.children.push(l),l.visitAll(t.variables,t.children);var u=this.nodes.length-i-1;this.nodes[i]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|o,nodeDef:Cn(qa.anchorDef).callFn([Pn(o),s,Pn(t.ngContentIndex),Pn(u),n._createElementHandleEventFn(i,a),_n(l.viewName)])}}},t.prototype.visitElement=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var s=o(t.name)?null:t.name,a=this._visitElementOrTemplate(r,t),l=a.flags,u=a.usedEvents,c=a.queryMatchesExpr,h=a.hostBindings,p=a.hostEvents,d=[],f=[],m=[];if(s){var v=t.inputs.map(function(t){return{context:Eh,inputAst:t,dirAst:null}}).concat(h);v.length&&(f=v.map(function(t,e){return n._preprocessUpdateExpression({context:t.context,nodeIndex:r,bindingIndex:e,sourceSpan:t.inputAst.sourceSpan,value:t.inputAst.value})}),d=v.map(function(t){return di(t.inputAst,t.dirAst)})),m=u.map(function(t){var e=t[0],n=t[1];return Sn([Pn(e),Pn(n)])})}i(this,t.children);var y=this.nodes.length-r-1,g=t.directives.find(function(t){return t.directive.isComponent}),b=zu,w=zu;g&&(w=this.outputCtx.importExpr(g.directive.componentViewType),b=this.outputCtx.importExpr(g.directive.rendererType));var _=r;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|l,nodeDef:Cn(qa.elementDef).callFn([Pn(_),Pn(l),c,Pn(t.ngContentIndex),Pn(y),Pn(s),s?fi(t):zu,d.length?Sn(d):zu,m.length?Sn(m):zu,n._createElementHandleEventFn(r,p),w,b]),updateRenderer:f}}},t.prototype._visitElementOrTemplate=function(t,e){var n=this,i=0;e.hasViewContainer&&(i|=16777216);var r=new Map;e.outputs.forEach(function(t){var e=wi(t,null),n=e.name,i=e.target;r.set(Object(tr._49)(i,n),[i,n])}),e.directives.forEach(function(t){t.hostEvents.forEach(function(e){var n=wi(e,t),i=n.name,o=n.target;r.set(Object(tr._49)(o,i),[o,i])})});var o=[],s=[];this._visitComponentFactoryResolverProvider(e.directives),e.providers.forEach(function(i,a){var l=void 0,u=void 0;if(e.directives.forEach(function(t,e){t.directive.type.reference===P(i.token)&&(l=t,u=e)}),l){var c=n._visitDirective(i,l,u,t,e.references,e.queryMatches,r,n.staticQueryIds.get(e)),h=c.hostBindings,p=c.hostEvents;o.push.apply(o,h),s.push.apply(s,p)}else n._visitProvider(i,e.queryMatches)});var a=[];return e.queryMatches.forEach(function(t){var e=void 0;P(t.value)===n.reflector.resolveExternalReference(qa.ElementRef)?e=0:P(t.value)===n.reflector.resolveExternalReference(qa.ViewContainerRef)?e=3:P(t.value)===n.reflector.resolveExternalReference(qa.TemplateRef)&&(e=2),null!=e&&a.push(Sn([Pn(t.queryId),Pn(e)]))}),e.references.forEach(function(e){var i=void 0;e.value?P(e.value)===n.reflector.resolveExternalReference(qa.TemplateRef)&&(i=2):i=1,null!=i&&(n.refNodeIndices[e.name]=t,a.push(Sn([Pn(e.name),Pn(i)])))}),e.outputs.forEach(function(t){s.push({context:Eh,eventAst:t,dirAst:null})}),{flags:i,usedEvents:Array.from(r.values()),queryMatchesExpr:a.length?Sn(a):zu,hostBindings:o,hostEvents:s}},t.prototype._visitDirective=function(t,e,n,i,r,o,s,a){var l=this,u=this.nodes.length;this.nodes.push(null),e.directive.queries.forEach(function(t,n){var i=e.contentQueryStartId+n,r=67108864|_i(a,i,t.first),o=t.first?0:1;l.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:r,nodeDef:Cn(qa.queryDef).callFn([Pn(r),Pn(i),new Uu([new Bu(t.propertyName,Pn(o),!1)])])}})});var c=this.nodes.length-u-1,h=this._visitProviderOrDirective(t,o),p=h.flags,d=h.queryMatchExprs,f=h.providerExpr,m=h.depsExpr;r.forEach(function(e){e.value&&P(e.value)===P(t.token)&&(l.refNodeIndices[e.name]=u,d.push(Sn([Pn(e.name),Pn(4)])))}),e.directive.isComponent&&(p|=32768);var v=e.inputs.map(function(t,e){var n=Sn([Pn(e),Pn(t.directiveName)]);return new Bu(t.directiveName,n,!1)}),y=[],g=e.directive;Object.keys(g.outputs).forEach(function(t){var e=g.outputs[t];s.has(e)&&y.push(new Bu(t,Pn(e),!1))});var b=[];(e.inputs.length||(327680&p)>0)&&(b=e.inputs.map(function(t,e){return l._preprocessUpdateExpression({nodeIndex:u,bindingIndex:e,sourceSpan:t.sourceSpan,context:Eh,value:t.value})}));var w=Cn(qa.nodeValue).callFn([_h,Pn(u)]),_=e.hostProperties.map(function(t){return{context:w,dirAst:e,inputAst:t}}),C=e.hostEvents.map(function(t){return{context:w,eventAst:t,dirAst:e}}),E=u;return this.nodes[u]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:16384|p,nodeDef:Cn(qa.directiveDef).callFn([Pn(E),Pn(p),d.length?Sn(d):zu,Pn(c),f,m,v.length?new Uu(v):zu,y.length?new Uu(y):zu]),updateDirectives:b,directive:e.directive.type}},{hostBindings:_,hostEvents:C}},t.prototype._visitProvider=function(t,e){this._addProviderNode(this._visitProviderOrDirective(t,e))},t.prototype._visitComponentFactoryResolverProvider=function(t){var e=t.find(function(t){return t.directive.isComponent});if(e&&e.directive.entryComponents.length){var n=Fn(this.reflector,this.outputCtx,8192,e.directive.entryComponents),i=n.providerExpr,r=n.depsExpr,o=n.flags,s=n.tokenExpr;this._addProviderNode({providerExpr:i,depsExpr:r,flags:o,tokenExpr:s,queryMatchExprs:[],sourceSpan:e.sourceSpan})}},t.prototype._addProviderNode=function(t){this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:t.flags,nodeDef:Cn(qa.providerDef).callFn([Pn(t.flags),t.queryMatchExprs.length?Sn(t.queryMatchExprs):zu,t.tokenExpr,t.providerExpr,t.depsExpr])}})},t.prototype._visitProviderOrDirective=function(t,e){var n=[];e.forEach(function(e){P(e.value)===P(t.token)&&n.push(Sn([Pn(e.queryId),Pn(4)]))});var i=On(this.outputCtx,t),r=i.providerExpr,o=i.depsExpr,s=i.flags,a=i.tokenExpr;return{flags:0|s,queryMatchExprs:n,providerExpr:r,depsExpr:o,tokenExpr:a,sourceSpan:t.sourceSpan}},t.prototype.getLocal=function(t){if(t==lh.event.name)return lh.event;for(var e=_h,n=this;n;n=n.parent,e=e.prop("parent").cast(fu)){var i=n.refNodeIndices[t];if(null!=i)return Cn(qa.nodeValue).callFn([e,Pn(i)]);var r=n.variables.find(function(e){return e.name===t});if(r){var o=r.value||"$implicit";return e.prop("context").prop(o)}}return null},t.prototype._createLiteralArrayConverter=function(t,e){if(0===e){var n=Cn(qa.EMPTY_ARRAY);return function(){return n}}var i=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:32,nodeDef:Cn(qa.pureArrayDef).callFn([Pn(i),Pn(e)])}}),function(t){return vi(i,t)}},t.prototype._createLiteralMapConverter=function(t,e){if(0===e.length){var n=Cn(qa.EMPTY_MAP);return function(){return n}}var i=Tn(e.map(function(t,e){return Object.assign({},t,{value:Pn(e)})})),r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:64,nodeDef:Cn(qa.pureObjectDef).callFn([Pn(r),i])}}),function(t){return vi(r,t)}},t.prototype._createPipeConverter=function(t,e,n){var i=this.usedPipes.find(function(t){return t.name===e});if(i.pure){var r=this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:128,nodeDef:Cn(qa.purePipeDef).callFn([Pn(r),Pn(n)])}});for(var o=_h,s=this;s.parent;)s=s.parent,o=o.prop("parent").cast(fu);var a=s.purePipeNodeIndices[e],l=Cn(qa.nodeValue).callFn([o,Pn(a)]);return function(e){return yi(t.nodeIndex,t.bindingIndex,vi(r,[l].concat(e)))}}var u=this._createPipe(t.sourceSpan,i),c=Cn(qa.nodeValue).callFn([_h,Pn(u)]);return function(e){return yi(t.nodeIndex,t.bindingIndex,c.callMethod("transform",e))}},t.prototype._createPipe=function(t,e){var n=this,i=this.nodes.length,r=0;e.type.lifecycleHooks.forEach(function(t){t===Jl.OnDestroy&&(r|=Rn(t))});var o=e.type.diDeps.map(function(t){return Vn(n.outputCtx,t)});return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:16,nodeDef:Cn(qa.pipeDef).callFn([Pn(r),n.outputCtx.importExpr(e.type.reference),Sn(o)])}}),i},t.prototype._preprocessUpdateExpression=function(t){var e=this;return{nodeIndex:t.nodeIndex,bindingIndex:t.bindingIndex,sourceSpan:t.sourceSpan,context:t.context,value:$n({createLiteralArrayConverter:function(n){return e._createLiteralArrayConverter(t.sourceSpan,n)},createLiteralMapConverter:function(n){return e._createLiteralMapConverter(t.sourceSpan,n)},createPipeConverter:function(n,i){return e._createPipeConverter(t,n,i)}},t.value)}},t.prototype._createNodeExpressions=function(){function t(t,i,r,o){var s=[],a=r.map(function(t){var i=t.sourceSpan,r=t.context,o=t.value,a=""+n++,l=r===Eh?e:null,u=ti(l,r,o,a),c=u.stmts,h=u.currValExpr;return s.push.apply(s,c.map(function(t){return bn(t,i)})),wn(h,i)});return(r.length||o)&&s.push(bn(vi(t,a).toStmt(),i)),s}var e=this,n=0,i=[],r=[],o=this.nodes.map(function(e,n){var o=e(),s=o.nodeDef,a=o.nodeFlags,l=o.updateDirectives,u=o.updateRenderer,c=o.sourceSpan;return u&&i.push.apply(i,t(n,c,u,!1)),l&&r.push.apply(r,t(n,c,l,(327680&a)>0)),wn(3&a?new qu([wh.callFn([]).callFn([]),s]):s,c)});return{updateRendererStmts:i,updateDirectivesStmts:r,nodeDefExprs:o}},t.prototype._createElementHandleEventFn=function(t,e){var n=this,i=[],r=0;e.forEach(function(t){var e=t.context,o=t.eventAst,s=t.dirAst,a=""+r++,l=e===Eh?n:null,u=Jn(l,e,o.handler,a),c=u.stmts,h=u.allowDefault,p=c;h&&p.push(Sh.set(h.and(Sh)).toStmt());var d=wi(o,s),f=d.target,m=d.name,v=Object(tr._49)(f,m);i.push(bn(new nc(Pn(v).identical(xh),p),o.sourceSpan))});var o;if(i.length>0){var s=[Sh.set(Pn(!0)).toDeclStmt(vu)];!this.component.isHost&&gn(i).has(Eh.name)&&s.push(Eh.set(_h.prop("component")).toDeclStmt(this.compType)),o=Dn([new Lu(_h.name,mu),new Lu(xh.name,mu),new Lu(lh.event.name,mu)],s.concat(i,[new Zu(Sh)]),mu)}else o=zu;return o},t.prototype.visitDirective=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t}(),kh=function(){function t(t,e,n){this.srcFileUrl=t,this.genFileUrl=e,"string"==typeof n?(this.source=n,this.stmts=null):(this.source=null,this.stmts=n)}return t}(),Mh=function(t){function e(e,n){var i=t.call(this)||this;return i.symbolResolver=e,i.summaryResolver=n,i.symbols=[],i.indexBySymbol=new Map,i.processedSummaryBySymbol=new Map,i.processedSummaries=[],i}return $i.a(e,t),e.prototype.addOrMergeSummary=function(t){var e=t.metadata;if(e&&"class"===e.__symbolic){var n={};Object.keys(e).forEach(function(t){"decorators"!==t&&(n[t]=e[t])}),e=n}var i=this.processedSummaryBySymbol.get(t.symbol);i||(i=this.processValue({symbol:t.symbol}),this.processedSummaries.push(i),this.processedSummaryBySymbol.set(t.symbol,i)),null==i.metadata&&null!=e&&(i.metadata=this.processValue(e)),null==i.type&&null!=t.type&&(i.type=this.processValue(t.type))},e.prototype.serialize=function(){var t=this,e=[];return{json:JSON.stringify({summaries:this.processedSummaries,symbols:this.symbols.map(function(n,i){n.assertNoMembers();var r=void 0;return t.summaryResolver.isLibraryFile(n.filePath)&&(r=n.name+"_"+i,e.push({symbol:n,exportAs:r})),{__symbol:i,name:n.name,filePath:t.summaryResolver.getLibraryFileName(n.filePath),importAs:r}})}),exportAs:e}},e.prototype.processValue=function(t){return m(t,this,null)},e.prototype.visitOther=function(t,e){if(t instanceof yr){var n=this.symbolResolver.getStaticSymbol(t.filePath,t.name),i=this.indexBySymbol.get(n);return null==i&&(i=this.indexBySymbol.size,this.indexBySymbol.set(n,i),this.symbols.push(n)),{__symbol:i,members:t.members}}},e}(Ar),Dh=function(){function t(t,e){this.outputCtx=t,this.symbolResolver=e,this.data=new Map}return t.prototype.addSourceType=function(t,e){this.data.set(t.type.reference,{summary:t,metadata:e,isLibrary:!1})},t.prototype.addLibType=function(t){this.data.set(t.type.reference,{summary:t,metadata:null,isLibrary:!0})},t.prototype.serialize=function(t){var e=this,n=new Set;Array.from(this.data.values()).forEach(function(t){var i=t.summary,r=t.metadata,o=t.isLibrary;if(i.summaryKind===Fr.NgModule){n.add(i.type.reference);i.modules.forEach(function(t){n.add(t.reference)})}if(!o){rn(i.type.reference.name);Si(e.outputCtx,i.type.reference,e.serializeSummaryWithDeps(i,r))}}),t.forEach(function(t){var i=t.symbol;if(n.has(i)){var r=rn(t.exportAs);e.outputCtx.statements.push(_n(r).set(e.serializeSummaryRef(i)).toDeclStmt(null,[Yu.Exported]))}})},t.prototype.serializeSummaryWithDeps=function(t,e){var n=this,i=[this.serializeSummary(t)],r=[];if(e instanceof qr)i.push.apply(i,e.declaredDirectives.concat(e.declaredPipes).map(function(t){return t.reference}).concat(e.transitiveModule.modules.map(function(t){return t.reference}).filter(function(t){return t!==e.type.reference})).map(function(t){return n.serializeSummaryRef(t)})),r=e.providers;else if(t.summaryKind===Fr.Directive){var o=t;r=o.providers.concat(o.viewProviders)}return i.push.apply(i,r.filter(function(t){return!!t.useClass}).map(function(t){return n.serializeSummary({summaryKind:Fr.Injectable,type:t.useClass})})),Sn(i)},t.prototype.serializeSummaryRef=function(t){var e=this.symbolResolver.getStaticSymbol(en(t.filePath),rn(t.name));return this.outputCtx.importExpr(e)},t.prototype.serializeSummary=function(t){var e=this.outputCtx;return m(t,new(function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return Sn(t.map(function(t){return m(t,n,e)}))},t.prototype.visitStringMap=function(t,e){var n=this;return new Uu(Object.keys(t).map(function(i){return new Bu(i,m(t[i],n,e),!1)}))},t.prototype.visitPrimitive=function(t,e){return Pn(t)},t.prototype.visitOther=function(t,n){if(t instanceof yr)return e.importExpr(t);throw new Error("Illegal State: Encountered value "+t)},t}()),null)},t}(),Ph=function(t){function e(e){var n=t.call(this)||this;return n.symbolCache=e,n}return $i.a(e,t),e.prototype.deserialize=function(t){var e=this,n=JSON.parse(t),i=[];return this.symbols=[],n.symbols.forEach(function(t){var n=e.symbolCache.get(t.filePath,t.name);e.symbols.push(n),t.importAs&&i.push({symbol:n,importAs:t.importAs})}),{summaries:m(n.summaries,this,null),importAs:i}},e.prototype.visitStringMap=function(e,n){if("__symbol"in e){var i=this.symbols[e.__symbol],r=e.members;return r.length?this.symbolCache.get(i.filePath,i.name,r):i}return t.prototype.visitStringMap.call(this,e,n)},e}(Ar),Ah=(function(){function t(t,e,n,i,r,o,s,a,l,u,c,h,p,d){this._config=t,this._host=e,this._reflector=n,this._metadataResolver=i,this._templateParser=r,this._styleCompiler=o,this._viewCompiler=s,this._ngModuleCompiler=a,this._outputEmitter=l,this._summaryResolver=u,this._localeId=c,this._translationFormat=h,this._enableSummariesForJit=p,this._symbolResolver=d}t.prototype.clearCache=function(){this._metadataResolver.clearCache()},t.prototype.analyzeModulesSync=function(t){var e=this,n=Oi(this._symbolResolver,t,this._host),i=Pi(n,this._host,this._metadataResolver);return i.ngModules.forEach(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!0)}),i},t.prototype.analyzeModulesAsync=function(t){var e=this,n=Oi(this._symbolResolver,t,this._host),i=Pi(n,this._host,this._metadataResolver);return Promise.all(i.ngModules.map(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){return i})},t.prototype.emitAllStubs=function(t){var e=this;return I(t.files.map(function(t){return e._compileStubFile(t.srcUrl,t.directives,t.pipes,t.ngModules,!1)}))},t.prototype.emitPartialStubs=function(t){var e=this;return I(t.files.map(function(t){return e._compileStubFile(t.srcUrl,t.directives,t.pipes,t.ngModules,!0)}))},t.prototype.emitAllImpls=function(t){var e=this,n=t.ngModuleByPipeOrDirective;return I(t.files.map(function(t){return e._compileImplFile(t.srcUrl,n,t.directives,t.pipes,t.ngModules,t.injectables)}))},t.prototype._compileStubFile=function(t,e,n,i,r){var o=this,s=$e(t,!0)[1],a=[],l=this._createOutputContext(Qe(t,!0)),u=this._createOutputContext(en(t,!0));i.forEach(function(t){o._ngModuleCompiler.createStub(l,t),xi(u,t)});var c=!1,h=!1;return e.forEach(function(t){var e=o._metadataResolver.getDirectiveMetadata(t);c=!0,e.isComponent&&(e.template.externalStylesheets.forEach(function(t){var n=o._createOutputContext(Mi(t.moduleUrl,o._styleCompiler.needsStyleShim(e),s));Ti(n,qa.ComponentFactory),a.push(o._codegenSourceModule(t.moduleUrl,n))}),h=!0)}),(h||!r)&&l.statements.length<=0&&Ti(l,qa.ComponentFactory),(c||!r||n&&n.length>0)&&u.statements.length<=0&&Ti(u,qa.ComponentFactory),a.push(this._codegenSourceModule(t,l)),this._enableSummariesForJit&&a.push(this._codegenSourceModule(t,u)),a},t.prototype._compileImplFile=function(t,e,n,i,r,o){var s=this,a=$e(t,!0)[1],l=[],u=this._createOutputContext(Qe(t,!0));if(l.push.apply(l,this._createSummary(t,n,i,r,o,u)),r.forEach(function(t){return s._compileModule(u,t)}),n.forEach(function(t){var n=s._metadataResolver.getDirectiveMetadata(t);if(n.isComponent){var i=e.get(t);if(!i)throw new Error("Internal Error: cannot determine the module for component "+E(n.type)+"!");var r=s._styleCompiler.compileComponent(u,n);n.template.externalStylesheets.forEach(function(t){l.push(s._codegenStyles(t.moduleUrl,n,t,a))});s._compileComponent(u,n,i,i.transitiveModule.directives,r,a);s._compileComponentFactory(u,n,i,a)}}),u.statements.length>0){var c=this._codegenSourceModule(t,u);l.unshift(c)}return l},t.prototype._createSummary=function(t,e,n,i,r,o){var s=this,a=this._symbolResolver.getSymbolsOf(t).map(function(t){return s._symbolResolver.resolveSymbol(t)}),l=i.map(function(t){return{summary:s._metadataResolver.getNgModuleSummary(t),metadata:s._metadataResolver.getNgModuleMetadata(t)}}).concat(e.map(function(t){return{summary:s._metadataResolver.getDirectiveSummary(t),metadata:s._metadataResolver.getDirectiveMetadata(t)}}),n.map(function(t){return{summary:s._metadataResolver.getPipeSummary(t),metadata:s._metadataResolver.getPipeMetadata(t)}}),r.map(function(t){return{summary:s._metadataResolver.getInjectableSummary(t),metadata:s._metadataResolver.getInjectableSummary(t).type}})),u=this._createOutputContext(en(t,!0)),c=Ci(u,this._summaryResolver,this._symbolResolver,a,l),h=c.json;c.exportAs.forEach(function(t){o.statements.push(_n(t.exportAs).set(o.importExpr(t.symbol)).toDeclStmt(null,[Yu.Exported]))});var p=new kh(t,tn(t),h);return this._enableSummariesForJit?[p,this._codegenSourceModule(t,u)]:[p]},t.prototype._compileModule=function(t,e){var n=this._metadataResolver.getNgModuleMetadata(e),i=[];if(this._localeId){var r=this._localeId.replace(/_/g,"-");i.push({token:de(this._reflector,qa.LOCALE_ID),useValue:r})}this._translationFormat&&i.push({token:de(this._reflector,qa.TRANSLATIONS_FORMAT),useValue:this._translationFormat}),this._ngModuleCompiler.compile(t,n,i)},t.prototype._compileComponentFactory=function(t,e,n,i){var r=this._metadataResolver.getHostComponentType(e.type.reference),o=A(r,e,this._metadataResolver.getHostComponentViewClass(r)),s=this._compileComponent(t,o,n,[e.type],null,i).viewClassVar,a=M(e.type.reference),l=[];for(var u in e.inputs){var c=e.inputs[u];l.push(new Bu(u,Pn(c),!1))}var h=[];for(var u in e.outputs){var c=e.outputs[u];h.push(new Bu(u,Pn(c),!1))}t.statements.push(_n(a).set(Cn(qa.createComponentFactory).callFn([Pn(e.selector),t.importExpr(e.type.reference),_n(s),new Uu(l),new Uu(h),Sn(e.template.ngContentSelectors.map(function(t){return Pn(t)}))])).toDeclStmt(En(qa.ComponentFactory,[xn(t.importExpr(e.type.reference))],[au.Const]),[Yu.Final,Yu.Exported]))},t.prototype._compileComponent=function(t,e,n,i,r,o){var s=this,a=i.map(function(t){return s._metadataResolver.getDirectiveSummary(t.reference)}),l=n.transitiveModule.pipes.map(function(t){return s._metadataResolver.getPipeSummary(t.reference)}),u=e.template.preserveWhitespaces,c=this._templateParser.parse(e,e.template.template,a,l,n.schemas,L(n.type,e,e.template),u),h=c.template,p=c.pipes,d=r?_n(r.stylesVar):Sn([]),f=this._viewCompiler.compileComponent(t,e,h,d,p);return r&&ki(this._symbolResolver,r,this._styleCompiler.needsStyleShim(e),o),f},t.prototype._createOutputContext=function(t){var e=this;return{statements:[],genFilePath:t,importExpr:function(n,i){if(void 0===i&&(i=null),!(n instanceof yr))throw new Error("Internal error: unknown identifier "+JSON.stringify(n));var r=e._symbolResolver.getTypeArity(n)||0,o=e._symbolResolver.getImportAs(n)||n,s=o.filePath,a=o.name,l=o.members,u=e._symbolResolver.fileNameToModuleName(s,t),c=e._symbolResolver.fileNameToModuleName(t,t),h=u===c?null:u,p=i||[],d=r-p.length,f=p.concat(new Array(d).fill(fu));return l.reduce(function(t,e){return t.prop(e)},Cn(new Pu(h,a,null),f))}}},t.prototype._codegenStyles=function(t,e,n,i){var r=this._createOutputContext(Mi(n.moduleUrl,this._styleCompiler.needsStyleShim(e),i)),o=this._styleCompiler.compileStyles(r,e,n);return ki(this._symbolResolver,o,this._styleCompiler.needsStyleShim(e),i),this._codegenSourceModule(t,r)},t.prototype._codegenSourceModule=function(t,e){return new kh(t,e.genFilePath,e.statements)}}(),"@angular/core"),Oh=/^\$.*\$$/,Ih={__symbolic:"ignore"},Nh="useValue",Lh="provide",Vh=new Set([Nh,"useFactory","data"]),Rh=function(){function t(t,e,n,i,r){void 0===n&&(n=[]),void 0===i&&(i=[]);var o=this;this.summaryResolver=t,this.symbolResolver=e,this.errorRecorder=r,this.annotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.conversionMap=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.annotationNames=new Map,this.initializeConversionMap(),n.forEach(function(t){return o._registerDecoratorOrConstructor(o.getStaticSymbol(t.filePath,t.name),t.ctor)}),i.forEach(function(t){return o._registerFunction(o.getStaticSymbol(t.filePath,t.name),t.fn)}),this.annotationForParentClassWithSummaryKind.set(Fr.Directive,[tr.u,tr.o]),this.annotationForParentClassWithSummaryKind.set(Fr.Pipe,[tr.X]),this.annotationForParentClassWithSummaryKind.set(Fr.NgModule,[tr.M]),this.annotationForParentClassWithSummaryKind.set(Fr.Injectable,[tr.C,tr.X,tr.u,tr.o,tr.M]),this.annotationNames.set(tr.u,"Directive"),this.annotationNames.set(tr.o,"Component"),this.annotationNames.set(tr.X,"Pipe"),this.annotationNames.set(tr.M,"NgModule"),this.annotationNames.set(tr.C,"Injectable")}return t.prototype.componentModuleUrl=function(t){var e=this.findSymbolDeclaration(t);return this.symbolResolver.getResourcePath(e)},t.prototype.resolveExternalReference=function(t){var e=this.getStaticSymbol(t.moduleName,t.name),n=this.findDeclaration(t.moduleName,t.name);return e!=n&&this.symbolResolver.recordImportAs(n,e),n},t.prototype.findDeclaration=function(t,e,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(t,e,n))},t.prototype.tryFindDeclaration=function(t,e){var n=this;return this.symbolResolver.ignoreErrorsFor(function(){return n.findDeclaration(t,e)})},t.prototype.findSymbolDeclaration=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata instanceof yr?this.findSymbolDeclaration(e.metadata):t},t.prototype.annotations=function(t){var e=this,n=this.annotationCache.get(t);if(!n){n=[];var i=this.getTypeMetadata(t),r=this.findParentType(t,i);if(r){var o=this.annotations(r);n.push.apply(n,o)}var s=[];if(i.decorators&&(s=this.simplify(t,i.decorators),n.push.apply(n,s)),r&&!this.summaryResolver.isLibraryFile(t.filePath)&&this.summaryResolver.isLibraryFile(r.filePath)){var a=this.summaryResolver.resolveSummary(r);if(a&&a.type){var l=this.annotationForParentClassWithSummaryKind.get(a.type.summaryKind);l.some(function(t){return s.some(function(e){return e instanceof t})})||this.reportError(g("Class "+t.name+" in "+t.filePath+" extends from a "+Fr[a.type.summaryKind]+" in another compilation unit without duplicating the decorator. Please add a "+l.map(function(t){return e.annotationNames.get(t)}).join(" or ")+" decorator to the class."),t)}}this.annotationCache.set(t,n.filter(function(t){return!!t}))}return n},t.prototype.propMetadata=function(t){var e=this,n=this.propertyCache.get(t);if(!n){var i=this.getTypeMetadata(t);n={};var r=this.findParentType(t,i);if(r){var o=this.propMetadata(r);Object.keys(o).forEach(function(t){n[t]=o[t]})}var s=i.members||{};Object.keys(s).forEach(function(i){var r=s[i],o=r.find(function(t){return"property"==t.__symbolic||"method"==t.__symbolic}),a=[];n[i]&&a.push.apply(a,n[i]),n[i]=a,o&&o.decorators&&a.push.apply(a,e.simplify(t,o.decorators))}),this.propertyCache.set(t,n)}return n},t.prototype.parameters=function(t){var e=this;if(!(t instanceof yr))return this.reportError(new Error("parameters received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),[];try{var n=this.parameterCache.get(t);if(!n){var i=this.getTypeMetadata(t),r=this.findParentType(t,i),o=i?i.members:null,s=o?o.__ctor__:null;if(s){var a=s.find(function(t){return"constructor"==t.__symbolic}),l=a.parameters||[],u=this.simplify(t,a.parameterDecorators||[]);n=[],l.forEach(function(i,r){var o=[],s=e.trySimplify(t,i);s&&o.push(s);var a=u?u[r]:null;a&&o.push.apply(o,a),n.push(o)})}else r&&(n=this.parameters(r));n||(n=[]),this.parameterCache.set(t,n)}return n}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._methodNames=function(t){var e=this.methodCache.get(t);if(!e){var n=this.getTypeMetadata(t);e={};var i=this.findParentType(t,n);if(i){var r=this._methodNames(i);Object.keys(r).forEach(function(t){e[t]=r[t]})}var o=n.members||{};Object.keys(o).forEach(function(t){var n=o[t],i=n.some(function(t){return"method"==t.__symbolic});e[t]=e[t]||i}),this.methodCache.set(t,e)}return e},t.prototype.findParentType=function(t,e){var n=this.trySimplify(t,e.extends);if(n instanceof yr)return n},t.prototype.hasLifecycleHook=function(t,e){t instanceof yr||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(t)+" which is not a StaticSymbol"),t);try{return!!this._methodNames(t)[e]}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._registerDecoratorOrConstructor=function(t,e){this.conversionMap.set(t,function(t,n){return new(e.bind.apply(e,[void 0].concat(n)))})},t.prototype._registerFunction=function(t,e){this.conversionMap.set(t,function(t,n){return e.apply(void 0,n)})},t.prototype.initializeConversionMap=function(){this.injectionToken=this.findDeclaration(Ah,"InjectionToken"),this.opaqueToken=this.findDeclaration(Ah,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(Ah,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Host"),tr.y),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Injectable"),tr.C),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Self"),tr._7),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"SkipSelf"),tr._8),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Inject"),tr.B),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Optional"),tr.S),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Attribute"),tr.h),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"ContentChild"),tr.s),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"ContentChildren"),tr.t),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"ViewChild"),tr._16),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"ViewChildren"),tr._17),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Input"),tr.F),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Output"),tr.T),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Pipe"),tr.X),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"HostBinding"),tr.z),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"HostListener"),tr.A),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Directive"),tr.u),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Component"),tr.o),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"NgModule"),tr.M),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Host"),tr.y),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Self"),tr._7),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"SkipSelf"),tr._8),this._registerDecoratorOrConstructor(this.findDeclaration(Ah,"Optional"),tr.S),this._registerFunction(this.findDeclaration(Ah,"trigger"),tr._36),this._registerFunction(this.findDeclaration(Ah,"state"),tr._33),this._registerFunction(this.findDeclaration(Ah,"transition"),tr._35),this._registerFunction(this.findDeclaration(Ah,"style"),tr._34),this._registerFunction(this.findDeclaration(Ah,"animate"),tr._21),this._registerFunction(this.findDeclaration(Ah,"keyframes"),tr._28),this._registerFunction(this.findDeclaration(Ah,"sequence"),tr._31),this._registerFunction(this.findDeclaration(Ah,"group"),tr._26)},t.prototype.getStaticSymbol=function(t,e,n){return this.symbolResolver.getStaticSymbol(t,e,n)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.trySimplify=function(t,e){var n=this.errorRecorder;this.errorRecorder=function(t,e){};var i=this.simplify(t,e);return this.errorRecorder=n,i},t.prototype.simplify=function(t,e){function n(t,e,i,a){function l(t){var e=r.symbolResolver.resolveSymbol(t);return e?e.metadata:null}function u(e,r,l){if(r&&"function"==r.__symbolic){if(s.get(e))throw new Error("Recursion not supported");s.set(e,!0);try{var u=r.value;if(u&&(0!=i||"error"!=u.__symbolic)){var h=r.parameters,p=r.defaults;l=l.map(function(e){return n(t,e,i+1,a)}).map(function(t){return Ni(t)?void 0:t}),p&&p.length>l.length&&l.push.apply(l,p.slice(l.length).map(function(t){return c(t)}));for(var d=Fh.build(),f=0;f<h.length;f++)d.define(h[f],l[f]);var m,v=o;try{o=d.done(),m=n(e,u,i+1,a)}finally{o=v}return m}}finally{s.delete(e)}}return 0===i?Ih:c({__symbolic:"error",message:"Function call not supported",context:e})}function c(e){if(Fi(e))return e;if(e instanceof Array){for(var s=[],h=0,p=e;h<p.length;h++){var d=p[h];if(d&&"spread"===d.__symbolic){var f=n(t,d.expression,i,0);if(Array.isArray(f)){for(var m=0,v=f;m<v.length;m++){var y=v[m];s.push(y)}continue}}var g=c(d);Ni(g)||s.push(g)}return s}if(e instanceof yr){if(e===r.injectionToken||e===r.opaqueToken||r.conversionMap.has(e)||a>0&&!e.members.length)return e;var b=e,w=l(b);return null!=w?n(b,w,i+1,a):b}if(e){if(e.__symbolic){var b=void 0;switch(e.__symbolic){case"binop":var _=c(e.left);if(Ni(_))return _;var C=c(e.right);if(Ni(C))return C;switch(e.operator){case"&&":return _&&C;case"||":return _||C;case"|":return _|C;case"^":return _^C;case"&":return _&C;case"==":return _==C;case"!=":return _!=C;case"===":return _===C;case"!==":return _!==C;case"<":return _<C;case">":return _>C;case"<=":return _<=C;case">=":return _>=C;case"<<":return _<<C;case">>":return _>>C;case"+":return _+C;case"-":return _-C;case"*":return _*C;case"/":return _/C;case"%":return _%C}return null;case"if":return c(c(e.condition)?e.thenExpression:e.elseExpression);case"pre":var E=c(e.operand);if(Ni(E))return E;switch(e.operator){case"+":return E;case"-":return-E;case"!":return!E;case"~":return~E}return null;case"index":var x=n(t,e.expression,i,0),S=n(t,e.index,i,0);return x&&Fi(S)?x[S]:null;case"select":var T=e.member,k=t,M=c(e.expression);if(M instanceof yr){var D=M.members.concat(T);k=r.getStaticSymbol(M.filePath,M.name,D);var w=l(k);return null!=w?n(k,w,i+1,a):k}return M&&Fi(T)?n(k,M[T],i+1,a):null;case"reference":var P=e.name,A=o.resolve(P);if(A!=Fh.missing)return A;break;case"class":case"function":return t;case"new":case"call":if((b=n(t,e.expression,i+1,0))instanceof yr){if(b===r.injectionToken||b===r.opaqueToken)return t;var O=e.arguments||[],I=r.conversionMap.get(b);if(I){var N=O.map(function(e){return n(t,e,i+1,a)}).map(function(t){return Ni(t)?void 0:t});return I(t,N)}return u(b,l(b),O)}return Ih;case"error":var L=Vi(e);return e.line?(L=L+" (position "+(e.line+1)+":"+(e.character+1)+" in the original .ts file)",r.reportError(Hi(L,t.filePath,e.line,e.character),t)):r.reportError(new Error(L),t),Ih;case"ignore":return e}return null}return Ri(e,function(o,s){if(Vh.has(s)){if(s===Nh&&Lh in e){var l=c(e.provide);if(l===r.ROUTES||l==r.ANALYZE_FOR_ENTRY_COMPONENTS)return c(o)}return n(t,o,i,a+1)}return c(o)})}return Ih}try{return c(e)}catch(e){var h=t.members.length?"."+t.members.join("."):"",p=e.message+", resolving symbol "+t.name+h+" in "+t.filePath;if(e.fileName)throw Hi(p,e.fileName,e.line,e.column);throw g(p)}}var i=this,r=this,o=Fh.empty,s=new Map,a=this.errorRecorder?function(t,e){try{return n(t,e,0,0)}catch(e){i.reportError(e,t)}}(t,e):n(t,e,0,0);if(!Ni(a))return a},t.prototype.getTypeMetadata=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata?e.metadata:{__symbolic:"class"}},t}(),Fh=function(){function t(){}return t.prototype.resolve=function(t){},t.build=function(){var e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new Hh(e):t.empty}}},t}();Fh.missing={},Fh.empty={resolve:function(t){return Fh.missing}};var Hh=function(t){function e(e){var n=t.call(this)||this;return n.bindings=e,n}return $i.a(e,t),e.prototype.resolve=function(t){return this.bindings.has(t)?this.bindings.get(t):Fh.missing},e}(Fh),jh=function(){function t(t,e){this.symbol=t,this.metadata=e}return t}(),Bh=function(){function t(t,e,n,i){this.host=t,this.staticSymbolCache=e,this.summaryResolver=n,this.errorRecorder=i,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}return t.prototype.resolveSymbol=function(t){if(t.members.length>0)return this._resolveSymbolMembers(t);var e=this.resolvedSymbols.get(t);return e||((e=this._resolveSymbolFromSummary(t))?e:(this._createSymbolsOf(t.filePath),e=this.resolvedSymbols.get(t)))},t.prototype.getImportAs=function(t){if(t.members.length){var e=this.getStaticSymbol(t.filePath,t.name),n=this.getImportAs(e);return n?this.getStaticSymbol(n.filePath,n.name,t.members):null}var i=nn(t.filePath);if(i!==t.filePath){var r=on(t.name),e=this.getStaticSymbol(i,r,t.members),n=this.getImportAs(e);return n?this.getStaticSymbol(en(n.filePath),rn(n.name),e.members):null}var o=this.summaryResolver.getImportAs(t);return o||(o=this.importAs.get(t)),o},t.prototype.getResourcePath=function(t){return this.symbolResourcePaths.get(t)||t.filePath},t.prototype.getTypeArity=function(t){if(Je(t.filePath))return null;for(var e=this.resolveSymbol(t);e&&e.metadata instanceof yr;)e=this.resolveSymbol(e.metadata);return e&&e.metadata&&e.metadata.arity||null},t.prototype.fileNameToModuleName=function(t,e){return this.knownFileNameToModuleNames.get(t)||this.host.fileNameToModuleName(t,e)},t.prototype.recordImportAs=function(t,e){t.assertNoMembers(),e.assertNoMembers(),this.importAs.set(t,e)},t.prototype.invalidateFile=function(t){this.metadataCache.delete(t),this.resolvedFilePaths.delete(t);var e=this.symbolFromFile.get(t);if(e){this.symbolFromFile.delete(t);for(var n=0,i=e;n<i.length;n++){var r=i[n];this.resolvedSymbols.delete(r),this.importAs.delete(r),this.symbolResourcePaths.delete(r)}}},t.prototype.ignoreErrorsFor=function(t){var e=this.errorRecorder;this.errorRecorder=function(){};try{return t()}finally{this.errorRecorder=e}},t.prototype._resolveSymbolMembers=function(t){var e=t.members,n=this.resolveSymbol(this.getStaticSymbol(t.filePath,t.name));if(!n)return null;var i=n.metadata;if(i instanceof yr)return new jh(t,this.getStaticSymbol(i.filePath,i.name,e));if(!i||"class"!==i.__symbolic){for(var r=i,o=0;o<e.length&&r;o++)r=r[e[o]];return new jh(t,r)}return i.statics&&1===e.length?new jh(t,i.statics[e[0]]):null},t.prototype._resolveSymbolFromSummary=function(t){var e=this.summaryResolver.resolveSummary(t);return e?new jh(t,e.metadata):null},t.prototype.getStaticSymbol=function(t,e,n){return this.staticSymbolCache.get(t,e,n)},t.prototype.getSymbolsOf=function(t){var e=new Set(this.summaryResolver.getSymbolsOf(t));return this._createSymbolsOf(t),this.resolvedSymbols.forEach(function(n){n.symbol.filePath===t&&e.add(n.symbol)}),Array.from(e)},t.prototype._createSymbolsOf=function(t){var e=this;if(!this.resolvedFilePaths.has(t)){this.resolvedFilePaths.add(t);var n=[],i=this.getModuleMetadata(t);if(i.importAs&&this.knownFileNameToModuleNames.set(t,i.importAs),i.metadata){var r=new Set(Object.keys(i.metadata).map(ji)),o=i.origins||{};Object.keys(i.metadata).forEach(function(s){var a=i.metadata[s],l=ji(s),u=e.getStaticSymbol(t,l),c=o.hasOwnProperty(s)&&o[s];if(c){var h=e.resolveModule(c,t);h?e.symbolResourcePaths.set(u,h):e.reportError(new Error("Couldn't resolve original symbol for "+c+" from "+t))}n.push(e.createResolvedSymbol(u,t,r,a))})}if(i.exports)for(var s=this,a=0,l=i.exports;a<l.length;a++){var u=l[a];!function(i){if(i.export)i.export.forEach(function(r){var o;o="string"==typeof r?r:r.as,o=ji(o);var s=o;"string"!=typeof r&&(s=ji(r.name));var a=e.resolveModule(i.from,t);if(a){var l=e.getStaticSymbol(a,s),u=e.getStaticSymbol(t,o);n.push(e.createExport(u,l))}});else{var r=s.resolveModule(i.from,t);if(r){s.getSymbolsOf(r).forEach(function(i){var r=e.getStaticSymbol(t,i.name);n.push(e.createExport(r,i))})}}}(u)}n.forEach(function(t){return e.resolvedSymbols.set(t.symbol,t)}),this.symbolFromFile.set(t,n.map(function(t){return t.symbol}))}},t.prototype.createResolvedSymbol=function(t,e,n,i){if(this.summaryResolver.isLibraryFile(t.filePath)&&i&&"class"===i.__symbolic){var r={__symbolic:"class",arity:i.arity};return new jh(t,r)}var o=this,s=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return $i.a(r,i),r.prototype.visitStringMap=function(r,s){var a=r.__symbolic;if("function"===a){var l=s.length;s.push.apply(s,r.parameters||[]);var u=i.prototype.visitStringMap.call(this,r,s);return s.length=l,u}if("reference"!==a)return i.prototype.visitStringMap.call(this,r,s);var c=r.module,h=r.name?ji(r.name):r.name;if(!h)return null;var p=void 0;return c?(p=o.resolveModule(c,t.filePath),p?o.getStaticSymbol(p,h):{__symbolic:"error",message:"Could not resolve "+c+" relative to "+t.filePath+"."}):s.indexOf(h)>=0?{__symbolic:"reference",name:h}:n.has(h)?o.getStaticSymbol(e,h):void 0},r}(Ar),a=m(i,new s,[]);return a instanceof yr?this.createExport(t,a):new jh(t,a)},t.prototype.createExport=function(t,e){return t.assertNoMembers(),e.assertNoMembers(),this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(e,this.getImportAs(t)||t),new jh(t,e)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.getModuleMetadata=function(t){var e=this.metadataCache.get(t);if(!e){var n=this.host.getMetadataFor(t);if(n){var i=-1;n.forEach(function(t){t.version>i&&(i=t.version,e=t)})}if(e||(e={__symbolic:"module",version:3,module:t,metadata:{}}),3!=e.version){var r=2==e.version?"Unsupported metadata version "+e.version+" for module "+t+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+t+", found version "+e.version+", expected 3";this.reportError(new Error(r))}this.metadataCache.set(t,e)}return e},t.prototype.getSymbolByModule=function(t,e,n){var i=this.resolveModule(t,n);return i?this.getStaticSymbol(i,e):(this.reportError(new Error("Could not resolve module "+t+(n?" relative to $ {\n            containingFile\n          } ":""))),this.getStaticSymbol("ERROR:"+t,e))},t.prototype.resolveModule=function(t,e){try{return this.host.moduleNameToFileName(t,e)}catch(n){console.error("Could not resolve module '"+t+"' relative to file "+e),this.reportError(n,void 0,e)}return null},t}(),Uh=function(){function t(t,e){this.host=t,this.staticSymbolCache=e,this.summaryCache=new Map,this.loadedFilePaths=new Set,this.importAs=new Map}return t.prototype.isLibraryFile=function(t){return!this.host.isSourceFile(Ze(t))},t.prototype.getLibraryFileName=function(t){return this.host.getOutputFileName(t)},t.prototype.resolveSummary=function(t){t.assertNoMembers();var e=this.summaryCache.get(t);return e||(this._loadSummaryFile(t.filePath),e=this.summaryCache.get(t)),e},t.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t),Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t})},t.prototype.getImportAs=function(t){return t.assertNoMembers(),this.importAs.get(t)},t.prototype.addSummary=function(t){this.summaryCache.set(t.symbol,t)},t.prototype._loadSummaryFile=function(t){var e=this;if(!this.loadedFilePaths.has(t)&&(this.loadedFilePaths.add(t),this.isLibraryFile(t))){var n=tn(t),i=void 0;try{i=this.host.loadSummary(n)}catch(t){throw console.error("Error loading summary file "+n),t}if(i){var r=Ei(this.staticSymbolCache,i),o=r.summaries,s=r.importAs;o.forEach(function(t){return e.summaryCache.set(t.symbol,t)}),s.forEach(function(n){e.importAs.set(n.symbol,e.staticSymbolCache.get(Qe(t),n.importAs))})}}},t}(),qh=function(){function t(t,e,n,i){this.parent=t,this.instance=e,this.className=n,this.vars=i,this.exports=[]}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.instance,this.className,new Map)},t}(),zh=function(){function t(t){this.value=t}return t}(),Wh=function(){function t(){}return t.prototype.debugAst=function(t){return zn(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),t.hasModifier(Yu.Exported)&&e.exports.push(t.name),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),i=e;null!=i;){if(i.vars.has(t.name))return i.vars.set(t.name,n),n;i=i.parent}throw new Error("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(null!=t.builtin)switch(t.builtin){case bu.Super:return e.instance.__proto__;case bu.This:return e.instance;case bu.CatchError:n=Yh;break;case bu.CatchStack:n=Gh;break;default:throw new Error("Unknown builtin variable "+t.builtin)}for(var i=e;null!=i;){if(i.vars.has(n))return i.vars.get(n);i=i.parent}throw new Error("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),i=t.index.visitExpression(this,e),r=t.value.visitExpression(this,e);return n[i]=r,r},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[t.name]=i,i},t.prototype.visitInvokeMethodExpr=function(t,e){var n,i=t.receiver.visitExpression(this,e),r=this.visitAllExpressions(t.args,e);if(null!=t.builtin)switch(t.builtin){case xu.ConcatArray:n=i.concat.apply(i,r);break;case xu.SubscribeObservable:n=i.subscribe({next:r[0]});break;case xu.Bind:n=i.bind.apply(i,r);break;default:throw new Error("Unknown builtin method "+t.builtin)}else n=i[t.name].apply(i,r);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),i=t.fn;return i instanceof wu&&i.builtin===bu.Super?(e.instance.constructor.prototype.constructor.apply(e.instance,n),null):t.fn.visitExpression(this,e).apply(null,n)},t.prototype.visitReturnStmt=function(t,e){return new zh(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=qi(t,e,this);return e.vars.set(t.name,n),t.hasModifier(Yu.Exported)&&e.exports.push(t.name),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e)?this.visitAllStatements(t.trueCase,e):null!=t.falseCase?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(i){var n=e.createChildWihtLocalVars();return n.vars.set(Yh,i),n.vars.set(Gh,i.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),i=t.classExpr.visitExpression(this,e);return new(i.bind.apply(i,[void 0].concat(n)))},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.runtime},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):null!=t.falseCase?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitAssertNotNullExpr=function(t,e){return t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){return zi(t.params.map(function(t){return t.name}),t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,zi(n,t.statements,e,this)),t.hasModifier(Yu.Exported)&&e.exports.push(t.name),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,i=function(){return t.lhs.visitExpression(n,e)},r=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case yu.Equals:return i()==r();case yu.Identical:return i()===r();case yu.NotEquals:return i()!=r();case yu.NotIdentical:return i()!==r();case yu.And:return i()&&r();case yu.Or:return i()||r();case yu.Plus:return i()+r();case yu.Minus:return i()-r();case yu.Divide:return i()/r();case yu.Multiply:return i()*r();case yu.Modulo:return i()%r();case yu.Lower:return i()<r();case yu.LowerEquals:return i()<=r();case yu.Bigger:return i()>r();case yu.BiggerEquals:return i()>=r();default:throw new Error("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.name]},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.index.visitExpression(this,e)]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,i={};return t.entries.forEach(function(t){return i[t.key]=t.value.visitExpression(n,e)}),i},t.prototype.visitCommaExpr=function(t,e){var n=this.visitAllExpressions(t.parts,e);return n[n.length-1]},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.visitStatement(this,e);if(r instanceof zh)return r}return null},t}(),Yh="error",Gh="stack",Xh=function(t){function e(){return t.call(this,!1)||this}return $i.a(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),this._visitClassConstructor(t,e),null!=t.parent&&(e.print(t,t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(t,".prototype);")),t.getters.forEach(function(i){return n._visitClassGetter(t,i,e)}),t.methods.forEach(function(i){return n._visitClassMethod(t,i,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print(t,"function "+t.name+"("),null!=t.constructorMethod&&this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),null!=t.constructorMethod&&t.constructorMethod.body.length>0&&(e.println(t,"var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println(t,"}")},e.prototype._visitClassGetter=function(t,e,n){n.println(t,"Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t,t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(t,") {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"};")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===bu.This)n.print(e,"self");else{if(e.builtin===bu.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print(t,"var "+t.name+" = "),t.value.visitExpression(this,e),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var i=e.fn;return i instanceof wu&&i.builtin===bu.Super?(n.currentClass.parent.visitExpression(this,n),n.print(e,".call(this"),e.args.length>0&&(n.print(e,", "),this.visitAllExpressions(e.args,n,",")),n.print(e,")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"function("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+gc.name+") {"),e.incIndent();var n=[bc.set(gc.prop("stack")).toDeclStmt(null,[Yu.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(null,t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case xu.ConcatArray:e="concat";break;case xu.SubscribeObservable:e="subscribe";break;case xu.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e}(Cc),Kh=function(t){function e(){var e=t.apply(this,arguments)||this;return e._evalArgNames=[],e._evalArgValues=[],e._evalExportedVars=[],e}return $i.a(e,t),e.prototype.createReturnStmt=function(t){new Zu(new Uu(this._evalExportedVars.map(function(t){return new Bu(t,_n(t),!1)}))).visitStatement(this,t)},e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var n=t.value.runtime,i=this._evalArgValues.indexOf(n);if(-1===i){i=this._evalArgValues.length,this._evalArgValues.push(n);var r=E({reference:t.value.runtime})||"val";this._evalArgNames.push("jit_"+r+"_"+i)}return e.print(t,this._evalArgNames[i]),null},e.prototype.visitDeclareVarStmt=function(e,n){return e.hasModifier(Yu.Exported)&&this._evalExportedVars.push(e.name),t.prototype.visitDeclareVarStmt.call(this,e,n)},e.prototype.visitDeclareFunctionStmt=function(e,n){return e.hasModifier(Yu.Exported)&&this._evalExportedVars.push(e.name),t.prototype.visitDeclareFunctionStmt.call(this,e,n)},e.prototype.visitDeclareClassStmt=function(e,n){return e.hasModifier(Yu.Exported)&&this._evalExportedVars.push(e.name),t.prototype.visitDeclareClassStmt.call(this,e,n)},e}(Xh),Qh=function(){function t(t,e,n,i,r,o,s,a,l){this._injector=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=i,this._viewCompiler=r,this._ngModuleCompiler=o,this._summaryResolver=s,this._compilerConfig=a,this._console=l,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return Or.assertSync(this._compileModuleAndComponents(t,!0))},t.prototype.compileModuleAsync=function(t){return Promise.resolve(this._compileModuleAndComponents(t,!1))},t.prototype.compileModuleAndAllComponentsSync=function(t){return Or.assertSync(this._compileModuleAndAllComponents(t,!0))},t.prototype.compileModuleAndAllComponentsAsync=function(t){return Promise.resolve(this._compileModuleAndAllComponents(t,!1))},t.prototype.getNgContentSelectors=function(t){this._console.warn("Compiler.getNgContentSelectors is deprecated. Use ComponentFactory.ngContentSelectors instead!");var e=this._compiledTemplateCache.get(t);if(!e)throw new Error("The component "+Object(tr._69)(t)+" is not yet compiled!");return e.compMeta.template.ngContentSelectors},t.prototype.getComponentFactory=function(t){return this._metadataResolver.getDirectiveSummary(t).componentFactory},t.prototype.loadAotSummaries=function(t){var e=this;this.clearCache(),Xi(t).forEach(function(t){e._summaryResolver.addSummary({symbol:t.type.reference,metadata:null,type:t})})},t.prototype.hasAotSummary=function(t){return!!this._summaryResolver.resolveSummary(t)},t.prototype._filterJitIdentifiers=function(t){var e=this;return t.map(function(t){return t.reference}).filter(function(t){return!e.hasAotSummary(t)})},t.prototype._compileModuleAndComponents=function(t,e){var n=this;return Or.then(this._loadModules(t,e),function(){return n._compileComponents(t,null),n._compileModule(t)})},t.prototype._compileModuleAndAllComponents=function(t,e){var n=this;return Or.then(this._loadModules(t,e),function(){var e=[];return n._compileComponents(t,e),new tr.K(n._compileModule(t),e)})},t.prototype._loadModules=function(t,e){var n=this,i=[],r=this._metadataResolver.getNgModuleMetadata(t);return this._filterJitIdentifiers(r.transitiveModule.modules).forEach(function(t){var r=n._metadataResolver.getNgModuleMetadata(t);n._filterJitIdentifiers(r.declaredDirectives).forEach(function(t){var o=n._metadataResolver.loadDirectiveMetadata(r.type.reference,t,e);o&&i.push(o)}),n._filterJitIdentifiers(r.declaredPipes).forEach(function(t){return n._metadataResolver.getOrLoadPipeMetadata(t)})}),Or.all(i)},t.prototype._compileModule=function(t){var e=this,n=this._compiledNgModuleCache.get(t);if(!n){var i=this._metadataResolver.getNgModuleMetadata(t),r=[this._metadataResolver.getProviderMetadata(new Wr(tr.m,{useFactory:function(){return new Jh(e,i.type.reference)}}))],o=Ki(),s=this._ngModuleCompiler.compile(o,i,r);n=this._compilerConfig.useJit?Yi(R(i),o.statements)[s.ngModuleFactoryVar]:Bi(o.statements)[s.ngModuleFactoryVar],this._compiledNgModuleCache.set(i.type.reference,n)}return n},t.prototype._compileComponents=function(t,e){var n=this,i=this._metadataResolver.getNgModuleMetadata(t),r=new Map,o=new Set,s=this._filterJitIdentifiers(i.transitiveModule.modules);s.forEach(function(t){var i=n._metadataResolver.getNgModuleMetadata(t);n._filterJitIdentifiers(i.declaredDirectives).forEach(function(t){r.set(t,i);var s=n._metadataResolver.getDirectiveMetadata(t);if(s.isComponent&&(o.add(n._createCompiledTemplate(s,i)),e)){var a=n._createCompiledHostTemplate(s.type.reference,i);o.add(a),e.push(s.componentFactory)}})}),s.forEach(function(t){var e=n._metadataResolver.getNgModuleMetadata(t);n._filterJitIdentifiers(e.declaredDirectives).forEach(function(t){var e=n._metadataResolver.getDirectiveMetadata(t);e.isComponent&&e.entryComponents.forEach(function(t){var e=r.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))})}),e.entryComponents.forEach(function(t){if(!n.hasAotSummary(t.componentType.reference)){var e=r.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))}})}),o.forEach(function(t){return n._compileTemplate(t)})},t.prototype.clearCacheFor=function(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t),this._compiledTemplateCache.get(t)&&this._compiledTemplateCache.delete(t)},t.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},t.prototype._createCompiledHostTemplate=function(t,e){if(!e)throw new Error("Component "+Object(tr._69)(t)+" is not part of any NgModule or the module has not been imported into your module.");var n=this._compiledHostTemplateCache.get(t);if(!n){var i=this._metadataResolver.getDirectiveMetadata(t);Gi(i);var r=i.componentFactory,o=this._metadataResolver.getHostComponentType(t),s=A(o,i,Object(tr._50)(r));n=new Zh(!0,i.type,s,e,[i.type]),this._compiledHostTemplateCache.set(t,n)}return n},t.prototype._createCompiledTemplate=function(t,e){var n=this._compiledTemplateCache.get(t.type.reference);return n||(Gi(t),n=new Zh(!1,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n},t.prototype._compileTemplate=function(t){var e=this;if(!t.isCompiled){var n=t.compMeta,i=new Map,r=Ki(),o=this._styleCompiler.compileComponent(r,n),s=n.template.preserveWhitespaces;n.template.externalStylesheets.forEach(function(t){var r=e._styleCompiler.compileStyles(Ki(),n,t);i.set(t.moduleUrl,r)}),this._resolveStylesCompileResult(o,i);var a,l=t.directives.map(function(t){return e._metadataResolver.getDirectiveSummary(t.reference)}),u=t.ngModule.transitiveModule.pipes.map(function(t){return e._metadataResolver.getPipeSummary(t.reference)}),c=this._templateParser.parse(n,n.template.template,l,u,t.ngModule.schemas,L(t.ngModule.type,t.compMeta,t.compMeta.template),s),h=c.template,p=c.pipes,d=this._viewCompiler.compileComponent(r,n,h,_n(o.stylesVar),p);a=this._compilerConfig.useJit?Yi(F(t.ngModule.type,t.compMeta),r.statements):Bi(r.statements);var f=a[d.viewClassVar],m=a[d.rendererTypeVar];t.compiled(f,m)}},t.prototype._resolveStylesCompileResult=function(t,e){var n=this;t.dependencies.forEach(function(t,i){var r=e.get(t.moduleUrl),o=n._resolveAndEvalStylesCompileResult(r,e);t.setValue(o)})},t.prototype._resolveAndEvalStylesCompileResult=function(t,e){return this._resolveStylesCompileResult(t,e),this._compilerConfig.useJit?Yi(V(t.meta,this._sharedStylesheetCount++),t.outputCtx.statements)[t.stylesVar]:Bi(t.outputCtx.statements)[t.stylesVar]},t}();Qh.decorators=[{type:z}],Qh.ctorParameters=function(){return[{type:tr.E},{type:ou},{type:Il},{type:ah},{type:bh},{type:pc},{type:nu},{type:Gr},{type:tr._38}]};var Zh=function(){function t(t,e,n,i,r){this.isHost=t,this.compType=e,this.compMeta=n,this.ngModule=i,this.directives=r,this._viewClass=null,this.isCompiled=!1}return t.prototype.compiled=function(t,e){this._viewClass=t,this.compMeta.componentViewType.setDelegate(t);for(var n in e)this.compMeta.rendererType[n]=e[n];this.isCompiled=!0},t}(),Jh=function(){function t(t,e){this._delegate=t,this._ngModule=e}return Object.defineProperty(t.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._delegate.compileModuleSync(t)},t.prototype.compileModuleAsync=function(t){return this._delegate.compileModuleAsync(t)},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._delegate.compileModuleAndAllComponentsSync(t)},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._delegate.compileModuleAndAllComponentsAsync(t)},t.prototype.getNgContentSelectors=function(t){return this._delegate.getNgContentSelectors(t)},t.prototype.clearCache=function(){this._delegate.clearCache()},t.prototype.clearCacheFor=function(t){this._delegate.clearCacheFor(t)},t}(),$h=function(){function t(t,e,n,i){void 0===i&&(i=null),this._htmlParser=t,this._implicitTags=e,this._implicitAttrs=n,this._locale=i,this._messages=[]}return t.prototype.updateFromTemplate=function(t,e,n){var i=this._htmlParser.parse(t,e,!0,n);if(i.errors.length)return i.errors;var r=Zt(i.rootNodes,n,this._implicitTags,this._implicitAttrs);return r.errors.length?r.errors:((o=this._messages).push.apply(o,r.messages),[]);var o},t.prototype.getMessages=function(){return this._messages},t.prototype.write=function(t,e){var n={},i=new tp;this._messages.forEach(function(e){var i=t.digest(e);n.hasOwnProperty(i)?(r=n[i].sources).push.apply(r,e.sources):n[i]=e;var r});var r=Object.keys(n).map(function(r){var o=t.createNameMapper(n[r]),s=n[r],a=o?i.convert(s.nodes,o):s.nodes,l=new qs(a,{},{},s.meaning,s.description,r);return l.sources=s.sources,e&&l.sources.forEach(function(t){return t.filePath=e(t.filePath)}),l});return t.write(r,this._locale)},t}(),tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.convert=function(t,e){var n=this;return e?t.map(function(t){return t.visit(n,e)}):t},e.prototype.visitTagPlaceholder=function(t,e){var n=this,i=e.toPublicName(t.startName),r=t.closeName?e.toPublicName(t.closeName):t.closeName,o=t.children.map(function(t){return t.visit(n,e)});return new Gs(t.tag,t.attrs,i,r,o,t.isVoid,t.sourceSpan)},e.prototype.visitPlaceholder=function(t,e){return new Xs(t.value,e.toPublicName(t.name),t.sourceSpan)},e.prototype.visitIcuPlaceholder=function(t,e){return new Ks(t.value,e.toPublicName(t.name),t.sourceSpan)},e}(Qs),ep=(function(){function t(t,e,n,i){this.host=t,this.staticSymbolResolver=e,this.messageBundle=n,this.metadataResolver=i}t.prototype.extract=function(t){var e=this,n=Oi(this.staticSymbolResolver,t,this.host),i=Pi(n,this.host,this.metadataResolver),r=i.files,o=i.ngModules;return Promise.all(o.map(function(t){return e.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=[];if(r.forEach(function(n){var i=[];n.directives.forEach(function(t){var n=e.metadataResolver.getDirectiveMetadata(t);n&&n.isComponent&&i.push(n)}),i.forEach(function(i){var r=i.template.template,o=rs.fromArray(i.template.interpolation);t.push.apply(t,e.messageBundle.updateFromTemplate(r,n.srcUrl,o))})}),t.length)throw new Error(t.map(function(t){return t.toString()}).join("\n"));return e.messageBundle})},t.create=function(e,n){var i=new Fa,r=Be(),o=new gr,s=new Uh(e,o),a=new Bh(e,o,s),l=new Rh(s,a),u=new Gr({defaultEncapsulation:tr._19.Emulated,useJit:!1}),c=new Wl({get:function(t){return e.loadResource(t)}},r,i,u),h=new Ac,p=new ou(u,new tu(l),new Gl(l),new eu(l),s,h,c,new tr._38,o,l),d=new $h(i,[],{},n);return{extractor:new t(e,a,d,p),staticReflector:l}}}(),function(){function t(){this.reflectionCapabilities=new tr._42}return t.prototype.componentModuleUrl=function(t,e){var n=e.moduleId;if("string"==typeof n){return Ue(n)?n:"package:"+n}if(null!==n&&void 0!==n)throw g('moduleId should be a string in "'+Object(tr._69)(t)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return"./"+Object(tr._69)(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.resolveExternalReference=function(t){return t.runtime},t}()),np={get:function(t){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+t+'"')}},ip=new tr.D("HtmlParser"),rp=[{provide:Yr,useValue:new ep},{provide:jl,useValue:np},iu,{provide:nu,useExisting:iu},tr._38,ls,fs,{provide:ip,useClass:Fa},{provide:Ba,useFactory:function(t,e,n,i,r){e=e||"";var o=e?i.missingTranslation:tr.J.Ignore;return new Ba(t,e,n,o,r)},deps:[ip,[new tr.S,new tr.B(tr._10)],[new tr.S,new tr.B(tr._11)],[Gr],[tr._38]]},{provide:Fa,useExisting:Ba},Il,Wl,ou,Bl,ah,bh,pc,{provide:Gr,useValue:new Gr},Qh,{provide:tr.m,useExisting:Qh},Ac,{provide:rl,useExisting:Ac},Ul,Gl,eu,tu],op=function(){function t(t){var e={useDebug:Object(tr._27)(),useJit:!0,defaultEncapsulation:tr._19.Emulated,missingTranslation:tr.J.Warning,enableLegacyTemplate:!0,preserveWhitespaces:!0};this._defaultOptions=[e].concat(t)}return t.prototype.createCompiler=function(t){void 0===t&&(t=[]);var e=Qi(this._defaultOptions.concat(t));return tr._0.resolveAndCreate([rp,{provide:Gr,useFactory:function(){return new Gr({useJit:e.useJit,defaultEncapsulation:e.defaultEncapsulation,missingTranslation:e.missingTranslation,enableLegacyTemplate:e.enableLegacyTemplate,preserveWhitespaces:e.preserveWhitespaces})},deps:[]},e.providers]).get(tr.m)},t}();op.decorators=[{type:z}],op.ctorParameters=function(){return[{type:Array,decorators:[{type:tr.B,args:[tr.i]}]}]};var sp=Object(tr._22)(tr._29,"coreDynamic",[{provide:tr.i,useValue:{},multi:!0},{provide:tr.n,useClass:op}]),ap=n("qbdv"),lp=n("fc+i");n.d(e,"a",function(){return hp});var up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i.a(e,t),e.prototype.get=function(t){var e,n,i=new Promise(function(t,i){e=t,n=i}),r=new XMLHttpRequest;return r.open("GET",t,!0),r.responseType="text",r.onload=function(){var i=r.response||r.responseText,o=1223===r.status?204:r.status;0===o&&(o=i?200:0),200<=o&&o<=300?e(i):n("Failed to load "+t)},r.onerror=function(){n("Failed to load "+t)},r.send(),i},e}(jl);up.decorators=[{type:tr.C}],up.ctorParameters=function(){return[]};var cp=[lp.b,{provide:tr.i,useValue:{providers:[{provide:jl,useClass:up}]},multi:!0},{provide:tr.V,useValue:ap.j}],hp=(function(t){function e(){var e=t.call(this)||this;if(e._cache=tr._51.$templateCache,null==e._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.");return e}$i.a(e,t),e.prototype.get=function(t){return this._cache.hasOwnProperty(t)?Promise.resolve(this._cache[t]):Promise.reject("CachedResourceLoader: Did not find cached template for "+t)}}(jl),new tr._15("4.4.7"),Object(tr._22)(sp,"browserDynamic",cp))},Qdx8:function(t,e,n){"use strict";function i(t,e){var n=e;return n.unshift(void 0),new(Function.prototype.bind.apply(t,n))}function r(t){var e,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);var i="ej2"+w(n),r=function(n){n.source===window&&"string"==typeof n.data&&n.data.length<=32&&n.data===i&&(t(),e())};return window.addEventListener("message",r,!1),window.postMessage(i,"*"),e=function(){window.removeEventListener("message",r),t=r=i=void 0}}function o(t,e){for(var n=e,i=t.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<i.length&&!p(n);r++)n=n[i[r]];return n}function s(t,e,n){var i,r,o=t.replace(/\[/g,".").replace(/\]/g,"").split("."),s=n||{},a=s,l=o.length;for(i=0;i<l;i++)r=o[i],i+1===l?a[r]=void 0===e?{}:e:h(a[r])&&(a[r]={}),a=a[r];return s}function a(t,e){delete t[e]}function l(t){var e={};return!h(t)&&t.constructor===e.constructor}function u(t,e){if(!h(e))for(var n=t,i=e,r=Object.keys(e),o=0,s=r;o<s.length;o++){var a=s[o];h(n.deepMerge)||-1===n.deepMerge.indexOf(a)||!l(i[a])&&!Array.isArray(i[a])?n[a]=i[a]:c(n[a],n[a],i[a],!0)}}function c(t,e,n,i){var r=t||{},o=arguments.length;i&&(o-=1);for(var s=arguments,a=1;a<o;a++)!function(t){if(!s[t])return"continue";var e=s[t];Object.keys(e).forEach(function(t){var n,o=r[t],s=e[t];i&&(l(s)||Array.isArray(s))?l(s)?(n=o||{},r[t]=c({},n,s,i)):(n=o||[],r[t]=c([],n,s,i)):r[t]=s})}(a);return r}function h(t){return void 0===t||null===t}function p(t){return void 0===t}function d(t){return t+"_"+Qn++}function f(t,e){var n;return function(){var i=this,r=arguments,o=function(){return n=null,t.apply(i,r)};clearTimeout(n),n=setTimeout(o,e)}}function m(t,e){var n=t;return n===e||!(n===document||!n)&&m(n.parentNode,e)}function v(t){try{throw new Error(t)}catch(t){throw t.message+"\n"+t.stack}}function y(t){var e=t+"";return"auto"===e||-1!==e.indexOf("%")||-1!==e.indexOf("px")?e:e+"px"}function g(t,e){var n="string"==typeof t?document.querySelector(t):t;if(n[Kn])for(var i=0,r=n[Kn];i<r.length;i++){var o=r[i];if(o instanceof e)return o}return null}function b(){if("undefined"!=typeof window){var t=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(t)}}function w(t){for(var e="",n=0;n<5;n++)e+=(n?",":"")+t[n];return e}function _(t,e){var n=ei.test(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return void 0===e?n:(n.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(n.className=e.className),void 0!==e.id&&(n.id=e.id),void 0!==e.styles&&n.setAttribute("style",e.styles),void 0!==e.attrs&&A(n,e.attrs),n)}function C(t,e){for(var n=x(e),i=0,r=t;i<r.length;i++)for(var o=r[i],s=0,a=n;s<a.length;s++){var l=a[s];o.classList.contains(l)||o.classList.add(l)}return t}function E(t,e){for(var n=x(e),i=0,r=t;i<r.length;i++){var o=r[i];if(""!==o.className)for(var s=0,a=n;s<a.length;s++){var l=a[s];o.classList.remove(l)}}return t}function x(t){var e=[];return"string"==typeof t?e.push(t):e=t,e}function S(t){var e=t;return""===e.style.visibility&&e.offsetWidth>0}function T(t,e,n){for(var i=document.createDocumentFragment(),r=0,o=t;r<o.length;r++){var s=o[r];i.appendChild(s)}return e.insertBefore(i,e.firstElementChild),n&&M(e),t}function k(t,e,n){for(var i=document.createDocumentFragment(),r=0,o=t;r<o.length;r++){var s=o[r];i.appendChild(s)}return e.appendChild(i),n&&M(e),t}function M(t){t.querySelectorAll("script").forEach(function(t){var e=document.createElement("script");e.text=t.innerHTML,document.head.appendChild(e),D(e)})}function D(t){return t.parentNode.removeChild(t)}function P(t){var e=t.parentNode;ti.clearEvents(t),e.removeChild(t)}function A(t,e){for(var n=Object.keys(e),i=t,r=0,o=n;r<o.length;r++){var s=o[r];i.setAttribute(s,e[s])}return i}function O(t,e){return void 0===e&&(e=document),e.querySelector(t)}function I(t,e){return void 0===e&&(e=document),e.querySelectorAll(t)}function N(t,e){var n=t;if("function"==typeof n.closest)return n.closest(e);for(;n&&1===n.nodeType;){if(R(n,e))return n;n=n.parentNode}return null}function L(t,e){void 0!==e&&Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function V(t,e,n){C([t],e),E([t],n)}function R(t,e){var n=t.matches||t.msMatchesSelector||t.webkitMatchesSelector;return n?n.call(t,e):-1!==[].indexOf.call(document.querySelectorAll(e),t)}function F(t,e){var n,i,r="string"==typeof t?document.getElementById(t):t;for(i=0;i<r.ej2_instances.length;i++)if(n=r.ej2_instances[i],"string"==typeof e){var o=n.getModuleName();if(e===o)return n}else if(n instanceof e)return n}function H(t,e,n,r){return t.properties.hasOwnProperty(e)&&t.properties[e]instanceof r||(t.properties[e]=i(r,[t,e,n])),t.properties[e]}function j(t,e,n,r,o,s){for(var a=[],l=n.length,u=0;u<l;u++){var c=r;if(s&&(c=r(n[u],t)),o){var h=i(c,[t,e,{},!0]);h.setProperties(n[u],!0),a.push(h)}else a.push(i(c,[t,e,n[u],!0]))}return a}function B(t,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=t),this.properties[e]}}function U(t,e){return function(n){if(this.properties[e]!==n){var i=this.properties.hasOwnProperty(e)?this.properties[e]:t;this.saveChanges(e,n,i),this.properties[e]=n}}}function q(t,e,n){return function(){return H(this,e,t,n)}}function z(t,e,n){return function(i){H(this,e,t,n).setProperties(i)}}function W(t,e,n){return function(){if(!this.properties.hasOwnProperty(e)){var i=j(this,e,t,n,!1);this.properties[e]=i}return this.properties[e]}}function Y(t,e,n){return function(i){var r=j(this,e,t,n,!1),o=j(this,e,i,n,!0);this.saveChanges(e,o,r),this.properties[e]=o}}function G(t){return function(e,n){var i={set:U(t,n),get:B(t,n),enumerable:!0,configurable:!0};Object.defineProperty(e,n,i),J(e,n,"prop",t)}}function X(t,e){return function(n,i){var r={set:z(t,i,e),get:q(t,i,e),enumerable:!0,configurable:!0};Object.defineProperty(n,i,r),J(n,i,"complexProp",t,e)}}function K(t,e){return function(n,i){var r={set:Y(t,i,e),get:W(t,i,e),enumerable:!0,configurable:!0};Object.defineProperty(n,i,r),J(n,i,"colProp",t,e)}}function Q(){return function(t,e){var n={set:function(t){var n=this.properties[e];if(n!==t){var i=$(this,e);!1===p(n)&&i.context.removeEventListener(i.prefix,n),i.context.addEventListener(i.prefix,t),this.properties[e]=t}},get:B(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,n),J(t,e,"event")}}function Z(t){}function J(t,e,n,i,r){p(t.propList)&&(t.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),t.propList[n+"s"].push({propertyName:e,defaultValue:i,type:r}),t.propList[n+"Names"].push(e)}function $(t,e){if(!1===t.hasOwnProperty("parentObj"))return{context:t,prefix:e};var n=o("propName",t);return n&&(e=n+"-"+e),$(o("parentObj",t),e)}function tt(t,e,n){var i=et(e);return!1===i.rippleFlag||void 0===i.rippleFlag&&!bi?Function:(t.setAttribute("data-ripple","true"),ti.add(t,"mousedown",nt,{parent:t,rippleOptions:i}),ti.add(t,"mouseup",it,{parent:t,rippleOptions:i,done:n}),ti.add(t,"mouseleave",rt,{parent:t,rippleOptions:i}),mi.isPointer&&ti.add(t,"transitionend",rt,{parent:t,rippleOptions:i}),function(){t.removeAttribute("data-ripple"),ti.remove(t,"mousedown",nt),ti.remove(t,"mouseup",it),ti.remove(t,"mouseleave",rt),ti.remove(t,"transitionend",rt)})}function et(t){return{selector:t&&t.selector?t.selector:null,ignore:t&&t.ignore?t.ignore:null,rippleFlag:t&&t.rippleFlag,isCenterRipple:t&&t.isCenterRipple,duration:t&&t.duration?t.duration:350}}function nt(t){var e=t.target,n=this.rippleOptions.selector,i=n?N(e,n):e;if(!(!i||this.rippleOptions&&N(e,this.rippleOptions.ignore))){var r=i.getBoundingClientRect(),o=t.pageX-document.body.scrollLeft,s=t.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(o-r.left),Math.abs(o-r.right)),l=Math.max(Math.abs(s-r.top),Math.abs(s-r.bottom)),u=Math.sqrt(a*a+l*l),c=2*u+"px",h=o-r.left-u,p=s-r.top-u;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(h=0,p=0,c="100%"),i.classList.add("e-ripple");var d=this.rippleOptions.duration.toString(),f="width: "+c+";height: "+c+";left: "+h+"px;top: "+p+"px;transition-duration: "+d+"ms;",m=_("div",{className:"e-ripple-element",styles:f});i.appendChild(m),window.getComputedStyle(m).getPropertyValue("opacity"),m.style.transform="scale(1)",i!==this.parent&&ti.add(i,"mouseleave",rt,{parent:this.parent,rippleOptions:this.rippleOptions})}}function it(t){ot(t,this)}function rt(t){ot(t,this)}function ot(t,e){var n=e.rippleOptions.duration,i=t.target,r=e.rippleOptions.selector,o=r?N(i,r):i;if(o&&(!o||-1!==o.className.indexOf("e-ripple"))){var s=I(".e-ripple-element",o),a=s[s.length-1];a&&(a.style.opacity="0.5"),e.parent!==o&&ti.remove(o,"mouseleave",rt),setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a),o.getElementsByClassName("e-ripple-element").length||o.classList.remove("e-ripple"),e.done&&e.done(t)},n)}}function st(t,e){var n=fi.getDependables(Wi,t,"",!0)[Xi[0]],i=fi.getDependables(Wi,t,"")[Xi[1]],r=o("defaultNumberingSystem",n),s=o("symbols-numberSystem-"+r,n),a=fi.getSymbolPattern(e||"decimal",r,n,!1);return c(s,fi.getFormatData(a,!0,"",!0),{dateSeparator:fi.getDateSeparator(i)})}function at(t){return fi.getDependables(Wi,"",t,!1)[Xi[1]]}function lt(t,e){var n=ut(t,"data",e),i='var str="'+n+'"; return str;';return new Function("data",i).bind(e)}function ut(t,e,n){var i=0,r=[];return t.replace(gr,"").replace(Mr,"'$1'").replace(Dr,function(t,o,s,a){var l=o.match(Sr);if(l){var u=l[1];if(_r.test(o))o='";} '+o.replace(l[1],u.replace(kr,function(t){return t=t.trim(),ct(t,!br.test(t)&&-1===r.indexOf(t),e,r)}))+'{ \n str = str + "';else if(wr.test(o))o='"; '+o.replace(l[1],u.replace(kr,function(t){return t=t.trim(),ct(t,!br.test(t)&&-1===r.indexOf(t),e,r)}))+'{ \n str = str + "';else if(Er.test(o)){var c=l[1].split(" of ");o='"; '+o.replace(l[1],function(t){return r.push(c[0]),r.push(c[0]+"Index"),"var i"+(i+=1)+"=0; i"+i+" < "+ct(c[1],!0,e,r)+".length; i"+i+"++"})+"{ \n "+c[0]+"= "+ct(c[1],!0,e,r)+"[i"+i+"]; \n var "+c[0]+"Index=i"+i+'; \n str = str + "'}else{var h=o.split("("),p=n&&n.hasOwnProperty(h[0])?"this.":"global";p=/\./.test(h[0])?"":p,o='" + '+("global"===p?"":p)+o.replace(u,ct(l[1].replace(",","+"+e+"."),"global"!==p,e,r))+'+"'}}else o=Cr.test(o)?'"; '+o.replace(Cr,'} else { \n str = str + "'):o.match(xr)?o.replace(xr,'"; \n } \n str = str + "'):'"+'+ct(o.replace(/\,/gi,"+"+e+"."),-1===r.indexOf(o),e,r)+'+"';return o})}function ct(t,e,n,i){return e&&!Tr.test(t)&&-1===i.indexOf(t.split(".")[0])?n+"."+t:t}function ht(t,e){var n=Ir.compile(t,e);return function(t,e,i){var r=n(t,e,i);if("string"==typeof r){if(Ar.test(r)){var o=_("svg",{innerHTML:r});return o.childNodes}var o=_(Pr.test(r)?"table":"div",{innerHTML:r});return o.childNodes}return r}}function pt(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})})}function dt(t){return function(e){pt(e,t)}}function ft(t,e,n){var i={};if(t&&t.length){for(var r=0,o=t;r<o.length;r++){var s=o[r];!0===n?(e.propCollection[s]=new Gn.x(!1),e[s]=e.propCollection[s]):i[s]=new Gn.x(!1)}!0!==n&&e.setProperties(i,!0)}}function mt(t,e,n){var i=Object.keys(t.registeredTemplate);if(i.length)for(var r=e&&e.filter(function(t){return!/\./g.test(t)}),o=0,s=r&&r||i;o<s.length;o++){var a=s[o];if(n)for(var l=0;l<n.length;l++)for(var u=0;u<t.registeredTemplate.template.length;u++){var c=t.registeredTemplate.template[u].rootNodes[0];if(c===n[l]){var h=t.registeredTemplate[a];h[u].destroy()}}else for(var p=0,d=t.registeredTemplate[a];p<d.length;p++){var h=d[p];if(!h.destroyed){for(var f=h._view.renderer.parentNode(h.rootNodes[0]),u=0;u<h.rootNodes.length;u++)f.appendChild(h.rootNodes[u]);h.destroy()}}delete t.registeredTemplate[a]}for(var m=0,v=t.tagObjects;m<v.length;m++){var y=v[m];!function(t){t.instance&&t.instance.clearTemplate(e&&e.filter(function(e){return!!new RegExp(t.name).test(e)}))}(y)}}function vt(t,e,n){for(var i=t.replace(/\[/g,".").replace(/\]/g,"").split("."),r=n||{},o=0;o<i.length;o++){var s=i[o];o+1===i.length?r[s]=void 0===e?{}:e:void 0===r[s]&&(r[s]={}),r=r[s]}return r}function yt(t,e){if("string"==typeof t)return Fr(t,e);var n=t.elementRef.nativeElement._viewContainerRef,i=t.elementRef.nativeElement.propName;return function(e,r,s){var a={$implicit:e},l=n||r.viewContainerRef,u=l.createEmbeddedView(t,a);u.markForCheck();var c=r?r.registeredTemplate:o("currentInstance.registeredTemplate",l);return s=s||i,void 0===c[s]&&(c[s]=[]),c[s].push(u),u.rootNodes}}function gt(t){return function(e,n){var i={set:bt(n),get:wt(n,t),enumerable:!0,configurable:!0};Object.defineProperty(e,n,i)}}function bt(t){return function(e){void 0!==e&&(s(t+"Ref",e,this),"string"!=typeof e?(e.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,e.elementRef.nativeElement.propName=t):this.saveChanges&&(this.saveChanges(t,e,void 0),this.dataBind()))}}function wt(t,e){return function(){return o(t+"Ref",this)||e}}function _t(t,e){var n=!1,i={left:0,top:0},r=t;if(!t||!e)return i;for(h(e.offsetParent)&&"fixed"===e.style.position&&(n=!0);(e.offsetParent||n)&&t&&e.offsetParent!==t;)i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;for(t=r;(e.offsetParent||n)&&t&&e.offsetParent!==t;)i.left-=t.scrollLeft,i.top-=t.scrollTop,t=t.parentElement;return i}function Ct(t,e,n,i,r){if(jr=r,ho=!!i,!t)return{left:0,top:0};e||(e="left"),n||(n="top"),Ur=t.ownerDocument,Br=t;var o={left:0,top:0};return St(e.toLowerCase(),n.toLowerCase(),o)}function Et(t,e){e.left=t}function xt(t,e){e.top=t}function St(t,e,n){switch(Hr=Br.getBoundingClientRect(),e+t){case"topcenter":Et(It(),n),xt(Pt(),n);break;case"topright":Et(Ot(),n),xt(Pt(),n);break;case"centercenter":Et(It(),n),xt(Dt(),n);break;case"centerright":Et(Ot(),n),xt(Dt(),n);break;case"centerleft":Et(At(),n),xt(Dt(),n);break;case"bottomcenter":Et(It(),n),xt(Mt(),n);break;case"bottomright":Et(Ot(),n),xt(Mt(),n);break;case"bottomleft":Et(At(),n),xt(Mt(),n);break;default:case"topleft":Et(At(),n),xt(Pt(),n)}return n}function Tt(){return Ur.documentElement.scrollTop||Ur.body.scrollTop}function kt(){return Ur.documentElement.scrollLeft||Ur.body.scrollLeft}function Mt(){return ho?Hr.bottom:Hr.bottom+Tt()}function Dt(){return Pt()+Hr.height/2}function Pt(){return ho?Hr.top:Hr.top+Tt()}function At(){return Hr.left+kt()}function Ot(){return Hr.right+kt()-(jr?jr.width:0)}function It(){return At()+Hr.width/2}function Nt(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n={X:!1,Y:!1}),!n.Y&&!n.X)return{left:0,top:0};var r=t.getBoundingClientRect();if(zr=e,qr=t.ownerDocument,i||(i=Ct(t,"left","top")),n.X){var o=zr?zt():ee(),s=Kt(),a=Qt(),l=s-i.left,u=i.left+r.width-a;r.width>o?i.left=l>0&&u<=0?a-r.width:u>0&&l<=0?s:l>u?a-r.width:s:l>0?i.left+=l:u>0&&(i.left-=u)}if(n.Y){var c=zr?Wt():te(),h=Xt(),p=Zt(),d=h-i.top,f=i.top+r.height-p;r.height>c?i.top=d>0&&f<=0?p-r.height:f>0&&d<=0?h:d>f?p-r.height:h:d>0?i.top+=d:f>0&&(i.top-=f)}return i}function Lt(t,e,n,i){void 0===e&&(e=null);var r=Ct(t,"left","top");n&&(r.left=n),i&&(r.top=i);var o=[];zr=e,qr=t.ownerDocument;var s=t.getBoundingClientRect(),a=r.top,l=r.left,u=r.left+s.width,c=r.top+s.height,h=qt(a,c),p=jt(l,u);return h.topSide&&o.push("top"),p.rightSide&&o.push("right"),p.leftSide&&o.push("left"),h.bottomSide&&o.push("bottom"),o}function Vt(t,e,n,i,r,o,s,a,l){if(void 0===s&&(s=null),void 0===a&&(a={X:!0,Y:!0}),e&&t&&r&&o&&(a.X||a.Y)){var u={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null},h=t.getBoundingClientRect(),p={posX:r,posY:o,offsetX:n,offsetY:i,position:{left:0,top:0}};zr=s,qr=e.ownerDocument,Ft(e,u,p,l,h),Ht(c,p,h),a.X&&Bt(e,c,u,p,h,!0),a.Y&&u.TL.top>-1&&Ut(e,c,u,p,h,!0),Rt(t,p,h)}}function Rt(t,e,n){var i=0,r=0;if(null!=t.offsetParent&&("absolute"===getComputedStyle(t.offsetParent).position||"relative"===getComputedStyle(t.offsetParent).position)){var o=Ct(t.offsetParent,"left","top",!1,n);i=o.left,r=o.top}t.style.top=e.position.top+e.offsetY-r+"px",t.style.left=e.position.left+e.offsetX-i+"px"}function Ft(t,e,n,i,r){n.position=Ct(t,n.posX,n.posY,i,r),e.TL=Ct(t,"left","top",i,r),e.TR=Ct(t,"right","top",i,r),e.BR=Ct(t,"left","bottom",i,r),e.BL=Ct(t,"right","bottom",i,r)}function Ht(t,e,n){t.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},t.TR={top:t.TL.top,left:t.TL.left+n.width},t.BL={top:t.TL.top+n.height,left:t.TL.left},t.BR={top:t.TL.top+n.height,left:t.TL.left+n.width}}function jt(t,e){var n=!1,i=!1;return t-$t()<Kt()&&(n=!0),e>Qt()&&(i=!0),{leftSide:n,rightSide:i}}function Bt(t,e,n,i,r,o){var s=jt(e.TL.left,e.TR.left);n.TL.left-$t()<=Kt()&&(s.leftSide=!1),n.TR.left>=Qt()&&(s.rightSide=!1),(s.leftSide&&!s.rightSide||!s.leftSide&&s.rightSide)&&("right"===i.posX?i.posX="left":i.posX="right",i.offsetX=i.offsetX+r.width,i.offsetX=-1*i.offsetX,i.position=Ct(t,i.posX,i.posY,!1),Ht(e,i,r),o&&Bt(t,e,n,i,r,!1))}function Ut(t,e,n,i,r,o){var s=qt(e.TL.top,e.BL.top);n.TL.top-Jt()<=Xt()&&(s.topSide=!1),n.BL.top>=Zt()&&(s.bottomSide=!1),(s.topSide&&!s.bottomSide||!s.topSide&&s.bottomSide)&&("top"===i.posY?i.posY="bottom":i.posY="top",i.offsetY=i.offsetY+r.height,i.offsetY=-1*i.offsetY,i.position=Ct(t,i.posX,i.posY,!1,r),Ht(e,i,r),o&&Ut(t,e,n,i,r,!1))}function qt(t,e){var n=!1,i=!1;return t-Jt()<Xt()&&(n=!0),e>Zt()&&(i=!0),{topSide:n,bottomSide:i}}function zt(){return zr.getBoundingClientRect().width}function Wt(){return zr.getBoundingClientRect().height}function Yt(){return zr.getBoundingClientRect().left}function Gt(){return zr.getBoundingClientRect().top}function Xt(){return zr?Gt():0}function Kt(){return zr?Yt():0}function Qt(){return zr?$t()+Yt()+zt():$t()+ee()}function Zt(){return zr?Jt()+Gt()+Wt():Jt()+te()}function Jt(){return qr.documentElement.scrollTop||qr.body.scrollTop}function $t(){return qr.documentElement.scrollLeft||qr.body.scrollLeft}function te(){return window.innerHeight}function ee(){var t=window.innerWidth;return t-(t-(h(document.documentElement)?0:document.documentElement.offsetWidth))}function ne(t,e){for(var n=getComputedStyle(t),i=[],r=/(auto|scroll)/,o=t.parentElement;o&&"HTML"!==o.tagName;){var s=getComputedStyle(o);"absolute"===n.position&&"static"===s.position||!r.test(s.overflow+s.overflowY+s.overflowX)||i.push(o),o=o.parentElement}return e||i.push(document),i}function ie(t){for(var e=t.parentElement,n=[];e&&"BODY"!==e.tagName;){var i=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");"auto"!==i&&"static"!==r&&n.push(i),e=e.parentElement}for(var o=[],s=0;s<document.body.children.length;s++)if(!t.isEqualNode(document.body.children[s])){var i=document.defaultView.getComputedStyle(document.body.children[s],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(document.body.children[s],null).getPropertyValue("position");"auto"!==i&&"static"!==r&&o.push(i)}o.push("999");var a=[];if(!h(t.parentElement)&&"BODY"!==t.parentElement.tagName)for(var l=[].slice.call(t.parentElement.children),s=0;s<l.length;s++){var i=document.defaultView.getComputedStyle(l[s],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(l[s],null).getPropertyValue("position");"auto"!==i&&"static"!==r&&a.push(i)}var u=n.concat(o,a),c=Math.max.apply(Math,u)+1;return c>2147483647?2147483647:c}function re(t,e,n,i,r,l){var u=i;if(i.tagName===e){var c=o("ej2_instances",i);u=t("input",{attrs:{type:n}});for(var h=["change","cssClass","label","labelPosition","id"],p=0,d=i.attributes.length;p<d;p++)-1===h.indexOf(i.attributes[p].nodeName)&&u.setAttribute(i.attributes[p].nodeName,i.attributes[p].nodeValue);A(i,{class:r,role:l,"aria-checked":"false"}),i.appendChild(u),s("ej2_instances",c,u),a(i,"ej2_instances")}return u}function oe(t){for(var e,n=t.childNodes,i=0;i<n.length;i++)if(e=n[i],3===e.nodeType)return e;return null}function se(t,e,n){"INPUT"===n?(e.parentNode.insertBefore(t.element,e),D(e),t.element.checked=!1,["name","value","disabled"].forEach(function(e){t.element.removeAttribute(e)})):(["role","aria-checked","class"].forEach(function(t){e.removeAttribute(t)}),e.innerHTML="")}function ae(t,e,n,i,r){i=re(t.createElement,e,"checkbox",i,n,r),t.element=i,"checkbox"!==t.element.getAttribute("type")&&t.element.setAttribute("type","checkbox"),t.element.id||(t.element.id=d("e-"+r))}function le(t,e,n){void 0===e&&(e=!1),void 0===n&&(n={});var i=t("div",{className:"e-checkbox-wrapper e-css"});if(n.cssClass&&C([i],n.cssClass.split(" ")),n.enableRtl&&i.classList.add("e-rtl"),e){var r=t("span",{className:"e-ripple-container"});tt(r,{isCenterRipple:!0,duration:400}),i.appendChild(r)}var o=t("span",{className:"e-frame e-icons"});if(n.checked&&o.classList.add("e-check"),i.appendChild(o),n.label){var s=t("span",{className:"e-label",innerHTML:n.label});i.appendChild(s)}return i}function ue(t,e){if(e){var n=document.createEvent("MouseEvents");n.initEvent(t.type,!1,!0),e.dispatchEvent(n)}}function ce(t,e){t.element.getAttribute("ejs-for")&&e.appendChild(t.createElement("input",{attrs:{name:t.name||t.element.name,value:"false",type:"hidden"}}))}function he(t){qo=t.resizeBegin,zo=t.resizing,Wo=t.resizeComplete,Wr=pe(t.element),Zr=pe(t.boundary);for(var e=t.direction.split(" "),n=0;n<e.length;n++){var i=_("div",{className:"e-icons "+Ho+" e-"+e[n]});Wr.appendChild(i)}Gr=t.minHeight,Kr=t.minWidth,Qr=t.maxWidth,Xr=t.maxHeight,de()}function pe(t){var e;return h(t)||(e="string"==typeof t?document.querySelector(t):t),e}function de(){for(var t=Wr.querySelectorAll("."+Ho),e=0;e<t.length;e++){Yr=t[e],ti.add(Yr,"mousedown",me,this);var n="msie"===mi.info.name?"pointerdown":"touchstart";ti.add(Yr,n,ge,this)}}function fe(t){return t.indexOf("mouse")>-1?"mouse":"touch"}function me(t){t.preventDefault(),Wr=t.target.parentElement,ye(),Ro=t.pageX,Fo=t.pageY,t.target.classList.add(jo),h(qo)||qo(t);var e=h(Zr)?document:Zr;ti.add(e,"mousemove",be,this),ti.add(document,"mouseup",ve,this);for(var n=0;n<Bo.length;n++)Yo=!Wr.classList.contains(Bo[n])}function ve(t){var e="msie"===mi.info.name?"pointermove":"touchmove",n="msie"===mi.info.name?"pointerup":"touchend",i=h(Zr)?document:Zr;ti.remove(i,"mousemove",be),ti.remove(i,e,be);var r="msie"===mi.info.name?"pointerdown":"touchstart";ti.remove(i,r,be),h(document.body.querySelector("."+jo))||document.body.querySelector("."+jo).classList.remove(jo),h(Wo)||Wo(t),ti.remove(document,"mouseup",ve),ti.remove(document,n,ve)}function ye(){Io=parseFloat(getComputedStyle(Wr,null).getPropertyValue("width").replace("px","")),No=parseFloat(getComputedStyle(Wr,null).getPropertyValue("height").replace("px","")),Lo=Wr.getBoundingClientRect().left,Vo=Wr.getBoundingClientRect().top}function ge(t){Wr=t.target.parentElement,ye(),Ro=t.touches[0].pageX,Fo=t.touches[0].pageY,h(qo)||qo(t);var e="msie"===mi.info.name?"pointermove":"touchmove",n="msie"===mi.info.name?"pointerup":"touchend",i=h(Zr)?document:Zr;ti.add(i,e,be,this),ti.add(document,n,ve)}function be(t){if(t.target.classList.contains(Ho)&&t.target.classList.contains(jo)?Yr=t.target:h(document.body.querySelector("."+jo))||(Yr=document.body.querySelector("."+jo)),!h(Yr)){for(var e="",n=0;n<Oo.length;n++)Yr.classList.contains("e-"+Oo[n])&&(e=Oo[n]);switch(h(zo)||zo(t),e){case"south":_e(t);break;case"north":Ce(t);break;case"west":Ee(t);break;case"east":xe(t);break;case"south-east":_e(t),xe(t);break;case"south-west":_e(t),Ee(t);break;case"north-east":Ce(t),xe(t);break;case"north-west":Ce(t),Ee(t)}}}function we(t){return t.getBoundingClientRect()}function _e(t){var e,n=document.documentElement.clientHeight,i=!1,r="mouse"===fe(t.type)?t.pageY:t.touches[0].pageY,o=we(Wr);h(Zr)||(e=we(Zr)),h(Zr)?h(Zr)&&(n-r>=0||o.top<0)&&(i=!0):i=!0;var s=No+(r-Fo);s=s>Gr?s:Gr;var a=0;h(Zr)||(a=e.top);var l=h(Zr)?0:Zr.offsetHeight-Zr.clientHeight,u=o.top-a-l/2;if(u=u<0?0:u,o.top>0&&u+s>Xr){if(i=!1,Wr.classList.contains(Uo))return;return void(Wr.style.height=Xr-parseInt(u.toString(),10)+"px")}var c=0;if(i){o.top<0&&n+(o.height+o.top)>0&&(c=o.top,s+c<=30&&(s=o.height-(o.height+o.top)+30)),s+o.top>=Xr&&(Wr.style.height=o.height+(n-(o.height+o.top))+"px");var p=h(Zr)?c:u;s>=Gr&&s+p<=Xr&&(Wr.style.height=s+"px")}}function Ce(t){var e,n=!1,i="mouse"===fe(t.type)?t.pageY:t.touches[0].pageY,r=we(Wr);h(Zr)||(e=we(Zr)),!h(Zr)&&r.top-e.top>0?n=!0:h(Zr)&&i>0&&(n=!0);var o=No-(i-Fo);if(we(Wr).bottom+o>Xr&&(n=!1,Wr.style.height=Xr-we(Wr).bottom+"px"),n&&o>=Gr&&o<=Xr){var s=0;h(Zr)||(s=e.top);var a=Vo-s+(i-Fo);a=a>0?a:1,Wr.style.height=o+"px",Wr.style.top=a+"px"}}function Ee(t){var e,n=document.documentElement.clientWidth,i=!1;h(Zr)||(e=we(Zr));var r="mouse"===fe(t.type)?t.pageX:t.touches[0].pageX,o=we(Wr),s=h(Zr)?0:Zr.offsetWidth-Zr.clientWidth,a=h(Zr)?0:e.left,l=h(Zr)?0:e.width;h(Jr)&&(h(Zr)?Jr=n:(Jr=o.left-a-s/2+o.width,Jr+=l-s-Jr)),!h(Zr)&&o.left-e.left+o.width+(e.right-o.right)-s<=Qr?i=!0:h(Zr)&&r>=0&&(i=!0);var u=Io-(r-Ro);if(Yo&&(u=u>Jr?Jr:u),i&&u>=Kr&&u<=Qr){var c=0;h(Zr)||(c=e.left);var p=Lo-c+(r-Ro);p=p>0?p:1,u!==Go&&Xo&&(Wr.style.width=u+"px"),Yo&&(Wr.style.left=p+"px",Xo=1!==p)}Go=u}function xe(t){var e,n=document.documentElement.clientWidth,i=!1;h(Zr)||(e=we(Zr));var r="mouse"===fe(t.type)?t.pageX:t.touches[0].pageX,o=we(Wr);!h(Zr)&&(o.left-e.left+o.width<Qr||o.right-e.left>o.width)?i=!0:h(Zr)&&n-r>0&&(i=!0);var s=Io+(r-Ro),a=0;if(h(Zr)||(a=e.left),o.left-a+s>Qr){if(i=!1,Wr.classList.contains(Uo))return;Wr.style.width=Qr-(o.left-a)+"px"}i&&s>=Kr&&s<=Qr&&(Wr.style.width=s+"px")}function Se(t){Gr=t}function Te(){for(var t=Wr.querySelectorAll("."+Ho),e=0;e<t.length;e++)D(t[e])}function ke(t,e){var n,i=h(e)?_:e,r=Ge(t.target,i);if(h(t.cssClass)||r.wrap.classList.add(t.cssClass),h(t.template)&&h(cs)){var o=h(t.type)?Ne(r.wrap):t.type;n=Ue(h(t.width)?void 0:t.width,o),Le(o,r.wrap,n,i),h(t.label)||Me(r.inner_wrap,t.label,i)}else{var s=h(t.template)?cs:t.template;r.wrap.classList.add(Ms),Be(r.wrap,s,hs)}r.wrap.classList.add(ys),r=null}function Me(t,e,n){var i=n("div",{});return i.classList.add(ks),i.textContent=e,t.appendChild(i),i}function De(t,e,n){var i=ze();us[i]={timeOut:0,type:"Material",radius:e},Ye(t,i,n,gs),Qe(e,t,"Material",gs)}function Pe(t,e,n){var i=ze();us[i]={timeOut:0,type:"Bootstrap4",radius:e},Ye(t,i,n,_s),Qe(e,t,"Bootstrap4",_s)}function Ae(t,e,n){var i={};us[e].timeOut=0,i[e]=qe(e,n,0,0),Xe({uniqueID:e,container:t,globalInfo:i,timeOutVar:0})}function Oe(t,e,n){var i=ze();us[i]={timeOut:0,type:"Fabric",radius:e},We(t,i,bs,n),nn(e,t,bs)}function Ie(t,e,n){var i=ze();us[i]={timeOut:0,type:"HighContrast",radius:e},We(t,i,Cs,n),nn(e,t,Cs)}function Ne(t){return window.getComputedStyle(t,":after").getPropertyValue("content").replace(/['"]+/g,"")}function Le(t,e,n,i){var r=e.querySelector("."+xs),o=r.querySelector("svg");switch(h(o)||r.removeChild(o),t){case"Material":De(r,n,i);break;case"Fabric":Oe(r,n,i);break;case"Bootstrap":Ve(r,n,i);break;case"HighContrast":Ie(r,n,i);break;case"Bootstrap4":Pe(r,n,i)}}function Ve(t,e,n){var i=ze();us[i]={timeOut:0,type:"Bootstrap",radius:e},Re(t,i,n),Fe(t,e)}function Re(t,e,n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id",e),i.setAttribute("class",ws),i.setAttribute("viewBox","0 0 64 64"),t.insertBefore(i,t.firstChild);for(var r=0;r<=7;r++){var o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("class",Ss+"_"+r),o.setAttribute("r","2"),o.setAttribute("transform","translate(32,32)"),i.appendChild(o)}}function Fe(t,e){var n=t.querySelector("svg.e-spin-bootstrap");n.style.width=n.style.height=e+"px";for(var i=90,r=0;r<=7;r++){var o=rn(0,0,24,i),s=n.querySelector("."+Ss+"_"+r);s.setAttribute("cx",o.x+""),s.setAttribute("cy",o.y+""),i=i>=360?0:i,i+=45}}function He(t,e){function n(t){i.push(t),t===o&&1!==a||(t<=r&&t>1&&!s?t=parseFloat((t-.2).toFixed(2)):1===t?(t=7,t=parseFloat((t+.2).toFixed(2)),s=!0):t<8&&s?8===(t=parseFloat((t+.2).toFixed(2)))&&(s=!1):t<=8&&!s&&(t=parseFloat((t-.2).toFixed(2))),++a,n(t))}var i=[],r=t,o=e,s=!1,a=1;return n(r),i}function je(t){for(var e=t.querySelector("svg.e-spin-bootstrap"),n=e.getAttribute("id"),i=1;i<=8;i++){var r=t.getElementsByClassName("e-path-circle_"+(8===i?0:i))[0];!function(t,e,n,i,r){function o(e){us[r].isAnimate&&(++s,t.setAttribute("r",e+""),s>=i.length&&(s=0),us[r].timeOut=setTimeout(o.bind(null,i[s]),18))}var s=0;o(e)}(r,i,0,He(i,i),n)}}function Be(t,e,n){h(n)||t.classList.add(n),t.querySelector(".e-spinner-inner").innerHTML=e}function Ue(t,e){var n;switch(e){case"Material":n=ps;break;case"Fabric":n=ds;break;case"Bootstrap4":n=ms;break;default:n=fs}return t=t?parseFloat(t+""):n,"Bootstrap"===e?t:t/2}function qe(t,e,n,i){return{radius:e,count:n,previousId:i}}function ze(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function We(t,e,n,i){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("id",e),r.setAttribute("class",n);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",Ss);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",Ts),t.insertBefore(r,t.firstChild),r.appendChild(o),r.appendChild(s)}function Ye(t,e,n,i){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class",i),r.setAttribute("id",e);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",Ss),t.insertBefore(r,t.firstChild),r.appendChild(o)}function Ge(t,e){var n=e("div",{});n.classList.add(Es);var i=e("div",{});return i.classList.add(xs),t.appendChild(n),n.appendChild(i),{wrap:n,inner_wrap:i}}function Xe(t){Ke(1,149,en,1333,t.globalInfo[t.uniqueID].count,75,t),t.globalInfo[t.uniqueID].count=++t.globalInfo[t.uniqueID].count%4}function Ke(t,e,n,i,r,o,s){function a(e){var r=Math.max(0,Math.min((new Date).getTime()-c,i));l(n(r,t,p,i),e.container),u===e.globalInfo[e.uniqueID].previousId&&r<i?us[e.uniqueID].timeOut=setTimeout(a.bind(null,e),1):Xe(e)}function l(t,e){if(!h(e.querySelector("svg.e-spin-material"))&&!h(e.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){var n=e.querySelector("svg.e-spin-material"),i=n.querySelector("path.e-path-circle");i.setAttribute("stroke-dashoffset",tn(d,f,t,o)+""),i.setAttribute("transform","rotate("+m+" "+d/2+" "+d/2+")")}}var u=++s.globalInfo[s.uniqueID].previousId,c=(new Date).getTime(),p=e-t,d=Ze(2*s.globalInfo[s.uniqueID].radius+""),f=$e(d),m=-90*(s.globalInfo[s.uniqueID].count||0);a(s)}function Qe(t,e,n,i){var r=2*t,o=e.querySelector("svg."+i),s=o.querySelector("path.e-path-circle"),a=$e(r),l=r/2+"px";o.setAttribute("viewBox","0 0 "+r+" "+r),o.style.width=o.style.height=r+"px",o.style.transformOrigin=l+" "+l+" "+l,s.setAttribute("d",Je(r,a)),"Material"===n&&(s.setAttribute("stroke-width",a+""),s.setAttribute("stroke-dasharray",(r-a)*Math.PI*.75+""),s.setAttribute("stroke-dashoffset",tn(r,a,1,75)+""))}function Ze(t){return parseFloat(t)}function Je(t,e){var n=t/2,i=e/2;return"M"+n+","+i+"A"+(n-i)+","+(n-i)+" 0 1 1 "+i+","+n}function $e(t){return.1*t}function tn(t,e,n,i){return(t-e)*Math.PI*(3*i/100-n/100)}function en(t,e,n,i){var r=(t/=i)*t,o=r*t;return e+n*(6*o*r+-15*r*r+10*o)}function nn(t,e,n){var i=t,r=t,o=2*t,s=e.querySelector("."+n),a=s.querySelector(".e-path-circle"),l=s.querySelector(".e-path-arc"),u=o/2+"px";a.setAttribute("d",sn(i,r,t)),l.setAttribute("d",on(i,r,t,315,45)),s.setAttribute("viewBox","0 0 "+o+" "+o),s.style.transformOrigin=u+" "+u+" "+u,s.style.width=s.style.height=o+"px"}function rn(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function on(t,e,n,i,r){var o=rn(t,e,n,r),s=rn(t,e,n,i);return["M",o.x,o.y,"A",n,n,0,0,0,s.x,s.y].join(" ")}function sn(t,e,n){return["M",t,e,"m",-n,0,"a",n,n,0,1,0,2*n,0,"a",n,n,0,1,0,2*-n,0].join(" ")}function an(t){ln(t,!1),t=null}function ln(t,e){var n=t.classList.contains(Es)?t:t.querySelector("."+Es),i=n.querySelector("."+xs);if(e?!n.classList.contains(Ms)&&!n.classList.contains(ys):!n.classList.contains(Ms)&&!n.classList.contains(vs)){var r=n.querySelector("svg");if(h(r))return;var o=r.getAttribute("id");switch(us[o].isAnimate=!e,us[o].type){case"Material":e?clearTimeout(us[o].timeOut):Ae(i,o,us[o].radius);break;case"Bootstrap":e?clearTimeout(us[o].timeOut):je(i)}}e?V(n,[ys],[vs]):V(n,[vs],[ys]),t=null}function un(t){ln(t,!0),t=null}function cn(){if(A(this.element,{role:"textbox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-live":"assertive","aria-valuenow":""}),this.mask){for(var t=this.mask.split("]"),e=0;e<t.length;e++)if("\\"===t[e][t[e].length-1]){t[e]=t[e]+"]";for(var n=t[e].split("["),i=0;i<n.length;i++)"\\"===n[i][n[i].length-1]&&(n[i]=n[i]+"["),wn.call(this,n[i])}else{var n=t[e].split("[");if(n.length>1)for(var r=!1,i=0;i<n.length;i++)"\\"===n[i]?(this.customRegExpCollec.push("["),this.hiddenMask+=n[i]+"["):""===n[i]?r=!0:""!==n[i]&&r||i===n.length-1?(this.customRegExpCollec.push("["+n[i]+"]"),this.hiddenMask+=this.promptChar,r=!1):wn.call(this,n[i]);else wn.call(this,n[0])}if(this.escapeMaskValue=this.hiddenMask,this.promptMask=this.hiddenMask.replace(/[09?LCAa#&]/g,this.promptChar),!h(this.customCharacters))for(var e=0;e<this.promptMask.length;e++)h(this.customCharacters[this.promptMask[e]])||(this.promptMask=this.promptMask.replace(new RegExp(this.promptMask[e],"g"),this.promptChar));var o=0;if(this.hiddenMask.match(new RegExp(/\\/)))for(var e=0;e<this.hiddenMask.length;e++){var i=0;e>=2&&(i=e),o=this.hiddenMask.length-this.promptMask.length,i-=o,e>0&&"\\"!==this.hiddenMask[e-1]&&(">"===this.hiddenMask[e]||"<"===this.hiddenMask[e]||"|"===this.hiddenMask[e])&&(this.promptMask=this.promptMask.substring(0,i)+this.promptMask.substring(e+1-o,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue.substring(e+1-o,this.escapeMaskValue.length)),"\\"===this.hiddenMask[e]&&(this.promptMask=this.promptMask.substring(0,i)+this.hiddenMask[e+1]+this.promptMask.substring(e+2-o,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue[e+1]+this.escapeMaskValue.substring(e+2-o,this.escapeMaskValue.length))}else this.promptMask=this.promptMask.replace(/[>|<]/g,""),this.escapeMaskValue=this.hiddenMask.replace(/[>|<]/g,"");A(this.element,{"aria-invalid":"false"})}}function hn(){qn.call(this,this.promptMask),Un.call(this,this.value)}function pn(){ti.add(this.element,"keydown",kn,this),ti.add(this.element,"keypress",An,this),ti.add(this.element,"keyup",In,this),ti.add(this.element,"input",Tn,this),ti.add(this.element,"focus",_n,this),ti.add(this.element,"blur",Cn,this),ti.add(this.element,"paste",En,this),ti.add(this.element,"cut",xn,this),ti.add(this.element,"drop",Sn,this),this.enabled&&(fn.call(this),this.formElement&&ti.add(this.formElement,"reset",yn,this))}function dn(){ti.remove(this.element,"keydown",kn),ti.remove(this.element,"keypress",An),ti.remove(this.element,"keyup",In),ti.remove(this.element,"input",Tn),ti.remove(this.element,"focus",_n),ti.remove(this.element,"blur",Cn),ti.remove(this.element,"paste",En),ti.remove(this.element,"cut",xn),this.formElement&&ti.remove(this.formElement,"reset",yn)}function fn(){this.showClearButton&&ti.add(this.inputObj.clearButton,"mousedown touchstart",mn,this)}function mn(t){t.preventDefault(),this.inputObj.clearButton.classList.contains("e-clear-icon-hide")||(vn.call(this,t),this.value="")}function vn(t){var e=this.element.value;qn.call(this,this.promptMask),this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),On.call(this,t,e),this.element.setSelectionRange(0,0)}function yn(){"EJS-MASKEDTEXTBOX"===this.element.tagName?qn.call(this,this.promptMask):this.value=this.initInputValue}function gn(t){return t.value}function bn(t,e){var n="",i=0,r=!1,o=h(e)?h(t)||h(this)?e:t.value:e;if(o!==this.promptMask)for(var s=0;s<this.customRegExpCollec.length;s++)r&&(r=!1),">"!==this.customRegExpCollec[i]&&"<"!==this.customRegExpCollec[i]&&"|"!==this.customRegExpCollec[i]&&"\\"!==this.customRegExpCollec[i]||(--s,r=!0),r||o[s]===this.promptChar||h(this.customRegExpCollec[i])||h(this.regExpCollec[this.customRegExpCollec[i]])&&!(this.customRegExpCollec[i].length>2&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1])&&(h(this.customCharacters)||h(this.customCharacters[this.customRegExpCollec[i]]))||""===o||(n+=o[s]),++i;return(null===this.mask||""===this.mask&&void 0!==this.value)&&(n=o),n}function wn(t){for(var e=0;e<t.length;e++)this.hiddenMask+=t[e],"\\"!==t[e]&&this.customRegExpCollec.push(t[e])}function _n(t){var e=this;if(this.focusEventArgs={selectionStart:0,event:t,value:this.value,maskedValue:this.element.value,container:this.inputObj.container,selectionEnd:this.promptMask.length>0?this.promptMask.length:this.element.value.length},this.trigger("focus",this.focusEventArgs),this.mask)if(this.isFocus=!0,""===this.element.value?qn.call(this,this.promptMask):qn.call(this,this.element.value),mi.isDevice||"11.0"!==mi.info.version){var n=mi.isDevice&&mi.isIos?450:0;setTimeout(function(){e.element.setSelectionRange(e.focusEventArgs.selectionStart,e.focusEventArgs.selectionEnd)},n)}else this.element.setSelectionRange(this.focusEventArgs.selectionStart,this.focusEventArgs.selectionEnd)}function Cn(t){if(this.blurEventArgs={event:t,value:this.value,maskedValue:this.element.value,container:this.inputObj.container},this.trigger("blur",this.blurEventArgs),this.mask&&(this.isFocus=!1,this.placeholder&&this.element.value===this.promptMask&&"Always"!==this.floatLabelType)){qn.call(this,"");var e=this.element.parentNode.querySelector(".e-float-text");"Auto"===this.floatLabelType&&!h(e)&&e.classList.contains(Hs)&&E([e],Hs)}}function En(t){var e=this;if(this.mask){var n=this.element.selectionStart,i=this.element.selectionEnd,r=this.element.value;qn.call(this,""),this._callPasteHandler=!0,setTimeout(function(){var o=e.element.value.replace(/ /g,"");e.redoCollec.length>0&&e.redoCollec[0].value===e.element.value&&(o=bn.call(e,e.element)),qn.call(e,r),e.element.selectionStart=n,e.element.selectionEnd=i;var s=0;e.maskKeyPress=!0;do{Vn.call(e,o[s],!1,null),++s}while(s<o.length);if(e.maskKeyPress=!1,e._callPasteHandler=!1,e.element.value===r){var a=0;e.maskKeyPress=!0;do{Vn.call(e,o[a],!1,null),++a}while(a<o.length);e.maskKeyPress=!1}else On.call(e,t,r)},1)}}function xn(t){var e=this;if(this.mask){var n=this.element.value,i=this.element.selectionStart,r=this.element.selectionEnd;this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});var o=this.element.value.substring(0,i)+this.promptMask.substring(i,r)+this.element.value.substring(r);setTimeout(function(){qn.call(e,o),e.element.selectionStart=e.element.selectionEnd=i,e.element.value!==n&&On.call(e,t,null)},0)}}function Sn(t){t.preventDefault()}function Tn(t){if(!0!==mi.isIE||""!==this.element.value||"Never"!==this.floatLabelType){if(c(t,{ctrlKey:!1,keyCode:229}),this.mask){if(""===this.element.value&&this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this._callPasteHandler||Pn.call(this,t),this.element.value.length>this.promptMask.length){var e=this.element.selectionStart,n=this.element.value.length-this.promptMask.length,i=this.element.value.substring(e-n,e);this.maskKeyPress=!1;var r=0;do{Vn.call(this,i[r],t.ctrlKey,t),++r}while(r<i.length);this.element.value!==this.preEleVal&&On.call(this,t,null)}var o=bn.call(this,this.element);this.prevValue=o,this.value=o,""===o&&(qn.call(this,this.promptMask),this.element.setSelectionRange(0,0))}}}function kn(t){if(this.mask){229!==t.keyCode&&(!t.ctrlKey||89!==t.keyCode&&90!==t.keyCode||t.preventDefault(),Pn.call(this,t));var e=this.element.value;if(t.ctrlKey&&(89===t.keyCode||90===t.keyCode)){var n=void 0;90===t.keyCode&&this.undoCollec.length>0&&e!==this.undoCollec[this.undoCollec.length-1].value?(n=this.undoCollec[this.undoCollec.length-1],this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),qn.call(this,n.value),this.element.selectionStart=n.startIndex,this.element.selectionEnd=n.endIndex,this.undoCollec.splice(this.undoCollec.length-1,1)):89===t.keyCode&&this.redoCollec.length>0&&e!==this.redoCollec[0].value&&(n=this.redoCollec[0],this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),qn.call(this,n.value),this.element.selectionStart=n.startIndex,this.element.selectionEnd=n.endIndex,this.redoCollec.splice(0,1))}}}function Mn(){var t,e=this.element.selectionStart,n=this.element.selectionEnd;this.redoCollec.length>0?(t=this.redoCollec[0],qn.call(this,t.value),t.startIndex-e==1?(this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex):(this.element.selectionStart=e+1,this.element.selectionEnd=n+1)):(qn.call(this,this.promptMask),this.element.selectionStart=this.element.selectionEnd=e)}function Dn(t,e,n){return"input"===n.type&&(t=!1,e=this.element.value,qn.call(this,this.promptMask),Un.call(this,e)),t}function Pn(t){var e,n=!1,i=!1;this.element.value.length<this.promptMask.length&&(n=!0,e=this.element.value,n=Dn.call(this,n,e,t),Mn.call(this)),this.element.value.length>=this.promptMask.length&&"input"===t.type&&(n=Dn.call(this,n,e,t));var r=this.element.selectionStart,o=this.element.selectionEnd,s=this.element.selectionStart,a=this.element.selectionEnd,l=this.hiddenMask.replace(/[>|\\<]/g,""),u=l[s-1];this.element.parentNode;if(n||8===t.keyCode||46===t.keyCode){this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:a});var c=!1,p=this.element.value;if(s>0||(8===t.keyCode||46===t.keyCode)&&s<this.element.value.length&&this.element.selectionEnd-s!==this.element.value.length){var d=s;s!==a?(s=a,46===t.keyCode&&(c=!0)):46===t.keyCode?++d:--d;for(var f=s;8===t.keyCode||n||c?f>d:f<d;8===t.keyCode||n||c?f--:f++)for(var m=s;8===t.keyCode||n||c?m>0:m<this.element.value.length;8===t.keyCode||n||c?m--:m++){var v=void 0;(8===t.keyCode||c)&&(r!==o&&r!==s||r===o)||n?(u=l[m-1],v=s-1):(u=l[m],v=s,++s);var y=this.element.value[v];if(h(this.regExpCollec[u])&&!h(this.customCharacters)&&h(this.customCharacters[u])&&this.hiddenMask[v]!==this.promptChar&&"["!==this.customRegExpCollec[v][0]&&"]"!==this.customRegExpCollec[v][this.customRegExpCollec[v].length-1]||this.promptMask[v]!==this.promptChar&&h(this.customCharacters))this.element.selectionStart=this.element.selectionEnd=v,t.preventDefault(),46!==t.keyCode||c||++this.element.selectionStart;else{var g=this.element.value,b=this.promptChar,w=g.substring(0,v)+b+g.substring(s,g.length);qn.call(this,w),t.preventDefault(),this.element.selectionStart=this.element.selectionEnd=v,i=!0}if(s=this.element.selectionStart,!i&&8===t.keyCode||c||!i&&46!==t.keyCode?v=s-1:(v=s,i=!1),y=this.element.value[v],r!==o&&this.element.selectionStart===r||this.promptMask[v]===this.promptChar||y!==this.promptMask[v]&&this.promptMask[v]!==this.promptChar&&!h(this.customCharacters))break}}0===this.element.selectionStart&&this.element.selectionEnd===this.element.value.length&&(qn.call(this,this.promptMask),t.preventDefault(),this.element.selectionStart=this.element.selectionEnd=s),this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),this.element.value!==p&&On.call(this,t,e)}}function An(t){if(this.mask){var e=this.element.value;if(!t.ctrlKey||t.ctrlKey&&"KeyA"!==t.code&&"KeyY"!==t.code&&"KeyZ"!==t.code&&"KeyX"!==t.code&&"KeyC"!==t.code&&"KeyV"!==t.code){this.maskKeyPress=!0;var n=t.key;"Spacebar"===n&&(n=String.fromCharCode(t.keyCode)),n?n&&1===n.length&&(Vn.call(this,n,t.ctrlKey,t),t.preventDefault()):(this.isIosInvalid=!0,Vn.call(this,String.fromCharCode(t.keyCode),t.ctrlKey,t),t.preventDefault(),this.isIosInvalid=!1),32===t.keyCode&&" "===n&&" "===this.promptChar&&(this.element.selectionStart=this.element.selectionEnd=this.element.selectionStart-n.length)}this.element.value!==e&&On.call(this,t,e)}}function On(t,e){var n=this.isProtectedOnChange;if(!h(this.changeEventArgs)&&!this.isInitial){var i={};this.changeEventArgs={value:this.element.value,maskedValue:this.element.value,isInteraction:!1,isInteracted:!1},this.mask&&(this.changeEventArgs.value=bn.call(this,this.element)),h(t)||(this.changeEventArgs.isInteracted=!0,this.changeEventArgs.isInteraction=!0,this.changeEventArgs.event=t),this.isProtectedOnChange=!0,this.value=this.changeEventArgs.value,this.isProtectedOnChange=n,u(i,this.changeEventArgs),this.trigger("change",i)}this.preEleVal=this.element.value,this.prevValue=bn.call(this,this.element),A(this.element,{"aria-valuenow":this.element.value})}function In(t){if(this.mask){var e=void 0,n=t.key;if(n&&1===n.length&&"Never"===this.floatLabelType&&this.undoCollec.length>0&&this.undoCollec[this.undoCollec.length-1].value===this.element.value&&Vn.call(this,n,t.ctrlKey,t),this.maskKeyPress||229!==t.keyCode)jn.call(this);else{var i=void 0;if(1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this.element.value.length>this.promptMask.length){var r=this.element.selectionStart,o=this.element.value.length-this.promptMask.length,s=this.element.value.substring(r-o,r);if(this.undoCollec.length>0){e=this.undoCollec[this.undoCollec.length-1];var a=this.element.selectionStart;i=e.value;var l=e.value.substring(a-o,a);e=this.redoCollec[0],s=s.trim();var u=mi.isAndroid&&""===s;u||l===s||e.value.substring(a-o,a)===s?u&&Fn.call(this,t,a-1,this.element.selectionEnd-1,s,t.ctrlKey,!1):Vn.call(this,s,t.ctrlKey,t)}else i=this.promptMask,Vn.call(this,s,t.ctrlKey,t);this.maskKeyPress=!1,On.call(this,t,i)}}var c=bn.call(this,this.element);(0!==this.element.selectionStart||this.promptMask!==this.element.value||""!==c||""===c&&this.value!==c)&&(this.prevValue=c,this.value=c)}else On.call(this,t),this.value=this.element.value;if(0===this.element.selectionStart&&0===this.element.selectionEnd){var h=this.element;setTimeout(function(){h.setSelectionRange(0,0)},0)}}function Nn(t){if(t.length>1&&this.promptMask.length+t.length<this.element.value.length){var e=this.redoCollec[0].value.substring(0,this.redoCollec[0].startIndex)+t+this.redoCollec[0].value.substring(this.redoCollec[0].startIndex,this.redoCollec[0].value.length);qn.call(this,e),this.element.selectionStart=this.element.selectionEnd=this.redoCollec[0].startIndex+t.length}this.element.selectionStart=this.element.selectionStart-t.length,this.element.selectionEnd=this.element.selectionEnd-t.length}function Ln(t){this.maskKeyPress||Nn.call(this,t)}function Vn(t,e,n){if(Ln.call(this,t),!h(this)&&!h(t))for(var i,r,o=this.element.selectionStart,s=o,a=(this.element.selectionEnd,!1),l=this.element.value,u=!1,c=!1,p=0;p<t.length;p++){var d=t[p];if(o=this.element.selectionStart,this.element.selectionEnd,this.maskKeyPress||s!==o||(o+=p),!this.maskKeyPress||o<this.promptMask.length){for(var f=o;f<this.promptMask.length;f++){var m=this.escapeMaskValue;i=m[o],"\\"===this.hiddenMask[o]&&this.hiddenMask[o+1]===t&&(c=!0),(h(this.regExpCollec[i])&&(h(this.customCharacters)||!h(this.customCharacters)&&h(this.customCharacters[i]))&&this.hiddenMask[o]!==this.promptChar&&"["!==this.customRegExpCollec[o][0]&&"]"!==this.customRegExpCollec[o][this.customRegExpCollec[o].length-1]||this.promptMask[o]!==this.promptChar&&h(this.customCharacters)||this.promptChar===i&&this.escapeMaskValue===this.mask)&&(this.element.selectionStart=this.element.selectionEnd=o+1,o=this.element.selectionStart,i=this.hiddenMask[o])}if(h(this.customCharacters)||h(this.customCharacters[i]))!h(this.regExpCollec[i])&&d.match(new RegExp(this.regExpCollec[i]))&&this.promptMask[o]===this.promptChar?a=!0:this.promptMask[o]===this.promptChar&&"["===this.customRegExpCollec[o][0]&&"]"===this.customRegExpCollec[o][this.customRegExpCollec[o].length-1]&&d.match(new RegExp(this.customRegExpCollec[o]))&&(a=!0);else for(var v=this.customCharacters[i],y=v.split(","),f=0;f<y.length;f++)if(d.match(new RegExp("["+y[f]+"]"))){a=!0;break}if((!this.maskKeyPress||o<this.hiddenMask.length)&&a){if(0===p)if(this.maskKeyPress)this.undoCollec.push({value:l,startIndex:o,endIndex:o});else{var g=this.element.selectionStart,b=this.element.selectionEnd;this.redoCollec.length>0?(r=this.redoCollec[0].value,qn.call(this,r),this.undoCollec.push(this.redoCollec[0])):(this.undoCollec.push({value:this.promptMask,startIndex:o,endIndex:o}),r=this.promptMask,qn.call(this,r)),this.element.selectionStart=g,this.element.selectionEnd=b}o=this.element.selectionStart,Rn.call(this,n,o,d,r,c),u=!0,p===t.length-1&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),a=!1}else o=this.element.selectionStart,Fn.call(this,n,o,s,t,e,u);p!==t.length-1||a||(!mi.isAndroid||mi.isAndroid&&o<this.promptMask.length)&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd})}else 1!==t.length||e||h(n)||Hn.call(this)}}function Rn(t,e,n,i,r){if(this.hiddenMask.length>this.promptMask.length&&(n=Bn.call(this,n,this.element.value)),!r){var o=this.element.value,s=o.substring(0,e)+n+o.substring(e+1,o.length);qn.call(this,s),this.element.selectionStart=this.element.selectionEnd=e+1}}function Fn(t,e,n,i,r,o){if(!this.maskKeyPress){var s=this.element.value;e>=this.promptMask.length?qn.call(this,s.substring(0,e)):(n===e?qn.call(this,s.substring(0,e)+s.substring(e+1,s.length)):this.promptMask.length===this.element.value.length?qn.call(this,s.substring(0,e)+s.substring(e,s.length)):qn.call(this,s.substring(0,n)+s.substring(n+1,s.length)),this.element.selectionStart=this.element.selectionEnd=o||this.element.value[n]!==this.promptChar?e:n),this.element.value,Hn.call(this)}1!==i.length||r||h(t)||Hn.call(this)}function Hn(){var t=this,e=this.element.parentNode,n=200;e.classList.contains(Rs)||e.classList.contains(Fs)?C([e],Vs):C([this.element],Vs),!0===this.isIosInvalid&&(n=400),A(this.element,{"aria-invalid":"true"}),setTimeout(function(){t.maskKeyPress||jn.call(t)},n)}function jn(){E([this.element.parentNode],Vs),E([this.element],Vs),A(this.element,{"aria-invalid":"false"})}function Bn(t,e){var n,i,r=e,o=0;for(i=0;i<this.hiddenMask.length;i++)if("\\"===this.hiddenMask[i]&&(n=r.substring(0,i)+"\\"+r.substring(i,r.length)),">"!==this.hiddenMask[i]&&"<"!==this.hiddenMask[i]&&"|"!==this.hiddenMask[i]||(this.hiddenMask[i]!==r[i]&&(n=r.substring(0,i)+this.hiddenMask[i]+r.substring(i,r.length)),++o),n){if(n[i]===this.promptChar&&i>this.element.selectionStart||this.element.value.indexOf(this.promptChar)<0&&this.element.selectionStart+o===i){o=0;break}r=n}for(;i>=0&&n;){if(0===i||"\\"!==n[i-1]){this.element.value;if(">"===n[i]){t=t.toUpperCase();break}if("<"===n[i]){t=t.toLowerCase();break}if("|"===n[i])break}--i}return t}function Un(t){if(this.mask&&void 0!==t&&(void 0===this.prevValue||this.prevValue!==t)){if(this.maskKeyPress=!0,qn.call(this,this.promptMask),""===t||null===t&&"Never"===this.floatLabelType&&this.placeholder||(this.element.selectionStart=0,this.element.selectionEnd=0),null!==t)for(var e=0;e<t.length;e++)Vn.call(this,t[e],!1,null);var n=bn.call(this,this.element);this.prevValue=n,this.value=n,On.call(this,null,null),this.maskKeyPress=!1;var i=this.element.parentNode.querySelector(".e-float-text");this.element.value===this.promptMask&&"Auto"===this.floatLabelType&&this.placeholder&&!h(i)&&i.classList.contains(Hs)&&!this.isFocus&&(E([i],Hs),C([i],js),qn.call(this,""))}(null===this.mask||""===this.mask&&void 0!==this.value)&&qn.call(this,this.value)}function qn(t,e){!this.isFocus&&"Auto"===this.floatLabelType&&this.placeholder&&h(this.value)&&(t="");var n=bn.call(this,e||this.element,t);null===n||""===n?(rs.setValue(t,e||this.element,this.floatLabelType,!1),this.showClearButton&&this.inputObj.clearButton.classList.add("e-clear-icon-hide")):rs.setValue(t,e||this.element,this.floatLabelType,this.showClearButton)}function zn(t,e){for(var n=c({},t),i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];e.indexOf(o)<0&&a(n,o)}return n}function Wn(t,e){var n={};if(h(t)||"string"==typeof t||"number"==typeof t||!h(t.isHeader))return t;for(var i=0,r=Object.keys(e);i<r.length;i++){var s=r[i],a=e[s],l=h(a)||"string"!=typeof a?void 0:o(a,t);h(l)||(n[a]=l)}return n}function Yn(t,e,n,i){var r=[];if(e||(e=t),n&&n.length?n.forEach(function(e){r.push(t.children[e])}):r=[].slice.call(t.children),h(i))r.forEach(function(t){e.appendChild(t)});else{var o=e.children[i];r.forEach(function(t){e.insertBefore(t,o)})}}var Gn=n("/oeL"),Xn=n("bm2B"),Kn="ej2_instances",Qn=0,Zn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Jn="GET",$n=function(){function t(t,e,n,i){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof t?(this.url=t,this.type=e?e.toUpperCase():Jn,this.mode=!!h(n)||n):"object"==typeof t&&(this.options=t,u(this,this.options)),this.type=this.type?this.type.toUpperCase():Jn,this.contentType=void 0!==this.contentType?this.contentType:i}return t.prototype.send=function(t){var e=this;this.data=h(t)?this.data:t;var n={cancel:!1};return new Promise(function(t,i){e.httpRequest=new XMLHttpRequest,e.httpRequest.onreadystatechange=function(){e.stateChange(t,i)},h(e.onLoad)||(e.httpRequest.onload=e.onLoad),h(e.onProgress)||(e.httpRequest.onprogress=e.onProgress),h(e.onAbort)||(e.httpRequest.onabort=e.onAbort),h(e.onError)||(e.httpRequest.onerror=e.onError),h(e.onUploadProgress)||(e.httpRequest.upload.onprogress=e.onUploadProgress),e.httpRequest.open(e.type,e.url,e.mode),h(e.data)||null===e.contentType||e.httpRequest.setRequestHeader("Content-Type",e.contentType||"application/json; charset=utf-8"),e.beforeSend&&e.beforeSend(n),n.cancel||e.httpRequest.send(h(e.data)?null:e.data)})},t.prototype.successHandler=function(t){return this.onSuccess&&this.onSuccess(t,this),t},t.prototype.failureHandler=function(t){return this.onFailure&&this.onFailure(this.httpRequest),t},t.prototype.stateChange=function(t,e){var n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(t){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?t(this.successHandler(n)):this.emitError?e(new Error(this.failureHandler(this.httpRequest.statusText))):t())},t.prototype.getResponseHeader=function(t){var e,n;e={};for(var i=Zn.exec(this.httpRequest.getAllResponseHeaders());i;)e[i[1].toLowerCase()]=i[2],i=Zn.exec(this.httpRequest.getAllResponseHeaders());return n=e[t.toLowerCase()],h(n)?null:n},t}(),ti=function(){function t(){}return t.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},t.add=function(e,n,i,r,o){var s,a=t.addOrGetEventData(e);s=o?f(i,o):i,r&&(s=s.bind(r));for(var l=n.split(" "),u=0;u<l.length;u++)a.push({name:l[u],listener:i,debounce:s}),e.addEventListener(l[u],s);return s},t.remove=function(e,n,i){for(var r=t.addOrGetEventData(e),o=n.split(" "),s=0;s<o.length;s++)!function(t){var n,s=-1;r&&0!==r.length&&r.some(function(e,r){return e.name===o[t]&&e.listener===i&&(s=r,n=e.debounce,!0)}),-1!==s&&r.splice(s,1),n&&e.removeEventListener(o[t],n)}(s)},t.clearEvents=function(e){var n,i;n=t.addOrGetEventData(e),i=c([],i,n);for(var r=0;r<i.length;r++)e.removeEventListener(i[r].name,i[r].debounce),n.shift()},t.trigger=function(e,n,i){for(var r=t.addOrGetEventData(e),o=0,s=r;o<s.length;o++){var a=s[o];a.name===n&&a.debounce.call(this,i)}},t}(),ei=/^svg|^path|^g/,ni=function(){function t(t){this.ranArray=[],this.boundedEvents={},h(t)||(this.context=t)}return t.prototype.on=function(t,e,n,i){if(!h(e)){var r=n||this.context;if(this.notExist(t))return void(this.boundedEvents[t]=[{handler:e,context:r}]);h(i)?this.isHandlerPresent(this.boundedEvents[t],e)||this.boundedEvents[t].push({handler:e,context:r}):-1===this.ranArray.indexOf(i)&&(this.ranArray.push(i),this.boundedEvents[t].push({handler:e,context:r,id:i}))}},t.prototype.off=function(t,e,n){if(!this.notExist(t)){var i=o(t,this.boundedEvents);if(e){for(var r=0;r<i.length;r++)if(n){if(i[r].id===n){i.splice(r,1);var s=this.ranArray.indexOf(n);-1!==s&&this.ranArray.splice(s,1);break}}else if(e===i[r].handler){i.splice(r,1);break}}else delete this.boundedEvents[t]}},t.prototype.notify=function(t,e){if(!this.notExist(t)){e&&(e.name=t);for(var n=o(t,this.boundedEvents).slice(0),i=0,r=n;i<r.length;i++){var s=r[i];s.handler.call(s.context,e)}}},t.prototype.destroy=function(){this.boundedEvents=this.context=void 0},t.prototype.notExist=function(t){return!1===this.boundedEvents.hasOwnProperty(t)},t.prototype.isHandlerPresent=function(t,e){for(var n=0,i=t;n<i.length;n++){if(i[n].handler===e)return!0}return!1},t}(),ii=new RegExp("]"),ri=function(){function t(t,e){this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.refreshing=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new ni(this),p(e)||(this.element="string"==typeof e?document.querySelector(e):e,h(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),p(t)||this.setProperties(t,!0),this.isDestroyed=!1}return t.prototype.setProperties=function(t,e){var n=this.isProtectedOnChange;this.isProtectedOnChange=!!e,u(this,t),!0!==e&&(u(this.changedProperties,t),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n},t.callChildDataBind=function(t,e){for(var n=Object.keys(t),i=0,r=n;i<r.length;i++){var o=r[i];if(e[o]instanceof Array)for(var s=0,a=e[o];s<a.length;s++){var l=a[s];void 0!==l.dataBind&&l.dataBind()}else e[o].dataBind()}},t.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},t.prototype.dataBind=function(){if(t.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var e=this.isProtectedOnChange,n=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(n,i),this.isProtectedOnChange=e}},t.prototype.saveChanges=function(t,e,n){this.isProtectedOnChange||(this.oldProperties[t]=n,this.changedProperties[t]=e,this.finalUpdate(),this.finalUpdate=r(this.dataBind.bind(this)))},t.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},t.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},t.prototype.trigger=function(t,e){if(!0!==this.isDestroyed){var n=this.isProtectedOnChange;if(this.isProtectedOnChange=!1,this.modelObserver.notify(t,e),ii.test(t)){var i=o(t,this);i&&i.call(this,e)}this.isProtectedOnChange=n}},t.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();C([this.element],["e-lib",t]),h(this.element.ej2_instances)?s("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},t.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(e){return e!==t}),E([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&E([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},t}(),oi=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,si=/msie|trident/i,ai=/Trident\/7\./,li=/(ipad|iphone|ipod touch)/i,ui=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,ci=/android/i,hi=/trident|windows phone|edge/i,pi=/(version)[ \/]([\w.]+)/i,di={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});var fi,mi=function(){function t(){}return t.extractBrowserDetail=function(){for(var e={culture:{}},n=Object.keys(di),i=[],r=0,o=n;r<o.length;r++){var s=o[r];if(i=t.userAgent.match(di[s])){if(e.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),e.name="crios"===i[1].toLowerCase()?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,t.userAgent.match(ai)){e.name="msie";break}var a=t.userAgent.match(pi);"safari"===e.name&&a&&(e.version=a[2]);break}}return e},t.getEvent=function(e){var n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return t.isPointer?n[e].isPointer:t.isTouch?n[e].isTouch+(t.isDevice?"":" "+n[e].isDevice):n[e].isDevice},t.getTouchStartEvent=function(){return t.getEvent("start")},t.getTouchEndEvent=function(){return t.getEvent("end")},t.getTouchMoveEvent=function(){return t.getEvent("move")},t.getTouchCancelEvent=function(){return t.getEvent("cancel")},t.getValue=function(e,n){var i=window.browserDetails;return void 0===i[e]?i[e]=n.test(t.userAgent):i[e]},Object.defineProperty(t,"userAgent",{get:function(){return t.uA},set:function(e){t.uA=e,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"info",{get:function(){return p(window.browserDetails.info)?window.browserDetails.info=t.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIE",{get:function(){return t.getValue("isIE",si)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isTouch",{get:function(){return p(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isPointer",{get:function(){return p(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isMSPointer",{get:function(){return p(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isDevice",{get:function(){return t.getValue("isDevice",oi)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIos",{get:function(){return t.getValue("isIos",li)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIos7",{get:function(){return t.getValue("isIos7",ui)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isAndroid",{get:function(){return t.getValue("isAndroid",ci)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWebView",{get:function(){return p(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(p(window.cordova)&&p(window.PhoneGap)&&p(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWindows",{get:function(){return t.getValue("isWindows",hi)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchStartEvent",{get:function(){return p(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=t.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchMoveEvent",{get:function(){return p(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=t.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchEndEvent",{get:function(){return p(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=t.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchCancelEvent",{get:function(){return p(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=t.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),t.uA="undefined"!=typeof navigator?navigator.userAgent:"",t}(),vi=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yi=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gi=function(t){function e(e){var n=t.call(this,e,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}vi(e,t),n=e,e.prototype.animate=function(t,e){e=e||{};var i=this.getModel(e);if("string"==typeof t)for(var r=Array.prototype.slice.call(I(t,document)),o=0,s=r;o<s.length;o++){var a=s[o];i.element=a,n.delayAnimation(i)}else i.element=t,n.delayAnimation(i)},e.stop=function(t,e){t.style.animation="",t.removeAttribute("e-animate");var n=t.getAttribute("e-animation-id");if(n){var i=parseInt(n,10);cancelAnimationFrame(i),t.removeAttribute("e-animation-id")}e&&e.end&&e.end.call(this,e)},e.delayAnimation=function(t){t.delay?setTimeout(function(){n.applyAnimation(t)},t.delay):n.applyAnimation(t)},e.applyAnimation=function(t){var e=this;t.timeStamp=0;var n=0,i=0,r=0,o=0,s=t.duration;t.element.setAttribute("e-animate","true");var a=function(l){try{if(l){o=0===o?l:o,t.timeStamp=l+t.timeStamp-o,o=l,!n&&t.begin&&t.begin.call(e,t),n+=1;var u=t.timeStamp/n;t.timeStamp<s&&t.timeStamp+u<s&&t.element.getAttribute("e-animate")?(t.element.style.animation=t.name+" "+t.duration+"ms "+t.timingFunction,t.progress&&t.progress.call(e,t),requestAnimationFrame(a)):(cancelAnimationFrame(i),t.element.removeAttribute("e-animation-id"),t.element.removeAttribute("e-animate"),t.element.style.animation="",t.end&&t.end.call(e,t))}else r=performance.now(),i=requestAnimationFrame(a),t.element.setAttribute("e-animation-id",i.toString())}catch(n){cancelAnimationFrame(i),t.element.removeAttribute("e-animation-id"),t.fail&&t.fail.call(e,n)}};a()},e.prototype.getModel=function(t){return{name:t.name||this.name,delay:t.delay||this.delay,duration:void 0!==t.duration?t.duration:this.duration,begin:t.begin||this.begin,end:t.end||this.end,fail:t.fail||this.fail,progress:t.progress||this.progress,timingFunction:this.easing[t.timingFunction]?this.easing[t.timingFunction]:t.timingFunction||this.easing[this.timingFunction]}},e.prototype.onPropertyChanged=function(t,e){},e.prototype.getModuleName=function(){return"animation"},e.prototype.destroy=function(){};var n;return yi([G("FadeIn")],e.prototype,"name",void 0),yi([G(400)],e.prototype,"duration",void 0),yi([G("ease")],e.prototype,"timingFunction",void 0),yi([G(0)],e.prototype,"delay",void 0),yi([Q()],e.prototype,"progress",void 0),yi([Q()],e.prototype,"begin",void 0),yi([Q()],e.prototype,"end",void 0),yi([Q()],e.prototype,"fail",void 0),e=n=yi([Z],e)}(ri),bi=!1,wi=function(){function t(t){this.loadedModules=[],this.parent=t}return t.prototype.inject=function(t,e){var n=t.length;if(0===n)return void this.clean();this.loadedModules.length&&this.clearUnusedModule(t);for(var r=0;r<n;r++)for(var o=t[r],a=0,l=e;a<l.length;a++){var u=l[a],c=o.member;if(u.prototype.getModuleName()===o.member&&!this.isModuleLoaded(c)){var h=i(u,o.args),p=this.getMemberName(c);o.isProperty?s(p,u,this.parent):s(p,h,this.parent);var d=o;d.member=p,this.loadedModules.push(d)}}},t.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var n=e[t];n.isProperty||o(n.member,this.parent).destroy()}this.loadedModules=[]},t.prototype.clearUnusedModule=function(t){for(var e=this,n=t.map(function(t){return e.getMemberName(t.member)}),i=this.loadedModules.filter(function(t){return-1===n.indexOf(t.member)}),r=0,s=i;r<s.length;r++){var l=s[r];l.isProperty||o(l.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(l),1),a(this.parent,l.member)}},t.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+"Module"},t.prototype.isModuleLoaded=function(t){for(var e=0,n=this.loadedModules;e<n.length;e++){if(n[e].member===this.getMemberName(t))return!0}return!1},t}(),_i=function(){function t(t,e,n,i){this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=o("callChildDataBind",ri),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.setProperties(n,!0),this.isParentArray=i}return t.prototype.updateChange=function(t,e){!0===t?this.parentObj.childChangedProperties[e]=t:delete this.parentObj.childChangedProperties[e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},t.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),e=function(){clearTimeout(t)};this.finalUpdate=e}},t.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},t.prototype.setProperties=function(t,e){!0===e?(u(this,t),this.updateChange(!1,this.propName),this.clearChanges()):u(this,t)},t.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(s(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),s(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},t.prototype.saveChanges=function(t,e,n){this.controlParent.isProtectedOnChange||(this.oldProperties[t]=n,this.changedProperties[t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},t}(),Ci={latn:{_digits:"0123456789",_type:"numeric"}},Ei={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},xi=[0,1,2,3,4,5,6,7,8,9],Si=function(){function t(){}return t.getMainObject=function(t,e){return o("main."+e,t)},t.getNumberingSystem=function(t){return o("supplemental.numberingSystems",t)||this.numberingSystems},t.reverseObject=function(t,e){for(var n=e||Object.keys(t),i={},r=0,o=n;r<o.length;r++){var s=o[r];i.hasOwnProperty(t[s])||(i[t[s]]=s)}return i},t.getSymbolRegex=function(t){var e=t.map(function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(e,"g")},t.getSymbolMatch=function(t){for(var e=Object.keys(Ei),n={},i=0,r=e;i<r.length;i++){var o=r[i];n[t[o]]=Ei[o]}return n},t.constructRegex=function(t){for(var e=t.length,n="",i=0;i<e;i++)n+=i!==e-1?t[i]+"|":t[i];return n},t.convertValueParts=function(t,e,n){return t.replace(e,function(t){return n[t]})},t.getDefaultNumberingSystem=function(t){var e={};return e.obj=o("numbers",t),e.nSystem=o("defaultNumberingSystem",e.obj),e},t.getCurrentNumericOptions=function(t,e,n){var i={},r=this.getDefaultNumberingSystem(t);if(!p(r.nSystem)){var s=o(r.nSystem+"._digits",e);p(s)||(i.numericPair=this.reverseObject(s,xi),i.numberParseRegex=new RegExp(this.constructRegex(s),"g"),i.numericRegex="["+s[0]+"-"+s[9]+"]",n&&(i.numericRegex=s[0]+"-"+s[9],i.symbolNumberSystem=o("symbols-numberSystem-"+r.nSystem,r.obj),i.symbolMatch=this.getSymbolMatch(i.symbolNumberSystem),i.numberSystem=r.nSystem))}return i},t.getNumberMapper=function(t,e,n){var i={mapper:{}},r=this.getDefaultNumberingSystem(t);if(!p(r.nSystem)){i.numberSystem=r.nSystem,i.numberSymbols=o("symbols-numberSystem-"+r.nSystem,r.obj),i.timeSeparator=o("timeSeparator",i.numberSymbols);var s=o(r.nSystem+"._digits",e);if(!p(s))for(var a=0,l=xi;a<l.length;a++){var u=l[a];i.mapper[u]=s[u]}}return i},t.nPair="numericPair",t.nRegex="numericRegex",t.numberingSystems=Ci,t}(),Ti={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},ki=["infinity","nan","group","decimal","exponential"],Mi=function(){function t(){}return t.numberFormatter=function(t,e,n){var i,r=this,o=c({},e),s={},a={},l=fi.getDependables(n,t,"",!0);a.numberMapper=Si.getNumberMapper(l.parserObject,Si.getNumberingSystem(n),!0),a.currencySymbol=fi.getCurrencySymbol(l.numericObject,o.currency||Gi),a.percentSymbol=a.numberMapper.numberSymbols.percentSign,a.minusSymbol=a.numberMapper.numberSymbols.minusSign;var u=a.numberMapper.numberSymbols;if(e.format&&!fi.formatRegex.test(e.format))s=fi.customFormat(e.format,a,l.numericObject);else{c(o,fi.getProperNumericSkeleton(e.format||"N")),o.isCurrency="currency"===o.type,o.isPercent="percent"===o.type,i=fi.getSymbolPattern(o.type,a.numberMapper.numberSystem,l.numericObject,o.isAccount),o.groupOne=this.checkValueRange(o.maximumSignificantDigits,o.minimumSignificantDigits,!0),this.checkValueRange(o.maximumFractionDigits,o.minimumFractionDigits,!1,!0),p(o.fractionDigits)||(o.minimumFractionDigits=o.maximumFractionDigits=o.fractionDigits),p(o.useGrouping)&&(o.useGrouping=!0),o.isCurrency&&(i=i.replace(/\u00A4/g,fi.defaultCurrency));var h=i.split(";");s.nData=fi.getFormatData(h[1]||"-"+h[0],!0,a.currencySymbol),s.pData=fi.getFormatData(h[0],!1,a.currencySymbol),o.useGrouping&&(o.groupSeparator=u[ki[2]],o.groupData=this.getGroupingDetails(h[0]));if(p(o.minimumFractionDigits)&&(o.minimumFractionDigits=s.nData.minimumFraction),p(o.maximumFractionDigits)){var d=s.nData.maximumFraction;o.maximumFractionDigits=p(d)&&o.isPercent?0:d}var f=o.minimumFractionDigits,m=o.maximumFractionDigits;p(f)||p(m)||f>m&&(o.maximumFractionDigits=f)}return c(s.nData,o),c(s.pData,o),function(t){return isNaN(t)?u[ki[1]]:isFinite(t)?r.intNumberFormatter(t,s,a):u[ki[0]]}},t.getGroupingDetails=function(t){var e={},n=t.match(fi.negativeDataRegex);if(n&&n[4]){var i=n[4],r=i.lastIndexOf(",");if(-1!==r){var o=i.split(".")[0];e.primary=o.length-r-1;var s=i.lastIndexOf(",",r-1);-1!==s&&(e.secondary=r-1-s)}}return e},t.checkValueRange=function(t,e,n,i){var r=i?"f":"s",o=0,s=Ti["l"+r],a=Ti["m"+r];if(p(t)||(this.checkRange(t,s,i),o++),p(e)||(this.checkRange(e,a,i),o++),2===o){if(!(t<e))return!0;v(a+"specified must be less than the"+s)}else n&&1===o&&v("Both"+a+"and"+a+"must be present");return!1},t.checkRange=function(t,e,n){var i=n?[0,20]:[1,21];(t<i[0]||t>i[1])&&v(e+"value must be within the range"+i[0]+"to"+i[1])},t.intNumberFormatter=function(t,e,n){var i;if(!p(e.nData.type)){t<0?(t*=-1,i=e.nData):i=0===t?e.zeroData||e.pData:e.pData;var r="";return i.isPercent&&(t*=100),i.groupOne?r=this.processSignificantDigits(t,i.minimumSignificantDigits,i.maximumSignificantDigits):(r=this.processFraction(t,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,i.minimumIntegerDigits))),"scientific"===i.type&&(r=t.toExponential(i.maximumFractionDigits),r=r.replace("e",n.numberMapper.numberSymbols[ki[4]])),r=r.replace(".",n.numberMapper.numberSymbols[ki[3]]),i.useGrouping&&(r=this.groupNumbers(r,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[ki[3]]||".",i.groupData.secondary)),r=Si.convertValueParts(r,fi.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+r+i.nend}},t.processSignificantDigits=function(t,e,n){var i=t+"";return i.length<e?t.toPrecision(e):+(i=t.toPrecision(n))+""},t.groupNumbers=function(t,e,n,i,r){for(var o=!h(r)&&0!==r,s=t.split(i),a=s[0],l=a.length,u="";l>e;)u=a.slice(l-e,l)+(u.length?n+u:""),l-=e,o&&(e=r,o=!1);return s[0]=a.slice(0,l)+(u.length?n:"")+u,s.join(i)},t.processFraction=function(t,e,n){var i=(t+"").split(".")[1],r=i?i.length:0;if(e&&r<e){var o="";if(0!==r){o+=t;for(var s=0;s<e-r;s++)o+="0";return o}return o=t.toFixed(e),t.toFixed(e)}return!h(n)&&(r>n||0===n)?t.toFixed(n):t+""},t.processMinimumIntegers=function(t,e){var n=t.split("."),i=n[0],r=i.length;if(r<e){for(var o=0;o<e-r;o++)i="0"+i;n[0]=i}return n.join(".")},t}();!function(t){function e(e,n,i,r){var s,a=i||"date";if(-1!==t.basicPatterns.indexOf(e)){if(s=o(a+"Formats."+e,n),"dateTime"===a){var l=o("dateFormats."+e,n),u=o("timeFormats."+e,n);s=s.replace("{1}",l).replace("{0}",u)}}else s=o("dateTimeFormats.availableFormats."+e,n);return p(s)&&"yMd"===e&&(s="M/d/y"),s}function n(e,n,i,r){var s={},a=i||"gregorian";return s.parserObject=Si.getMainObject(e,n)||t.defaultObject,r?s.numericObject=o("numbers",s.parserObject):s.dateObject=o("dates.calendars."+a,s.parserObject),s}function i(t,e,n,i){return o(t+"Formats-numberSystem-"+e+(i?".accounting":".standard"),n)||(i?o(t+"Formats-numberSystem-"+e+".standard",n):"")}function r(e){var n=e.match(t.formatRegex),i={},r=n[1].toUpperCase();return i.isAccount="A"===r,i.type=t.patternMatcher[r],e.length>1&&(i.fractionDigits=parseInt(n[2],10)),i}function s(e,n,i,r){var o=r?{}:{nlead:"",nend:""},s=e.match(t.customRegex);if(s){r||(o.nlead=a(s[1],i),o.nend=a(s[10],i),o.groupPattern=s[4]);var l=s[7];if(l&&n){var u=l.match(C);h(u)?o.minimumFraction=0:o.minimumFraction=u.length,o.maximumFraction=l.length-1}}return o}function a(e,n){return e?e.replace(t.defaultCurrency,n):""}function l(t,e){return o("currencies."+e+".symbol",t)||"$"}function u(t,e,n){for(var i={},r=t.split(";"),o=["pData","nData","zeroData"],s=0;s<r.length;s++)i[o[s]]=d(r[s],e,n);return h(i.nData)&&(i.nData=c({},i.pData),i.nData.nlead=h(e)?"-"+i.nData.nlead:e.minusSymbol+i.nData.nlead),i}function d(e,n,r){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},s=e.match(t.customRegex);(h(s)||""===s[5]&&"N/A"!==e)&&(o.type=void 0),o.nlead=s[1],o.nend=s[10];var a=s[6];o.useGrouping=-1!==a.indexOf(","),a=a.replace(/,/g,"");var l=s[7];if(-1!==a.indexOf("0")&&(o.minimumIntegerDigits=a.length-a.indexOf("0")),h(l)||(o.minimumFractionDigits=l.lastIndexOf("0"),o.maximumFractionDigits=l.lastIndexOf("#"),-1===o.minimumFractionDigits&&(o.minimumFractionDigits=0),(-1===o.maximumFractionDigits||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),h(n)?c(o,f([o.nlead,o.nend],"%","%")):(c(o,f([o.nlead,o.nend],"$",n.currencySymbol)),o.isCurrency||c(o,f([o.nlead,o.nend],"%",n.percentSymbol))),!h(r)){var u=i(o.type,n.numberMapper.numberSystem,r,!1);o.useGrouping&&(o.groupSeparator=n.numberMapper.numberSymbols[E[2]],o.groupData=Mi.getGroupingDetails(u.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")}return o}function f(t,e,n){for(var i={nlead:t[0],nend:t[1]},r=0;r<2;r++){var o=t[r],s=o.indexOf(e);if(-1!==s&&(s<o.indexOf("'")||s>o.lastIndexOf("'"))){i[M[r]]=o.substr(0,s)+n+o.substr(s+1),i[M[e]]=!0,i.type=i.isCurrency?"currency":"percent";break}}return i}function m(t){var e=(o("dateFormats.short",t)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return e?e[1]:"/"}function v(t,i,r,s){var a=n(r,t,i.calendar),l=i.format||e(i.skeleton,a.dateObject,i.type);if(s){if(l=l.replace(x,function(t){return S[t]}),-1!==l.indexOf("z")){var u=l.match(/z/g).length,c=void 0,h={timeZone:{}};h.numMapper=Si.getNumberMapper(a.parserObject,Si.getNumberingSystem(r)),h.timeZone=o("dates.timeZoneNames",a.parserObject);var p=new Date,d=p.getTimezoneOffset(),f=u<4?"+H;-H":h.timeZone.hourFormat;f=f.replace(/:/g,h.numMapper.timeSeparator),0===d?c=h.timeZone.gmtZeroFormat:(c=Li.getTimeZoneValue(d,f),c=h.timeZone.gmtFormat.replace(/\{0\}/,c)),l=l.replace(/[z]+/,'"'+c+'"')}l=l.replace(/ $/,"")}return l}function y(e,o,a){var u,h=n(a,e,"",!0),p={custom:!0},d={},f=(o.format||"").match(t.currencyFormatRegex);if(f){var m={};m.numberMapper=Si.getNumberMapper(h.parserObject,Si.getNumberingSystem(a),!0);var v=l(h.numericObject,o.currency||Gi),y=i("currency",m.numberMapper.numberSystem,h.numericObject,/a/i.test(o.format));y=y.replace(/\u00A4/g,v);var _=y.split(";");d.hasNegativePattern=_.length>1,d.nData=s(_[1]||"-"+_[0],!0,v),d.pData=s(_[0],!1,v),f[2]||o.minimumFractionDigits||o.maximumFractionDigits||(u=s(y.split(";")[0],!0,"",!0).minimumFraction)}var C;if(t.formatRegex.test(o.format)||!o.format){if(c(p,r(o.format||"N")),p.custom=!1,C="###0",p.fractionDigits||o.minimumFractionDigits||o.maximumFractionDigits||u){p.fractionDigits&&(o.minimumFractionDigits=o.maximumFractionDigits=p.fractionDigits),C=g(C,u||p.fractionDigits||o.minimumFractionDigits||0,o.maximumFractionDigits||0)}if(o.minimumIntegerDigits&&(C=b(C,o.minimumIntegerDigits)),o.useGrouping&&(C=w(C)),"currency"===p.type){var E=C;C=d.pData.nlead+E+d.pData.nend,d.hasNegativePattern&&(C+=";"+d.nData.nlead+E+d.nData.nend)}"percent"===p.type&&(C+=" %")}else C=o.format.replace(/\'/g,'"');return C}function g(t,e,n){t+=".";for(var i=0;i<e;i++)t+="0";if(e<n)for(var r=n-e,o=0;o<r;o++)t+="#";return t}function b(t,e){for(var n=t.split("."),i="",r=0;r<e;r++)i+="0";return n[1]?i+"."+n[1]:i}function w(t){var e=t.split("."),n=e[0],i=3-n.length%3;n=(i&&1===i?"#":2===i?"##":"")+n,t="";for(var r=n.length-1;r>0;r-=3)t=","+n[r-2]+n[r-1]+n[r]+t;return t=t.slice(1),e[1]?t+"."+e[1]:t}function _(t,e){var n=T,i=o("supplemental.weekData.firstDay",e),r=t;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),i&&(n=i[r]||T),k[n]}t.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,t.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,t.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var C=/[0-9]/g;t.defaultCurrency="$";var E=["infinity","nan","group","decimal"],x=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,S={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"},T="sun";t.islamicRegex=/^islamic/;var k={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};t.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,t.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,t.curWithoutNumberRegex=/(c|a)$/gi;var M={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};t.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,t.basicPatterns=["short","medium","long","full"],t.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},t.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},t.month="months",t.days="days",t.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},t.getResultantPattern=e,t.getDependables=n,t.getSymbolPattern=i,t.getProperNumericSkeleton=r,t.getFormatData=s,t.getCurrencySymbol=l,t.customFormat=u,t.isCurrencyPercent=f,t.getDateSeparator=m,t.getActualDateTimeFormat=v,t.getActualNumberFormat=y,t.getWeekData=_}(fi||(fi={}));var Di;!function(t){function e(t){var e=t.getDate(),n=t.getMonth(),r=t.getFullYear(),o=n+1,s=r;o<3&&(s-=1,o+=12);var a=Math.floor(s/100),l=a-Math.floor(a/4)-2,u=Math.floor(365.25*(s+4716))+Math.floor(30.6001*(o+1))+e-l-1524;a=Math.floor((u-1867216.25)/36524.25),l=a-Math.floor(a/4)+1;var c=u+l+1524,h=Math.floor((c-122.1)/365.25),p=Math.floor(365.25*h),d=Math.floor((c-p)/30.6001);e=c-p-Math.floor(30.6001*d),n=Math.floor((c-p)/20.6001),n>13&&(h+=1,n-=12),n-=1,r=h-4716;var f=u-24e5,m=u-1948084,v=Math.floor(m/10631);m-=10631*v;var y=Math.floor((m-.1335)/(10631/30)),g=30*v+y;m-=Math.floor(y*(10631/30)+.1335);var b=Math.floor((m+28.5001)/29.5);13===b&&(b=12);for(var w=m-Math.floor(29.5001*b-29),_=0;_<i.length&&!(i[_]>f);_++);var C=_+16260,E=Math.floor((C-1)/12),x=E+1,S=C-12*E,T=f-i[_-1]+1;return(T+"").length>2&&(T=w,S=b,x=g),{year:x,month:S,date:T}}function n(t,e,n){var r=t,o=e,s=n,a=r-1,l=12*a+1+(o-1),u=l-16260,c=s+i[u-1]-1,h=c+24e5,p=Math.floor(h+.5),d=Math.floor((p-1867216.25)/36524.25);d=p+1+d-Math.floor(d/4);var f=d+1524,m=Math.floor((f-122.1)/365.25),v=Math.floor(365.25*m),y=Math.floor((f-v)/30.6001),g=f-v-Math.floor(30.6001*y),b=y-(y>13.5?13:1),w=m-(b>2.5?4716:4715);return w<=0&&b--,new Date(w+"/"+b+"/"+g)}var i=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];t.getHijriDate=e,t.toGregorian=n}(Di||(Di={}));var Pi,Ai=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi,Oi=["sun","mon","tue","wed","thu","fri","sat"],Ii={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate"},Ni={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},Li=function(){function t(){}return t.dateFormat=function(t,e,n){var i=this,r=fi.getDependables(n,t,e.calendar),s={isIslamic:fi.islamicRegex.test(e.calendar)},a=e.format||fi.getResultantPattern(e.skeleton,r.dateObject,e.type);if(s.dateSeperator=fi.getDateSeparator(r.dateObject),p(a))v("Format options or type given must be invalid");else{s.pattern=a,s.numMapper=Si.getNumberMapper(r.parserObject,Si.getNumberingSystem(n));for(var l=a.match(Ai)||[],u=0,c=l;u<c.length;u++){var h=c[u],d=h.length,f=h[0];"K"===f&&(f="h");switch(f){case"E":case"c":s.weekday=r.dateObject[fi.days]["stand-alone"][fi.monthIndex[d]];break;case"M":case"L":s.month=r.dateObject[fi.month]["stand-alone"][fi.monthIndex[d]];break;case"a":s.designator=o("dayPeriods.format.wide",r.dateObject);break;case"G":var m=d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow";s.era=o("eras."+m,r.dateObject);break;case"z":s.timeZone=o("dates.timeZoneNames",r.parserObject)}}}return function(t){return isNaN(t.getDate())?null:i.intDateFormatter(t,s)}},t.intDateFormatter=function(t,e){for(var n=e.pattern,i="",r=n.match(fi.dateParseRegex),o=this.getCurrentDateValue(t,e.isIslamic),s=0,a=r;s<a.length;s++){var l=a[s],u=l.length,c=l[0];"K"===c&&(c="h");var p=void 0,d=void 0,f=void 0,m="";switch(c){case"M":case"L":p=o.month,u>2?i+=e.month[p]:d=!0;break;case"E":case"c":i+=e.weekday[Oi[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":d=!0,p="d"===c?o.date:t[Ii[c]](),"h"===c&&(p=p%12||12);break;case"y":f=!0,m+=o.year,2===u&&(m=m.substr(m.length-2));break;case"a":var v=t.getHours()<12?"am":"pm";i+=e.designator[v];break;case"G":var y=t.getFullYear()<0?0:1,g=e.era[y];h(g)&&(g=e.era[y?0:1]),i+=g||"";break;case"'":i+="''"===l?"'":l.replace(/\'/g,"");break;case"z":var b=t.getTimezoneOffset(),w=u<4?"+H;-H":e.timeZone.hourFormat;w=w.replace(/:/g,e.numMapper.timeSeparator),0===b?i+=e.timeZone.gmtZeroFormat:(f=!0,m=this.getTimeZoneValue(b,w)),m=e.timeZone.gmtFormat.replace(/\{0\}/,m);break;case":":i+=e.numMapper.numberSymbols.timeSeparator;break;case"/":i+=e.dateSeperator;break;default:i+=l}d&&(f=!0,m=this.checkTwodigitNumber(p,u)),f&&(i+=Si.convertValueParts(m,fi.latnParseRegex,e.numMapper.mapper))}return i},t.getCurrentDateValue=function(t,e){return e?Di.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},t.checkTwodigitNumber=function(t,e){var n=t+"";return 2===e&&2!==n.length?"0"+n:n},t.getTimeZoneValue=function(t,e){var n=this,i=e.split(";"),r=i[t>0?1:0],o=Math.abs(t);return r=r.replace(/HH?|mm/g,function(t){var e=t.length,i=-1!==t.indexOf("H");return n.checkTwodigitNumber(Math.floor(i?o/60:o%60),e)})},t}(),Vi=/^[0-9]*$/,Ri={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth"},Fi=function(){function t(){}return t.dateParser=function(t,e,n){var i,r=this,s=fi.getDependables(n,t,e.calendar),a=Si.getCurrentNumericOptions(s.parserObject,Si.getNumberingSystem(n)),l={},u=e.format||fi.getResultantPattern(e.skeleton,s.dateObject,e.type),c="";if(p(u))v("Format options or type given must be invalid");else{l={isIslamic:fi.islamicRegex.test(e.calendar),pattern:u,evalposition:{}};for(var d=u.match(fi.dateParseRegex)||[],f=d.length,m=0,y=0,g=!1,b=a.numericRegex,w=Si.getNumberMapper(s.parserObject,Si.getNumberingSystem(n)),_=0;_<f;_++){var C=d[_],E=C.length,x="K"===C[0]?"h":C[0],S=void 0,T=void 0,k=Ni[x],M=2===E?"":"?";switch(g&&(m=y,g=!1),x){case"E":case"c":var D=Si.reverseObject(s.dateObject[fi.days]["stand-alone"][fi.monthIndex[E]]);c+="("+Object.keys(D).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":T=!0,("M"===x||"L"===x)&&E>2?(l[k]=Si.reverseObject(s.dateObject.months["stand-alone"][fi.monthIndex[E]]),c+="("+Object.keys(l[k]).join("|")+")"):(S=!0,c+="("+b+b+M+")"),"h"===x&&(l.hour12=!0);break;case"y":T=S=!0,c+=2===E?"("+b+b+")":"("+b+"{"+E+",})";break;case"a":T=!0,l[k]=Si.reverseObject(o("dayPeriods.format.wide",s.dateObject)),c+="("+Object.keys(l[k]).join("|")+")";break;case"G":T=!0;var P=E<=3?"eraAbbr":4===E?"eraNames":"eraNarrow";l[k]=Si.reverseObject(o("eras."+P,s.dateObject)),c+="("+Object.keys(l[k]).join("|")+"?)";break;case"z":T=0!==(new Date).getTimezoneOffset(),l[k]=o("dates.timeZoneNames",s.parserObject);var A=l[k];i=E<4;var O=i?"+H;-H":A.hourFormat;O=O.replace(/:/g,w.timeSeparator),c+="("+this.parseTimeZoneRegx(O,A,b)+")?",g=!0,y=i?6:12;break;case"'":c+="("+C.replace(/\'/g,"")+")?";break;default:c+="([\\D])"}T&&(l.evalposition[k]={isNumber:S,pos:_+1+m,hourOnly:i}),_!==f-1||h(c)||(l.parserRegex=new RegExp("^"+c+"$"))}}return function(t){var e=r.internalDateParse(t,l,a);if(h(e)||!Object.keys(e).length)return null;if(l.isIslamic){var n={},i=e.year,o=e.day,s=e.month,u=i?i+"":"",c=2===u.length;i&&s&&o&&!c||(n=Di.getHijriDate(new Date)),c&&(i=parseInt((n.year+"").slice(0,2)+u,10));var p=Di.toGregorian(i||n.year,s||n.month,o||n.date);e.year=p.getFullYear(),e.month=p.getMonth()+1,e.day=p.getDate()}return r.getDateObject(e)}},t.getDateObject=function(t,e){var n=e||new Date;n.setMilliseconds(0);var i=["hour","minute","second","month","day"],r=t.year,o=t.designator,s=t.timeZone;if(!p(r)){if((r+"").length<=2){r+=100*Math.floor(n.getFullYear()/100)}n.setFullYear(r)}for(var a=0,l=i;a<l.length;a++){var u=l[a],c=t[u];if(!p(c))if("month"===u){if((c-=1)<0||c>11)return new Date("invalid");var h=n.getDate();n.setDate(1),n[Ri[u]](c);var d=new Date(n.getFullYear(),c+1,0).getDate();n.setDate(h<d?h:d)}else{if("day"===u){var f=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(c<1||c>f)return null}n[Ri[u]](c)}}if(!p(o)){var m=n.getHours();"pm"===o?n.setHours(m+(12===m?0:12)):12===m&&n.setHours(0)}if(!p(s)){var v=s-n.getTimezoneOffset();0!==v&&n.setMinutes(n.getMinutes()+v)}return n},t.internalDateParse=function(t,e,n){var i=t.match(e.parserRegex),r={hour:0,minute:0,second:0};n.numericRegex;if(h(i))return null;for(var o=Object.keys(e.evalposition),s=0,a=o;s<a.length;s++){var l=a[s],u=e.evalposition[l],c=i[u.pos];if(u.isNumber)r[l]=this.internalNumberParser(c,n);else if("timeZone"!==l||p(c))r[l]=e[l][c];else{var d=u.pos,f=void 0,m=i[d+1],v=!p(m);u.hourOnly?f=60*this.getZoneValue(v,m,i[d+4],n):(f=60*this.getZoneValue(v,m,i[d+7],n),f+=this.getZoneValue(v,i[d+4],i[d+10],n)),h(f)||(r[l]=f)}}return e.hour12&&(r.hour12=!0),r},t.internalNumberParser=function(t,e){return t=Si.convertValueParts(t,e.numberParseRegex,e.numericPair),Vi.test(t)?+t:null},t.parseTimeZoneRegx=function(t,e,n){var i,r,o=e.gmtFormat,s="("+n+")("+n+")";return i=t.replace("+","\\+"),i=-1!==t.indexOf("HH")?i.replace(/HH|mm/g,"("+s+")"):i.replace(/H|m/g,"("+s+"?)"),r=i.split(";").map(function(t){return o.replace("{0}",t)}),i=r.join("|")+"|"+e.gmtZeroFormat},t.getZoneValue=function(t,e,n,i){var r=t?e:n;if(!r)return 0;var o=this.internalNumberParser(r,i);return t?-o:o},t}(),Hi=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,ji=/,/g,Bi=["minusSign","infinity"],Ui=function(){function t(){}return t.numberParser=function(t,e,n){var i,r=this,o=fi.getDependables(n,t,"",!0),s={custom:!0};fi.formatRegex.test(e.format)||!e.format?(c(s,fi.getProperNumericSkeleton(e.format||"N")),s.custom=!1):c(s,fi.customFormat(e.format,null,null)),i=Si.getCurrentNumericOptions(o.parserObject,Si.getNumberingSystem(n),!0),s.symbolRegex=Si.getSymbolRegex(Object.keys(i.symbolMatch)),s.infinity=i.symbolNumberSystem[Bi[1]];var a=fi.getSymbolPattern(s.type,i.numberSystem,o.numericObject,s.isAccount);if(a){a=a.replace(/\u00A4/g,fi.defaultCurrency);var l=a.split(";");s.nData=fi.getFormatData(l[1]||"-"+l[0],!0,""),s.pData=fi.getFormatData(l[0],!0,"")}return function(t){return r.getParsedNumber(t,s,i)}},t.getParsedNumber=function(t,e,n){var i,r,o,s,a,l;if(-1!==t.indexOf(e.infinity))return 1/0;t=Si.convertValueParts(t,e.symbolRegex,n.symbolMatch),t=Si.convertValueParts(t,n.numberParseRegex,n.numericPair),0===t.indexOf(".")&&(t="0"+t);var u=t.match(Hi);if(h(u))return NaN;s=u[1],o=u[2];var c=u[5];return a=u[6],i=e.custom?s===e.nData.nlead&&a===e.nData.nend:-1!==s.indexOf(e.nData.nlead)&&-1!==a.indexOf(e.nData.nend),r=i?e.nData.isPercent:e.pData.isPercent,o=o.replace(ji,""),c&&(o+=c),l=+o,("percent"===e.type||r)&&(l/=100),(e.custom||e.fractionDigits)&&(l=parseFloat(l.toFixed(e.custom?i?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),i&&(l*=-1),l},t}(),qi=new ni,zi=!1,Wi={},Yi="en-US",Gi="USD",Xi=["numericObject","dateObject"],Ki=function(){function t(t){t&&(this.culture=t)}return t.prototype.getDateFormat=function(t){return Li.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},Wi)},t.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=Gi),Mi.numberFormatter(this.getCulture(),t||{},Wi)},t.prototype.getDateParser=function(t){return Fi.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},Wi)},t.prototype.getNumberParser=function(t){return Ui.numberParser(this.getCulture(),t||{format:"N"},Wi)},t.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},t.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},t.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},t.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},t.prototype.getDatePattern=function(t,e){return fi.getActualDateTimeFormat(this.getCulture(),t,Wi,e)},t.prototype.getNumberPattern=function(t){return fi.getActualNumberFormat(this.getCulture(),t,Wi)},t.prototype.getFirstDayOfWeek=function(){return fi.getWeekData(this.getCulture(),Wi)},t.prototype.getCulture=function(){return this.culture||Yi},t}(),Qi=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zi=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ji=0,$i=0,tr=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.randomId=b(),i.needsID=!1,i.createElement=_,h(i.enableRtl)&&i.setProperties({enableRtl:zi},!0),h(i.locale)&&i.setProperties({locale:Yi},!0),i.moduleLoader=new wi(i),i.localObserver=new ni(i),qi.on("notifyExternalChange",i.detectFunction,i,i.randomId),p(n)||i.appendTo(),i}return Qi(e,t),e.prototype.requiredModules=function(){return[]},e.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(E([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),t.prototype.destroy.call(this),this.moduleLoader.clean(),qi.off("notifyExternalChange",this.detectFunction,this.randomId)))},e.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new ni(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},e.prototype.appendTo=function(e){if(h(e)||"string"!=typeof e?h(e)||(this.element=e):this.element=document.querySelector(e),!h(this.element)){var n="e-"+this.getModuleName().toLowerCase();C([this.element],["e-control",n]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var i=o("ej2_instances",this.element);i&&-1!==i.indexOf(this)||t.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.trigger("created")}},e.prototype.dataBind=function(){this.injectModules(),t.prototype.dataBind.call(this)},e.prototype.on=function(t,e,n){if("string"==typeof t)this.localObserver.on(t,e,n);else for(var i=0,r=t;i<r.length;i++){var o=r[i];this.localObserver.on(o.event,o.handler,o.context)}},e.prototype.off=function(t,e){if("string"==typeof t)this.localObserver.off(t,e);else for(var n=0,i=t;n<i.length;n++){var r=i[n];this.localObserver.off(r.event,r.handler)}},e.prototype.notify=function(t,e){!0!==this.isDestroyed&&this.localObserver.notify(t,e)},e.prototype.getInjectedModules=function(){return this.injectedModules},e.Inject=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<t.length;n++)-1===this.prototype.injectedModules.indexOf(t[n])&&this.prototype.injectedModules.push(t[n])},e.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},e.prototype.detectFunction=function(t){var e=Object.keys(t);e.length&&(this[e[0]]=t[e[0]])},e.prototype.mergePersistData=function(){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);h(t)||""===t||this.setProperties(JSON.parse(t),!0)},e.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},e.prototype.clearTemplate=function(t,e){},e.prototype.getUniqueID=function(t){return this.isHistoryChanged()&&(Ji=0),Pi=this.pageID(location.href),$i=history.length,t+"_"+Pi+"_"+Ji++},e.prototype.pageID=function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return Math.abs(e)},e.prototype.isHistoryChanged=function(){return Pi!==this.pageID(location.href)||$i!==history.length},e.prototype.addOnPersist=function(t){for(var e=this,n={},i=0,r=t;i<r.length;i++){var a=r[i],l=void 0;l=o(a,this),p(l)||s(a,this.getActualProperties(l),n)}return JSON.stringify(n,function(t,n){return e.getActualProperties(n)})},e.prototype.getActualProperties=function(t){return t instanceof _i?o("properties",t):t},e.prototype.ignoreOnPersist=function(t){return JSON.stringify(this.iterateJsonProperties(this.properties,t))},e.prototype.iterateJsonProperties=function(t,e){for(var n={},i=this,r=0,o=Object.keys(t);r<o.length;r++){var s=o[r];!function(r){if(-1===e.indexOf(r)){var o=t[r];if("object"!=typeof o||o instanceof Array)n[r]=o;else{var s=e.filter(function(t){return new RegExp(r+".").test(t)}).map(function(t){return t.replace(r+".","")});n[r]=i.iterateJsonProperties(i.getActualProperties(o),s)}}}(s)}return n},Zi([G(!1)],e.prototype,"enablePersistence",void 0),Zi([G()],e.prototype,"enableRtl",void 0),Zi([G()],e.prototype,"locale",void 0),e=Zi([Z],e)}(ri);!function(){"undefined"!=typeof window&&window.addEventListener("popstate",function(){Ji=0})}();var er=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nr=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ir={left:0,top:0,bottom:0,right:0},rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return er(e,t),nr([G(0)],e.prototype,"left",void 0),nr([G(0)],e.prototype,"top",void 0),e}(_i),or=function(t){function e(e,i){var r=t.call(this,i,e)||this;return r.dragLimit=n.getDefaultPosition(),r.borderWidth=n.getDefaultPosition(),r.padding=n.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.droppables={},r.bind(),r}er(e,t),n=e,e.prototype.bind=function(){this.toggleEvents(),mi.isIE&&C([this.element],"e-block-touch"),this.droppables[this.scope]={}},e.getDefaultPosition=function(){return c({},ir)},e.prototype.toggleEvents=function(t){var e;p(this.handle)||(e=O(this.handle,this.element));var n=this.enableTapHold&&mi.isDevice&&mi.isTouch?this.mobileInitialize:this.initialize;t?ti.remove(e||this.element,mi.touchStartEvent,n):ti.add(e||this.element,mi.touchStartEvent,n,this)},e.prototype.mobileInitialize=function(t){var e=this,n=t.currentTarget;this.tapHoldTimer=setTimeout(function(){e.externalInitialize=!0,e.removeTapholdTimer(),e.initialize(t,n)},this.tapHoldThreshold),ti.add(document,mi.touchMoveEvent,this.removeTapholdTimer,this)},e.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),ti.remove(document,mi.touchMoveEvent,this.removeTapholdTimer)},e.prototype.getScrollableParent=function(t,e){var n={vertical:"scrollHeight",horizontal:"scrollWidth"},i={vertical:"clientHeight",horizontal:"clientWidth"};return h(t)?null:t[n[e]]>t[i[e]]?t:this.getScrollableParent(t.parentNode,e)},e.prototype.initialize=function(t,e){if(this.target=t.currentTarget||e,this.dragProcessStarted=!1,!this.abort||h(N(t.target,this.abort))){this.preventDefault&&!p(t.changedTouches)&&t.preventDefault(),this.element.setAttribute("aria-grabbed","true");var n=this.getCoordinates(t);if(this.initialPosition={x:n.pageX,y:n.pageY},!this.clone){var i=this.element.getBoundingClientRect(),r=this.getScrollableParent(this.element.parentNode,"vertical"),o=this.getScrollableParent(this.element.parentNode,"horizontal"),s=o?o.scrollLeft:0,a=r?r.scrollTop:0;this.relativeXPosition=n.pageX-(i.left+s),this.relativeYPosition=n.pageY-(i.top+a)}this.externalInitialize?this.intDragStart(t):(ti.add(document,mi.touchMoveEvent,this.intDragStart,this),ti.add(document,mi.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,ti.trigger(document.documentElement,mi.touchStartEvent,t)}},e.prototype.intDragStart=function(t){this.removeTapholdTimer();var e=!p(t.changedTouches);if(!e||1===t.changedTouches.length){e&&t.preventDefault();var n,i=this.getCoordinates(t),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var s=N(t.target,this.dragTarget);h(s)||(o=s)}this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(t);var a=this.initialPosition.x-i.pageX,l=this.initialPosition.y-i.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){var u=this.getHelperElement(t);if(!u||h(u))return;var c=this.helperElement=u;if(this.parentClientRect=this.calculateParentPosition(c.offsetParent),this.dragStart){var d=this.getProperTargetElement(t);this.trigger("dragStart",{event:t,element:o,target:d})}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top);var f=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});L(c,this.getDragPosition({position:"absolute",left:f.left,top:f.top})),ti.remove(document,mi.touchMoveEvent,this.intDragStart),ti.remove(document,mi.touchEndEvent,this.intDestroy),S(c)?(ti.add(document,mi.touchMoveEvent,this.intDrag,this),ti.add(document,mi.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,c)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}}},e.prototype.elementInViewport=function(t){for(this.top=t.offsetTop,this.left=t.offsetLeft,this.width=t.offsetWidth,this.height=t.offsetHeight;t.offsetParent;)t=t.offsetParent,this.top+=t.offsetTop,this.left+=t.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},e.prototype.getProcessedPositionValue=function(t){return this.queryPositionInfo?this.queryPositionInfo(t):t},e.prototype.calculateParentPosition=function(t){if(h(t))return{left:0,top:0};var e=t.getBoundingClientRect(),n=getComputedStyle(t);return{left:e.left+window.pageXOffset-parseInt(n.marginLeft,10),top:e.top+window.pageYOffset-parseInt(n.marginTop,10)}},e.prototype.intDrag=function(t){if(p(t.changedTouches)||1===t.changedTouches.length){var e,n;this.position=this.getMousePosition(t);var i=this.getDocumentWidthHeight("Height");i<this.position.top&&(this.position.top=i);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var o=this.getProperTargetElement(t);this.trigger("drag",{event:t,element:this.element,target:o})}var s=this.checkTargetElement(t);s.target&&s.instance?(s.instance.dragData[this.scope]=this.droppables[this.scope],s.instance.intOver(t,s.target),this.hoverObject=s):this.hoverObject&&(this.hoverObject.instance.intOut(t,s.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null);var a=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var l=this.parentClientRect.left,u=this.parentClientRect.top,c=this.getCoordinates(t),d=c.pageX,f=c.pageY,m=this.position.left-this.diffX,v=this.position.top-this.diffY;if(this.dragArea){var y=getComputedStyle(a);if(this.pageX!==d||this.skipDistanceCheck){var g=a.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));e=this.dragLimit.left+window.scrollX>m?this.dragLimit.left:this.dragLimit.right+window.scrollX<m+g?this.dragLimit.right-g:m}if(this.pageY!==f||this.skipDistanceCheck){var b=a.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));n=this.dragLimit.top+window.scrollY>v?this.dragLimit.top:this.dragLimit.bottom+window.scrollY<v+b?this.dragLimit.bottom-b:v}}else e=m,n=v;var w=u+this.borderWidth.top,_=l+this.borderWidth.left;this.dragProcessStarted&&(h(n)&&(n=this.prevTop),h(e)&&(e=this.prevLeft));var C=this.getProcessedPositionValue({top:n-w+"px",left:e-_+"px"});L(a,this.getDragPosition(C)),!this.elementInViewport(a)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=e,this.prevTop=n,this.position.left=e,this.position.top=n,this.pageX=d,this.pageY=f}},e.prototype.getDragPosition=function(t){var e=c({},t);return this.axis&&("x"===this.axis?delete e.top:"y"===this.axis&&delete e.left),e},e.prototype.getDocumentWidthHeight=function(t){var e=document.body,n=document.documentElement;return Math.max(e["scroll"+t],n["scroll"+t],e["offset"+t],n["offset"+t],n["client"+t])},e.prototype.intDragStop=function(t){if(this.dragProcessStarted=!1,p(t.changedTouches)||1===t.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(t.type)){if(this.dragStop){var e=this.getProperTargetElement(t);this.trigger("dragStop",{event:t,element:this.element,target:e,helper:this.helperElement})}this.intDestroy(t)}else this.element.setAttribute("aria-grabbed","false");var n=this.checkTargetElement(t);n.target&&n.instance&&(n.instance.dragStopCalled=!0,n.instance.dragData[this.scope]=this.droppables[this.scope],n.instance.intDrop(t,n.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},e.prototype.intDestroy=function(t){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),ti.remove(document,mi.touchMoveEvent,this.intDragStart),ti.remove(document,mi.touchEndEvent,this.intDragStop),ti.remove(document,mi.touchEndEvent,this.intDestroy),ti.remove(document,mi.touchMoveEvent,this.intDrag)},e.prototype.onPropertyChanged=function(t,e){},e.prototype.getModuleName=function(){return"draggable"},e.prototype.setDragArea=function(){var t,e,n,i=0,r=0;if(n="string"==typeof this.dragArea?O(this.dragArea):this.dragArea){var o=n.getBoundingClientRect();t=o.width?o.width:o.right-o.left,e=o.height?o.height:o.bottom-o.top;for(var s=["Top","Left","Bottom","Right"],a=getComputedStyle(n),l=0;l<s.length;l++){var u=s[l],c=a["border"+u+"Width"],h=a["padding"+u],p=u.toLowerCase();this.borderWidth[p]=isNaN(parseFloat(c))?0:parseFloat(c),this.padding[p]=isNaN(parseFloat(h))?0:parseFloat(h)}i=o.top,r=o.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=i+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+t-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+e-(this.borderWidth.bottom+this.padding.bottom)}},e.prototype.getProperTargetElement=function(t){var e,n=this.getCoordinates(t),i=this.helperElement.style.display||"";return m(t.target,this.helperElement)||-1!==t.type.indexOf("touch")?(this.helperElement.style.display="none",e=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.display=i):e=t.target,e},e.prototype.getMousePosition=function(t){var e=this.getCoordinates(t),n=this.clone?e.pageX:e.pageX+window.scrollX-this.relativeXPosition,i=this.clone?e.pageY:e.pageY+window.scrollY-this.relativeYPosition;return{left:n-(this.margin.left+this.cursorAt.left),top:i-(this.margin.top+this.cursorAt.top)}},e.prototype.getCoordinates=function(t){return t.type.indexOf("touch")>-1?t.changedTouches[0]:t},e.prototype.getHelperElement=function(t){var e;return this.clone?this.helper?e=this.helper({sender:t,element:this.target}):(e=_("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(e)):e=this.element,e},e.prototype.setGlobalDroppables=function(t,e,n){this.droppables[this.scope]=t?null:{draggable:e,helper:n,draggedElement:this.element}},e.prototype.checkTargetElement=function(t){var e=this.getProperTargetElement(t),n=this.getDropInstance(e);if(!n&&e&&!h(e.parentNode)){var i=N(e.parentNode,".e-droppable")||e.parentElement;i&&(n=this.getDropInstance(i))}return{target:e,instance:n}},e.prototype.getDropInstance=function(t){var e,n=t&&t.ej2_instances;if(n)for(var i=0,r=n;i<r.length;i++){var o=r[i];if("droppable"===o.getModuleName()){e=o;break}}return e},e.prototype.destroy=function(){this.toggleEvents(!0),t.prototype.destroy.call(this)};var n;return nr([X({},rr)],e.prototype,"cursorAt",void 0),nr([G(!0)],e.prototype,"clone",void 0),nr([G()],e.prototype,"dragArea",void 0),nr([Q()],e.prototype,"drag",void 0),nr([Q()],e.prototype,"dragStart",void 0),nr([Q()],e.prototype,"dragStop",void 0),nr([G(1)],e.prototype,"distance",void 0),nr([G()],e.prototype,"handle",void 0),nr([G()],e.prototype,"abort",void 0),nr([G()],e.prototype,"helper",void 0),nr([G("default")],e.prototype,"scope",void 0),nr([G("")],e.prototype,"dragTarget",void 0),nr([G()],e.prototype,"axis",void 0),nr([G()],e.prototype,"queryPositionInfo",void 0),nr([G(!1)],e.prototype,"enableTailMode",void 0),nr([G(!1)],e.prototype,"skipDistanceCheck",void 0),nr([G(!0)],e.prototype,"preventDefault",void 0),nr([G(!1)],e.prototype,"enableAutoScroll",void 0),nr([G(!1)],e.prototype,"enableTapHold",void 0),nr([G(750)],e.prototype,"tapHoldThreshold",void 0),e=n=nr([Z],e)}(ri),sr=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ar=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},lr=(function(t){function e(e,n){var i=t.call(this,n,e)||this;return i.mouseOver=!1,i.dragData={},i.dragStopCalled=!1,i.bind(),i}sr(e,t),e.prototype.bind=function(){this.wireEvents()},e.prototype.wireEvents=function(){ti.add(this.element,mi.touchEndEvent,this.intDrop,this)},e.prototype.onPropertyChanged=function(t,e){},e.prototype.getModuleName=function(){return"droppable"},e.prototype.intOver=function(t,e){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:t,target:e,dragData:n}),this.mouseOver=!0}},e.prototype.intOut=function(t,e){this.mouseOver&&(this.trigger("out",{evt:t,target:e}),this.mouseOver=!1)},e.prototype.intDrop=function(t,e){if(this.dragStopCalled){this.dragStopCalled=!1;var n,i=!0,r=this.dragData[this.scope],o=!!r&&(r.helper&&S(r.helper));o&&(n=this.isDropArea(t,r.helper,e),this.accept&&(i=R(r.helper,this.accept))),o&&this.drop&&n.canDrop&&i&&this.trigger("drop",{event:t,target:n.target,droppedElement:r.helper,dragData:r}),this.mouseOver=!1}},e.prototype.isDropArea=function(t,e,n){var i={canDrop:!0,target:n||t.target},r="touchend"===t.type;if(r||i.target===e){e.style.display="none";var o=r?t.changedTouches[0]:t,s=document.elementFromPoint(o.clientX,o.clientY);i.canDrop=!1,i.canDrop=m(s,this.element),i.canDrop&&(i.target=s),e.style.display=""}return i},e.prototype.destroy=function(){ti.remove(this.element,mi.touchEndEvent,this.intDrop),t.prototype.destroy.call(this)},ar([G()],e.prototype,"accept",void 0),ar([G("default")],e.prototype,"scope",void 0),ar([Q()],e.prototype,"drop",void 0),ar([Q()],e.prototype,"over",void 0),ar([Q()],e.prototype,"out",void 0),e=ar([Z],e)}(ri),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ur=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},cr={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},hr=function(t){function e(e,i){var r=t.call(this,i,e)||this;return r.keyPressHandler=function(t){for(var e=t.altKey,i=t.ctrlKey,o=t.shiftKey,s=t.which,a=Object.keys(r.keyConfigs),l=0,u=a;l<u.length;l++)for(var c=u[l],h=r.keyConfigs[c].split(","),p=0,d=h;p<d.length;p++){var f=d[p],m=n.getKeyConfigData(f.trim());e===m.altKey&&i===m.ctrlKey&&o===m.shiftKey&&s===m.keyCode&&(t.action=c,r.keyAction&&r.keyAction(t))}},r.bind(),r}lr(e,t),n=e,e.prototype.destroy=function(){this.unwireEvents(),t.prototype.destroy.call(this)},e.prototype.onPropertyChanged=function(t,e){},e.prototype.bind=function(){this.wireEvents()},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},e.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},e.getKeyConfigData=function(t){if(t in this.configCache)return this.configCache[t];var e=t.toLowerCase().split("+"),i={altKey:-1!==e.indexOf("alt"),ctrlKey:-1!==e.indexOf("ctrl"),shiftKey:-1!==e.indexOf("shift"),keyCode:null};return e[e.length-1].length>1&&Number(e[e.length-1])?i.keyCode=Number(e[e.length-1]):i.keyCode=n.getKeyCode(e[e.length-1]),n.configCache[t]=i,i},e.getKeyCode=function(t){return cr[t]||t.toUpperCase().charCodeAt(0)};var n;return e.configCache={},ur([G({})],e.prototype,"keyConfigs",void 0),ur([G("keyup")],e.prototype,"eventName",void 0),ur([Q()],e.prototype,"keyAction",void 0),e=n=ur([Z],e)}(ri),pr=function(){function t(t,e,n){this.controlName=t,this.localeStrings=e,this.setLocale(n||Yi)}return t.prototype.setLocale=function(e){var n=this.intGetControlConstant(t.locale,e);this.currentLocale=n||this.localeStrings},t.load=function(t){this.locale=c(this.locale,t,{},!0)},t.prototype.getConstant=function(t){return this.currentLocale[t]||this.localeStrings[t]||""},t.prototype.intGetControlConstant=function(t,e){return t[e]?t[e][this.controlName]:null},t.locale={},t}(),dr=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fr=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),fr([G(50)],e.prototype,"swipeThresholdDistance",void 0),e}(_i),vr=/(Up|Down)/,yr=function(t){function e(e,n){var i=t.call(this,n,e)||this;return i.touchAction=!0,i.tapCount=0,i.startEvent=function(t){if(!0===i.touchAction){var e=t.changedTouches?t.changedTouches[0]:t;void 0!==t.changedTouches&&(i.touchAction=!1),i.isTouchMoved=!1,i.movedDirection="",i.startPoint=i.lastMovedPoint={clientX:e.clientX,clientY:e.clientY},i.startEventData=e,i.hScrollLocked=i.vScrollLocked=!1,i.tStampStart=Date.now(),i.timeOutTapHold=setTimeout(function(){i.tapHoldEvent(t)},i.tapHoldThreshold),ti.add(i.element,mi.touchMoveEvent,i.moveEvent,i),ti.add(i.element,mi.touchEndEvent,i.endEvent,i),ti.add(i.element,mi.touchCancelEvent,i.cancelEvent,i)}},i.moveEvent=function(t){var e=t.changedTouches?t.changedTouches[0]:t;i.movedPoint=e,i.isTouchMoved=!(e.clientX===i.startPoint.clientX&&e.clientY===i.startPoint.clientY);var n={};if(i.isTouchMoved){clearTimeout(i.timeOutTapHold),i.calcScrollPoints(t);n=c(n,{},{startEvents:i.startEventData,originalEvent:t,startX:i.startPoint.clientX,startY:i.startPoint.clientY,distanceX:i.distanceX,distanceY:i.distanceY,scrollDirection:i.scrollDirection,velocity:i.getVelocity(e)}),i.trigger("scroll",n),i.lastMovedPoint={clientX:e.clientX,clientY:e.clientY}}},i.cancelEvent=function(t){clearTimeout(i.timeOutTapHold),clearTimeout(i.timeOutTap),i.tapCount=0,i.swipeFn(t),ti.remove(i.element,mi.touchCancelEvent,i.cancelEvent)},i.endEvent=function(t){i.swipeFn(t),i.isTouchMoved||"function"==typeof i.tap&&(i.trigger("tap",{originalEvent:t,tapCount:++i.tapCount}),i.timeOutTap=setTimeout(function(){i.tapCount=0},i.tapThreshold)),i.modeclear()},i.swipeFn=function(t){clearTimeout(i.timeOutTapHold),clearTimeout(i.timeOutTap);var e=t;t.changedTouches&&(e=t.changedTouches[0]);var n=e.clientX-i.startPoint.clientX,r=e.clientY-i.startPoint.clientY;n=Math.floor(n<0?-1*n:n),r=Math.floor(r<0?-1*r:n),i.isTouchMoved=n>1||r>1,i.endPoint=e,i.calcPoints(t);var o={originalEvent:t,startEvents:i.startEventData,startX:i.startPoint.clientX,startY:i.startPoint.clientY,distanceX:i.distanceX,distanceY:i.distanceY,swipeDirection:i.movedDirection,velocity:i.getVelocity(e)};if(i.isTouchMoved){var s=void 0,a=i.swipeSettings.swipeThresholdDistance;s=c(s,i.defaultArgs,o);var l=!1,u=i.element,h=i.isScrollable(u),p=vr.test(i.movedDirection);(a<i.distanceX&&!p||a<i.distanceY&&p)&&(l=!h||i.checkSwipe(u,p)),l&&i.trigger("swipe",s)}i.modeclear()},i.modeclear=function(){i.modeClear=setTimeout(function(){i.touchAction=!0},"function"!=typeof i.tap?0:20),i.lastTapTime=(new Date).getTime(),ti.remove(i.element,mi.touchMoveEvent,i.moveEvent),ti.remove(i.element,mi.touchEndEvent,i.endEvent),ti.remove(i.element,mi.touchCancelEvent,i.cancelEvent)},i.bind(),i}return dr(e,t),e.prototype.onPropertyChanged=function(t,e){},e.prototype.bind=function(){this.wireEvents(),mi.isIE&&this.element.classList.add("e-block-touch")},e.prototype.destroy=function(){this.unwireEvents(),t.prototype.destroy.call(this)},e.prototype.wireEvents=function(){ti.add(this.element,mi.touchStartEvent,this.startEvent,this)},e.prototype.unwireEvents=function(){ti.remove(this.element,mi.touchStartEvent,this.startEvent)},e.prototype.getModuleName=function(){return"touch"},e.prototype.isScrollable=function(t){var e=getComputedStyle(t);return!!/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)},e.prototype.tapHoldEvent=function(t){this.tapCount=0,this.touchAction=!0;var e;ti.remove(this.element,mi.touchMoveEvent,this.moveEvent),ti.remove(this.element,mi.touchEndEvent,this.endEvent),e={originalEvent:t},this.trigger("tapHold",e),ti.remove(this.element,mi.touchCancelEvent,this.cancelEvent)},e.prototype.calcPoints=function(t){var e=t.changedTouches?t.changedTouches[0]:t;this.defaultArgs={originalEvent:t},this.distanceX=Math.abs(Math.abs(e.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(e.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=e.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=e.clientY<this.startPoint.clientY?"Up":"Down"},e.prototype.calcScrollPoints=function(t){var e=t.changedTouches?t.changedTouches[0]:t;this.defaultArgs={originalEvent:t},this.distanceX=Math.abs(Math.abs(e.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(e.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=e.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=e.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},e.prototype.getVelocity=function(t){var e=t.clientX,n=t.clientY,i=Date.now(),r=e-this.startPoint.clientX,o=n-this.startPoint.clientX,s=i-this.tStampStart;return Math.sqrt(r*r+o*o)/s},e.prototype.checkSwipe=function(t,e){var n=["scroll","offset"],i=e?["Height","Top"]:["Width","Left"];return t[n[0]+i[0]]<=t[n[1]+i[0]]||(0===t[n[0]+i[1]]||t[n[1]+i[0]]+t[n[0]+i[1]]>=t[n[0]+i[0]])},fr([Q()],e.prototype,"tap",void 0),fr([Q()],e.prototype,"tapHold",void 0),fr([Q()],e.prototype,"swipe",void 0),fr([Q()],e.prototype,"scroll",void 0),fr([G(350)],e.prototype,"tapThreshold",void 0),fr([G(750)],e.prototype,"tapHoldThreshold",void 0),fr([X({},mr)],e.prototype,"swipeSettings",void 0),e=fr([Z],e)}(ri),gr=new RegExp("\\n|\\r|\\s\\s+","g"),br=new RegExp(/'|"/g),wr=new RegExp("if ?\\("),_r=new RegExp("else if ?\\("),Cr=new RegExp("else"),Er=new RegExp("for ?\\("),xr=new RegExp("(/if|/for)"),Sr=new RegExp("\\((.*)\\)",""),Tr=new RegExp("^[0-9]+$","g"),kr=new RegExp("[\\w\"'.\\s+]+","g"),Mr=new RegExp('"(.*?)"',"g"),Dr=new RegExp("\\${([^}]*)}","g"),Pr=/^[\n\r.]+\<tr|^\<tr/,Ar=/^[\n\r.]+\<svg|^\<path|^\<g/,Or=function(){function t(){}return t.prototype.compile=function(t,e){return void 0===e&&(e={}),lt(t,e)},t}(),Ir={compile:(new Or).compile},Nr=function(){function t(){this.hasChanges=!1,this.propCollection={},this.tags=[],this.tagObjects=[]}return t.prototype.ngOnInit=function(){this.registeredTemplate={};for(var t=0,e=this.tags;t<e.length;t++){var n=e[t],i=o("child"+n.substring(0,1).toUpperCase()+n.substring(1),this);i&&this.tagObjects.push({instance:i,name:n})}var r=Object.keys(this);r=r.filter(function(t){return/Ref$/i.test(t)});for(var a=0,l=r;a<l.length;a++){var u=l[a],c=u.replace("Ref","");s(c.replace("_","."),o(c,this),this.propCollection)}},t.prototype.registerEvents=function(t){ft(t,this,!0)},t.prototype.ngOnChanges=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e],r=t[i];this.propCollection[i]=r.currentValue}this.hasChanges=!0},t.prototype.clearTemplate=function(t){mt(this,t)},t.prototype.getProperties=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var n=e[t];this.propCollection[n.name]=n.instance.getProperties()}return this.propCollection},t.prototype.isChanged=function(){for(var t=this.hasChanges,e=0,n=this.tagObjects;e<n.length;e++){var i=n[e];t=t||i.instance.hasChanges}return t},t.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();var t=Object.keys(this);t=t.filter(function(t){return/Ref$/i.test(t)})},t.prototype.ngAfterViewChecked=function(){this.hasChanges=!1},t}(),Lr=function(){function t(t){this.list=[],this.hasChanges=!1,this.propertyName=t}return t.prototype.ngOnInit=function(){this.isInitChanges=!0},t.prototype.ngAfterContentInit=function(){var t=this,e=0;this.list=this.children.map(function(n){return n.index=e++,n.property=t.propertyName,n}),this.hasChanges=!0},t.prototype.getProperties=function(){for(var t=[],e=0,n=this.list;e<n.length;e++){var i=n[e];t.push(i.getProperties())}return t},t.prototype.isChanged=function(){var t=this,e=!1,n=0;this.hasNewChildren=this.list.length!==this.children.length||null,this.hasNewChildren&&(this.list=this.children.map(function(e){return e.index=n++,e.property=t.propertyName,e}));for(var i=0,r=this.list;i<r.length;i++){var o=r[i];e=e||o.hasChanges}return!!this.list.length&&e},t.prototype.clearTemplate=function(t){for(var e=this,n=0,i=this.list;n<i.length;n++){i[n].clearTemplate(t&&t.map(function(t){return new RegExp(e.propertyName).test(t)?t.replace(e.propertyName+".",""):t}))}},t.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged()},t.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},t}(),Vr=function(){function t(){this.isProtectedOnChange=!0}return t.prototype.saveChanges=function(t,e,n){if(!this.isProtectedOnChange){this.oldProperties[t]=n,this.changedProperties[t]=e,this.finalUpdate();var i=setTimeout(this.dataBind.bind(this)),r=function(){clearTimeout(i)};this.finalUpdate=r}},t.prototype.ngOnInit=function(){var t=this;this.registeredTemplate={},this.ngBoundedEvents={},this.isAngular=!0,this.tags=this.tags||[],this.complexTemplate=this.complexTemplate||[],this.tagObjects=[],this.ngAttr=this.getAngularAttr(this.element),this.createElement=function(e,n){var i=t.srenderer?t.srenderer.createElement(e):_(e);return void 0===n?i:(i.innerHTML=n.innerHTML?n.innerHTML:"",void 0!==n.className&&(i.className=n.className),void 0!==n.id&&(i.id=n.id),void 0!==n.styles&&i.setAttribute("style",n.styles),void 0!==t.ngAttr&&i.setAttribute(t.ngAttr,""),void 0!==n.attrs&&A(i,n.attrs),i)};for(var e=0,n=this.tags;e<n.length;e++){var i=n[e],r={instance:o("child"+i.substring(0,1).toUpperCase()+i.substring(1),this),name:i};this.tagObjects.push(r)}var a=Object.keys(this);a=a.filter(function(t){return/Ref$/i.test(t)&&/\_/i.test(t)});for(var l=0,u=a;l<u.length;l++){var c=u[l],h=c.replace("Ref",""),p={};s(h.replace("_","."),o(h,this),p),this.setProperties(p,!0)}},t.prototype.getAngularAttr=function(t){for(var e,n=t.attributes,i=n.length,r=0;r<i;r++)/_ngcontent/g.test(n[r].name)&&(e=n[r].name);return e},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){"undefined"!=typeof window&&t.appendTo(t.element)})},t.prototype.ngOnDestroy=function(){"undefined"!=typeof window&&this.element.classList.contains("e-control")&&(this.destroy(),this.clearTemplate(null))},t.prototype.clearTemplate=function(t,e){mt(this,t,e)},t.prototype.ngAfterContentChecked=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var n=e[t];if(!p(n.instance)&&(n.instance.isInitChanges||n.instance.hasChanges||n.instance.hasNewChildren))if(n.instance.isInitChanges){var i={};i[n.name]=n.instance.getProperties(),this.setProperties(i,n.instance.isInitChanges)}else for(var r=0,s=n.instance.list;r<s.length;r++){var a=s[r];if(a.hasChanges){var l=n.instance.list.indexOf(a),u=o(n.name,this)[l];void 0!==u&&void 0!==u.setProperties&&u.setProperties(a.getProperties())}}}},t.prototype.registerEvents=function(t){ft(t,this)},t.prototype.twoWaySetter=function(t,e){var n=o(e,this.properties);n!==t&&(this.saveChanges(e,t,n),s(e,h(t)?null:t,this.properties),o(e+"Change",this).emit(t))},t.prototype.addTwoWay=function(t){for(var e=this,n=this,i=0,r=t;i<r.length;i++){var a=r[i];!function(t){o(t,n),Object.defineProperty(n,t,{get:function(){return o(t,e.properties)},set:function(n){return e.twoWaySetter(n,t)}}),s(t+"Change",new Gn.x,n)}(a)}},t.prototype.addEventListener=function(t,e){var n=o(t,this);p(n)||(this.ngBoundedEvents[t]||(this.ngBoundedEvents[t]=new Map),this.ngBoundedEvents[t].set(e,n.subscribe(e)))},t.prototype.removeEventListener=function(t,e){p(o(t,this))||this.ngBoundedEvents[t].get(e).unsubscribe()},t.prototype.trigger=function(t,e){var n=o(t,this),i=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=t),p(n)||n.next(e);var r=o("local"+t.charAt(0).toUpperCase()+t.slice(1),this);p(r)||r.call(this,e),this.isProtectedOnChange=i},t}(),Rr=function(){function t(){}return t.prototype.propagateChange=function(t){},t.prototype.propagateTouch=function(){},t.prototype.localChange=function(t){var e=void 0===t.checked?t.value:t.checked;this.objCheck=l(e),!0===this.objCheck?(this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)):e!==this.angularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){this.propagateTouch=t},t.prototype.twoWaySetter=function(t,e){var n=o(e,this.properties),i=this.inputElement||this.element;(n!==t||void 0!==i.value&&""!==i.value)&&(this.saveChanges(e,t,n),s(e,h(t)?null:t,this.properties),o(e+"Change",this).emit(t))},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){if("undefined"!=typeof window){t.appendTo(t.element);var e=t.inputElement||t.element;e.addEventListener("focus",t.ngOnFocus.bind(t)),e.addEventListener("blur",t.ngOnBlur.bind(t))}})},t.prototype.setDisabledState=function(t){this.enabled=!t,this.disabled=t},t.prototype.writeValue=function(t){void 0===this.checked?this.value=t:this.checked="boolean"==typeof t?t:t===this.value,null!==t&&(this.angularValue=t,this.preventChange=!0)},t.prototype.ngOnFocus=function(t){!0!==this.skipFromEvent&&this.focus.emit(t)},t.prototype.ngOnBlur=function(t){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(t)},t}(),Fr=function(){return Ir.compile}();!function(t){Ir.compile=t.compile}({compile:yt});var Hr,jr,Br,Ur,qr,zr,Wr,Yr,Gr,Xr,Kr,Qr,Zr,Jr,$r,to=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eo=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},no="e-other-month",io="e-calendar",ro="e-disabled",oo="e-overlay",so="e-selected",ao="e-focused-date",lo=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.effect="",i.keyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},i}return to(e,t),e.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Ki(this.locale),(h(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(io),this.enableRtl&&this.element.classList.add("e-rtl"),mi.isDevice&&this.element.classList.add("e-device"),A(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(io),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),mi.isDevice&&this.calendarElement.classList.add("e-device"),A(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()},e.prototype.rangeValidation=function(t,e){h(t)&&this.setProperties({min:new Date(1900,0,1)},!0),h(e)&&this.setProperties({max:new Date(2099,11,31)},!0)},e.prototype.validateDate=function(t){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!h(t)&&this.min<=this.max&&t>=this.min&&t<=this.max&&(this.currentDate=new Date(this.checkValue(t)))},e.prototype.minMaxUpdate=function(t){+this.min<=+this.max?E([this.element],oo):(this.setProperties({min:this.min},!0),C([this.element],oo)),this.min=h(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=h(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&t&&+t<=+this.max&&+t>=+this.min?this.currentDate=new Date(this.checkValue(t)):+this.min<=+this.max&&!t&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},e.prototype.createHeader=function(){var t={"aria-disabled":"false","aria-label":"previous month"},e={"aria-disabled":"false","aria-label":"next month"},n={"aria-atomic":"true","aria-live":"assertive","aria-label":"title"};this.headerElement=this.createElement("div",{className:"e-header"});var i=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),tt(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),A(this.previousIcon,t),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),tt(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),A(this.nextIcon,e),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),A(this.headerTitleElement,n),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  e-icons"})),i.appendChild(this.previousIcon),i.appendChild(this.nextIcon),this.headerElement.appendChild(i),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement)},e.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},e.prototype.getCultureValues=function(){var t,e=[];t="en"===this.locale||"en-US"===this.locale?o("days.stand-alone.short",at()):this.getCultureObjects(Wi,""+this.locale);for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];e.push(o(r,t))}return e},e.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?h(this.element.querySelectorAll(".e-content .e-week-header")[0])||D(this.element.querySelectorAll(".e-content .e-week-header")[0]):h(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||D(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var t,e="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(e+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?C([this.element],"e-week-number"):C([this.calendarElement],"e-week-number")),t=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(var n=0;n<=6;n++)e+='<th  class="">'+t[n]+"</th>";e="<tr>"+e+"</tr>",this.tableHeadElement.innerHTML=e,this.table.appendChild(this.tableHeadElement)},e.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?h(this.element.querySelectorAll(".e-content tbody")[0])||D(this.element.querySelectorAll(".e-content tbody")[0]):h(this.calendarElement.querySelectorAll(".e-content tbody")[0])||D(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},e.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today")},e.prototype.createContentFooter=function(){if(this.showTodayButton){var t=new Date(+this.min),e=new Date(+this.max),n={today:"Today"};this.globalize=new Ki(this.locale),this.l10=new pr(this.getModuleName(),n,this.locale),this.todayElement=this.createElement("button"),tt(this.todayElement),this.updateFooter(),C([this.todayElement],["e-btn","e-today","e-flat","e-primary","e-css"]),+new Date(t.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(e.setHours(0,0,0,0))&&!this.todayDisabled||C([this.todayElement],ro),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(ro)||ti.add(this.todayElement,"click",this.todayButtonClick,this)}},e.prototype.wireEvents=function(){ti.add(this.headerTitleElement,"click",this.navigateTitle,this),"calendar"===this.getModuleName()?this.keyboardModule=new hr(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs}):this.keyboardModule=new hr(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs})},e.prototype.todayButtonClick=function(t){this.showTodayButton&&(this.currentView()===this.depth?this.effect="":this.effect="e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(t))):this.navigateTo("Month",new Date(this.checkValue(t))))},e.prototype.keyActionHandle=function(t,e,n){var i,r=this.getViewNumber(this.currentView()),o=this.tableBodyElement.querySelector("tr td.e-focused-date");i=n?h(o)||+e!==parseInt(o.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):o:this.tableBodyElement.querySelector("tr td.e-selected");var s=this.getViewNumber(this.depth),a=r===s&&this.getViewNumber(this.start)>=s;switch(this.effect="",t.action){case"moveLeft":this.KeyboardNavigate(-1,r,t,this.max,this.min),t.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,r,t,this.max,this.min),t.preventDefault();break;case"moveUp":0===r?this.KeyboardNavigate(-7,r,t,this.max,this.min):this.KeyboardNavigate(-4,r,t,this.max,this.min),t.preventDefault();break;case"moveDown":0===r?this.KeyboardNavigate(7,r,t,this.max,this.min):this.KeyboardNavigate(4,r,t,this.max,this.min),t.preventDefault();break;case"select":if(t.target===this.todayElement)this.todayButtonClick(e);else{var l=h(o)?i:o;if(!h(l)&&!l.classList.contains(ro))if(a){var u=new Date(parseInt(""+l.id,0));this.selectDate(t,u,l)}else this.contentClick(null,--r,l,e)}break;case"controlUp":this.title(),t.preventDefault();break;case"controlDown":h(o)&&(h(i)||a)||this.contentClick(null,--r,o||i,e),t.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),D(this.tableBodyElement),0===r?this.renderMonths(t):1===r?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,r),D(this.tableBodyElement),0===r?this.renderMonths(t):1===r?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),t.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),t.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.KeyboardNavigate=function(t,e,n,i,r){var o=new Date(this.checkValue(this.currentDate));switch(e){case 2:this.addYears(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(D(this.tableBodyElement),this.renderDecades(n)):this.currentDate=o;break;case 1:this.addMonths(this.currentDate,t),this.calendarMode,this.isMonthYearRange(this.currentDate)?(D(this.tableBodyElement),this.renderYears(n)):this.currentDate=o;break;case 0:this.addDay(this.currentDate,t,n,i,r),this.isMinMaxRange(this.currentDate)?(D(this.tableBodyElement),this.renderMonths(n)):this.currentDate=o}},e.prototype.preRender=function(t){var e=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.navigateHandler=function(t){e.triggerNavigate(t)}},e.prototype.minMaxDate=function(t){var e=new Date(new Date(+t).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),i=new Date(new Date(+this.max).setHours(0,0,0,0));return+e!=+n&&+e!=+i||(+t<+this.min&&(t=new Date(+this.min)),+t>+this.max&&(t=new Date(+this.max))),t},e.prototype.renderMonths=function(t,e){var n,i=this.weekNumber?8:7;n="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,t,e):this.islamicModule.islamicRenderDays(this.currentDate,e),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(n,i,"e-month",t,e):this.islamicModule.islamicRenderTemplate(n,i,"e-month",t,e)},e.prototype.renderDays=function(t,e,n,i,r){var o,s=[],a=new Date(this.checkValue(t)),l=(this.weekNumber,a.getMonth());this.titleUpdate(t,"days");var u=a;for(a=new Date(u.getFullYear(),u.getMonth(),0,u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds());a.getDay()!==this.firstDayOfWeek;)this.setStartDate(a,-864e5);for(var c=0;c<42;++c){var p=this.createElement("td",{className:"e-cell"}),d=this.createElement("span");c%7==0&&this.weekNumber&&(d.textContent=""+this.getWeek(a),p.appendChild(d),C([p],"e-week-number"),s.push(p)),o=new Date(+a),a=this.minMaxDate(a);var f={type:"dateTime",skeleton:"full"},m=this.globalize.parseDate(this.globalize.formatDate(a,f),f),v=this.dayCell(a),y=this.globalize.formatDate(a,{type:"date",skeleton:"full"}),g=this.createElement("span");g.textContent=this.globalize.formatDate(a,{type:"date",skeleton:"d"});var b=this.min>a||this.max<a;b?(C([v],ro),C([v],oo)):g.setAttribute("title",""+y),l!==a.getMonth()&&C([v],no),0!==a.getDay()&&6!==a.getDay()||C([v],"e-weekend"),v.appendChild(g),this.renderDayCellArgs={date:a,isDisabled:!1,element:v,isOutOfRange:b};var w=this.renderDayCellArgs;if(this.renderDayCellEvent(w),w.isDisabled)if(i){if(!h(r)&&r.length>0)for(var _=0;_<r.length;_++){var E=+new Date(this.globalize.formatDate(w.date,{type:"date",skeleton:"yMd"})),x=+new Date(this.globalize.formatDate(r[_],{type:"date",skeleton:"yMd"}));E===x&&(r.splice(_,1),_=-1)}}else n&&+n==+w.date&&this.setProperties({value:null},!0);this.renderDayCellArgs.isDisabled&&!v.classList.contains(so)&&(C([v],ro),C([v],oo),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var S=v.classList.contains(no),T=v.classList.contains(ro);if(T||ti.add(v,"click",this.clickHandler,this),!i||h(r)||S||T)S||T||!this.getDateVal(a,n)?this.updateFocus(S,T,a,v,t):C([v],so);else{for(var k=0;k<r.length;k++){var M="Gregorian"===this.calendarMode?"gregorian":"islamic",D={type:"date",skeleton:"short",calendar:M},E=this.globalize.formatDate(a,D),x=this.globalize.formatDate(r[k],D);E===x&&this.getDateVal(a,r[k])||this.getDateVal(a,n)?C([v],so):this.updateFocus(S,T,a,v,t)}r.length<=0&&this.updateFocus(S,T,a,v,t)}m.getMonth()===(new Date).getMonth()&&m.getDate()===(new Date).getDate()&&m.getFullYear()===(new Date).getFullYear()&&C([v],"e-today"),s.push(this.renderDayCellArgs.element),a=new Date(+o),this.addDay(a,1,null,this.max,this.min)}return s},e.prototype.updateFocus=function(t,e,n,i,r){r.getDate()!==n.getDate()||t||e?(r>=this.max&&parseInt(i.id,0)===+this.max&&!t&&!e&&C([i],ao),r<=this.min&&parseInt(i.id,0)===+this.min&&!t&&!e&&C([i],ao)):C([i],ao)},e.prototype.renderYears=function(t,e){this.removeTableHeadElement();var n=[],i=h(e),r=new Date(this.checkValue(this.currentDate)),o=r.getMonth(),s=r.getFullYear(),a=r,l=a.getFullYear(),u=new Date(this.checkValue(this.min)).getFullYear(),c=new Date(this.checkValue(this.min)).getMonth(),p=new Date(this.checkValue(this.max)).getFullYear(),d=new Date(this.checkValue(this.max)).getMonth();a.setMonth(0),this.titleUpdate(this.currentDate,"months");this.min>a||this.max;a.setDate(1);for(var f=0;f<12;++f){var m=this.dayCell(a),v=this.createElement("span"),y=e&&e.getMonth()===a.getMonth(),g=e&&e.getFullYear()===s&&y;v.textContent=this.globalize.formatDate(a,{type:"dateTime",skeleton:"MMM"}),this.min&&(l<u||f<c&&l===u)||this.max&&(l>p||f>d&&l>=p)?C([m],ro):!i&&g?C([m],so):a.getMonth()===o&&this.currentDate.getMonth()===o&&C([m],ao),a.setDate(1),a.setMonth(a.getMonth()+1),m.classList.contains(ro)||ti.add(m,"click",this.clickHandler,this),m.appendChild(v),n.push(m)}this.renderTemplate(n,4,"e-year",t,e)},e.prototype.renderDecades=function(t,e){this.removeTableHeadElement();var n=[],i=new Date(this.checkValue(this.currentDate));i.setMonth(0),i.setDate(1);var r=i.getFullYear(),o=new Date(i.setFullYear(r-r%10)),s=new Date(i.setFullYear(r-r%10+9)),a=o.getFullYear(),l=s.getFullYear(),u=this.globalize.formatDate(o,{type:"dateTime",skeleton:"y"}),c=this.globalize.formatDate(s,{type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=u+" - "+c;for(var p=new Date(r-r%10-1,0,1),d=p.getFullYear(),f=0;f<12;++f){var m=d+f;i.setFullYear(m);var v=this.dayCell(i);A(v,{role:"gridcell"});var y=this.createElement("span");y.textContent=this.globalize.formatDate(i,{type:"dateTime",skeleton:"y"}),m<a||m>l?C([v],"e-other-year"):m<new Date(this.checkValue(this.min)).getFullYear()||m>new Date(this.checkValue(this.max)).getFullYear()?C([v],ro):h(e)||i.getFullYear()!==e.getFullYear()?i.getFullYear()!==this.currentDate.getFullYear()||v.classList.contains(ro)||C([v],ao):C([v],so),v.classList.contains(ro)||ti.add(v,"click",this.clickHandler,this),v.appendChild(y),n.push(v)}this.renderTemplate(n,4,"e-decade",t,e)},e.prototype.dayCell=function(t){var e="Gregorian"===this.calendarMode?"gregorian":"islamic",n={skeleton:"full",type:"dateTime",calendar:e},i=this.globalize.parseDate(this.globalize.formatDate(t,n),n),r=i.valueOf(),o={className:"e-cell",attrs:{id:""+d(""+r),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",o)},e.prototype.firstDay=function(t){var e="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+no):this.tableBodyElement.querySelectorAll("td:not(.e-other-year");if(e.length)for(var n=0;n<e.length;n++)if(!e[n].classList.contains(ro)){t=new Date(parseInt(e[n].id,0));break}return t},e.prototype.lastDay=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()+1,0);if(2!==e){var i=Math.abs(n.getTimezoneOffset()-this.firstDay(t).getTimezoneOffset());return i&&n.setHours(this.firstDay(t).getHours()+i/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))},e.prototype.checkDateValue=function(t){return!h(t)&&t instanceof Date&&!isNaN(+t)?t:null},e.prototype.findLastDay=function(t){var e="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(.e-other-year"):this.tableBodyElement.querySelectorAll("td:not(."+no);if(e.length)for(var n=e.length-1;n>=0;n--)if(!e[n].classList.contains(ro)){t=new Date(parseInt(e[n].id,0));break}return t},e.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?h(this.element.querySelectorAll(".e-content table thead")[0])||D(this.tableHeadElement):h(this.calendarElement.querySelectorAll(".e-content table thead")[0])||D(this.tableHeadElement)},e.prototype.renderTemplate=function(t,e,n,i,r){var o,s=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),E([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),C([this.contentElement,this.headerElement],[n]);for(var a=e,l=0,u=0;u<t.length/e;++u){for(o=this.createElement("tr",{attrs:{role:"row"}}),l=0+l;l<a;l++)t[l].classList.contains("e-week-number")||h(t[l].children[0])||(C([t[l].children[0]],["e-day"]),tt(t[l].children[0],{duration:600,isCenterRipple:!0})),o.appendChild(t[l]),this.weekNumber&&7===l&&t[7].classList.contains(no)&&C([o],"e-month-hide"),!this.weekNumber&&6===l&&t[6].classList.contains(no)&&C([o],"e-month-hide"),this.weekNumber?41===l&&t[41].classList.contains(no)&&C([o],"e-month-hide"):35===l&&t[35].classList.contains(no)&&C([o],"e-month-hide");a+=e,l+=0,this.tableBodyElement.appendChild(o)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(s!==this.getViewNumber(this.currentView())||0===s&&s!==this.getViewNumber(this.currentView()))&&this.navigateHandler(i),this.setAriaActiveDescendant()},e.prototype.clickHandler=function(t,e){this.clickEventEmitter(t);var n=t.currentTarget,i=this.getViewNumber(this.currentView());n.classList.contains(no)?this.contentClick(t,0,null,e):i===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(t,1,null,e):2===i?this.contentClick(t,1,null,e):n.classList.contains(no)||0!==i?this.contentClick(t,0,n,e):this.selectDate(t,this.getIdValue(t,null),null),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.clickEventEmitter=function(t){t.preventDefault()},e.prototype.contentClick=function(t,e,n,i){var r=this.getViewNumber(this.currentView()),o=this.getIdValue(t,n);switch(e){case 0:r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(D(this.tableBodyElement),this.currentDate=o,this.effect="e-zoomin",this.renderMonths(t)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(o.getMonth()),o.getMonth()>0&&this.currentDate.getMonth()!==o.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(o.getFullYear())):this.currentDate=o,this.effect="e-zoomin",D(this.tableBodyElement),this.renderMonths(t));break;case 1:if(r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(t,o,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(o.getFullYear());else{var s=this.islamicModule.getIslamicDate(o);this.currentDate=this.islamicModule.toGregorian(s.year,s.month,1)}this.effect="e-zoomin",D(this.tableBodyElement),this.renderYears(t)}}},e.prototype.switchView=function(t,e,n){switch(t){case 0:D(this.tableBodyElement),this.renderMonths(e),n&&!h(this.tableBodyElement.querySelectorAll("."+ao)[0])&&this.tableBodyElement.querySelectorAll("."+ao)[0].classList.remove(ao);break;case 1:D(this.tableBodyElement),this.renderYears(e);break;case 2:D(this.tableBodyElement),this.renderDecades(e)}},e.prototype.getModuleName=function(){return"calendar"},e.prototype.requiredModules=function(){var t=[];return this&&t.push({args:[this],member:"islamic"}),t},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.onPropertyChanged=function(t,e,n,i){this.effect="";for(var r=0,o=Object.keys(t);r<o.length;r++){var s=o[r];switch(s){case"enableRtl":t.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"min":case"max":this.rangeValidation(this.min,this.max),"min"===s?this.setProperties({min:this.checkDateValue(new Date(this.checkValue(t.min)))},!0):this.setProperties({max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.setProperties({start:this.currentView()},!0),D(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,i),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(D(this.todayElement),D(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(E([this.todayElement],ro),D(this.todayElement),D(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":this.checkView(),this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new Ki(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":t.showTodayButton?this.createContentFooter():(D(this.todayElement),D(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:t.showTodayButton},!0)}}},e.prototype.validateValues=function(t,e){if(t&&!h(e)&&e.length>0){for(var n=this.copyValues(e),i=0;i<n.length;i++){var r=n[i],o="Gregorian"===this.calendarMode?"gregorian":"islamic",s=void 0;s="Gregorian"===this.calendarMode?this.globalize.formatDate(r,{type:"date",skeleton:"yMd"}):this.globalize.formatDate(r,{type:"dateTime",skeleton:"full",calendar:"islamic"});var a={type:"date",skeleton:"yMd",calendar:o},l=this.globalize.formatDate(this.min,a),u=l,c={type:"date",skeleton:"yMd",calendar:o},p=this.globalize.formatDate(this.max,c),d=p;(+new Date(s)<+new Date(u)||+new Date(s)>+new Date(d))&&(n.splice(i,1),i=-1)}this.setProperties({values:n},!0)}},e.prototype.setValueUpdate=function(){D(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody()},e.prototype.copyValues=function(t){var e=[];if(!h(t)&&t.length>0)for(var n=0;n<t.length;n++)e.push(new Date(+t[n]));return e},e.prototype.titleUpdate=function(t,e){var n,i,r=new Ki(this.locale),o="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(n=r.formatDate(t,{type:"dateTime",skeleton:"yMMMM",calendar:o}),i=r.formatDate(t,{type:"dateTime",skeleton:"y",calendar:o})):(n=r.formatDate(t,{type:"dateTime",format:"MMMM y",calendar:o}),i=r.formatDate(t,{type:"dateTime",format:"y",calendar:o})),e){case"days":this.headerTitleElement.textContent=n;break;case"months":this.headerTitleElement.textContent=i}},e.prototype.setActiveDescendant=function(){var t,e=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),i="Gregorian"===this.calendarMode?"gregorian":"islamic",r=this.globalize.formatDate(this.currentDate,{type:"dateTime",skeleton:"full",calendar:i});return(n||e)&&((e||n).setAttribute("aria-selected","true"),(e||n).setAttribute("aria-label","The current focused date is "+r),t=(e||n).getAttribute("id")),t},e.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},e.prototype.destroy=function(){"calendar"===this.getModuleName()?E([this.element],[io]):this.calendarElement&&E([this.element],[io]),"calendar"===this.getModuleName()&&(ti.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&ti.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),h(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element.innerHTML="",t.prototype.destroy.call(this)},e.prototype.title=function(t){var e=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++e,t)},e.prototype.getViewNumber=function(t){return"Month"===t?0:"Year"===t?1:2},e.prototype.navigateTitle=function(t){t.preventDefault(),this.title(t),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.previous=function(){this.effect="";var t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(t)}},e.prototype.navigatePrevious=function(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.next=function(){this.effect="";var t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(t)}},e.prototype.navigateNext=function(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.navigateTo=function(t,e){+e>=+this.min&&+e<=+this.max&&(this.currentDate=e),+e<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+e>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(t)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(t))&&(t=this.depth),this.switchView(this.getViewNumber(t))},e.prototype.currentView=function(){return this.contentElement.classList.contains("e-year")?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"},e.prototype.getDateVal=function(t,e){return!h(e)&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},e.prototype.getCultureObjects=function(t,e){return"Gregorian"===this.calendarMode?o("main."+this.locale+".dates.calendars.gregorian.days.format.short",t):o("main."+this.locale+".dates.calendars.islamic.days.format.short",t)},e.prototype.getWeek=function(t){var e=new Date(this.checkValue(t)).valueOf(),n=new Date(t.getFullYear(),0,1).valueOf(),i=e-n;return Math.ceil((i/864e5+new Date(n).getDay()+1)/7)},e.prototype.setStartDate=function(t,e){var n=t.getTimezoneOffset(),i=new Date(t.getTime()+e),r=i.getTimezoneOffset()-n;t.setTime(i.getTime()+6e4*r)},e.prototype.addMonths=function(t,e){if("Gregorian"===this.calendarMode){var n=t.getDate();t.setDate(1),t.setMonth(t.getMonth()+e),t.setDate(Math.min(n,this.getMaxDays(t)))}else{var i=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(i.year,i.month+e,1)}},e.prototype.addYears=function(t,e){if("Gregorian"===this.calendarMode){var n=t.getDate();t.setDate(1),t.setFullYear(t.getFullYear()+e),t.setDate(Math.min(n,this.getMaxDays(t)))}else{var i=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(i.year+e,i.month,1)}},e.prototype.getIdValue=function(t,e){var n;n=t?t.currentTarget:e;var i="Gregorian"===this.calendarMode?"gregorian":"islamic",r={type:"dateTime",skeleton:"full",calendar:i},o=this.globalize.formatDate(new Date(parseInt(""+n.getAttribute("id"),0)),r),s=this.globalize.parseDate(o,r),a=s.valueOf()-s.valueOf()%1e3;return new Date(a)},e.prototype.selectDate=function(t,e,n,i,r){var o=n||t.currentTarget;if("Decade"===this.currentView())this.setDateDecade(this.currentDate,e.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,e);else{if(i&&!this.checkPresentDate(e,r)){var s=this.copyValues(r);!h(r)&&s.length>0?(s.push(new Date(this.checkValue(e))),this.setProperties({values:s},!0),this.setProperties({value:r[r.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(e))]},!0)}else this.setProperties({value:new Date(this.checkValue(e))},!0);this.currentDate=new Date(this.checkValue(e))}var a=N(o,"."+io);if(h(a)&&(a=this.tableBodyElement),i||h(a.querySelector("."+so))||E([a.querySelector("."+so)],so),i||h(a.querySelector("."+ao))||E([a.querySelector("."+ao)],ao),i){for(var s=this.copyValues(r),l=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),u=0;u<l.length;u++){var c=a.querySelectorAll("td."+ao)[0],p=a.querySelectorAll("td."+so)[0];l[u]===c&&E([l[u]],ao),l[u]!==p||this.checkPresentDate(new Date(parseInt(p.getAttribute("id").split("_")[0],10)),r)||E([l[u]],so)}if(o.classList.contains(so)){E([o],so);for(var d=0;d<s.length;d++){var f="Gregorian"===this.calendarMode?"gregorian":"islamic",m={type:"date",skeleton:"short",calendar:f};if(this.globalize.formatDate(e,m)===this.globalize.formatDate(s[d],m)){var u=s.indexOf(s[d]);s.splice(u,1),C([o],ao)}}this.setProperties({values:s},!0)}else C([o],so)}else C([o],so)},e.prototype.checkPresentDate=function(t,e){var n=!1;if(!h(e))for(var i=0;i<e.length;i++){var r="Gregorian"===this.calendarMode?"gregorian":"islamic",o=this.globalize.formatDate(t,{type:"date",skeleton:"short",calendar:r}),s=this.globalize.formatDate(e[i],{type:"date",skeleton:"short",calendar:r});o===s&&(n=!0)}return n},e.prototype.setAriaActiveDescendant=function(){A(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},e.prototype.previousIconHandler=function(t){t?(ti.remove(this.previousIcon,"click",this.navigatePreviousHandler),C([this.previousIcon],""+ro),C([this.previousIcon],""+oo),this.previousIcon.setAttribute("aria-disabled","true")):(ti.add(this.previousIcon,"click",this.navigatePreviousHandler),E([this.previousIcon],""+ro),E([this.previousIcon],""+oo),this.previousIcon.setAttribute("aria-disabled","false"))},e.prototype.renderDayCellEvent=function(t){c(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)},e.prototype.navigatedEvent=function(t){c(this.navigatedArgs,{name:"navigated",event:t}),this.trigger("navigated",this.navigatedArgs)},e.prototype.triggerNavigate=function(t){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(t)},e.prototype.nextIconHandler=function(t){t?(ti.remove(this.nextIcon,"click",this.navigateNextHandler),C([this.nextIcon],ro),C([this.nextIcon],oo),this.nextIcon.setAttribute("aria-disabled","true")):(ti.add(this.nextIcon,"click",this.navigateNextHandler),E([this.nextIcon],ro),E([this.nextIcon],oo),this.nextIcon.setAttribute("aria-disabled","false"))},e.prototype.compare=function(t,e,n){var i,r,o=e.getFullYear();return i=o,r=0,n&&(o-=o%n,i=o-o%n+n-1),t.getFullYear()>i?r=1:t.getFullYear()<o&&(r=-1),r},e.prototype.isMinMaxRange=function(t){return+t>=+this.min&&+t<=+this.max},e.prototype.isMonthYearRange=function(t){if("Gregorian"===this.calendarMode)return t.getMonth()>=this.min.getMonth()&&t.getFullYear()>=this.min.getFullYear()&&t.getMonth()<=this.max.getMonth()&&t.getFullYear()<=this.max.getFullYear();var e=this.islamicModule.getIslamicDate(t);return e.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&e.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&e.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&e.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},e.prototype.compareYear=function(t,e){return this.compare(t,e,0)},e.prototype.compareDecade=function(t,e){return this.compare(t,e,10)},e.prototype.shiftArray=function(t,e){return t.slice(e).concat(t.slice(0,e))},e.prototype.addDay=function(t,e,n,i,r){var o=e,s=new Date(+t);if(!h(this.tableBodyElement)&&!h(n)){for(;this.findNextTD(new Date(+t),o,i,r);)o+=e;var a=new Date(s.setDate(s.getDate()+o));o=+a>+i||+a<+r?o===e?e-e:e:o}t.setDate(t.getDate()+o)},e.prototype.findNextTD=function(t,e,n,i){var r=new Date(t.setDate(t.getDate()+e)),o=[],s=!1;if((!h(r)&&r.getMonth())===(!h(this.currentDate)&&this.currentDate.getMonth())){var a=void 0;a="Gregorian"===this.calendarMode?this.renderDays(r,null):this.islamicModule.islamicRenderDays(this.currentDate,r),o=a.filter(function(t){return t.classList.contains(ro)})}else o=this.tableBodyElement.querySelectorAll("td."+ro);if(+r<=+n&&+r>=+i&&o.length)for(var l=0;l<o.length&&!(s=+r==+new Date(parseInt(o[l].id,0)));l++);return s},e.prototype.getMaxDays=function(t){var e,n,i=new Date(this.checkValue(t));for(e=28,n=i.getMonth();i.getMonth()===n;)++e,i.setDate(e);return e-1},e.prototype.setDateDecade=function(t,e){t.setFullYear(e),this.setProperties({value:new Date(this.checkValue(t))},!0)},e.prototype.setDateYear=function(t,e){t.setFullYear(e.getFullYear(),e.getMonth(),t.getDate()),e.getMonth()!==t.getMonth()&&t.setDate(0),this.setProperties({value:new Date(this.checkValue(t))},!0),this.currentDate=new Date(this.checkValue(e))},e.prototype.compareMonth=function(t,e){return t.getFullYear()>e.getFullYear()?1:t.getFullYear()<e.getFullYear()?-1:t.getMonth()===e.getMonth()?0:t.getMonth()>e.getMonth()?1:-1},e.prototype.checkValue=function(t){return t instanceof Date?t.toUTCString():""+t},e.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},eo([G(new Date(1900,0,1))],e.prototype,"min",void 0),eo([G(new Date(2099,11,31))],e.prototype,"max",void 0),eo([G(null)],e.prototype,"firstDayOfWeek",void 0),eo([G("Gregorian")],e.prototype,"calendarMode",void 0),eo([G("Month")],e.prototype,"start",void 0),eo([G("Month")],e.prototype,"depth",void 0),eo([G(!1)],e.prototype,"weekNumber",void 0),eo([G(!0)],e.prototype,"showTodayButton",void 0),eo([G(!1)],e.prototype,"enableRtl",void 0),eo([G(!1)],e.prototype,"enablePersistence",void 0),eo([Q()],e.prototype,"created",void 0),eo([Q()],e.prototype,"destroyed",void 0),eo([Q()],e.prototype,"navigated",void 0),eo([Q()],e.prototype,"renderDayCell",void 0),e=eo([Z],e)}(tr),uo=function(t){function e(e,n){return t.call(this,e,n)||this}return to(e,t),e.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&v("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!h(this.values)&&this.values.length>0){for(var e=[],n=[],i=0;i<this.values.length;i++)-1===e.indexOf(+this.values[i])&&(e.push(+this.values[i]),n.push(this.values[i]));this.setProperties({values:n},!0);for(var r=0;r<this.values.length;r++)if(!this.checkDateValue(this.values[r]))if("string"==typeof this.values[r]&&this.checkDateValue(new Date(this.checkValue(this.values[r])))){var o=new Date(this.checkValue(this.values[r]));this.values.splice(r,1),this.values.splice(r,0,o)}else this.values.splice(r,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),t.prototype.render.call(this),"calendar"===this.getModuleName()){var s=N(this.element,"form");s&&ti.add(s,"reset",this.formResetHandler.bind(this))}},e.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},e.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),t.prototype.validateDate.call(this,this.value),!h(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},e.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!h(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!h(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||h(this.value)?t.prototype.minMaxUpdate.call(this,this.value):!h(this.value)&&this.value<this.min&&this.min<=this.max?t.prototype.minMaxUpdate.call(this,this.min):!h(this.value)&&this.value>this.max&&this.min<=this.max&&t.prototype.minMaxUpdate.call(this,this.max)},e.prototype.todayButtonClick=function(){if(this.showTodayButton){var e=new Date;if(this.value?(e.setHours(this.value.getHours()),e.setMinutes(this.value.getMinutes()),e.setSeconds(this.value.getSeconds()),e.setMilliseconds(this.value.getMilliseconds())):e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),this.setProperties({value:e},!0),this.isMultiSelection){var n=this.copyValues(this.values);t.prototype.checkPresentDate.call(this,e,this.values)||(n.push(e),this.setProperties({values:n}))}t.prototype.todayButtonClick.call(this,new Date(+this.value))}},e.prototype.keyActionHandle=function(e){t.prototype.keyActionHandle.call(this,e,this.value,this.isMultiSelection)},e.prototype.preRender=function(){var e=this;this.changeHandler=function(t){e.triggerChange(t)},this.checkView(),t.prototype.preRender.call(this,this.value)},e.prototype.createContent=function(){this.previousDate=this.value,t.prototype.createContent.call(this)},e.prototype.minMaxDate=function(e){return t.prototype.minMaxDate.call(this,e)},e.prototype.renderMonths=function(e){t.prototype.renderMonths.call(this,e,this.value)},e.prototype.renderDays=function(e,n){var i=t.prototype.renderDays.call(this,e,n,this.value,this.isMultiSelection,this.values);return this.isMultiSelection&&t.prototype.validateValues.call(this,this.isMultiSelection,this.values),i},e.prototype.renderYears=function(e){"Gregorian"===this.calendarMode?t.prototype.renderYears.call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)},e.prototype.renderDecades=function(e){"Gregorian"===this.calendarMode?t.prototype.renderDecades.call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)},e.prototype.renderTemplate=function(e,n,i,r){"Gregorian"===this.calendarMode?t.prototype.renderTemplate.call(this,e,n,i,r,this.value):this.islamicModule.islamicRenderTemplate(e,n,i,r,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()},e.prototype.clickHandler=function(e){if(e.currentTarget.classList.contains(no))if(this.isMultiSelection){var n=this.copyValues(this.values);n.push(this.getIdValue(e,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(e,null)},!0);var i=this.currentView();t.prototype.clickHandler.call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!h(this.tableBodyElement.querySelectorAll("."+ao)[0])&&"Year"===i&&this.tableBodyElement.querySelectorAll("."+ao)[0].classList.remove(ao)},e.prototype.switchView=function(e,n){t.prototype.switchView.call(this,e,n,this.isMultiSelection)},e.prototype.getModuleName=function(){return t.prototype.getModuleName.call(this),"calendar"},e.prototype.getPersistData=function(){t.prototype.getPersistData.call(this);var e=["value","values"];return this.addOnPersist(e)},e.prototype.onPropertyChanged=function(e,n){this.effect="";for(var i=0,r=Object.keys(e);i<r.length;i++){switch(r[i]){case"value":"string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:n.value},!0),this.update();break;case"values":if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{for(var o=this.copyValues(this.values),s=0;s<o.length;s++){var a=o[s];this.checkDateValue(a)&&!t.prototype.checkPresentDate.call(this,a,o)&&o.push(a)}this.setProperties({values:o},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update();break;case"isMultiSelection":this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update();break;default:t.prototype.onPropertyChanged.call(this,e,n,this.isMultiSelection,this.values)}}},e.prototype.destroy=function(){if(t.prototype.destroy.call(this),"calendar"===this.getModuleName()){var e=N(this.element,"form");e&&ti.remove(e,"reset",this.formResetHandler.bind(this))}},e.prototype.navigateTo=function(e,n){this.minMaxUpdate(),t.prototype.navigateTo.call(this,e,n)},e.prototype.currentView=function(){return t.prototype.currentView.call(this)},e.prototype.addDate=function(e){if("string"!=typeof e&&"number"!=typeof e){var n=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var i=e,r=0;r<i.length;r++)this.checkDateValue(i[r])&&!t.prototype.checkPresentDate.call(this,i[r],n)&&(!h(n)&&n.length>0?n.push(i[r]):n=[new Date(+i[r])]);else this.checkDateValue(e)&&!t.prototype.checkPresentDate.call(this,e,n)&&(!h(n)&&n.length>0?n.push(e):n=[new Date(+e)]);this.setProperties({values:n},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,n),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},e.prototype.removeDate=function(t){if("string"!=typeof t&&"number"!=typeof t&&!h(this.values)&&this.values.length>0){var e=this.copyValues(this.values);if("object"==typeof t&&t.length>0)for(var n=t,i=0;i<n.length;i++)for(var r=0;r<e.length;r++)+e[r]==+n[i]&&e.splice(r,1);else for(var r=0;r<e.length;r++)+e[r]==+t&&e.splice(r,1);this.setProperties({values:e},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},e.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),t.prototype.setValueUpdate.call(this)},e.prototype.selectDate=function(e,n,i){t.prototype.selectDate.call(this,e,n,i,this.isMultiSelection,this.values),this.isMultiSelection&&!h(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)},e.prototype.changeEvent=function(t){this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value)},e.prototype.triggerChange=function(t){this.changedArgs.event=t||null,this.changedArgs.isInteracted=!h(t),h(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate?h(this.values)||this.previousValues===this.values.length||(this.changeEvent(t),this.previousValues=this.values.length):this.changeEvent(t)},eo([G(null)],e.prototype,"value",void 0),eo([G(null)],e.prototype,"values",void 0),eo([G(!1)],e.prototype,"isMultiSelection",void 0),eo([Q()],e.prototype,"change",void 0),e=eo([Z],e)}(lo),co=function(){function t(t){this.calendarInstance=t}return t.prototype.getModuleName=function(){return"islamic"},t.prototype.islamicTitleUpdate=function(t,e){var n=new Ki(this.calendarInstance.locale);switch(e){case"days":this.calendarInstance.headerTitleElement.textContent=n.formatDate(t,{type:"dateTime",format:"MMMMyyyy",calendar:"islamic"});break;case"months":this.calendarInstance.headerTitleElement.textContent=n.formatDate(t,{type:"dateTime",format:"yyyy",calendar:"islamic"})}},t.prototype.islamicRenderDays=function(t,e,n,i){var r,o=[],s=new Date(this.islamicInValue(t));this.calendarInstance.weekNumber;this.islamicTitleUpdate(t,"days");var a=this.getIslamicDate(s),l=this.toGregorian(a.year,a.month,1),u=a.month;for(s=l;s.getDay()!==this.calendarInstance.firstDayOfWeek;)this.calendarInstance.setStartDate(s,-864e5);for(var c=0;c<42;++c){var p=this.calendarInstance.createElement("td",{className:"e-cell"}),d=this.calendarInstance.createElement("span");c%7==0&&this.calendarInstance.weekNumber&&(d.textContent=""+this.calendarInstance.getWeek(s),p.appendChild(d),C([p],"e-week-number"),o.push(p)),r=new Date(+s),s=this.calendarInstance.minMaxDate(s);var f={type:"dateTime",skeleton:"full",calendar:"islamic"},m=this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(s,f),f),v=this.islamicDayCell(s),y=this.calendarInstance.globalize.formatDate(s,{type:"date",skeleton:"full",calendar:"islamic"}),g=this.calendarInstance.createElement("span");g.textContent=this.calendarInstance.globalize.formatDate(s,{type:"date",skeleton:"d",calendar:"islamic"});var b=this.calendarInstance.min>s||this.calendarInstance.max<s;b?(C([v],"e-disabled"),C([v],"e-overlay")):g.setAttribute("title",""+y);u!==this.getIslamicDate(s).month&&C([v],"e-other-month"),0!==s.getDay()&&6!==s.getDay()||C([v],"e-weekend"),v.appendChild(g),this.calendarInstance.renderDayCellArgs={date:s,isDisabled:!1,element:v,isOutOfRange:b};var w=this.calendarInstance.renderDayCellArgs;if(this.calendarInstance.renderDayCellEvent(w),w.isDisabled)if(this.calendarInstance.isMultiSelection){if(!h(this.calendarInstance.values)&&this.calendarInstance.values.length>0)for(var _=0;_<i.length;_++){var E=+new Date(this.calendarInstance.globalize.formatDate(w.date,{type:"date",skeleton:"yMd",calendar:"islamic"})),x=+new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[_],{type:"date",skeleton:"yMd",calendar:"islamic"}));E===x&&(this.calendarInstance.values.splice(_,1),_=-1)}}else e&&+e==+w.date&&this.calendarInstance.setProperties({value:null},!0);this.calendarInstance.renderDayCellArgs.isDisabled&&!v.classList.contains("e-selected")&&(C([v],"e-disabled"),C([v],"e-overlay"),+this.calendarInstance.renderDayCellArgs.date==+this.calendarInstance.todayDate&&(this.calendarInstance.todayDisabled=!0));var S=v.classList.contains("e-other-month"),T=v.classList.contains("e-disabled");if(T||ti.add(v,"click",this.calendarInstance.clickHandler,this.calendarInstance),!this.calendarInstance.isMultiSelection||h(this.calendarInstance.values)||S||T)S||T||!this.calendarInstance.getDateVal(s,e)?this.calendarInstance.updateFocus(S,T,s,v,t):C([v],"e-selected");else{for(var k=0;k<this.calendarInstance.values.length;k++){var E=this.calendarInstance.globalize.formatDate(s,{type:"date",skeleton:"short",calendar:"islamic"}),x=this.calendarInstance.globalize.formatDate(this.calendarInstance.values[k],{type:"date",skeleton:"short",calendar:"islamic"});E===x&&this.calendarInstance.getDateVal(s,this.calendarInstance.values[k])?C([v],"e-selected"):this.calendarInstance.updateFocus(S,T,s,v,t)}this.calendarInstance.values.length<=0&&this.calendarInstance.updateFocus(S,T,s,v,t)}m.getDate()===(new Date).getDate()&&m.getMonth()===(new Date).getMonth()&&m.getFullYear()===(new Date).getFullYear()&&C([v],"e-today"),s=new Date(+r),o.push(this.calendarInstance.renderDayCellArgs.element),this.calendarInstance.addDay(s,1,null,this.calendarInstance.max,this.calendarInstance.min)}return o},t.prototype.islamicIconHandler=function(){new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);var t=new Date(this.islamicInValue(this.calendarInstance.currentDate));switch(this.calendarInstance.currentView()){case"Month":var e=this.islamicCompareMonth(t,this.calendarInstance.min)<1,n=this.islamicCompareMonth(t,this.calendarInstance.max)>-1;this.calendarInstance.previousIconHandler(e),this.calendarInstance.nextIconHandler(n);break;case"Year":var i=this.hijriCompareYear(t,this.calendarInstance.min)<1,r=this.hijriCompareYear(t,this.calendarInstance.max)>-1;this.calendarInstance.previousIconHandler(i),this.calendarInstance.nextIconHandler(r);break;case"Decade":var o=this.hijriCompareDecade(t,this.calendarInstance.min)<1,s=this.hijriCompareDecade(t,this.calendarInstance.max)>-1;this.calendarInstance.previousIconHandler(o),this.calendarInstance.nextIconHandler(s)}},t.prototype.islamicNext=function(){this.calendarInstance.effect="";var t=this.calendarInstance.getViewNumber(this.calendarInstance.currentView()),e=this.getIslamicDate(this.calendarInstance.currentDate);switch(this.calendarInstance.currentView()){case"Year":this.calendarInstance.currentDate=this.toGregorian(e.year+1,e.month,1),this.calendarInstance.switchView(t);break;case"Month":this.calendarInstance.currentDate=this.toGregorian(e.year,e.month+1,1),this.calendarInstance.switchView(t);break;case"Decade":this.calendarInstance.currentDate=this.toGregorian(e.year+10,e.month,1),this.calendarInstance.switchView(t)}},t.prototype.islamicPrevious=function(){var t=this.calendarInstance.getViewNumber(this.calendarInstance.currentView());this.calendarInstance.effect="";var e=this.getIslamicDate(this.calendarInstance.currentDate);switch(this.calendarInstance.currentView()){case"Month":this.calendarInstance.currentDate=this.toGregorian(e.year,e.month-1,1),this.calendarInstance.switchView(t);break;case"Year":this.calendarInstance.currentDate=this.toGregorian(e.year-1,e.month,1),this.calendarInstance.switchView(t);break;case"Decade":this.calendarInstance.currentDate=this.toGregorian(e.year-10,e.month-1,1),this.calendarInstance.switchView(t)}},t.prototype.islamicRenderYears=function(t,e){this.calendarInstance.removeTableHeadElement();var n=[],i=h(e),r=new Date(this.islamicInValue(this.calendarInstance.currentDate)),o=r,s=this.getIslamicDate(o);o=Di.toGregorian(s.year,1,1);var a=s.month,l=s.year,u=s.year,c=this.getIslamicDate(this.calendarInstance.min).year,p=this.getIslamicDate(this.calendarInstance.min).month,d=this.getIslamicDate(this.calendarInstance.max).year,f=this.getIslamicDate(this.calendarInstance.max).month;this.islamicTitleUpdate(this.calendarInstance.currentDate,"months");for(var m=(this.calendarInstance.min>o||this.calendarInstance.max,1);m<=12;++m){var v=this.getIslamicDate(o);o=Di.toGregorian(v.year,m,1);var y=this.islamicDayCell(o),g=this.calendarInstance.createElement("span"),b=e&&this.getIslamicDate(e).month===this.getIslamicDate(o).month,w=e&&this.getIslamicDate(e).year===l&&b;g.textContent=this.calendarInstance.globalize.formatDate(o,{type:"dateTime",format:"MMM",calendar:"islamic"}),this.calendarInstance.min&&(u<c||m<p&&u===c)||this.calendarInstance.max&&(u>d||m>f&&u>=d)?C([y],"e-disabled"):!i&&w?C([y],"e-selected"):this.getIslamicDate(o).month===a&&this.getIslamicDate(this.calendarInstance.currentDate).month===a&&C([y],"e-focused-date"),y.classList.contains("e-disabled")||ti.add(y,"click",this.calendarInstance.clickHandler,this.calendarInstance),y.appendChild(g),n.push(y)}this.islamicRenderTemplate(n,4,"e-year",t,e)},t.prototype.islamicRenderDecade=function(t,e){this.calendarInstance.removeTableHeadElement();var n=[],i=new Date(this.islamicInValue(this.calendarInstance.currentDate)),r=this.getIslamicDate(i);i=Di.toGregorian(r.year,1,1);var o=i.getFullYear(),s=new Date(this.islamicInValue(o-o%10)),a=new Date(this.islamicInValue(o-o%10+9)),l=s.getFullYear(),u=a.getFullYear(),c=this.calendarInstance.globalize.formatDate(s,{type:"dateTime",format:"y",calendar:"islamic"}),p=this.calendarInstance.globalize.formatDate(a,{type:"dateTime",format:"y",calendar:"islamic"});this.calendarInstance.headerTitleElement.textContent=c+" - "+p;for(var d=new Date(o-o%10-2,0,1),f=d.getFullYear(),m=1;m<=12;++m){var v=f+m;i.setFullYear(v),i.setDate(1),i.setMonth(0);var y=this.getIslamicDate(i);i=Di.toGregorian(y.year,1,1);var g=this.islamicDayCell(i);A(g,{role:"gridcell"});var b=this.calendarInstance.createElement("span");b.textContent=this.calendarInstance.globalize.formatDate(i,{type:"dateTime",format:"y",calendar:"islamic"}),v<l||v>u?C([g],"e-other-month"):v<new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()||v>new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()?C([g],"e-disabled"):h(e)||this.getIslamicDate(i).year!==this.getIslamicDate(e).year?i.getFullYear()!==this.calendarInstance.currentDate.getFullYear()||g.classList.contains("e-disabled")||C([g],"e-focused-date"):C([g],"e-selected"),g.classList.contains("e-disabled")||ti.add(g,"click",this.calendarInstance.clickHandler,this.calendarInstance),g.appendChild(b),n.push(g)}this.islamicRenderTemplate(n,4,"e-decade",t,e)},t.prototype.islamicDayCell=function(t){var e={skeleton:"full",type:"dateTime",calendar:"islamic"},n=this.calendarInstance.globalize.formatDate(t,e),i=this.calendarInstance.globalize.parseDate(n,e),r=i.valueOf(),o={className:"e-cell",attrs:{id:""+d(""+r),"aria-selected":"false",role:"gridcell"}};return this.calendarInstance.createElement("td",o)},t.prototype.islamicRenderTemplate=function(t,e,n,i,r){var o,s=this.calendarInstance.getViewNumber(this.calendarInstance.currentView());this.calendarInstance.tableBodyElement=this.calendarInstance.createElement("tbody"),this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement),E([this.calendarInstance.contentElement,this.calendarInstance.headerElement],["e-month","e-decade","e-year"]),C([this.calendarInstance.contentElement,this.calendarInstance.headerElement],[n]);for(var a=e,l=0,u=0;u<t.length/e;++u){for(o=this.calendarInstance.createElement("tr",{attrs:{role:"row"}}),l=0+l;l<a;l++)t[l].classList.contains("e-week-number")||h(t[l].children[0])||(C([t[l].children[0]],["e-day"]),tt(t[l].children[0],{duration:600,isCenterRipple:!0})),o.appendChild(t[l]),this.calendarInstance.weekNumber&&7===l&&t[7].classList.contains("e-other-month")&&C([o],"e-month-hide"),!this.calendarInstance.weekNumber&&6===l&&t[6].classList.contains("e-other-month")&&C([o],"e-month-hide"),this.calendarInstance.weekNumber?41===l&&t[41].classList.contains("e-other-month")&&C([o],"e-month-hide"):35===l&&t[35].classList.contains("e-other-month")&&C([o],"e-month-hide");a+=e,l+=0,this.calendarInstance.tableBodyElement.appendChild(o)}this.calendarInstance.table.querySelector("tbody").className=this.calendarInstance.effect,this.islamicIconHandler(),(s!==this.calendarInstance.getViewNumber(this.calendarInstance.currentView())||0===s&&s!==this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))&&this.calendarInstance.navigateHandler(i),this.calendarInstance.setAriaActiveDescendant(),this.calendarInstance.changedArgs={value:this.calendarInstance.value,values:this.calendarInstance.values},this.calendarInstance.changeHandler()},t.prototype.islamicCompareMonth=function(t,e){var n=this.getIslamicDate(t),i=this.getIslamicDate(e);return n.year>i.year?1:n.year<i.year?-1:n.month===i.month?0:n.month>i.month?1:-1},t.prototype.islamicCompare=function(t,e,n){var i,r,o=this.getIslamicDate(t),s=this.getIslamicDate(e),a=s.year;return i=a,r=0,n&&(a-=a%n,i=a-a%n+n-1),o.year>i?r=1:"Decade"===this.calendarInstance.currentView()&&o.year<a&&!(t.getFullYear()>=2060&&t.getFullYear()<=2069)?r=-1:o.year<a&&"Year"===this.calendarInstance.currentView()&&(r=-1),r},t.prototype.getIslamicDate=function(t){return Di.getHijriDate(t)},t.prototype.toGregorian=function(t,e,n){return Di.toGregorian(t,e,n)},t.prototype.hijriCompareYear=function(t,e){return this.islamicCompare(t,e,0)},t.prototype.hijriCompareDecade=function(t,e){return this.islamicCompare(t,e,10)},t.prototype.destroy=function(){this.calendarInstance=null},t.prototype.islamicInValue=function(t){return t instanceof Date?t.toUTCString():""+t},t}(),ho=!1,po=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fo=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return po(e,t),fo([G("left")],e.prototype,"X",void 0),fo([G("top")],e.prototype,"Y",void 0),e}(_i),vo={ROOT:"e-popup",RTL:"e-rtl",OPEN:"e-popup-open",CLOSE:"e-popup-close"},yo=function(t){function e(e,n){return t.call(this,n,e)||this}return po(e,t),e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"width":L(this.element,{width:y(t.width)});break;case"height":L(this.element,{height:y(t.height)});break;case"zIndex":L(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var r=t.offsetX-e.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+r).toString()+"px";break;case"offsetY":var o=t.offsetY-e.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==t.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},e.prototype.getModuleName=function(){return"popup"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){this.element.classList.remove(vo.ROOT,vo.RTL),this.unwireEvents(),t.prototype.destroy.call(this)},e.prototype.render=function(){this.element.classList.add(vo.ROOT);var t={};1e3!==this.zIndex&&(t.zIndex=this.zIndex),"auto"!==this.width&&(t.width=y(this.width)),"auto"!==this.height&&(t.height=y(this.height)),L(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent(),this.wireEvents()},e.prototype.wireEvents=function(){mi.isDevice&&ti.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},e.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,e=this.getScrollableParent(this.getRelateToElement());t<e.length;t++){var n=e[t];ti.add(n,"scroll",this.scrollRefresh,this)}},e.prototype.unwireEvents=function(){mi.isDevice&&ti.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},e.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,e=this.getScrollableParent(this.getRelateToElement());t<e.length;t++){var n=e[t];ti.remove(n,"scroll",this.scrollRefresh)}},e.prototype.getRelateToElement=function(){var t=""===this.relateTo||h(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},e.prototype.scrollRefresh=function(t){if("reposition"===this.actionOnScroll?this.element.offsetParent===t.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==t.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var e=this.isElementOnViewport(this.getRelateToElement(),t.target);e||this.targetInvisibleStatus?e&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},e.prototype.isElementOnViewport=function(t,e){for(var n=this.getScrollableParent(t),i=0;i<n.length;i++)if(!this.isElementVisible(t,n[i]))return!1;return!0},e.prototype.isElementVisible=function(t,e){var n=this.checkGetBoundingClientRect(t);if(!n.height||!n.width)return!1;if(h(this.checkGetBoundingClientRect(e))){var i=window,r={top:i.scrollY,left:i.scrollX,right:i.scrollX+i.outerWidth,bottom:i.scrollY+i.outerHeight},o=Ct(t),s={top:o.top,left:o.left,right:o.left+n.width,bottom:o.top+n.height},a={top:r.bottom-s.top,left:r.right-s.left,bottom:s.bottom-r.top,right:s.right-r.left};return a.top>0&&a.left>0&&a.right>0&&a.bottom>0}var l=e.getBoundingClientRect();return!(n.bottom<l.top||n.bottom>l.bottom||n.right>l.right||n.left<l.left)},e.prototype.preRender=function(){},e.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(vo.RTL):this.element.classList.remove(vo.RTL)},e.prototype.setContent=function(){h(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))},e.prototype.orientationOnChange=function(){var t=this;setTimeout(function(){t.refreshPosition()},200)},e.prototype.refreshPosition=function(t,e){h(t)||this.checkFixedParent(t),this.reposition(),e||this.checkCollision()},e.prototype.reposition=function(){var t,e,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)t={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var i=this.element.style.display,r=void 0;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),t="string"==typeof this.position.X?{left:e.left,top:this.position.Y}:{left:this.position.X,top:e.top},this.element.style.display=i,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(n){var i=this.element.style.display;this.element.style.display="block",t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=i}else t={left:0,top:0};h(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")},e.prototype.checkGetBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return null}},e.prototype.getAnchorPosition=function(t,e,n,i,r){var o=this.checkGetBoundingClientRect(e),s=this.checkGetBoundingClientRect(t);if(h(o)||h(s))return null;var a=t,l={left:0,top:0};switch(e.offsetParent&&"BODY"===e.offsetParent.tagName&&"BODY"===t.tagName?l=Ct(t):(e.classList.contains("e-dlg-modal")&&"BODY"!==a.tagName&&(e=e.parentElement),l=_t(a,e)),n.X){default:case"left":break;case"center":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.left+=window.innerWidth/2-o.width/2:"container"===this.targetType?l.left+=s.width/2-o.width/2:l.left+=s.width/2;break;case"right":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.left+=window.innerWidth-o.width:"container"===this.targetType?l.left+=s.width-o.width:l.left+=s.width}switch(n.Y){default:case"top":break;case"center":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.top+=window.innerHeight/2-o.height/2:"container"===this.targetType?l.top+=s.height/2-o.height/2:l.top+=s.height/2;break;case"bottom":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.top+=window.innerHeight-o.height:"container"===this.targetType?l.top+=s.height-o.height:l.top+=s.height}return l.left+=i,l.top+=r,l},e.prototype.callFlip=function(t){var e=this.getRelateToElement();Vt(this.element,e,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)},e.prototype.callFit=function(t){if(0!==Lt(this.element,this.viewPortElement).length)if(h(this.viewPortElement)){var e=Nt(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=e.left+"px"),t.Y&&(this.element.style.top=e.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),i=this.checkGetBoundingClientRect(this.viewPortElement);if(h(n)||h(i))return null;t&&!0===t.Y&&(i.top>n.top?this.element.style.top="0px":i.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-i.bottom)+"px")),t&&!0===t.X&&(i.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-i.right)+"px":i.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(i.left-n.left)+"px"))}},e.prototype.checkCollision=function(){var t=this.collision.X,e=this.collision.Y;"none"===t&&"none"===e||("flip"===t&&"flip"===e?this.callFlip({X:!0,Y:!0}):"fit"===t&&"fit"===e?this.callFit({X:!0,Y:!0}):("flip"===t?this.callFlip({X:!0,Y:!1}):"flip"===e&&this.callFlip({Y:!0,X:!1}),"fit"===t?this.callFit({X:!0,Y:!1}):"fit"===e&&this.callFit({X:!1,Y:!0})))},e.prototype.show=function(t,e){var n=this;if(1e3===this.zIndex||!h(e)){var i=h(e)?this.element:e;this.zIndex=ie(i),L(this.element,{zIndex:this.zIndex})}t=h(t)||"object"!=typeof t?this.showAnimation:t,"none"===this.collision.X&&"none"===this.collision.Y||(E([this.element],vo.CLOSE),C([this.element],vo.OPEN),this.checkCollision(),E([this.element],vo.OPEN),C([this.element],vo.CLOSE)),h(t)?(E([this.element],vo.CLOSE),C([this.element],vo.OPEN),this.trigger("open")):(t.begin=function(){n.isDestroyed||(E([n.element],vo.CLOSE),C([n.element],vo.OPEN))},t.end=function(){n.isDestroyed||n.trigger("open")},new gi(t).animate(this.element))},e.prototype.hide=function(t){var e=this;t=h(t)||"object"!=typeof t?this.hideAnimation:t,h(t)?(E([this.element],vo.OPEN),C([this.element],vo.CLOSE),this.trigger("close")):(t.end=function(){e.isDestroyed||(E([e.element],vo.OPEN),C([e.element],vo.CLOSE),e.trigger("close"))},new gi(t).animate(this.element))},e.prototype.getScrollableParent=function(t){return this.checkFixedParent(t),ne(t,this.fixedParent)},e.prototype.checkFixedParent=function(t){for(var e=t.parentElement;e&&"HTML"!==e.tagName;){var n=getComputedStyle(e);"fixed"===n.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),e=e.parentElement,h(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},fo([G("auto")],e.prototype,"height",void 0),fo([G("auto")],e.prototype,"width",void 0),fo([G(null)],e.prototype,"content",void 0),fo([G("container")],e.prototype,"targetType",void 0),fo([G(null)],e.prototype,"viewPortElement",void 0),fo([G({X:"none",Y:"none"})],e.prototype,"collision",void 0),fo([G("")],e.prototype,"relateTo",void 0),fo([X({},mo)],e.prototype,"position",void 0),fo([G(0)],e.prototype,"offsetX",void 0),fo([G(0)],e.prototype,"offsetY",void 0),fo([G(1e3)],e.prototype,"zIndex",void 0),fo([G(!1)],e.prototype,"enableRtl",void 0),fo([G("reposition")],e.prototype,"actionOnScroll",void 0),fo([G(null)],e.prototype,"showAnimation",void 0),fo([G(null)],e.prototype,"hideAnimation",void 0),fo([Q()],e.prototype,"open",void 0),fo([Q()],e.prototype,"close",void 0),fo([Q()],e.prototype,"targetExitViewport",void 0),e=fo([Z],e)}(tr),go=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bo=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wo={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},_o=function(t){function e(e,n){return t.call(this,e,n)||this}return go(e,t),e.prototype.preRender=function(){},e.prototype.render=function(){this.initialize()},e.prototype.initialize=function(){this.cssClass&&C([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add(wo.PRIMARY),this.content&&(this.element.innerHTML=this.content),this.setIconCss(),this.enableRtl&&this.element.classList.add(wo.RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents(),this.removeRippleEffect=tt(this.element,{selector:"."+wo.BUTTON})},e.prototype.controlStatus=function(t){this.element.disabled=t},e.prototype.setIconCss=function(){if(this.iconCss){var t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(wo.ICONBTN);var e=this.element.childNodes[0];!e||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(t):this.element.insertBefore(t,e)}},e.prototype.wireEvents=function(){this.isToggle&&ti.add(this.element,"click",this.btnClickHandler,this)},e.prototype.unWireEvents=function(){this.isToggle&&ti.remove(this.element,"click",this.btnClickHandler)},e.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},e.prototype.destroy=function(){var e,n=[wo.PRIMARY,wo.RTL,wo.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(n=n.concat(this.cssClass.split(" "))),t.prototype.destroy.call(this),E([this.element],n),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,"")),e=this.element.querySelector("span.e-btn-icon"),e&&D(e),this.unWireEvents(),this.removeRippleEffect()},e.prototype.getModuleName=function(){return"btn"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.Inject=function(){},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"isPrimary":t.isPrimary?this.element.classList.add(wo.PRIMARY):this.element.classList.remove(wo.PRIMARY);break;case"disabled":this.controlStatus(t.disabled),this.unWireEvents();break;case"iconCss":var r=this.element.querySelector("span.e-btn-icon");r?t.iconCss?(r.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&("Left"===this.iconPosition?r.classList.add("e-icon-left"):r.classList.add("e-icon-right"))):D(r):this.setIconCss();break;case"iconPosition":E([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),r=this.element.querySelector("span.e-btn-icon"),r&&D(r),this.setIconCss();break;case"cssClass":e.cssClass&&E([this.element],e.cssClass.split(" ")),t.cssClass&&C([this.element],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add(wo.RTL):this.element.classList.remove(wo.RTL);break;case"content":oe(this.element)||this.element.classList.remove(wo.ICONBTN),this.element.innerHTML=t.content,this.setIconCss();break;case"isToggle":t.isToggle?ti.add(this.element,"click",this.btnClickHandler,this):(ti.remove(this.element,"click",this.btnClickHandler),E([this.element],["e-active"]))}}},bo([G("Left")],e.prototype,"iconPosition",void 0),bo([G("")],e.prototype,"iconCss",void 0),bo([G(!1)],e.prototype,"disabled",void 0),bo([G(!1)],e.prototype,"isPrimary",void 0),bo([G("")],e.prototype,"cssClass",void 0),bo([G("")],e.prototype,"content",void 0),bo([G(!1)],e.prototype,"isToggle",void 0),bo([G()],e.prototype,"locale",void 0),bo([Q()],e.prototype,"created",void 0),e=bo([Z],e)}(tr),Co=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eo=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},xo="e-ripple-container",So=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isFocused=!1,i.isMouseClick=!1,i}Co(e,t),e.prototype.changeState=function(t){var e,n,i=this.getWrapper().getElementsByClassName("e-frame")[0];bi&&(n=this.getWrapper().getElementsByClassName(xo)[0]),"check"===t?(i.classList.remove("e-stop"),i.classList.add("e-check"),n&&(n.classList.remove("e-ripple-stop"),n.classList.add("e-ripple-check")),e="true",this.element.checked=!0):"uncheck"===t?(E([i],["e-check","e-stop"]),n&&E([n],["e-ripple-check","e-ripple-stop"]),e="false",this.element.checked=!1):(i.classList.remove("e-check"),i.classList.add("e-stop"),n&&(n.classList.remove("e-ripple-check"),n.classList.add("e-ripple-stop")),e="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",e)},e.prototype.clickHandler=function(t){this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var e={checked:this.element.checked,event:t};this.trigger("change",e)},e.prototype.destroy=function(){var e=this,n=this.getWrapper();t.prototype.destroy.call(this),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(n.parentNode.insertBefore(this.element,n),D(n),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(t){e.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(function(t){n.removeAttribute(t)}),n.innerHTML="")},e.prototype.focusHandler=function(){this.isFocused=!0},e.prototype.focusOutHandler=function(){this.getWrapper().classList.remove("e-focus"),this.isFocused=!1},e.prototype.getModuleName=function(){return"checkbox"},e.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},e.prototype.getWrapper=function(){return this.element.parentElement.parentElement},e.prototype.initialize=function(){h(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},e.prototype.initWrapper=function(){var t=this.element.parentElement;t.classList.contains("e-checkbox-wrapper")||(t=this.createElement("div",{className:"e-checkbox-wrapper",attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(t,this.element));var e=this.createElement("label",{attrs:{for:this.element.id}}),n=this.createElement("span",{className:"e-icons e-frame"});if(this.enableRtl&&t.classList.add("e-rtl"),this.cssClass&&C([t],this.cssClass.split(" ")),t.appendChild(e),e.appendChild(this.element),ce(this,e),e.appendChild(n),bi){var i=this.createElement("span",{className:xo});"Before"===this.labelPosition?e.appendChild(i):e.insertBefore(i,n),tt(i,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},e.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},e.prototype.labelMouseHandler=function(t){this.isMouseClick=!0,ue(t,this.getWrapper().getElementsByClassName(xo)[0])},e.prototype.onPropertyChanged=function(t,e){for(var n=this.getWrapper(),i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(t.checked?"check":"uncheck");break;case"indeterminate":t.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":t.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove("e-checkbox-disabled"),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":e.cssClass&&E([n],e.cssClass.split(" ")),t.cssClass&&C([n],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"label":this.setText(t.label);break;case"labelPosition":var o=n.getElementsByClassName("e-label")[0],s=n.getElementsByTagName("label")[0];D(o),"After"===t.labelPosition?s.appendChild(o):s.insertBefore(o,n.getElementsByClassName("e-frame")[0]);break;case"name":this.element.setAttribute("name",t.name);break;case"value":this.element.setAttribute("value",t.value)}}},e.prototype.preRender=function(){var t=this.element;this.formElement=N(this.element,"form"),this.tagName=this.element.tagName,t=re(this.createElement,"EJS-CHECKBOX","checkbox",t,"e-checkbox-wrapper","checkbox"),this.element=t,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=d("e-"+this.getModuleName()))},e.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents()},e.prototype.setDisabled=function(){var t=this.getWrapper();this.element.disabled=!0,t.classList.add("e-checkbox-disabled"),t.setAttribute("aria-disabled","true")},e.prototype.setText=function(t){var e=this.getWrapper().getElementsByClassName("e-label")[0];if(e)e.textContent=t;else{e=this.createElement("span",{className:"e-label",innerHTML:t});var n=this.getWrapper().getElementsByTagName("label")[0];"Before"===this.labelPosition?n.insertBefore(e,this.getWrapper().getElementsByClassName("e-frame")[0]):n.appendChild(e)}},e.prototype.changeHandler=function(t){t.stopPropagation()},e.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,A(this.element,{checked:this.initialCheckedValue.toString()})},e.prototype.unWireEvents=function(){var t=this.getWrapper();ti.remove(this.element,"click",this.clickHandler),ti.remove(this.element,"keyup",this.keyUpHandler),ti.remove(this.element,"focus",this.focusHandler),ti.remove(this.element,"focusout",this.focusOutHandler);var e=t.getElementsByTagName("label")[0];ti.remove(e,"mousedown",this.labelMouseHandler),ti.remove(e,"mouseup",this.labelMouseHandler),this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&ti.remove(this.element,"change",this.changeHandler)},e.prototype.wireEvents=function(){var t=this.getWrapper();ti.add(this.element,"click",this.clickHandler,this),ti.add(this.element,"keyup",this.keyUpHandler,this),ti.add(this.element,"focus",this.focusHandler,this),ti.add(this.element,"focusout",this.focusOutHandler,this);var e=t.getElementsByTagName("label")[0];ti.add(e,"mousedown",this.labelMouseHandler,this),ti.add(e,"mouseup",this.labelMouseHandler,this),this.formElement&&ti.add(this.formElement,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&ti.add(this.element,"change",this.changeHandler,this)},Eo([Q()],e.prototype,"change",void 0),Eo([Q()],e.prototype,"created",void 0),Eo([G(!1)],e.prototype,"checked",void 0),Eo([G("")],e.prototype,"cssClass",void 0),Eo([G(!1)],e.prototype,"disabled",void 0),Eo([G(!1)],e.prototype,"indeterminate",void 0),Eo([G("")],e.prototype,"label",void 0),Eo([G("After")],e.prototype,"labelPosition",void 0),Eo([G("")],e.prototype,"name",void 0),Eo([G("")],e.prototype,"value",void 0),e=Eo([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),To=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ko=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isKeyPressed=!1,i}So(e,t),n=e,e.prototype.changeHandler=function(t){this.checked=!0,this.dataBind();var e={value:this.value,event:t};this.trigger("change",e),"EJS-RADIOBUTTON"===this.tagName&&t.stopPropagation()},e.prototype.updateChange=function(t){for(var e,i,r=this.getRadioGroup(),o=0;o<r.length;o++)(e=r[o])!==this.element&&(i=g(e,n),i.checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(i.angularValue=this.value))},e.prototype.destroy=function(){var e=this,n=this.element.parentElement;t.prototype.destroy.call(this),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(n.parentNode.insertBefore(this.element,n),D(n),this.element.checked=!1,["name","value","disabled"].forEach(function(t){e.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(function(t){n.removeAttribute(t)}),n.innerHTML="")},e.prototype.focusHandler=function(){this.isKeyPressed&&this.getLabel().classList.add("e-focus")},e.prototype.focusOutHandler=function(){this.getLabel().classList.remove("e-focus")},e.prototype.getModuleName=function(){return"radio"},e.prototype.getSelectedValue=function(){for(var t,e=this.getRadioGroup(),n=0,i=e.length;n<i;n++)if(t=e[n],t.checked)return t.value;return""},e.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},e.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},e.prototype.getLabel=function(){return this.element.nextElementSibling},e.prototype.initialize=function(){h(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},e.prototype.initWrapper=function(){var t,e=this.element.parentElement;e.classList.contains("e-radio-wrapper")||(e=this.createElement("div",{className:"e-radio-wrapper"}),this.element.parentNode.insertBefore(e,this.element));var n=this.createElement("label",{attrs:{for:this.element.id}});e.appendChild(this.element),e.appendChild(n),bi&&(t=this.createElement("span",{className:"e-ripple-container"}),n.appendChild(t),tt(t,{duration:400,isCenterRipple:!0})),this.enableRtl&&n.classList.add("e-rtl"),this.cssClass&&C([n],this.cssClass.split(" ")),this.label&&this.setText(this.label)},e.prototype.keyDownHandler=function(){this.isKeyPressed=!0},e.prototype.labelRippleHandler=function(t){ue(t,this.getLabel().getElementsByClassName("e-ripple-container")[0])},e.prototype.mouseDownHandler=function(){this.isKeyPressed=!1},e.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&A(this.element,{checked:"true"})},e.prototype.onPropertyChanged=function(t,e){for(var n=this.getLabel(),i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"checked":t.checked&&this.updateChange(t.checked),this.element.checked=t.checked;break;case"disabled":t.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":e.cssClass&&E([n],e.cssClass.split(" ")),t.cssClass&&C([n],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"label":this.setText(t.label);break;case"labelPosition":"Before"===t.labelPosition?n.classList.add("e-right"):n.classList.remove("e-right");break;case"name":this.element.setAttribute("name",t.name);break;case"value":this.element.setAttribute("value",t.value)}}},e.prototype.preRender=function(){var t=this.element;if(this.formElement=N(this.element,"form"),this.tagName=this.element.tagName,t=re(this.createElement,"EJS-RADIOBUTTON","radio",t,"e-radio-wrapper","radio"),this.element=t,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=d("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){var e=this.element.getAttribute("formcontrolname");e&&(this.setProperties({name:e},!0),this.element.setAttribute("name",e))}},e.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents()},e.prototype.setDisabled=function(){this.element.disabled=!0},e.prototype.setText=function(t){var e=this.getLabel(),n=e.getElementsByClassName("e-label")[0];n?n.textContent=t:(n=this.createElement("span",{className:"e-label",innerHTML:t}),e.appendChild(n)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},e.prototype.unWireEvents=function(){var t=this.getLabel();ti.remove(this.element,"change",this.changeHandler),ti.remove(document,"keydown",this.keyDownHandler),ti.remove(t,"mousedown",this.mouseDownHandler),ti.remove(this.element,"focus",this.focusHandler),ti.remove(this.element,"focusout",this.focusOutHandler);var e=t.getElementsByClassName("e-label")[0];e&&(ti.remove(e,"mousedown",this.labelRippleHandler),ti.remove(e,"mouseup",this.labelRippleHandler)),this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.wireEvents=function(){var t=this.getLabel();ti.add(this.element,"change",this.changeHandler,this),ti.add(document,"keydown",this.keyDownHandler,this),ti.add(t,"mousedown",this.mouseDownHandler,this),ti.add(this.element,"focus",this.focusHandler,this),ti.add(this.element,"focusout",this.focusOutHandler,this);var e=t.getElementsByClassName("e-label")[0];e&&(ti.add(e,"mousedown",this.labelRippleHandler,this),ti.add(e,"mouseup",this.labelRippleHandler,this)),this.formElement&&ti.add(this.formElement,"reset",this.formResetHandler,this)};var n;To([Q()],e.prototype,"change",void 0),To([Q()],e.prototype,"created",void 0),To([G(!1)],e.prototype,"checked",void 0),To([G("")],e.prototype,"cssClass",void 0),To([G(!1)],e.prototype,"disabled",void 0),To([G("")],e.prototype,"label",void 0),To([G("After")],e.prototype,"labelPosition",void 0),To([G("")],e.prototype,"name",void 0),To([G("")],e.prototype,"value",void 0),e=n=To([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Mo=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Do=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isKeyPressed=!1,i.isDrag=!1,i}ko(e,t),e.prototype.changeState=function(t){var e,n,i=this.getWrapper(),r=i.querySelector(".e-switch-inner"),o=i.querySelector(".e-switch-handle");bi&&(n=i.getElementsByClassName("e-ripple-container")[0]),t?(C([r,o],"e-switch-active"),e="true",this.element.checked=!0,this.checked=!0,n&&C([n],["e-ripple-check"])):(E([r,o],"e-switch-active"),e="false",this.element.checked=!1,this.checked=!1,n&&E([n],["e-ripple-check"])),i.setAttribute("aria-checked",e)},e.prototype.clickHandler=function(t){this.isDrag=!1,this.focusOutHandler(),this.changeState(!this.checked),this.element.focus();var e={checked:this.element.checked,event:t};this.trigger("change",e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.disabled||this.unWireEvents(),se(this,this.getWrapper(),this.tagName)},e.prototype.focusHandler=function(){this.isKeyPressed&&this.getWrapper().classList.add("e-focus")},e.prototype.focusOutHandler=function(){this.getWrapper().classList.remove("e-focus")},e.prototype.getModuleName=function(){return"switch"},e.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},e.prototype.getWrapper=function(){return this.element.parentElement},e.prototype.initialize=function(){h(this.initialSwitchCheckedValue)&&(this.initialSwitchCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState(!0),this.disabled&&this.setDisabled(),(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)},e.prototype.initWrapper=function(){var t=this.element.parentElement;t.classList.contains("e-switch-wrapper")||(t=this.createElement("div",{className:"e-switch-wrapper",attrs:{role:"switch","aria-checked":"false"}}),this.element.parentNode.insertBefore(t,this.element));var e=this.createElement("span",{className:"e-switch-inner"}),n=this.createElement("span",{className:"e-switch-on"}),i=this.createElement("span",{className:"e-switch-off"}),r=this.createElement("span",{className:"e-switch-handle"});if(t.appendChild(this.element),ce(this,t),e.appendChild(n),e.appendChild(i),t.appendChild(e),t.appendChild(r),bi){var o=this.createElement("span",{className:"e-ripple-container"});r.appendChild(o),tt(o,{duration:400,isCenterRipple:!0})}this.enableRtl&&t.classList.add("e-rtl"),this.cssClass&&C([t],this.cssClass.split(" "))},e.prototype.onPropertyChanged=function(t,e){for(var n=this.getWrapper(),i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"checked":this.changeState(t.checked);break;case"disabled":t.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove("e-switch-disabled"),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"value":this.element.setAttribute("value",t.value);break;case"name":this.element.setAttribute("name",t.name);break;case"onLabel":case"offLabel":this.setLabel(t.onLabel,t.offLabel);break;case"enableRtl":t.enableRtl?n.classList.add("e-rtl"):n.classList.remove("e-rtl");break;case"cssClass":e.cssClass&&E([n],e.cssClass.split(" ")),t.cssClass&&C([n],t.cssClass.split(" "))}}},e.prototype.preRender=function(){var t=this.element;this.formElement=N(this.element,"form"),this.tagName=this.element.tagName,ae(this,"EJS-SWITCH","e-switch-wrapper",t,this.getModuleName())},e.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents()},e.prototype.rippleHandler=function(t){ue(t,this.getWrapper().getElementsByClassName("e-ripple-container")[0]),"mousedown"===t.type&&t.currentTarget.classList.contains("e-switch-wrapper")&&1===t.which&&(this.isDrag=!0,this.isKeyPressed=!1)},e.prototype.rippleTouchHandler=function(t){var e=this.getWrapper().getElementsByClassName("e-ripple-container")[0];if(e){var n=document.createEvent("MouseEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}},e.prototype.setDisabled=function(){var t=this.getWrapper();this.element.disabled=!0,t.classList.add("e-switch-disabled"),t.setAttribute("aria-disabled","true")},e.prototype.setLabel=function(t,e){var n=this.getWrapper();t&&(n.querySelector(".e-switch-on").textContent=t),e&&(n.querySelector(".e-switch-off").textContent=e)},e.prototype.switchFocusHandler=function(){this.isKeyPressed=!0},e.prototype.switchMouseUp=function(t){var e=t.target;this.getWrapper().getElementsByClassName("e-ripple-container")[0];"touchmove"===t.type&&t.preventDefault(),"touchstart"===t.type&&(this.isDrag=!0,this.rippleTouchHandler("mousedown")),this.isDrag&&("mouseup"===t.type&&e.className.indexOf("e-switch")<0||"touchend"===t.type)&&(this.clickHandler(t),this.rippleTouchHandler("mouseup"),t.preventDefault())},e.prototype.formResetHandler=function(){this.checked=this.initialSwitchCheckedValue,A(this.element,{checked:this.initialSwitchCheckedValue.toString()})},e.prototype.toggle=function(){this.clickHandler()},e.prototype.wireEvents=function(){var t=this.getWrapper();t.querySelector(".e-switch-handle");this.delegateMouseUpHandler=this.switchMouseUp.bind(this),this.delegateKeyDownHandler=this.switchFocusHandler.bind(this),ti.add(t,"click",this.clickHandler,this),ti.add(this.element,"focus",this.focusHandler,this),ti.add(this.element,"focusout",this.focusOutHandler,this),ti.add(document,"mouseup",this.delegateMouseUpHandler,this),ti.add(document,"keydown",this.delegateKeyDownHandler,this),ti.add(t,"mousedown mouseup",this.rippleHandler,this),ti.add(t,"touchstart touchmove touchend",this.switchMouseUp,this),this.formElement&&ti.add(this.formElement,"reset",this.formResetHandler,this)},e.prototype.unWireEvents=function(){var t=this.getWrapper();t.querySelector(".e-switch-handle");ti.remove(t,"click",this.clickHandler),ti.remove(this.element,"focus",this.focusHandler),ti.remove(this.element,"focusout",this.focusOutHandler),ti.remove(document,"mouseup",this.delegateMouseUpHandler),ti.remove(document,"keydown",this.delegateKeyDownHandler),ti.remove(t,"mousedown mouseup",this.rippleHandler),ti.remove(t,"touchstart touchmove touchend",this.switchMouseUp),this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler)},Mo([Q()],e.prototype,"change",void 0),Mo([Q()],e.prototype,"created",void 0),Mo([G(!1)],e.prototype,"checked",void 0),Mo([G("")],e.prototype,"cssClass",void 0),Mo([G(!1)],e.prototype,"disabled",void 0),Mo([G("")],e.prototype,"name",void 0),Mo([G("")],e.prototype,"onLabel",void 0),Mo([G("")],e.prototype,"offLabel",void 0),Mo([G("")],e.prototype,"value",void 0),e=Mo([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Po=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ao={chipSet:"e-chip-set",chip:"e-chip",avatar:"e-chip-avatar",text:"e-chip-text",icon:"e-chip-icon",delete:"e-chip-delete",deleteIcon:"e-dlt-btn",multiSelection:"e-multi-selection",singleSelection:"e-selection",active:"e-active",chipWrapper:"e-chip-avatar-wrap",iconWrapper:"e-chip-icon-wrap",focused:"e-focused",disabled:"e-disabled",rtl:"e-rtl"},Oo=(function(t){function e(e,n){return t.call(this,e,n)||this}Do(e,t),e.prototype.preRender=function(){},e.prototype.render=function(){this.type=this.chips.length?"chipset":this.text||this.element.innerText?"chip":"chipset",this.setAttributes(),this.createChip(),this.setRtl(),this.wireEvent(!1),this.select(this.selectedChips),this.rippleFunctin=tt(this.element,{selector:".e-chip"})},e.prototype.createChip=function(){this.innerText=this.element.innerText.trim(),this.element.innerHTML="",this.chipCreation("chip"===this.type?[this.innerText?this.innerText:this.text]:this.chips)},e.prototype.setAttributes=function(){"chip"===this.type?(this.element.tabIndex=0,this.element.setAttribute("role","option")):(this.element.classList.add(Ao.chipSet),this.element.setAttribute("role","listbox"),"Multiple"===this.selection?(this.element.classList.add(Ao.multiSelection),this.element.setAttribute("aria-multiselectable","true")):"Single"===this.selection?(this.element.classList.add(Ao.singleSelection),this.element.setAttribute("aria-multiselectable","false")):this.element.setAttribute("aria-multiselectable","false"))},e.prototype.setRtl=function(){this.element.classList[this.enableRtl?"add":"remove"](Ao.rtl)},e.prototype.chipCreation=function(t){for(var e=[],n=0;n<t.length;n++){var i=this.getFieldValues(t[n]),r=this.elementCreation(i),o=(Ao.chip+" "+(i.enabled?" ":Ao.disabled)+" "+(i.avatarIconCss||i.avatarText?Ao.chipWrapper:i.leadingIconCss?Ao.iconWrapper:" ")+" "+i.cssClass).split(" ").filter(function(t){return t});if("chip"===this.type)e=r,C([this.element],o),this.element.setAttribute("aria-label",i.text);else{var s=this.createElement("DIV",{className:o.join(" "),attrs:{tabIndex:"0",role:"option","aria-label":i.text,"aria-selected":"false"}});k(r,s),e.push(s)}}k(e,this.element)},e.prototype.getFieldValues=function(t){var e="false"!==this.enabled.toString();return{text:"object"==typeof t?t.text?t.text.toString():this.text.toString():"chip"===this.type?this.innerText?this.innerText:this.text.toString():t.toString(),cssClass:"object"==typeof t&&t.cssClass?t.cssClass.toString():this.cssClass.toString(),leadingIconCss:"object"==typeof t&&t.leadingIconCss?t.leadingIconCss.toString():this.leadingIconCss.toString(),avatarIconCss:"object"==typeof t&&t.avatarIconCss?t.avatarIconCss.toString():this.avatarIconCss.toString(),avatarText:"object"==typeof t&&t.avatarText?t.avatarText.toString():this.avatarText.toString(),trailingIconCss:"object"==typeof t&&t.trailingIconCss?t.trailingIconCss.toString():this.trailingIconCss.toString(),enabled:"object"==typeof t?h(t.enabled)?e:"false"!==t.enabled.toString():e}},e.prototype.elementCreation=function(t){var e=[];if(t.avatarText||t.avatarIconCss){var n=(Ao.avatar+" "+t.avatarIconCss).trim(),i=this.createElement("span",{className:n});i.innerText=t.avatarText,e.push(i)}else if(t.leadingIconCss){var n=(Ao.icon+" "+t.leadingIconCss).trim(),r=this.createElement("span",{className:n});e.push(r)}var o=this.createElement("span",{className:Ao.text});if(o.innerText=t.text,e.push(o),t.trailingIconCss||"chip"!==this.type&&this.enableDelete){var n=(Ao.delete+" "+(t.trailingIconCss?t.trailingIconCss:Ao.deleteIcon)).trim(),s=this.createElement("span",{className:n});e.push(s)}return e},e.prototype.find=function(t){var e,n=t instanceof HTMLElement?t:this.element.querySelectorAll("."+Ao.chip)[t];return n&&"chip"!==this.type&&(e={text:void 0,index:void 0,element:void 0,data:void 0},e.index=Array.prototype.slice.call(this.element.querySelectorAll("."+Ao.chip)).indexOf(n),e.text="object"==typeof this.chips[e.index]?this.chips[e.index].text?this.chips[e.index].text.toString():"":this.chips[e.index].toString(),e.data=this.chips[e.index],e.element=n),e},e.prototype.add=function(t){var e;if("chip"!==this.type){var n=t instanceof Array?t:[t];(e=this.chips).push.apply(e,n),this.chipCreation(n)}},e.prototype.select=function(t){if("chip"!==this.type&&"None"!==this.selection)for(var e=t instanceof Array?t:[t],n=0;n<e.length;n++){var i=e[n]instanceof HTMLElement?e[n]:this.element.querySelectorAll("."+Ao.chip)[e[n]];i instanceof HTMLElement&&this.selectionHandler(i)}},e.prototype.remove=function(t){var e=this;if("chip"!==this.type){var n=t instanceof Array?t:[t],i=[],r=this.element.querySelectorAll("."+Ao.chip);n.forEach(function(t){var e=t instanceof HTMLElement?t:r[t];e instanceof HTMLElement&&i.push(e)}),i.forEach(function(t){var n=e.element.querySelectorAll("."+Ao.chip),i=Array.prototype.slice.call(n).indexOf(t);e.deleteHandler(t,i)})}},e.prototype.getSelectedChips=function(){var t,e=this;if("chip"!==this.type&&"None"!==this.selection){var n={texts:[],Indexes:[],data:[],elements:[]};this.element.querySelectorAll("."+Ao.active).forEach(function(t){n.elements.push(t);var i=Array.prototype.slice.call(e.element.querySelectorAll("."+Ao.chip)).indexOf(t);n.Indexes.push(i),n.data.push(e.chips[i]);var r="object"==typeof e.chips[i]?e.chips[i].text.toString():e.chips[i].toString();n.texts.push(r)});var i={text:n.texts[0],index:n.Indexes[0],data:n.data[0],element:n.elements[0]};t=h(i.index)?void 0:"Multiple"===this.selection?n:i}return t},e.prototype.wireEvent=function(t){t?(ti.remove(this.element,"click",this.clickHandler),ti.remove(this.element,"focusout",this.focusOutHandler),ti.remove(this.element,"keydown",this.keyHandler),ti.remove(this.element,"keyup",this.keyHandler)):(ti.add(this.element,"click",this.clickHandler,this),ti.add(this.element,"focusout",this.focusOutHandler,this),ti.add(this.element,"keydown",this.keyHandler,this),ti.add(this.element,"keyup",this.keyHandler,this))},e.prototype.keyHandler=function(t){t.target.classList.contains(Ao.chip)&&("keydown"===t.type?13===t.keyCode?this.clickHandler(t):46===t.keyCode&&this.enableDelete&&this.clickHandler(t,!0):9===t.keyCode&&this.focusInHandler(t.target))},e.prototype.focusInHandler=function(t){t.classList.contains(Ao.focused)||t.classList.add(Ao.focused)},e.prototype.focusOutHandler=function(t){var e=N(t.target,"."+Ao.chip),n="chip"===this.type?this.element.classList.contains(Ao.focused)?this.element:null:this.element.querySelector("."+Ao.focused);e&&n&&n.classList.remove(Ao.focused)},e.prototype.clickHandler=function(t,e){void 0===e&&(e=!1);var n=N(t.target,"."+Ao.chip);if(n)if("chip"!==this.type){var i=this.find(n);i.event=t;var r=t.target.classList.contains(Ao.delete)?t.target:e?n.querySelector("."+Ao.delete):void 0;if(r&&this.enableDelete){i.cancel=!1;var o=i;this.trigger("delete",o),o.cancel||this.deleteHandler(i.element,i.index)}else if("None"!==this.selection){this.selectionHandler(n),i.selected=n.classList.contains(Ao.active);var s=i;this.trigger("click",s)}else{this.focusInHandler(n);var a=i;this.trigger("click",a)}}else{this.focusInHandler(n);var a={text:this.innerText?this.innerText:this.text,element:n,data:this.text,event:t};this.trigger("click",a)}},e.prototype.selectionHandler=function(t){if("Single"===this.selection){var e=this.element.querySelector("."+Ao.active);e&&e!==t&&(e.classList.remove(Ao.active),t.setAttribute("aria-selected","false"))}t.classList.contains(Ao.active)?(t.classList.remove(Ao.active),t.setAttribute("aria-selected","false")):(t.classList.add(Ao.active),t.setAttribute("aria-selected","true"))},e.prototype.deleteHandler=function(t,e){this.chips.splice(e,1),D(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),E([this.element],[Ao.chipSet,Ao.chip,Ao.rtl,Ao.multiSelection,Ao.singleSelection,Ao.disabled,Ao.chipWrapper,Ao.iconWrapper,Ao.active,Ao.focused].concat(this.cssClass.toString().split(" ").filter(function(t){return t}))),this.removeMultipleAttributes(["tabindex","role","aria-label","aria-multiselectable"],this.element),this.wireEvent(!0),this.rippleFunctin(),this.element.innerHTML="",this.element.innerText=this.innerText},e.prototype.removeMultipleAttributes=function(t,e){t.forEach(function(t){e.removeAttribute(t)})},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.getModuleName=function(){return"chip-list"},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"chips":case"text":case"avatarText":case"avatarIconCss":case"leadingIconCss":case"trailingIconCss":case"selection":case"enableDelete":case"enabled":this.refresh();break;case"cssClass":"chip"===this.type?(E([this.element],e.cssClass.toString().split(" ").filter(function(t){return t})),C([this.element],t.cssClass.toString().split(" ").filter(function(t){return t}))):this.refresh();break;case"selectedChips":this.select(t.selectedChips);break;case"enableRtl":this.setRtl()}}},Po([G([])],e.prototype,"chips",void 0),Po([G("")],e.prototype,"text",void 0),Po([G("")],e.prototype,"avatarText",void 0),Po([G("")],e.prototype,"avatarIconCss",void 0),Po([G("")],e.prototype,"leadingIconCss",void 0),Po([G("")],e.prototype,"trailingIconCss",void 0),Po([G("")],e.prototype,"cssClass",void 0),Po([G(!0)],e.prototype,"enabled",void 0),Po([G([])],e.prototype,"selectedChips",void 0),Po([G("None")],e.prototype,"selection",void 0),Po([G(!1)],e.prototype,"enableDelete",void 0),Po([Q()],e.prototype,"created",void 0),Po([Q()],e.prototype,"click",void 0),Po([Q()],e.prototype,"delete",void 0),e=Po([Z],e)}(tr),function(){function t(){}}(),["north-west","north","north-east","west","east","south-west","south","south-east"]),Io=0,No=0,Lo=0,Vo=0,Ro=0,Fo=0,Ho="e-resize-handle",jo="e-focused-handle",Bo=["e-restrict-left"],Uo="e-resize-viewport",qo=null,zo=null,Wo=null,Yo=!0,Go=0,Xo=!0,Ko=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qo=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ko(e,t),Qo([G()],e.prototype,"buttonModel",void 0),Qo([G("Button")],e.prototype,"type",void 0),Qo([G()],e.prototype,"click",void 0),e}(_i),Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ko(e,t),Qo([G("Fade")],e.prototype,"effect",void 0),Qo([G(400)],e.prototype,"duration",void 0),Qo([G(0)],e.prototype,"delay",void 0),e}(_i),$o="Information",ts="e-scroll-disabled",es="e-alert-dialog",ns="e-confirm-dialog",is=function(t){function e(e,n){return t.call(this,e,n)||this}return Ko(e,t),e.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight())},e.prototype.preRender=function(){var t=this;this.headerContent=null,this.allowMaxHeight=!0;for(var e=[],n=0;n<this.element.classList.length;n++)h(this.element.classList[n].match("e-control"))&&h(this.element.classList[n].match("e-dialog"))||e.push(this.element.classList[n]);E([this.element],e),this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(e){t.hide(e)},this.dlgOverlayClickEventHandler=function(e){t.trigger("overlayClick",e)};var i={close:"Close"};if(this.l10n=new pr("dialog",i,this.locale),this.checkPositionData(),h(this.target)){var r=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=r}},e.prototype.isNumberValue=function(t){return/^[-+]?\d*\.?\d+$/.test(t)},e.prototype.checkPositionData=function(){if(!h(this.position)){if(!h(this.position.X)&&"number"!=typeof this.position.X){var t=this.isNumberValue(this.position.X);if(t){var e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=e}}if(!h(this.position.Y)&&"number"!=typeof this.position.Y){var t=this.isNumberValue(this.position.Y);if(t){var e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=e}}}},e.prototype.getMinHeight=function(){var t="0px",e="0px";h(this.element.querySelector(".e-dlg-header-content"))||(t=getComputedStyle(this.headerContent).height),h(this.element.querySelector(".e-footer-content"))||(e=getComputedStyle(this.element.querySelector(".e-footer-content")).height),Se(parseInt(t.slice(0,t.indexOf("p")),10)+30+parseInt(e.slice(0,e.indexOf("p")),10))},e.prototype.onResizeStart=function(t){this.trigger("resizeStart",t)},e.prototype.onResizing=function(t){this.trigger("resizing",t)},e.prototype.onResizeComplete=function(t){this.trigger("resizeStop",t)},e.prototype.setResize=function(){if(this.enableResize){this.element.classList.add("e-dlg-resizable");var t=getComputedStyle(this.element).minHeight,e=getComputedStyle(this.element).minWidth,n=this.enableRtl?"south-west":"south-east";this.isModal&&this.enableRtl?this.element.classList.add("e-restrict-left"):this.isModal&&this.target===document.body&&this.element.classList.add("e-resize-viewport"),he({element:this.element,direction:n,minHeight:parseInt(t.slice(0,e.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(e.slice(0,e.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this)})}else Te(),this.isModal?this.element.classList.remove("e-restrict-left"):this.element.classList.remove("e-resize-viewport"),this.element.classList.remove("e-dlg-resizable")},e.prototype.keyDown=function(t){var e=this;if(9===t.keyCode&&this.isModal){var n=void 0;h(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),h(n)||document.activeElement!==n.element||t.shiftKey||(t.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&t.shiftKey&&(t.preventDefault(),h(n)||n.element.focus())}var i=document.activeElement,r=["input","textarea"].indexOf(i.tagName.toLowerCase())>-1,o=!1;if(r||(o=i.hasAttribute("contenteditable")&&"true"===i.getAttribute("contenteditable")),27===t.keyCode&&this.closeOnEscape&&this.hide(t),13===t.keyCode&&!t.ctrlKey&&"textarea"!==i.tagName.toLowerCase()&&r&&!h(this.primaryButtonEle)||13===t.keyCode&&t.ctrlKey&&("textarea"===i.tagName.toLowerCase()||o)&&!h(this.primaryButtonEle)){var s;this.buttons.some(function(t,e){s=e;var n=t.buttonModel;return!h(n)&&!0===n.isPrimary})&&"function"==typeof this.buttons[s].click&&setTimeout(function(){e.buttons[s].click.call(e,t)})}},e.prototype.initialize=function(){h(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),C([this.element],"e-dialog"),mi.isDevice&&C([this.element],"e-device"),this.setCSSClass(),this.setMaxHeight()},e.prototype.initRender=function(){var t=this;this.initialRender=!0,A(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.setTargetContent(),""===this.header||h(this.header)||this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||h(this.footerTemplate)?h(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate(),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging(),A(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal(),h(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new yo(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",open:function(e){t.focusContent();var n={container:t.isModal?t.dlgContainer:t.element,element:t.element,target:t.target};t.enableResize&&t.getMinHeight(),t.trigger("open",n)},close:function(e){t.isModal&&C([t.dlgOverlay],"e-fade"),t.unBindEvent(t.element),t.isModal&&(t.dlgContainer.style.display="none"),t.trigger("close",t.closeArgs),h(document.activeElement.blur)||document.activeElement.blur(),h(t.storeActiveElement)||(document.activeElement.blur(),t.storeActiveElement.focus())}}),this.positionChange(),this.setEnableRTL(),C([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex(),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1},e.prototype.setOverlayZindex=function(t){var e;e=h(t)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:t,this.dlgOverlay.style.zIndex=(e-1).toString(),this.dlgContainer.style.zIndex=e.toString()},e.prototype.positionChange=function(){this.isModal?"number"==typeof this.position.X&&"number"==typeof this.position.Y?this.setPopupPosition():"string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},e.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},e.prototype.setAllowDragging=function(){var t=this;this.dragObj=new or(this.element,{clone:!1,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:function(e){t.trigger("dragStart",e)},dragStop:function(e){t.isModal&&(h(t.position)||t.dlgContainer.classList.remove("e-dlg-"+t.position.X+"-"+t.position.Y),t.element.style.position="relative"),t.trigger("dragStop",e),t.element.classList.remove("e-restrict-left")},drag:function(e){t.trigger("drag",e)}}),h(this.targetEle)||(this.dragObj.dragArea=this.targetEle)},e.prototype.setButton=function(){this.buttonContent=[],this.btnObj=[];for(var t=0;t<this.buttons.length;t++){var e=h(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),n=this.createElement("button",{attrs:{type:e}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate();for(var t=0;t<this.buttons.length;t++)this.btnObj[t]=new _o(this.buttons[t].buttonModel),"function"==typeof this.buttons[t].click&&ti.add(this.ftrTemplateContent.children[t],"click",this.buttons[t].click,this),this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]},e.prototype.setContent=function(){A(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(h(this.content)||""===this.content)&&this.initialRender||("string"==typeof this.content?this.contentEle.innerHTML=this.content:this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle)),h(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&this.setMaxHeight()},e.prototype.setTemplate=function(t,e){for(var n=ht(t),i=[],r=0,o=n({});r<o.length;r++){var s=o[r];i.push(s)}k([].slice.call(i),e)},e.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!h(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=t}},e.prototype.setEnableRTL=function(){this.enableRtl?C([this.element],"e-rtl"):E([this.element],"e-rtl"),h(this.element.querySelector(".e-resize-handle"))||(Te(),this.setResize())},e.prototype.setTargetContent=function(){if(h(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s/g,"");if(this.element.children.length>0||t)for(this.innerContentElement=document.createDocumentFragment();0!==this.element.childNodes.length;)this.innerContentElement.appendChild(this.element.childNodes[0])}},e.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:"e-dlg-header"}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle),A(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0])},e.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:"e-footer-content"}),""===this.footerTemplate||h(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent),this.element.appendChild(this.ftrTemplateContent)},e.prototype.createHeaderContent=function(){h(this.headerContent)&&(this.headerContent=this.createElement("div",{className:"e-dlg-header-content"}))},e.prototype.renderCloseIcon=function(){this.closeIcon=this.createElement("button",{className:"e-dlg-closeicon-btn",attrs:{type:"button"}}),this.closeIconBtnObj=new _o({cssClass:"e-flat",iconCss:"e-icon-dlg-close e-icons"}),this.closeIconTitle(),h(this.headerContent)?(this.createHeaderContent(),T([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):T([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)},e.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",t)},e.prototype.setCSSClass=function(t){this.cssClass&&C([this.element],this.cssClass.split(" ")),t&&E([this.element],t.split(" "))},e.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove("e-popup-open"),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),C([this.element],"e-dlg-modal"),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},e.prototype.getValidFocusNode=function(t){for(var e,n=0;n<t.length;n++)if(e=t[n],(e.clientHeight>0||"a"===e.tagName.toLowerCase()&&e.hasAttribute("href"))&&e.tabIndex>-1&&!e.disabled&&!this.disableElement(e,'[disabled],[aria-disabled="true"],[type="hidden"]'))return e;return e},e.prototype.focusableElements=function(t){if(!h(t)){var e=t.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(e)}return null},e.prototype.getAutoFocusNode=function(t){var e=t.querySelector(".e-dlg-closeicon-btn"),n=t.querySelectorAll("[autofocus]"),i=this.getValidFocusNode(n);if(h(i)){if(i=this.focusableElements(this.contentEle),!h(i))return e=i;if(!h(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else e=i;return e},e.prototype.disableElement=function(t,e){var n=t?t.matches||t.webkitMatchesSelector||t.msMatchesSelector:null;if(n)for(;t;t=t.parentNode)if(t instanceof Element&&n.call(t,e))return t;return null},e.prototype.focusContent=function(){var t=this.getAutoFocusNode(this.element);(h(t)?this.element:t).focus(),this.bindEvent(this.element)},e.prototype.bindEvent=function(t){ti.add(t,"keydown",this.keyDown,this)},e.prototype.unBindEvent=function(t){ti.remove(t,"keydown",this.keyDown)},e.prototype.getModuleName=function(){return"dialog"},e.prototype.onPropertyChanged=function(t,e){if(this.element.classList.contains("e-dialog"))for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];switch(r){case"content":h(this.content)||""===this.content?h(this.contentEle)||(D(this.contentEle),this.contentEle=null):h(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.setContent():(this.contentEle.innerHTML="","string"==typeof this.content?this.contentEle.innerHTML=this.content:this.contentEle.appendChild(this.content),this.setMaxHeight());break;case"header":""===this.header||h(this.header)?this.headerEle&&(D(this.headerEle),this.headerEle=null):this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||h(this.footerTemplate)){if(!this.ftrTemplateContent)return;D(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName("e-icon-dlg-close").length>0?this.showCloseIcon||""!==this.header&&!h(this.header)?this.showCloseIcon||D(this.closeIcon):(D(this.headerContent),this.headerContent=null):(this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":L(this.element,{height:y(t.height)});break;case"width":L(this.element,{width:y(t.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.calculatezIndex=!1;break;case"cssClass":this.setCSSClass(e.cssClass);break;case"buttons":var o=this.buttons.length;h(this.ftrTemplateContent)||(D(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var s=0;s<o;s++)h(this.buttons[s].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!h(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.popupObj.relateTo=t.target;break;case"position":if(this.checkPositionData(),this.isModal){var a=h(e.position.X)?this.position.X:e.position.X,l=h(e.position.Y)?this.position.Y:e.position.Y;this.dlgContainer.classList.contains("e-dlg-"+a+"-"+l)&&this.dlgContainer.classList.remove("e-dlg-"+a+"-"+l)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}},e.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",h(this.targetEle)||this.targetEle.appendChild(this.dlgContainer);else{for(E([this.element],"e-dlg-modal"),E([document.body],"e-scroll-disabled"),D(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange()},e.prototype.setzIndex=function(t,e){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=ie(t),this.isProtectedOnChange=n,e&&(this.popupObj.zIndex=this.zIndex)},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){if(this.element.classList.contains("e-dialog")){this.unWireEvents(),t.prototype.destroy.call(this);var e=["e-dialog","e-rtl","e-dlg-modal"];if(E([this.element,this.element],e),this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),!h(this.btnObj))for(var n=void 0;n<this.btnObj.length;n++)this.btnObj[n].destroy();for(this.isModal&&(D(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),D(this.dlgContainer)),this.element.innerHTML="";this.element.attributes.length>0;)this.element.removeAttribute(this.element.attributes[0].name);for(var i=0;i<this.clonedEle.attributes.length;i++)this.element.setAttribute(this.clonedEle.attributes[i].name,this.clonedEle.attributes[i].value)}},e.prototype.wireEvents=function(){this.showCloseIcon&&ti.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&ti.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.unWireEvents=function(){if(this.showCloseIcon&&ti.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&ti.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),!h(this.buttons[0].buttonModel))for(var t=0;t<this.buttons.length;t++)"function"==typeof this.buttons[t].click&&ti.remove(this.ftrTemplateContent.children[t],"click",this.buttons[t].click)},e.prototype.refreshPosition=function(){this.popupObj.refreshPosition()},e.prototype.show=function(t){if(this.element.classList.contains("e-dialog")&&(!this.element.classList.contains("e-popup-open")||!h(t))){h(t)||this.fullScreen(t);var e={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};if(this.trigger("beforeOpen",e),e.cancel)return;this.element.style.maxHeight!==e.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=e.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!h(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",E([this.dlgOverlay],"e-fade"),h(this.targetEle)?C([document.body],"e-scroll-disabled"):(this.targetEle===document.body?this.dlgContainer.style.position="fixed":this.dlgContainer.style.position="absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",C([this.targetEle],"e-scroll-disabled")));var n={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay},i=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(i,!0),L(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(n),this.dialogOpen=!0;var r=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.isProtectedOnChange=r}},e.prototype.hide=function(t){if(this.element.classList.contains("e-dialog")){var e={cancel:!1,isInteraction:!!t,isInteracted:!!t,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:t};if(this.trigger("beforeClose",e),this.closeArgs=e,!e.cancel){this.isModal&&(h(this.targetEle)?E([document.body],"e-scroll-disabled"):E([this.targetEle],"e-scroll-disabled"));var n={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(n),this.dialogOpen=!1;var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.isProtectedOnChange=i}}},e.prototype.fullScreen=function(t){this.element.offsetTop,this.element.offsetLeft;if(t){C([this.element],"e-dlg-fullscreen");var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=h(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=e,C([document.body],"e-scroll-disabled"),this.allowDragging&&!h(this.dragObj)&&this.dragObj.destroy()}else E([this.element],"e-dlg-fullscreen"),E([document.body],"e-scroll-disabled"),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging();return t},e.prototype.getButtons=function(t){return h(t)?this.btnObj:this.btnObj[t]},Qo([G("")],e.prototype,"content",void 0),Qo([G(!1)],e.prototype,"showCloseIcon",void 0),Qo([G(!1)],e.prototype,"isModal",void 0),Qo([G("")],e.prototype,"header",void 0),Qo([G(!0)],e.prototype,"visible",void 0),Qo([G(!1)],e.prototype,"enableResize",void 0),Qo([G("auto")],e.prototype,"height",void 0),Qo([G("100%")],e.prototype,"width",void 0),Qo([G("")],e.prototype,"cssClass",void 0),Qo([G(1e3)],e.prototype,"zIndex",void 0),Qo([G(null)],e.prototype,"target",void 0),Qo([G("")],e.prototype,"footerTemplate",void 0),Qo([G(!1)],e.prototype,"allowDragging",void 0),Qo([K([{}],Zo)],e.prototype,"buttons",void 0),Qo([G(!0)],e.prototype,"closeOnEscape",void 0),Qo([X({},Jo)],e.prototype,"animationSettings",void 0),Qo([X({X:"center",Y:"center"},mo)],e.prototype,"position",void 0),Qo([Q()],e.prototype,"created",void 0),Qo([Q()],e.prototype,"open",void 0),Qo([Q()],e.prototype,"beforeOpen",void 0),Qo([Q()],e.prototype,"close",void 0),Qo([Q()],e.prototype,"beforeClose",void 0),Qo([Q()],e.prototype,"dragStart",void 0),Qo([Q()],e.prototype,"dragStop",void 0),Qo([Q()],e.prototype,"drag",void 0),Qo([Q()],e.prototype,"overlayClick",void 0),Qo([Q()],e.prototype,"resizeStart",void 0),Qo([Q()],e.prototype,"resizing",void 0),Qo([Q()],e.prototype,"resizeStop",void 0),e=Qo([Z],e)}(tr);!function(t){function e(t){var e=_("div",{className:es});document.body.appendChild(e);var n,o=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return n="string"==typeof t?i({content:t,position:{X:"center",Y:"top"},isModal:!0,header:$o,buttons:o},e):i(r(t),e),n.close=function(){t&&t.close&&t.close.apply(n),n.destroy(),n.element.classList.contains("e-dlg-modal")?(n.element.parentElement.remove(),n.target.classList.remove(ts)):n.element.remove()},n}function n(t){var e=_("div",{className:ns});document.body.appendChild(e);var n,r=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}];return n="string"==typeof t?i({position:{X:"center",Y:"top"},content:t,isModal:!0,header:$o,buttons:r},e):i(o(t),e),n.close=function(){t&&t.close&&t.close.apply(n),n.destroy(),n.element.classList.contains("e-dlg-modal")?(n.element.parentElement.remove(),n.target.classList.remove(ts)):n.element.remove()},n}function i(t,e){var n=new is(t);return n.appendTo(e),n}function r(t){var e={};return e.buttons=[],e=s(e,t),e=a(e,t)}function o(t){var e={};return e.buttons=[],e=s(e,t),e=l(e,t)}function s(t,e){return t.header=h(e.title)?$o:e.title,t.content=h(e.content)?"":e.content,t.isModal=!!h(e.isModal)||e.isModal,t.showCloseIcon=!h(e.showCloseIcon)&&e.showCloseIcon,t.allowDragging=!h(e.isDraggable)&&e.isDraggable,t.closeOnEscape=!h(e.closeOnEscape)&&e.closeOnEscape,t.position=h(e.position)?{X:"center",Y:"top"}:e.position,t.animationSettings=h(e.animationSettings)?{effect:"Fade",duration:400,delay:0}:e.animationSettings,t.cssClass=h(e.cssClass)?"":e.cssClass,t.zIndex=h(e.zIndex)?1e3:e.zIndex,t.open=h(e.open)?null:e.open,t}function a(t,e){var n=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return h(e.okButton)?t.buttons=n:t.buttons[0]=u(t.buttons[0],e.okButton,n[0]),t}function l(t,e){var n={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},i={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return h(e.okButton)?t.buttons[0]=n:t.buttons[0]=u(t.buttons[0],e.okButton,n),h(e.cancelButton)?t.buttons[1]=i:t.buttons[1]=u(t.buttons[1],e.cancelButton,i),t}function u(t,e,n){var i=n;return h(e.text)||(i.buttonModel.content=e.text),h(e.icon)||(i.buttonModel.iconCss=e.icon),h(e.cssClass)||(i.buttonModel.cssClass=e.cssClass),h(e.click)||(i.click=e.click),i}t.alert=e,t.confirm=n}($r||($r={}));var rs,os=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ss=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},as=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return os(e,t),ss([G({effect:"FadeIn",duration:150,delay:0})],e.prototype,"open",void 0),ss([G({effect:"FadeOut",duration:150,delay:0})],e.prototype,"close",void 0),e}(_i),ls=function(t){function e(e,n){return t.call(this,e,n)||this}return os(e,t),e.prototype.initialize=function(){this.formatPosition(),C([this.element],"e-tooltip")},e.prototype.formatPosition=function(){var t,e;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=t[0],this.tooltipPositionX=t[1]):(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=e[0],this.tooltipPositionY=e[1])},e.prototype.renderArrow=function(){this.setTipClass(this.position);var t=this.createElement("div",{className:"e-arrow-tip "+this.tipClass});t.appendChild(this.createElement("div",{className:"e-arrow-tip-outer "+this.tipClass})),t.appendChild(this.createElement("div",{className:"e-arrow-tip-inner "+this.tipClass})),this.tooltipEle.appendChild(t)},e.prototype.setTipClass=function(t){0===t.indexOf("Right")?this.tipClass="e-tip-left":0===t.indexOf("Bottom")?this.tipClass="e-tip-top":0===t.indexOf("Left")?this.tipClass="e-tip-right":this.tipClass="e-tip-bottom"},e.prototype.renderPopup=function(t){var e=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(t);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new yo(this.tooltipEle,{height:this.height,width:this.width,position:{X:e.left,Y:e.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},e.prototype.getTooltipPosition=function(t){this.tooltipEle.style.display="none";var e=Ct(t,this.tooltipPositionX,this.tooltipPositionY);this.tooltipEle.style.display="";var n=this.calculateTooltipOffset(this.position);return this.collisionFlipFit(t,e.left+n.left,e.top+n.top)},e.prototype.reposition=function(t){var e=this.getTooltipPosition(t);this.popupObj.position={X:e.left,Y:e.top},this.popupObj.dataBind()},e.prototype.openPopupHandler=function(){this.trigger("afterOpen",this.tooltipEventArgs)},e.prototype.closePopupHandler=function(){this.clear(),this.trigger("afterClose",this.tooltipEventArgs)},e.prototype.calculateTooltipOffset=function(t){var e={top:0,left:0},n=this.tooltipEle.offsetWidth,i=this.tooltipEle.offsetHeight,r=this.tooltipEle.querySelector(".e-arrow-tip"),o=r?r.offsetWidth:0,s=r?r.offsetHeight:0,a=this.showTipPointer?0:8,l=s/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),u=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(a+=2),t){case"RightTop":e.left+=o+a,e.top-=i-l;break;case"RightCenter":e.left+=o+a,e.top-=i/2;break;case"RightBottom":e.left+=o+a,e.top-=l;break;case"BottomRight":e.top+=s+a,e.left-=u;break;case"BottomCenter":e.top+=s+a,e.left-=n/2;break;case"BottomLeft":e.top+=s+a,e.left-=n-u;break;case"LeftBottom":e.left-=o+n+a,e.top-=l;break;case"LeftCenter":e.left-=o+n+a,e.top-=i/2;break;case"LeftTop":e.left-=o+n+a,e.top-=i-l;break;case"TopLeft":e.top-=i+s+a,e.left-=n-u;break;case"TopRight":e.top-=i+s+a,e.left-=u;break;default:e.top-=i+s+a,e.left-=n/2}return e.left+=this.offsetX,e.top+=this.offsetY,e},e.prototype.updateTipPosition=function(t){var e=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner");E(e,["e-tip-bottom","e-tip-top","e-tip-left","e-tip-right"]),this.setTipClass(t),C(e,this.tipClass)},e.prototype.adjustArrow=function(t,e,n,i){if(!1!==this.showTipPointer){this.updateTipPosition(e);var r,o,s=this.tooltipEle.clientWidth,a=this.tooltipEle.clientHeight,l=this.tooltipEle.querySelector(".e-arrow-tip"),u=this.tooltipEle.querySelector(".e-arrow-tip-inner"),c=l.offsetWidth,h=l.offsetHeight;if("e-tip-bottom"===this.tipClass||"e-tip-top"===this.tipClass){"e-tip-bottom"===this.tipClass?(o="99.9%",u.style.top="-"+(h-2)+"px"):(o=-(h-1)+"px",u.style.top="-"+(h-6)+"px");var p="Center"!==n||s>t.offsetWidth||this.mouseTrail;r=p&&"Left"===n||!p&&"End"===this.tipPointerPosition?s-c-2+"px":p&&"Right"===n||!p&&"Start"===this.tipPointerPosition?"2px":s/2-c/2+"px"}else{"e-tip-right"===this.tipClass?(r="99.9%",u.style.left="-"+(c-2)+"px"):(r=-(c-1)+"px",u.style.left=c-2-c+"px");var p="Center"!==i||a>t.offsetHeight||this.mouseTrail;o=p&&"Top"===i||!p&&"End"===this.tipPointerPosition?a-h-2+"px":p&&"Bottom"===i||!p&&"Start"===this.tipPointerPosition?"2px":a/2-h/2+"px"}l.style.top=o,l.style.left=r}},e.prototype.renderContent=function(t){var e=this.tooltipEle.querySelector(".e-tip-content");if(t&&!h(t.getAttribute("title"))&&(t.setAttribute("data-content",t.getAttribute("title")),t.removeAttribute("title")),h(this.content))t&&!h(t.getAttribute("data-content"))&&(e.innerHTML=t.getAttribute("data-content"));else if(e.innerHTML="",this.content instanceof HTMLElement)e.appendChild(this.content);else if("string"==typeof this.content)e.innerHTML=this.content;else{var n=ht(this.content);k(n(),e)}},e.prototype.renderCloseIcon=function(){if(this.isSticky){var t=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(t),ti.add(t,mi.touchStartEvent,this.onStickyClose,this)}},e.prototype.addDescribedBy=function(t,e){var n=(t.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(e)<0&&n.push(e),A(t,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":e})},e.prototype.removeDescribedBy=function(t){var e=t.getAttribute("data-tooltip-id"),n=(t.getAttribute("aria-describedby")||"").split(/\s+/),i=n.indexOf(e);-1!==i&&n.splice(i,1),t.removeAttribute("data-tooltip-id");var r=n.join(" ").trim();r?t.setAttribute("aria-describedby",r):t.removeAttribute("aria-describedby")},e.prototype.tapHoldHandler=function(t){clearTimeout(this.autoCloseTimer),this.targetHover(t.originalEvent)},e.prototype.touchEndHandler=function(t){var e=this;if(!this.isSticky){var n=function(){e.close()};this.autoCloseTimer=setTimeout(n,1500)}},e.prototype.targetClick=function(t){var e;e=this.target?N(t.target,this.target):this.element,h(e)||(null===e.getAttribute("data-tooltip-id")?this.targetHover(t):this.isSticky||this.hideTooltip(this.animation.close,t,e))},e.prototype.targetHover=function(t){var e;if(e=this.target?N(t.target,this.target):this.element,!h(e)&&null===e.getAttribute("data-tooltip-id")){for(var n=[].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]")),i=0,r=n;i<r.length;i++){var o=r[i];this.restoreElement(o)}this.showTooltip(e,this.animation.open,t),this.wireMouseEvents(t,e)}},e.prototype.showTooltip=function(t,e,n){var i=this;if(clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs=n?{type:n.type,cancel:!1,target:t,event:n,element:this.tooltipEle}:{type:null,cancel:!1,target:t,event:null,element:this.tooltipEle},this.trigger("beforeRender",this.tooltipEventArgs),this.tooltipEventArgs.cancel)return this.isHidden=!0,void this.clear();if(this.isHidden=!1,h(this.tooltipEle)?(this.ctrlId=d(this.element.getAttribute("id")?this.element.getAttribute("id"):"tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+y(this.width)+";height:"+y(this.height)+";position:absolute;"}),this.cssClass&&C([this.tooltipEle],this.cssClass.split(" ")),mi.isDevice&&C([this.tooltipEle],"e-bigger"),"auto"!==this.width&&(this.tooltipEle.style.maxWidth=y(this.width)),this.tooltipEle.appendChild(this.createElement("div",{className:"e-tip-content"})),document.body.appendChild(this.tooltipEle),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),C([this.tooltipEle],"e-popup-open"),this.showTipPointer&&this.renderArrow(),this.renderCloseIcon(),this.renderPopup(t)):(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),gi.stop(this.tooltipEle),this.reposition(t)),E([this.tooltipEle],"e-popup-open"),C([this.tooltipEle],"e-popup-close"),this.tooltipEventArgs=n?{type:n.type,cancel:!1,target:t,event:n,element:this.tooltipEle}:{type:null,cancel:!1,target:t,event:null,element:this.tooltipEle},this.trigger("beforeOpen",this.tooltipEventArgs),this.tooltipEventArgs.cancel)return this.isHidden=!0,void this.clear();var r={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeOut"};if("None"===e.effect&&(r=void 0),this.openDelay>0){var o=function(){i.popupObj&&i.popupObj.show(r,t)};this.showTimer=setTimeout(o,this.openDelay)}else this.popupObj.show(r,t)},e.prototype.checkCollision=function(t,e,n){var i={left:e,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=Lt(this.tooltipEle,this.target?this.element:null,e,n);return r.length>0&&(i.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,i.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),i},e.prototype.collisionFlipFit=function(t,e,n){var i=this.checkCollision(t,e,n),r=i.position;if(this.tooltipPositionY!==i.vertical&&(r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?i.vertical+this.tooltipPositionX:this.tooltipPositionX+i.vertical),this.tooltipPositionX!==i.horizontal&&(0===r.indexOf("Left")&&(i.vertical="LeftTop"===r||"LeftCenter"===r?"Top":"Bottom",r=i.vertical+"Left"),0===r.indexOf("Right")&&(i.vertical="RightTop"===r||"RightCenter"===r?"Top":"Bottom",r=i.vertical+"Right"),i.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:t,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),i.position!==r){var o=Ct(t,i.horizontal,i.vertical);this.adjustArrow(t,r,i.horizontal,i.vertical);var s=this.calculateTooltipOffset(r);s.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,s.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,i.position=r,i.left=o.left+s.left,i.top=o.top+s.top}else this.adjustArrow(t,r,i.horizontal,i.vertical);var a={left:i.left,top:i.top},l=Nt(this.tooltipEle,this.target?this.element:null,{X:!0,Y:!1},a).left;if(this.showTipPointer&&(0===r.indexOf("Bottom")||0===r.indexOf("Top"))){var u=this.tooltipEle.querySelector(".e-arrow-tip"),c=parseInt(u.style.left,10)-(l-i.left);c<0?c=0:c+u.offsetWidth>this.tooltipEle.clientWidth&&(c=this.tooltipEle.clientWidth-u.offsetWidth),u.style.left=c.toString()+"px"}return a.left=l,a},e.prototype.hideTooltip=function(t,e,n){var i,r=this;if(e?(i=this.target?n||e.target:this.element,this.tooltipEventArgs={type:e.type,cancel:!1,target:i,event:e,element:this.tooltipEle}):(i=document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:null,cancel:!1,target:i,event:null,element:this.tooltipEle}),!h(i))if(this.trigger("beforeClose",this.tooltipEventArgs),this.tooltipEventArgs.cancel)this.isHidden=!1;else{this.restoreElement(i),this.isHidden=!0;var o={name:t.effect,duration:t.duration,delay:t.delay,timingFunction:"easeIn"};if("None"===t.effect&&(o=void 0),this.closeDelay>0){var s=function(){r.popupObj&&r.popupObj.hide(o)};this.hideTimer=setTimeout(s,this.closeDelay)}else this.popupObj.hide(o)}},e.prototype.restoreElement=function(t){this.unwireMouseEvents(t),h(t.getAttribute("data-content"))||(t.setAttribute("title",t.getAttribute("data-content")),t.removeAttribute("data-content")),this.removeDescribedBy(t)},e.prototype.clear=function(){this.tooltipEle&&(E([this.tooltipEle],"e-popup-close"),C([this.tooltipEle],"e-popup-open")),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&P(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},e.prototype.onMouseOut=function(t){this.hideTooltip(this.animation.close,t)},e.prototype.onStickyClose=function(t){this.close()},e.prototype.onMouseMove=function(t){var e=0,n=0;t.type.indexOf("touch")>-1?(t.preventDefault(),e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY),gi.stop(this.tooltipEle),E([this.tooltipEle],"e-popup-close"),C([this.tooltipEle],"e-popup-open"),this.adjustArrow(t.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var i=this.calculateTooltipOffset(this.position),r=e+i.left+this.offsetX,o=n+i.top+this.offsetY,s=this.checkCollision(t.target,r,o);if(this.tooltipPositionX!==s.horizontal||this.tooltipPositionY!==s.vertical){var a=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+s.horizontal:s.horizontal+s.vertical;s.position=a,this.adjustArrow(t.target,s.position,s.horizontal,s.vertical);var l=this.calculateTooltipOffset(s.position);s.left=e+l.left-this.offsetX,s.top=n+l.top-this.offsetY}this.tooltipEle.style.left=s.left+"px",this.tooltipEle.style.top=s.top+"px"},e.prototype.keyDown=function(t){this.tooltipEle&&27===t.keyCode&&this.close()},e.prototype.touchEnd=function(t){this.tooltipEle&&null===N(t.target,".e-tooltip")&&this.close()},e.prototype.scrollHandler=function(t){this.tooltipEle&&this.close()},e.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn)},e.prototype.preRender=function(){this.tipClass="e-tip-bottom",this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},e.prototype.wireEvents=function(t){for(var e=this.getTriggerList(t),n=0,i=e;n<i.length;n++){var r=i[n];if("Custom"===r)return;"Focus"===r&&this.wireFocusEvents(),"Click"===r&&ti.add(this.element,mi.touchStartEvent,this.targetClick,this),"Hover"===r&&(mi.isDevice?(this.touchModule=new yr(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),ti.add(this.element,mi.touchEndEvent,this.touchEndHandler,this)):ti.add(this.element,"mouseover",this.targetHover,this))}ti.add(document,"touchend",this.touchEnd,this),ti.add(document,"scroll",this.scrollHandler,this),ti.add(document,"keydown",this.keyDown,this)},e.prototype.getTriggerList=function(t){return"Auto"===t&&(t=mi.isDevice?"Hover":"Hover Focus"),t.split(" ")},e.prototype.wireFocusEvents=function(){if(h(this.target))ti.add(this.element,"focus",this.targetHover,this);else for(var t=[].slice.call(this.element.querySelectorAll(this.target)),e=0,n=t;e<n.length;e++){var i=n[e];ti.add(i,"focus",this.targetHover,this)}},e.prototype.wireMouseEvents=function(t,e){this.tooltipEle&&(this.isSticky||("focus"===t.type&&ti.add(e,"blur",this.onMouseOut,this),"mouseover"===t.type&&ti.add(e,"mouseleave",this.onMouseOut,this)),this.mouseTrail&&ti.add(e,"mousemove touchstart mouseenter",this.onMouseMove,this))},e.prototype.unwireEvents=function(t){for(var e=this.getTriggerList(t),n=0,i=e;n<i.length;n++){var r=i[n];if("Custom"===r)return;"Focus"===r&&this.unwireFocusEvents(),"Click"===r&&ti.remove(this.element,mi.touchStartEvent,this.targetClick),"Hover"===r&&(mi.isDevice?(this.touchModule&&this.touchModule.destroy(),ti.remove(this.element,mi.touchEndEvent,this.touchEndHandler)):ti.remove(this.element,"mouseover",this.targetHover))}ti.remove(document,"touchend",this.touchEnd),ti.remove(document,"scroll",this.scrollHandler),ti.remove(document,"keydown",this.keyDown)},e.prototype.unwireFocusEvents=function(){if(h(this.target))ti.remove(this.element,"focus",this.targetHover);else for(var t=[].slice.call(this.element.querySelectorAll(this.target)),e=0,n=t;e<n.length;e++){var i=n[e];ti.remove(i,"focus",this.targetHover)}},e.prototype.unwireMouseEvents=function(t){if(!this.isSticky)for(var e=this.getTriggerList(this.opensOn),n=0,i=e;n<i.length;n++){var r=i[n];"Focus"===r&&ti.remove(t,"blur",this.onMouseOut),"Hover"!==r||mi.isDevice||ti.remove(t,"mouseleave",this.onMouseOut)}this.mouseTrail&&ti.remove(t,"mousemove touchstart mouseenter",this.onMouseMove)},e.prototype.findTarget=function(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")},e.prototype.getModuleName=function(){return"tooltip"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.onPropertyChanged=function(t,e){for(var n=this.findTarget(),i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=y(t.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=y(t.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(e.opensOn),this.wireEvents(t.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var o=this.tooltipEle.querySelector(".e-arrow-tip-inner");o.style.top=o.style.left=null,this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var s=t.offsetX-e.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var a=t.offsetY-e.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+a).toString()+"px"}break;case"cssClass":this.tooltipEle&&(e.cssClass&&E([this.tooltipEle],e.cssClass.split(" ")),t.cssClass&&C([this.tooltipEle],t.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?C([this.tooltipEle],"e-rtl"):E([this.tooltipEle],"e-rtl"))}}},e.prototype.open=function(t,e){void 0===e&&(e=this.animation.open),"none"!==t.style.display&&this.showTooltip(t,e)},e.prototype.close=function(t){void 0===t&&(t=this.animation.close),this.hideTooltip(t)},e.prototype.refresh=function(t){this.tooltipEle&&this.renderContent(t),this.popupObj&&t&&this.reposition(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),E([this.element],"e-tooltip"),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&P(this.tooltipEle),this.tooltipEle=null,this.popupObj=null},ss([G("auto")],e.prototype,"width",void 0),ss([G("auto")],e.prototype,"height",void 0),ss([G()],e.prototype,"content",void 0),ss([G()],e.prototype,"target",void 0),ss([G("TopCenter")],e.prototype,"position",void 0),ss([G(0)],e.prototype,"offsetX",void 0),ss([G(0)],e.prototype,"offsetY",void 0),ss([G(!0)],e.prototype,"showTipPointer",void 0),ss([G("Auto")],e.prototype,"tipPointerPosition",void 0),ss([G("Auto")],e.prototype,"opensOn",void 0),ss([G(!1)],e.prototype,"mouseTrail",void 0),ss([G(!1)],e.prototype,"isSticky",void 0),ss([X({},as)],e.prototype,"animation",void 0),ss([G(0)],e.prototype,"openDelay",void 0),ss([G(0)],e.prototype,"closeDelay",void 0),ss([G()],e.prototype,"cssClass",void 0),ss([G(!1)],e.prototype,"enableRtl",void 0),ss([Q()],e.prototype,"beforeRender",void 0),ss([Q()],e.prototype,"beforeOpen",void 0),ss([Q()],e.prototype,"afterOpen",void 0),ss([Q()],e.prototype,"beforeClose",void 0),ss([Q()],e.prototype,"afterClose",void 0),ss([Q()],e.prototype,"beforeCollision",void 0),ss([Q()],e.prototype,"created",void 0),ss([Q()],e.prototype,"destroyed",void 0),e=ss([Z],e)}(tr),us={},cs=null,hs=null,ps=30,ds=30,fs=30,ms=36,vs="e-spin-show",ys="e-spin-hide",gs="e-spin-material",bs="e-spin-fabric",ws="e-spin-bootstrap",_s="e-spin-bootstrap4",Cs="e-spin-high-contrast",Es="e-spinner-pane",xs="e-spinner-inner",Ss="e-path-circle",Ts="e-path-arc",ks="e-spin-label",Ms="e-spin-template",Ds={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"};!function(t){function e(t,e){var n=h(e)?_:e,i={container:null,buttons:[],clearButton:null};if(h(t.floatLabelType)||"Never"===t.floatLabelType?(i.container=m(t,Ds.INPUTGROUP,Ds.INPUTCUSTOMTAG,"span",n),t.element.parentNode.insertBefore(i.container,t.element),C([t.element],Ds.INPUT),i.container.appendChild(t.element)):s(t,i,n),t.element.addEventListener("focus",function(){var t=c(this);t.classList.contains("e-input-group")&&t.classList.add("e-input-focus")}),t.element.addEventListener("blur",function(){var t=c(this);t.classList.contains("e-input-group")&&t.classList.remove("e-input-focus")}),h(t.properties)||h(t.properties.showClearButton)||!t.properties.showClearButton||"TEXTAREA"===t.element.tagName||(T(t.properties.showClearButton,t.element,i,!0,n),i.container.classList.contains(Ds.FLOATINPUT)&&C([i.container],Ds.INPUTGROUP)),!h(t.buttons)&&"TEXTAREA"!==t.element.tagName)for(var r=0;r<t.buttons.length;r++)i.buttons.push(j(t.buttons[r],i.container,n));return i=a(t,i),B=i,i}function n(){var t=c(this).getElementsByClassName("e-float-text")[0];C([t],Ds.LABELTOP),t.classList.contains(Ds.LABELBOTTOM)&&E([t],Ds.LABELBOTTOM)}function i(){var t=c(this);if(t.getElementsByTagName("textarea")[0]?""===t.getElementsByTagName("textarea")[0].value:""===t.getElementsByTagName("input")[0].value){var e=t.getElementsByClassName("e-float-text")[0];e.classList.contains(Ds.LABELTOP)&&E([e],Ds.LABELTOP),C([e],Ds.LABELBOTTOM)}}function r(t){t.addEventListener("focus",n),t.addEventListener("blur",i)}function o(t){t.removeEventListener("focus",n),t.removeEventListener("blur",i)}function s(t,e,n){var i,o,s=h(n)?_:n;"Auto"===t.floatLabelType&&r(t.element),h(e.container)?(e.container=m(t,Ds.FLOATINPUT,Ds.FLOATCUSTOMTAG,"div",s),t.element.parentNode.insertBefore(e.container,t.element)):(h(t.customTag)||e.container.classList.add(Ds.FLOATCUSTOMTAG),e.container.classList.add(Ds.FLOATINPUT)),i=s("span",{className:Ds.FLOATLINE}),o=s("label",{className:Ds.FLOATTEXT}),h(t.element.id)||""===t.element.id||(o.id="label_"+t.element.id.replace(/ /g,"_"),A(t.element,{"aria-labelledby":o.id})),h(t.element.placeholder)||""===t.element.placeholder||(o.innerHTML=t.element.placeholder,t.element.removeAttribute("placeholder")),h(t.properties)||h(t.properties.placeholder)||""===t.properties.placeholder||(o.innerHTML=t.properties.placeholder),o.innerHTML||e.container.classList.add(Ds.NOFLOATLABEL),e.container.appendChild(t.element),e.container.appendChild(i),e.container.appendChild(o),u(t.element.value,o),"Always"===t.floatLabelType&&(o.classList.contains(Ds.LABELBOTTOM)&&E([o],Ds.LABELBOTTOM),C([o],Ds.LABELTOP)),"Auto"===t.floatLabelType&&(t.element.addEventListener("input",function(e){u(t.element.value,o)}),t.element.addEventListener("blur",function(e){u(t.element.value,o)})),h(t.element.getAttribute("id"))||o.setAttribute("for",t.element.getAttribute("id"))}function a(t,e){if(!h(t.properties))for(var n=0,i=Object.keys(t.properties);n<i.length;n++){var r=i[n];switch(r){case"cssClass":g(t.properties.cssClass,[e.container]);break;case"enabled":S(t.properties.enabled,t.element,t.floatLabelType,e.container);break;case"enableRtl":x(t.properties.enableRtl,[e.container]);break;case"placeholder":b(t.properties.placeholder,t.element);break;case"readonly":w(t.properties.readonly,t.element)}}return e}function l(t,e){t?E([e],Ds.CLEARICONHIDE):C([e],Ds.CLEARICONHIDE)}function u(t,e){t?(C([e],Ds.LABELTOP),e.classList.contains(Ds.LABELBOTTOM)&&E([e],Ds.LABELBOTTOM)):(e.classList.contains(Ds.LABELTOP)&&E([e],Ds.LABELTOP),C([e],Ds.LABELBOTTOM))}function c(t){return t.parentNode}function p(t,e,n,i){var r=h(i)?_:i,o=r("span",{className:Ds.CLEARICON}),s=e.container;if(h(n)){(e.container.classList.contains(Ds.FLOATINPUT)?e.container.querySelector("."+Ds.FLOATTEXT):t).insertAdjacentElement("afterend",o)}else s.appendChild(o);return!h(s)&&s.classList.contains(Ds.FLOATINPUT)&&C([s],Ds.INPUTGROUP),C([o],Ds.CLEARICONHIDE),d(t,o,s),o.setAttribute("aria-label","close"),o}function d(t,e,n){e.addEventListener("click",function(n){t.classList.contains(Ds.DISABLE)||t.readOnly||(n.preventDefault(),t!==document.activeElement&&t.focus(),t.value="",C([e],Ds.CLEARICONHIDE))}),t.addEventListener("input",function(n){l(t.value,e)}),t.addEventListener("focus",function(n){l(t.value,e)}),t.addEventListener("blur",function(t){setTimeout(function(){C([e],Ds.CLEARICONHIDE)},200)})}function f(t,e){if(c(t).classList.contains(Ds.FLOATINPUT)&&"Auto"===e){var n=c(t).getElementsByClassName("e-float-text")[0];u(t.value,n)}}function m(t,e,n,i,r){var o,s=h(r)?_:r;return h(t.customTag)?o=s(i,{className:e}):(o=s(t.customTag,{className:e}),o.classList.add(n)),o.classList.add("e-control-wrapper"),o}function v(t){var e="";if(!h(t)&&""!==t){var n=document.createElement("span");n.innerHTML=t,e=n.textContent}return e}function y(t,e,n,i){if(e.value=t,h(n)||"Auto"!==n||f(e,n),!h(i)&&i){var r=c(e),o=r.getElementsByClassName(Ds.CLEARICON)[0];e.value&&r.classList.contains("e-input-focus")?E([o],Ds.CLEARICONHIDE):C([o],Ds.CLEARICONHIDE)}}function g(t,e,n){h(n)||""===n||E(e,n.split(" ")),h(t)||""===t||C(e,t.split(" "))}function b(t,e){var n;t=v(t),n=c(e),n.classList.contains(Ds.FLOATINPUT)?h(t)||""===t?(n.classList.add(Ds.NOFLOATLABEL),n.getElementsByClassName(Ds.FLOATTEXT)[0].textContent=""):(n.getElementsByClassName(Ds.FLOATTEXT)[0].textContent=t,n.classList.remove(Ds.NOFLOATLABEL)):h(t)||""===t?(e.removeAttribute("placeholder"),e.removeAttribute("aria-placeholder")):A(e,{placeholder:t,"aria-placeholder":t})}function w(t,e,n){t?A(e,{readonly:""}):e.removeAttribute("readonly"),h(n)||f(e,n)}function x(t,e){t?C(e,Ds.RTL):E(e,Ds.RTL)}function S(t,e,n,i){var r={disabled:"disabled","aria-disabled":"true"},o=!h(i);t?(e.classList.remove(Ds.DISABLE),k(r,e),o&&E([i],Ds.DISABLE)):(e.classList.add(Ds.DISABLE),M(r,e),o&&C([i],Ds.DISABLE)),h(n)||f(e,n)}function T(t,e,n,i,r){var o=h(r)?_:r;t?n.clearButton=p(e,n,i,o):(n.clearButton.remove(),n.clearButton=null)}function k(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=void 0;o=c(e),"disabled"===r&&e.classList.remove(Ds.DISABLE),"disabled"===r&&o.classList.contains(Ds.INPUTGROUP)&&o.classList.remove(Ds.DISABLE),"placeholder"===r&&o.classList.contains(Ds.FLOATINPUT)?o.getElementsByClassName(Ds.FLOATTEXT)[0].textContent="":e.removeAttribute(r)}}function M(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=void 0;o=c(e),"disabled"===r&&e.classList.add(Ds.DISABLE),"disabled"===r&&o.classList.contains(Ds.INPUTGROUP)&&o.classList.add(Ds.DISABLE),"placeholder"===r&&o.classList.contains(Ds.FLOATINPUT)?o.getElementsByClassName(Ds.FLOATTEXT)[0].textContent=t[r]:e.setAttribute(r,t[r])}}function P(t){var e=t.container;if(!h(e)&&e.classList.contains(Ds.FLOATINPUT)){var n=e.querySelector("textarea")?e.querySelector("textarea"):e.querySelector("input"),i=e.querySelector("."+Ds.FLOATTEXT).textContent,r=null!==e.querySelector(".e-clear-icon");D(e.querySelector("."+Ds.FLOATLINE)),D(e.querySelector("."+Ds.FLOATTEXT)),V(e,[Ds.INPUTGROUP],[Ds.FLOATINPUT]),o(n),A(n,{placeholder:i}),n.classList.add(Ds.INPUT),r||"INPUT"!==n.tagName||n.removeAttribute("required")}}function O(t,e,n,i){var r=h(i)?_:i,o=N(t,"."+Ds.INPUTGROUP);if("Never"!==e){var a=o.tagName;a="DIV"!==a&&"SPAN"!==a?a:null;var l={element:t,floatLabelType:e,customTag:a,properties:{placeholder:n}},u=o.querySelector(".e-clear-icon"),c={container:o};if(t.classList.remove(Ds.INPUT),s(l,c,r),h(u)&&(u=o.querySelector(".e-input-group-icon")),h(u))o.classList.remove(Ds.INPUTGROUP);else{var p=o.querySelector("."+Ds.FLOATLINE),d=o.querySelector("."+Ds.FLOATTEXT);o.insertBefore(t,u),o.insertBefore(p,u),o.insertBefore(d,u)}}}function I(t,e){for(var n=0;n<e.length;n++)L(t,e[n].container)}function L(t,e,n){var i=[];i.push(n);var r=h(n)?e.querySelectorAll(".e-input-group-icon"):i;if(t&&r.length>0)for(var o=0;o<r.length;o++)r[o].addEventListener("mousedown",F,!1),r[o].addEventListener("mouseup",H,!1);else if(r.length>0)for(var o=0;o<r.length;o++)r[o].removeEventListener("mousedown",F,this),r[o].removeEventListener("mouseup",H,this)}function R(t,e){t.classList.contains("e-disabled")||t.querySelector("input").readOnly||e.classList.add("e-input-btn-ripple")}function F(){for(var t=this,e=this.parentElement;!e.classList.contains("e-input-group");)e=e.parentElement;R(e,t)}function H(){var t=this;setTimeout(function(){t.classList.remove("e-input-btn-ripple")},500)}function j(t,e,n){var i=h(n)?_:n,r=i("span",{className:t});return r.classList.add("e-input-group-icon"),e.appendChild(r),e.classList.contains(Ds.INPUTGROUP)||e.classList.add(Ds.INPUTGROUP),L(!0,e,r),r}var B={container:null,buttons:[],clearButton:null};t.createInput=e,t.setValue=y,t.setCssClass=g,t.setPlaceholder=b,t.setReadonly=w,t.setEnableRtl=x,t.setEnabled=S,t.setClearButton=T,t.removeAttributes=k,t.addAttributes=M,t.removeFloating=P,t.addFloating=O,t.setRipple=I,t.appendSpan=j}(rs||(rs={}));var Ps,As=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Os=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Is="e-input-group-icon",Ns=new RegExp("^(-)?(\\d*)$"),Ls=function(t){function e(e,n){return t.call(this,e,n)||this}return As(e,t),e.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var t=o("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),E([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=N(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;var e=this.createElement("input"),n=0;for(n;n<this.element.attributes.length;n++)e.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),e.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(e),this.element=e,s("ej2_instances",t,this.element)}A(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"});var i={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:""};this.l10n=new pr("numerictextbox",i,this.locale),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.checkAttributes(),this.prevValue=this.value,this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()},e.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),h(this.width)||L(this.container,{width:y(this.width)}),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null===this.value||isNaN(this.value)||this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&this.element.setAttribute("value",this.element.value))},e.prototype.checkAttributes=function(){for(var t=["value","min","max","step","disabled","readonly","style","name"],e=0,n=t;e<n.length;e++){var i=n[e];if(!h(this.element.getAttribute(i)))switch(i){case"disabled":var r="disabled"!==this.element.getAttribute(i)&&""!==this.element.getAttribute(i)&&"true"!==this.element.getAttribute(i);this.setProperties({enabled:r},!0);break;case"readonly":var o="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:o},!0);break;case"style":this.inputStyle=this.element.getAttribute(i);break;case"name":this.inputName=this.element.getAttribute(i);break;default:var a=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));(null!==a&&!isNaN(a)||"value"===i)&&this.setProperties(s(i,a,{}),!0)}}},e.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},e.prototype.initCultureFunc=function(){this.instance=new Ki(this.locale)},e.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,null!==o("currency",this)&&(s("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},e.prototype.createWrapper=function(){var t=rs.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=t,this.container=t.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.readonly&&A(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",validateHidden:"true"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),A(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),null!==this.inputStyle&&A(this.container,{style:this.inputStyle})},e.prototype.spinBtnCreation=function(){this.spinDown=rs.appendSpan(Is+" e-spin-down",this.container,this.createElement),A(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=rs.appendSpan(Is+" e-spin-up",this.container,this.createElement),A(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},e.prototype.validateMinMax=function(){("number"!=typeof this.min||isNaN(this.min))&&this.setProperties({min:-Number.MAX_VALUE},!0),("number"!=typeof this.max||isNaN(this.max))&&this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),A(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})},e.prototype.formattedValue=function(t,e){return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)},e.prototype.validateStep=function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},e.prototype.action=function(t,e){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,t)),this.raiseChangeEvent(e)},e.prototype.checkErrorClass=function(){this.isValidState?E([this.container],"e-error"):C([this.container],"e-error"),A(this.element,{"aria-invalid":this.isValidState?"false":"true"})},e.prototype.bindClearEvent=function(){this.showClearButton&&ti.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(t){t.preventDefault(),this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.clear(t),this.isInteract=!0,this.raiseChangeEvent(t)},e.prototype.clear=function(t){this.setProperties({value:null},!0),this.setElementValue("")},e.prototype.resetFormHandler=function(){"EJS-NUMERICTEXTBOX"===this.element.tagName?this.updateValue(null):this.updateValue(this.inputEleValue)},e.prototype.wireEvents=function(){ti.add(this.element,"focus",this.focusIn,this),ti.add(this.element,"blur",this.focusOut,this),ti.add(this.element,"keydown",this.keyDownHandler,this),ti.add(this.element,"keyup",this.keyUpHandler,this),ti.add(this.element,"input",this.inputHandler,this),ti.add(this.element,"keypress",this.keyPressHandler,this),ti.add(this.element,"change",this.changeHandler,this),ti.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&ti.add(this.formEle,"reset",this.resetFormHandler,this))},e.prototype.wireSpinBtnEvents=function(){ti.add(this.spinUp,mi.touchStartEvent,this.mouseDownOnSpinner,this),ti.add(this.spinDown,mi.touchStartEvent,this.mouseDownOnSpinner,this),ti.add(this.spinUp,mi.touchEndEvent,this.mouseUpOnSpinner,this),ti.add(this.spinDown,mi.touchEndEvent,this.mouseUpOnSpinner,this),ti.add(this.spinUp,mi.touchMoveEvent,this.touchMoveOnSpinner,this),ti.add(this.spinDown,mi.touchMoveEvent,this.touchMoveOnSpinner,this)},e.prototype.unwireEvents=function(){ti.remove(this.element,"focus",this.focusIn),ti.remove(this.element,"blur",this.focusOut),ti.remove(this.element,"keyup",this.keyUpHandler),ti.remove(this.element,"input",this.inputHandler),ti.remove(this.element,"keydown",this.keyDownHandler),ti.remove(this.element,"keypress",this.keyPressHandler),ti.remove(this.element,"change",this.changeHandler),ti.remove(this.element,"paste",this.pasteHandler),this.formEle&&ti.remove(this.formEle,"reset",this.resetFormHandler)},e.prototype.unwireSpinBtnEvents=function(){ti.remove(this.spinUp,mi.touchStartEvent,this.mouseDownOnSpinner),ti.remove(this.spinDown,mi.touchStartEvent,this.mouseDownOnSpinner),ti.remove(this.spinUp,mi.touchEndEvent,this.mouseUpOnSpinner),ti.remove(this.spinDown,mi.touchEndEvent,this.mouseUpOnSpinner),ti.remove(this.spinUp,mi.touchMoveEvent,this.touchMoveOnSpinner),ti.remove(this.spinDown,mi.touchMoveEvent,this.touchMoveOnSpinner)},e.prototype.changeHandler=function(t){t.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var e=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(e,t)},e.prototype.raiseChangeEvent=function(t){if(this.prevValue!==this.value){var e={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:t},t&&(this.changeEventArgs.event=t),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),u(e,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.trigger("change",e)}},e.prototype.pasteHandler=function(){var t=this,e=this.element.value;setTimeout(function(){t.numericRegex().test(t.element.value)||t.setElementValue(e)})},e.prototype.preventHandler=function(){var t=this,e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(t.element.selectionStart>0){var n=t.element.selectionStart,i=t.element.selectionStart-1,r=void 0,s=t.element.value.split("");r=o("decimal",st(t.locale)).charCodeAt(0)," "===t.element.value[i]&&t.element.selectionStart>0&&!e?(h(t.prevVal)?t.element.value=t.element.value.trim():0!==i?t.element.value=t.prevVal:0===i&&(t.element.value=t.element.value.trim()),t.element.setSelectionRange(i,i)):isNaN(parseFloat(t.element.value[t.element.selectionStart-1]))&&45!==t.element.value[t.element.selectionStart-1].charCodeAt(0)?(s.indexOf(t.element.value[t.element.selectionStart-1])!==s.lastIndexOf(t.element.value[t.element.selectionStart-1])&&t.element.value[t.element.selectionStart-1].charCodeAt(0)===r||t.element.value[t.element.selectionStart-1].charCodeAt(0)!==r)&&(t.element.value=t.element.value.substring(0,i)+t.element.value.substring(n,t.element.value.length),t.element.setSelectionRange(i,i),isNaN(parseFloat(t.element.value[t.element.selectionStart-1]))&&t.element.selectionStart>0&&t.element.value.length&&t.preventHandler()):isNaN(parseFloat(t.element.value[t.element.selectionStart-2]))&&t.element.selectionStart>1&&45!==t.element.value[t.element.selectionStart-2].charCodeAt(0)&&(s.indexOf(t.element.value[t.element.selectionStart-2])!==s.lastIndexOf(t.element.value[t.element.selectionStart-2])&&t.element.value[t.element.selectionStart-2].charCodeAt(0)===r||t.element.value[t.element.selectionStart-2].charCodeAt(0)!==r)&&(t.element.setSelectionRange(i,i),t.nextEle=t.element.value[t.element.selectionStart],t.cursorPosChanged=!0,t.preventHandler()),!0===t.cursorPosChanged&&t.element.value[t.element.selectionStart]===t.nextEle&&isNaN(parseFloat(t.element.value[t.element.selectionStart-1]))&&(t.element.setSelectionRange(t.element.selectionStart+1,t.element.selectionStart+1),t.cursorPosChanged=!1,t.nextEle=null),""===t.element.value.trim()&&t.element.setSelectionRange(0,0),t.element.selectionStart>0&&45===t.element.value[t.element.selectionStart-1].charCodeAt(0)&&t.element.selectionStart>1&&(h(t.prevVal)?t.element.value=t.element.value:t.element.value=t.prevVal,t.element.setSelectionRange(t.element.selectionStart,t.element.selectionStart)),t.prevVal=t.element.value}})},e.prototype.keyUpHandler=function(t){!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&mi.isDevice&&this.preventHandler()},e.prototype.inputHandler=function(t){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);(navigator.userAgent.toLowerCase().indexOf("firefox")>-1||e)&&mi.isDevice&&this.preventHandler()},e.prototype.keyDownHandler=function(t){if(!this.readonly)switch(t.keyCode){case 38:t.preventDefault(),this.action("increment",t);break;case 40:t.preventDefault(),this.action("decrement",t)}},e.prototype.performAction=function(t,e,n){(null===t||isNaN(t))&&(t=0);var i="increment"===n?t+e:t-e;return i=this.correctRounding(t,e,i),this.strictMode?this.trimValue(i):i},e.prototype.correctRounding=function(t,e,n){var i=new RegExp("[,.](.*)"),r=(t.toString(),e.toString(),i.test(t.toString())),o=i.test(e.toString());if(r||o){var s=r?i.exec(t.toString())[0].length:0,a=o?i.exec(e.toString())[0].length:0,l=Math.max(s,a);return t=this.roundValue(n,l)}return n},e.prototype.roundValue=function(t,e){e=e||0;var n=Math.pow(10,e);return t*=n,t=Math.round(t)/n},e.prototype.updateValue=function(t,e){e&&(this.isInteract=!0),null===t||isNaN(t)||this.decimals&&(t=this.roundNumber(t,this.decimals)),this.changeValue(null===t||isNaN(t)?null:this.strictMode?this.trimValue(t):t),this.raiseChangeEvent(e)},e.prototype.updateCurrency=function(t,e){s(t,e,this.cultureInfo),this.updateValue(this.value)},e.prototype.changeValue=function(t){if(t||0===t){var e=void 0,n=t.toString().split(".")[1];e=n&&n.length?n.length:0,null!==this.decimals&&(e=e<this.decimals?e:this.decimals),this.setProperties({value:this.roundNumber(t,e)},!0)}else t=null,this.setProperties({value:t},!0);this.modifyText(),this.strictMode||this.validateState()},e.prototype.modifyText=function(){if(this.value||0===this.value){var t=this.formatNumber(),e=this.isFocused?t:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(e),A(this.element,{"aria-valuenow":t}),this.hiddenInput.value=t}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},e.prototype.setElementValue=function(t,e){rs.setValue(t,e||this.element,this.floatLabelType,this.showClearButton)},e.prototype.validateState=function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},e.prototype.formatNumber=function(){var t,e=this.value,n=e.toString().split(".")[1];return t=n&&n.length?n.length:0,null!==this.decimals&&(t=t<this.decimals?t:this.decimals),this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(this.value)},e.prototype.trimValue=function(t){return t>this.max?this.max:t<this.min?this.min:t},e.prototype.roundNumber=function(t,e){var n=t,i=e||0,r=n.toString().split("e");n=Math.round(Number(r[0]+"e"+(r[1]?Number(r[1])+i:i)));var o=n.toString().split("e");return n=Number(o[0]+"e"+(o[1]?Number(o[1])-i:-i)),Number(n.toFixed(i))},e.prototype.cancelEvent=function(t){return t.preventDefault(),!1},e.prototype.keyPressHandler=function(t){if(!mi.isDevice&&"11.0"===mi.info.version&&13===t.keyCode){var e=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(e,t),!0}if(0===t.which||t.metaKey||t.ctrlKey||8===t.keyCode||13===t.keyCode)return!0;var n=String.fromCharCode(t.which),i=this.element.value;return i=i.substring(0,this.element.selectionStart)+n+i.substring(this.element.selectionEnd),!!this.numericRegex().test(i)||(t.preventDefault(),t.stopPropagation(),!1)},e.prototype.numericRegex=function(){var t=st(this.locale),e=o("decimal",t),n="*";return"."===e&&(e="\\"+e),0===this.decimals&&this.validateDecimalOnType?Ns:(this.decimals&&this.validateDecimalOnType&&(n="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+e+"\\d"+n+")?)|("+e+"\\d"+n+")))?$"))},e.prototype.mouseWheel=function(t){t.preventDefault();var e,n=t;n.wheelDelta?e=n.wheelDelta/120:n.detail&&(e=-n.detail/3),e>0?this.action("increment",t):e<0&&this.action("decrement",t),this.cancelEvent(t)},e.prototype.focusIn=function(t){var e=this;if(this.focusEventArgs={event:t,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,E([this.container],"e-error"),this.prevValue=this.value,this.value||0===this.value){var n=this.formatNumber();if(this.setElementValue(n),!this.isPrevFocused){var i=mi.isDevice&&mi.isIos?600:0;setTimeout(function(){e.element.setSelectionRange(0,n.length)},i)}}mi.isDevice||ti.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},e.prototype.focusOut=function(t){var e=this;if(this.blurEventArgs={event:t,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.isPrevFocused){if(t.preventDefault(),mi.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var i=this.element;setTimeout(function(){e.setElementValue(n,i)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var r=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(r),mi.isDevice||ti.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(N(this.element,"form")){var o=this.element.nextElementSibling,s=document.createEvent("FocusEvent");s.initEvent("focusout",!1,!0),o.dispatchEvent(s)}},e.prototype.mouseDownOnSpinner=function(t){var e=this;if(this.isFocused&&(this.isPrevFocused=!0,t.preventDefault()),this.getElementData(t)){var n=(this.getElementData(t),t.currentTarget),i=n.classList.contains("e-spin-up")?"increment":"decrement";ti.add(n,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){e.isCalled=!0,e.action(i,t)},150),ti.add(document,"mouseup",this.mouseUpClick,this)}},e.prototype.touchMoveOnSpinner=function(t){document.elementFromPoint(t.clientX,t.clientY).classList.contains(Is)||clearInterval(this.timeOut)},e.prototype.mouseUpOnSpinner=function(t){if(this.isPrevFocused&&(this.element.focus(),mi.isDevice||(this.isPrevFocused=!1)),mi.isDevice||t.preventDefault(),this.getElementData(t)){var e=t.currentTarget,n=e.classList.contains("e-spin-up")?"increment":"decrement";ti.remove(e,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,t),this.isCalled=!1,ti.remove(document,"mouseup",this.mouseUpClick)}},e.prototype.getElementData=function(t){return!(t.which&&3===t.which||t.button&&2===t.button||!this.enabled||this.readonly)&&(clearInterval(this.timeOut),!0)},e.prototype.floatLabelTypeUpdate=function(){rs.removeFloating(this.inputWrapper);var t=this.hiddenInput;this.hiddenInput.remove(),rs.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(t,this.container.childNodes[1])},e.prototype.mouseUpClick=function(t){t.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,ti.remove(this.spinUp,"mouseleave",this.mouseUpClick),ti.remove(this.spinDown,"mouseleave",this.mouseUpClick)},e.prototype.increment=function(t){void 0===t&&(t=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,t,"increment")),this.raiseChangeEvent()},e.prototype.decrement=function(t){void 0===t&&(t=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,t,"decrement")),this.raiseChangeEvent()},e.prototype.destroy=function(){this.unwireEvents(),D(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),D(this.spinUp),D(this.spinDown)),this.container.parentElement.appendChild(this.cloneElement),D(this.container),t.prototype.destroy.call(this)},e.prototype.getText=function(){return this.element.value},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];switch(r){case"width":L(this.container,{width:y(t.width)});break;case"cssClass":rs.setCssClass(t.cssClass,[this.container],e.cssClass);break;case"enabled":rs.setEnabled(t.enabled,this.element);break;case"enableRtl":rs.setEnableRtl(t.enableRtl,[this.container]);break;case"readonly":rs.setReadonly(t.readonly,this.element),this.readonly?A(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"placeholder":rs.setPlaceholder(t.placeholder,this.element);break;case"step":this.step=t.step,this.validateStep();break;case"showSpinButton":t.showSpinButton?this.spinBtnCreation():(D(this.spinUp),D(this.spinDown));break;case"showClearButton":rs.setClearButton(t.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent();break;case"floatLabelType":this.floatLabelType=t.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.updateValue(t.value);break;case"min":case"max":s(r,o(r,t),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=t.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),h(this.spinDown)||A(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),h(this.spinUp)||A(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.updatePlaceholder(),rs.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var a=o(r,t);this.setProperties({currencyCode:a},!0),this.updateCurrency(r,a);break;case"currencyCode":var l=o(r,t);this.setProperties({currency:l},!0),this.updateCurrency("currency",l);break;case"format":s(r,o(r,t),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=t.decimals,this.updateValue(this.value)}}},e.prototype.getModuleName=function(){return"numerictextbox"},Os([G("")],e.prototype,"cssClass",void 0),Os([G(null)],e.prototype,"value",void 0),Os([G(-Number.MAX_VALUE)],e.prototype,"min",void 0),Os([G(Number.MAX_VALUE)],e.prototype,"max",void 0),Os([G(1)],e.prototype,"step",void 0),Os([G(null)],e.prototype,"width",void 0),Os([G(null)],e.prototype,"placeholder",void 0),Os([G(!0)],e.prototype,"showSpinButton",void 0),Os([G(!1)],e.prototype,"readonly",void 0),Os([G(!0)],e.prototype,"enabled",void 0),Os([G(!1)],e.prototype,"enableRtl",void 0),Os([G(!1)],e.prototype,"showClearButton",void 0),Os([G(!1)],e.prototype,"enablePersistence",void 0),Os([G("n2")],e.prototype,"format",void 0),Os([G(null)],e.prototype,"decimals",void 0),Os([G(null)],e.prototype,"currency",void 0),Os([G(null)],e.prototype,"currencyCode",void 0),Os([G(!0)],e.prototype,"strictMode",void 0),Os([G(!1)],e.prototype,"validateDecimalOnType",void 0),Os([G("Never")],e.prototype,"floatLabelType",void 0),Os([Q()],e.prototype,"created",void 0),Os([Q()],e.prototype,"destroyed",void 0),Os([Q()],e.prototype,"change",void 0),Os([Q()],e.prototype,"focus",void 0),Os([Q()],e.prototype,"blur",void 0),e=Os([Z],e)}(tr),Vs="e-error",Rs="e-input-group",Fs="e-float-input",Hs="e-label-top",js="e-label-bottom",Bs={0:"[0-9]",9:"[0-9 ]","#":"[0-9 +-]",L:"[A-Za-z]","?":"[A-Za-z ]","&":"[^\x7f ]+",C:"[^\x7f]+",A:"[A-Za-z0-9]",a:"[A-Za-z0-9 ]"},Us=function(){function t(){}return t}(),qs=(new Us,this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),zs=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ws=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.initInputValue="",i}qs(e,t),e.prototype.getModuleName=function(){return"maskedtextbox"},e.prototype.preRender=function(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.regExpCollec=Bs,this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.changeEventArgs={},this.focusEventArgs={},this.blurEventArgs={},this.maskKeyPress=!1,this.isFocus=!1,this.isInitial=!1,this.isIosInvalid=!1;var t=o("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),E([this.cloneElement],["e-control","e-maskedtextbox","e-lib"]),this.angularTagName=null,this.formElement=N(this.element,"form"),"EJS-MASKEDTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var e=this.createElement("input"),n=0;n<this.element.attributes.length;n++)e.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),e.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id"),this.element.classList.remove("e-control","e-maskedtextbox"),this.element.classList.add("e-mask-container"),this.element.appendChild(e),this.element=e,s("ej2_instances",t,this.element)}this.formElement&&(this.initInputValue=this.value)},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&("Never"===this.floatLabelType&&C([this.element],"e-input"),this.createWrapper(),""===this.element.name&&this.element.setAttribute("name",this.element.id),this.isInitial=!0,this.resetMaskedTextBox(),this.isInitial=!1,this.setMaskPlaceholder(!0,!1),this.setWidth(this.width),this.preEleVal=this.element.value,mi.isDevice||"11.0"!==mi.info.version&&"edge"!==mi.info.name||this.element.blur(),(this.element.getAttribute("value")||this.value)&&this.element.setAttribute("value",this.element.value))},e.prototype.resetMaskedTextBox=function(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.promptChar.length>1&&(this.promptChar=this.promptChar[0]),cn.call(this),hn.call(this),(null===this.mask||""===this.mask&&void 0!==this.value)&&qn.call(this,this.value);var t=bn.call(this,this.element);this.prevValue=t,this.value=t,this.isInitial||dn.call(this),pn.call(this)},e.prototype.setMaskPlaceholder=function(t,e){(e||this.placeholder)&&(rs.setPlaceholder(this.placeholder,this.element),this.element.value===this.promptMask&&t&&"Always"!==this.floatLabelType&&qn.call(this,""),"Never"===this.floatLabelType&&Cn.call(this))},e.prototype.setCssClass=function(t,e){t&&C(e,t)},e.prototype.setWidth=function(t){h(t)||(this.element.style.width=y(t),this.inputObj.container.style.width=y(t))},e.prototype.createWrapper=function(){this.inputObj=rs.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{enableRtl:this.enableRtl,cssClass:this.cssClass,enabled:this.enabled,placeholder:this.placeholder,showClearButton:this.showClearButton}},this.createElement),this.inputObj.container.setAttribute("class","e-widget e-control-wrapper e-mask "+this.inputObj.container.getAttribute("class"))},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"value":Un.call(this,this.value),this.placeholder&&this.setMaskPlaceholder(!1,!1);break;case"placeholder":this.setMaskPlaceholder(!0,!0);break;case"width":this.setWidth(t.width);break;case"cssClass":this.setCssClass(t.cssClass,[this.inputObj.container]);break;case"enabled":rs.setEnabled(t.enabled,this.element);break;case"enableRtl":rs.setEnableRtl(t.enableRtl,[this.inputObj.container]);break;case"customCharacters":this.customCharacters=t.customCharacters,this.resetMaskedTextBox();break;case"showClearButton":rs.setClearButton(t.showClearButton,this.element,this.inputObj,void 0,this.createElement),fn.call(this);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,rs.removeFloating(this.inputObj),rs.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement);break;case"mask":var r=this.value;this.mask=t.mask,this.updateValue(r);break;case"promptChar":t.promptChar.length>1&&(t.promptChar=t.promptChar[0]),t.promptChar?this.promptChar=t.promptChar:this.promptChar="_";var o=this.element.value.replace(new RegExp("["+e.promptChar+"]","g"),this.promptChar);this.promptMask===this.element.value&&(o=this.promptMask.replace(new RegExp("["+e.promptChar+"]","g"),this.promptChar)),this.promptMask=this.promptMask.replace(new RegExp("["+e.promptChar+"]","g"),this.promptChar),this.undoCollec=this.redoCollec=[],qn.call(this,o)}}},e.prototype.updateValue=function(t){this.resetMaskedTextBox(),Un.call(this,t)},e.prototype.getMaskedValue=function(){return gn.call(this,this.element)},e.prototype.destroy=function(){dn.call(this),this.inputObj.container.parentElement.appendChild(this.cloneElement),D(this.inputObj.container),t.prototype.destroy.call(this)},zs([G(null)],e.prototype,"cssClass",void 0),zs([G(null)],e.prototype,"width",void 0),zs([G(null)],e.prototype,"placeholder",void 0),zs([G("Never")],e.prototype,"floatLabelType",void 0),zs([G(!0)],e.prototype,"enabled",void 0),zs([G(!1)],e.prototype,"showClearButton",void 0),zs([G(!1)],e.prototype,"enablePersistence",void 0),zs([G(!1)],e.prototype,"enableRtl",void 0),zs([G(null)],e.prototype,"mask",void 0),zs([G("_")],e.prototype,"promptChar",void 0),zs([G(null)],e.prototype,"value",void 0),zs([G(null)],e.prototype,"customCharacters",void 0),zs([Q()],e.prototype,"created",void 0),zs([Q()],e.prototype,"destroyed",void 0),zs([Q()],e.prototype,"change",void 0),zs([Q()],e.prototype,"focus",void 0),zs([Q()],e.prototype,"blur",void 0),e=zs([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Ys=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),Ys([G("None")],e.prototype,"placement",void 0),Ys([G(10)],e.prototype,"largeStep",void 0),Ys([G(1)],e.prototype,"smallStep",void 0),Ys([G(!1)],e.prototype,"showSmallTicks",void 0),Ys([G(null)],e.prototype,"format",void 0),e}(_i),Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),Ys([G(!1)],e.prototype,"enabled",void 0),Ys([G(null)],e.prototype,"minStart",void 0),Ys([G(null)],e.prototype,"minEnd",void 0),Ys([G(null)],e.prototype,"maxStart",void 0),Ys([G(null)],e.prototype,"maxEnd",void 0),Ys([G(!1)],e.prototype,"startHandleFixed",void 0),Ys([G(!1)],e.prototype,"endHandleFixed",void 0),e}(_i),Ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),Ys([G("")],e.prototype,"cssClass",void 0),Ys([G("Before")],e.prototype,"placement",void 0),Ys([G("Focus")],e.prototype,"showOn",void 0),Ys([G(!1)],e.prototype,"isVisible",void 0),Ys([G(null)],e.prototype,"format",void 0),e}(_i),Qs={root:"e-slider",rtl:"e-rtl",sliderHiddenInput:"e-slider-input",controlWrapper:"e-control-wrapper",sliderHandle:"e-handle",rangeBar:"e-range",sliderButton:"e-slider-button",firstButton:"e-first-button",secondButton:"e-second-button",scale:"e-scale",tick:"e-tick",large:"e-large",tickValue:"e-tick-value",sliderTooltip:"e-slider-tooltip",sliderHover:"e-slider-hover",sliderFirstHandle:"e-handle-first",sliderSecondHandle:"e-handle-second",sliderDisabled:"e-disabled",sliderContainer:"e-slider-container",horizontalTooltipBefore:"e-slider-horizontal-before",horizontalTooltipAfter:"e-slider-horizontal-after",verticalTooltipBefore:"e-slider-vertical-before",verticalTooltipAfter:"e-slider-vertical-after",materialTooltip:"e-material-tooltip",materialTooltipOpen:"e-material-tooltip-open",materialTooltipActive:"e-tooltip-active",materialSlider:"e-material-slider",sliderTrack:"e-slider-track",sliderHandleFocused:"e-handle-focused",verticalSlider:"e-vertical",horizontalSlider:"e-horizontal",sliderHandleStart:"e-handle-start",sliderTooltipStart:"e-material-tooltip-start",sliderTabHandle:"e-tab-handle",sliderButtonIcon:"e-button-icon",sliderSmallSize:"e-small-size",sliderTickPosition:"e-tick-pos",sliderFirstTick:"e-first-tick",sliderLastTick:"e-last-tick",sliderButtonClass:"e-slider-btn",sliderTooltipWrapper:"e-tooltip-wrap",sliderTabTrack:"e-tab-track",sliderTabRange:"e-tab-range",sliderActiveHandle:"e-handle-active",sliderMaterialHandle:"e-material-handle",sliderMaterialRange:"e-material-range",sliderMaterialDefault:"e-material-default",materialTooltipShow:"e-material-tooltip-show",materialTooltipHide:"e-material-tooltip-hide",readonly:"e-read-only",limits:"e-limits",limitBarDefault:"e-limit-bar",limitBarFirst:"e-limit-first",limitBarSecond:"e-limit-second",dragHorizontal:"e-drag-horizontal",dragVertical:"e-drag-vertical"},Zs=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.horDir="left",i.verDir="bottom",i.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},i.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},i.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",i.customAriaText=null,i.drag=!0,i}return Ws(e,t),e.prototype.preRender=function(){var t={incrementTitle:"Increase",decrementTitle:"Decrease"};this.l10n=new pr("slider",t,this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},e.prototype.formChecker=function(){var t=N(this.element,"form");t?(this.isForm=!0,h(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!h(this.formResetValue)&&"object"==typeof this.formResetValue?h(this.formResetValue)&&(this.formResetValue=parseFloat(y(this.min))):this.formResetValue=[parseFloat(y(this.min)),parseFloat(y(this.max))],this.formElement=t):this.isForm=!1},e.prototype.initCultureFunc=function(){this.internationalization=new Ki(this.locale)},e.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=h(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=h(this.ticks.format)?null:this.ticks.format},e.prototype.formatString=function(t,e){var n=null,i=null;if(t||0===t){n=this.formatNumber(t);var r=this.numberOfDecimals(t);i=this.internationalization.getNumberFormat(e)(this.makeRoundNumber(t,r))}return{elementVal:n,formatString:i}},e.prototype.formatNumber=function(t){var e=this.numberOfDecimals(t);return this.internationalization.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)},e.prototype.numberOfDecimals=function(t){var e=t.toString().split(".")[1];return e&&e.length?e.length:0},e.prototype.makeRoundNumber=function(t,e){var n=e||0;return Number(t.toFixed(n))},e.prototype.fractionalToInteger=function(t){t=0===this.numberOfDecimals(t)?Number(t).toFixed(this.noOfDecimals):t;for(var e=1,n=0;n<this.noOfDecimals;n++)e*=10;return t=Number((t*e).toFixed(0))},e.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),this.setZindex()},e.prototype.initialize=function(){C([this.element],Qs.root),this.setCSSClass()},e.prototype.setCSSClass=function(t){t&&E([this.element],t.split(" ")),this.cssClass&&C([this.element],this.cssClass.split(" "))},e.prototype.setEnabled=function(){this.enabled?(E([this.sliderContainer],[Qs.sliderDisabled]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove(Qs.sliderDisabled),this.wireEvents()):(C([this.sliderContainer],[Qs.sliderDisabled]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add(Qs.sliderDisabled),this.unwireEvents())},e.prototype.getTheme=function(t){return window.getComputedStyle(t,":after").getPropertyValue("content").replace(/['"]+/g,"")},e.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:Qs.sliderContainer+" "+Qs.controlWrapper}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:Qs.sliderTrack}),this.element.appendChild(this.sliderTrack),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:h(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:Qs.sliderHiddenInput}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=h(this.value)?parseFloat(y(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(y(this.value.toString()))):[this.checkHandleValue(parseFloat(y(this.value[0].toString()))),this.checkHandleValue(parseFloat(y(this.value[1].toString())))],this.previousChanged=this.previousVal,h(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?E([this.sliderContainer],[Qs.sliderDisabled]):C([this.sliderContainer],[Qs.sliderDisabled]),this.readonly?C([this.sliderContainer],[Qs.readonly]):E([this.sliderContainer],[Qs.readonly])},e.prototype.getThemeInitialization=function(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible},e.prototype.createRangeBar=function(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:Qs.rangeBar}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&("Horizontal"===this.orientation?this.rangeBar.classList.add(Qs.dragHorizontal):this.rangeBar.classList.add(Qs.dragVertical)))},e.prototype.createLimitBar=function(){var t="Range"!==this.type?Qs.limitBarDefault:Qs.limitBarFirst;t+=" "+Qs.limits,this.limitBarFirst=this.createElement("div",{attrs:{class:t}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:Qs.limitBarSecond+" "+Qs.limits}}),this.element.appendChild(this.limitBarSecond))},e.prototype.setOrientClass=function(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove(Qs.verticalSlider),this.sliderContainer.classList.add(Qs.horizontalSlider),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove(Qs.horizontalSlider),this.sliderContainer.classList.add(Qs.verticalSlider),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))},e.prototype.setAriaAttributes=function(t){var e=this,n=this.min,i=this.max;if(!h(this.customValues)&&this.customValues.length>0&&(n=this.customValues[0],i=this.customValues[this.customValues.length-1]),"Range"!==this.type)A(t,{"aria-valuemin":n.toString(),"aria-valuemax":i.toString()});else{(!h(this.customValues)&&this.customValues.length>0?[[n.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),i.toString()]]:[[n.toString(),this.value[1].toString()],[this.value[0].toString(),i.toString()]]).forEach(function(t,n){var i=0===n?e.firstHandle:e.secondHandle;i&&A(i,{"aria-valuemin":t[0],"aria-valuemax":t[1]})})}},e.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:Qs.sliderHandle,role:"slider","aria-labelledby":this.element.id+"_title",tabIndex:"0"}}),this.secondHandle.classList.add(Qs.sliderSecondHandle),this.element.appendChild(this.secondHandle)},e.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:Qs.sliderHandle,role:"slider","aria-labelledby":this.element.id+"_title",tabIndex:"0"}}),this.firstHandle.classList.add(Qs.sliderFirstHandle),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:Qs.sliderHandle+" "+Qs.sliderMaterialHandle}}),this.element.appendChild(this.materialHandle))},e.prototype.wireFirstHandleEvt=function(t){t?(ti.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),ti.remove(this.firstHandle,"transitionend",this.transitionEnd),ti.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),ti.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(ti.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),ti.add(this.firstHandle,"transitionend",this.transitionEnd,this),ti.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),ti.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},e.prototype.wireSecondHandleEvt=function(t){t?(ti.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),ti.remove(this.secondHandle,"transitionend",this.transitionEnd),ti.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),ti.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(ti.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),ti.add(this.secondHandle,"transitionend",this.transitionEnd,this),ti.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),ti.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},e.prototype.handleStart=function(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"](Qs.sliderHandleStart),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"](Qs.sliderHandleStart),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"](Qs.sliderTooltipStart)))},e.prototype.transitionEnd=function(t){"transform"!==t.propertyName&&(this.handleStart(),this.getHandle().style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},e.prototype.handleFocusOut=function(){this.firstHandle.classList.contains(Qs.sliderHandleFocused)&&this.firstHandle.classList.remove(Qs.sliderHandleFocused),"Range"===this.type&&this.secondHandle.classList.contains(Qs.sliderHandleFocused)&&this.secondHandle.classList.remove(Qs.sliderHandleFocused)},e.prototype.handleFocus=function(t){t.currentTarget===this.firstHandle?this.firstHandle.classList.add(Qs.sliderHandleFocused):this.secondHandle.classList.add(Qs.sliderHandleFocused)},e.prototype.handleOver=function(t){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(t.currentTarget)},e.prototype.handleLeave=function(t){!this.tooltip.isVisible||"Hover"!==this.tooltip.showOn||t.currentTarget.classList.contains(Qs.sliderHandleFocused)||t.currentTarget.classList.contains(Qs.sliderTabHandle)||this.closeTooltip()},e.prototype.setHandler=function(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()},e.prototype.setEnableRTL=function(){this.enableRtl&&"Vertical"!==this.orientation?C([this.sliderContainer],Qs.rtl):E([this.sliderContainer],Qs.rtl);var t="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),t!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(L(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&L(this.secondHandle,{top:"",left:"auto"}))},e.prototype.tooltipValue=function(){var t,e={value:this.value,text:""};this.setTooltipContent(),e.text=t=this.tooltipObj.content,this.trigger("tooltipChange",e),this.addTooltipClass(e.text),t!==e.text&&(this.customAriaText=e.text,this.tooltipObj.content=e.text,this.setAriaAttrValue(this.firstHandle),"Range"===this.type&&this.setAriaAttrValue(this.secondHandle))},e.prototype.setTooltipContent=function(){var t;t=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=t},e.prototype.formatContent=function(t,e){var n="",i=this.handleVal1,r=this.handleVal2;return!h(this.customValues)&&this.customValues.length>0&&(i=this.customValues[this.handleVal1],r=this.customValues[this.handleVal2]),e?("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?h(this.tooltip)||h(this.tooltip.format)?r.toString()+" - "+i.toString():this.formatString(r,t).elementVal+" - "+this.formatString(i,t).elementVal:h(this.tooltip)||h(this.tooltip.format)?i.toString()+" - "+r.toString():this.formatString(i,t).elementVal+" - "+this.formatString(r,t).elementVal:h(i)||(n=h(this.tooltip)||h(this.tooltip.format)?i.toString():this.formatString(i,t).elementVal),n):("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?h(t.format)?r.toString()+" - "+i.toString():this.formatString(r,t).formatString+" - "+this.formatString(i,t).formatString:h(t.format)?i.toString()+" - "+r.toString():this.formatString(i,t).formatString+" - "+this.formatString(r,t).formatString:h(i)||(n=h(t.format)?i.toString():this.formatString(i,t).formatString),n)},e.prototype.addTooltipClass=function(t){if(this.isMaterialTooltip){var e=t.toString().length;if(this.tooltipElement){var n=e>4?{oldCss:Qs.sliderMaterialDefault,newCss:Qs.sliderMaterialRange}:{oldCss:Qs.sliderMaterialRange,newCss:Qs.sliderMaterialDefault};this.tooltipElement.classList.remove(n.oldCss),this.tooltipElement.classList.contains(n.newCss)||(this.tooltipElement.classList.add(n.newCss),this.tooltipElement.style.transform=e>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else{var n=e>4?Qs.sliderMaterialRange:Qs.sliderMaterialDefault;this.tooltipObj.cssClass=Qs.sliderTooltip+" "+n}}},e.prototype.tooltipPlacement=function(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"},e.prototype.tooltipBeforeOpen=function(t){this.tooltipElement=t.element,this.tooltip.cssClass&&C([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(function(t){return t})),t.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add(Qs.materialTooltipHide),this.handleStart(),this.setTooltipTransform())},e.prototype.tooltipCollision=function(t){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){var e=this.isBootstrap4?3:6;switch(t){case"TopCenter":this.tooltipObj.setProperties({offsetY:-e},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:e},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-e},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:e},!1)}}},e.prototype.wireMaterialTooltipEvent=function(t){this.isMaterialTooltip&&(t?ti.remove(this.tooltipElement,"mousedown touchstart",this.sliderDown):ti.add(this.tooltipElement,"mousedown touchstart",this.sliderDown,this))},e.prototype.tooltipPositionCalculation=function(t){var e;switch(t){case"TopCenter":e=Qs.horizontalTooltipBefore;break;case"BottomCenter":e=Qs.horizontalTooltipAfter;break;case"LeftCenter":e=Qs.verticalTooltipBefore;break;case"RightCenter":e=Qs.verticalTooltipAfter}return e},e.prototype.getTooltipTransformProperties=function(t){var e;if(this.tooltipElement){var n="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;e="Horizontal"===this.orientation?t===Qs.horizontalTooltipBefore?{rotate:"rotate(45deg)",translate:"translateY("+n+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-n+"px)"}:t===Qs.verticalTooltipBefore?{rotate:"rotate(-45deg)",translate:"translateX("+n+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-n+"px)"}}return e},e.prototype.openMaterialTooltip=function(){var t=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var e=this.tooltipElement.firstElementChild;e.classList.remove(Qs.materialTooltipHide),e.classList.add(Qs.materialTooltipShow),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add(Qs.materialTooltipOpen),this.materialHandle.style.transform="scale(0)",e.innerText.length>4?this.tooltipElement.style.transform="scale(1)":this.tooltipElement.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(function(){t.tooltipElement.style.transition=t.transition.handle},2500):setTimeout(function(){t.tooltipElement.style.transition="none"},2500)}},e.prototype.closeMaterialTooltip=function(){var t=this;if(this.isMaterialTooltip){var e=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,e.classList.remove(Qs.materialTooltipShow),e.classList.add(Qs.materialTooltipHide),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle.style.transform="scale(1)",this.tooltipElement.classList.remove(Qs.materialTooltipOpen),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(function(){t.tooltipElement.style.transition="none"},2500)}},e.prototype.checkTooltipPosition=function(t){if(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==t.collidedPosition){if(this.isMaterialTooltip){var e=this.tooltipPositionCalculation(t.collidedPosition);t.element.classList.remove(this.previousTooltipClass),t.element.classList.add(e),this.previousTooltipClass=e,t.element.style.transform&&t.element.classList.contains(Qs.materialTooltipOpen)&&t.element.firstElementChild.innerText.length<=4&&(t.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}this.tooltipCollidedPosition=t.collidedPosition}this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()},e.prototype.setTooltipTransform=function(){var t=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.firstElementChild.innerText.length>4?this.tooltipElement.style.transform=t.translate+" scale(0.01)":this.tooltipElement.style.transform=t.translate+" "+t.rotate+" scale(0.01)"},e.prototype.renderTooltip=function(){this.tooltipObj=new ls({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4,cssClass:Qs.sliderTooltip,height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this)}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},e.prototype.initializeTooltipProps=function(){var t=this.isMaterialTooltip?"Always":"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn;this.setProperties({tooltip:{showOn:t}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(function(t){h(t)||(t.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add(Qs.materialSlider),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},e.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},e.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:Qs.sliderButton+" "+Qs.firstButton}),this.firstBtn.appendChild(this.createElement("span",{className:Qs.sliderButtonIcon})),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:Qs.sliderButton+" "+Qs.secondButton}),this.secondBtn.appendChild(this.createElement("span",{className:Qs.sliderButtonIcon})),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add(Qs.sliderButtonClass),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},e.prototype.buttonTitle=function(){var t=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("decrementTitle"),n=this.l10n.getConstant("incrementTitle");A(t?this.secondBtn:this.firstBtn,{"aria-label":e,title:e}),A(t?this.firstBtn:this.secondBtn,{"aria-label":n,title:n})},e.prototype.buttonFocusOut=function(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")},e.prototype.repeatButton=function(t){var e,n=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;t.target.parentElement.classList.contains(Qs.firstButton)||t.target.classList.contains(Qs.firstButton)?e=i?this.add(n,parseFloat(this.step.toString()),!0):this.add(n,parseFloat(this.step.toString()),!1):(t.target.parentElement.classList.contains(Qs.secondButton)||t.target.classList.contains(Qs.secondButton))&&(e=i?this.add(n,parseFloat(this.step.toString()),!1):this.add(n,parseFloat(this.step.toString()),!0)),this.limits.enabled&&(e=this.getLimitCorrectedValues(e)),e>=this.min&&e<=this.max&&(this.changeHandleValue(e),this.tooltipToggle(this.getHandle()))},e.prototype.repeatHandlerMouse=function(t){t.preventDefault(),"mousedown"!==t.type&&"touchstart"!==t.type||(this.buttonClick(t),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,t))},e.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},e.prototype.repeatHandlerUp=function(t){this.changeEvent("changed"),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},e.prototype.customTickCounter=function(t){var e=4;return!h(this.customValues)&&this.customValues.length>0&&(t>4&&(e=3),t>7&&(e=2),t>14&&(e=1),t>28&&(e=0)),e},e.prototype.renderScale=function(){var t="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:Qs.scale+" e-"+t+"-scale "+Qs.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",mi.isAndroid&&"h"===t&&this.ul.classList.add(Qs.sliderTickPosition);var e=this.ticks.smallStep;this.ticks.showSmallTicks?e<=0&&(e=parseFloat(y(this.step))):e=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(y(this.max))-parseFloat(y(this.min));var n=this.fractionalToInteger(this.min),i=this.fractionalToInteger(this.max),r=this.fractionalToInteger(e),o=!h(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,s=this.customTickCounter(o),a=!h(this.customValues)&&this.customValues.length>0?o*s+o:Math.abs((i-n)/r);this.element.appendChild(this.ul);var l,u=parseFloat(this.min.toString());"v"===t&&(u=parseFloat(this.max.toString()));var c,p=0,d=100/a;d===1/0&&(d=5);for(var f=0,m=!h(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,v=0;f<=a;f++){if(l=this.createElement("li",{attrs:{class:Qs.tick,role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!h(this.customValues)&&this.customValues.length>0)(c=f%(s+1)==0)&&("h"===t?(u=this.customValues[v],v++):(u=this.customValues[m],m--),l.setAttribute("title",u.toString()));else if(l.setAttribute("title",u.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))c="h"===t?(u-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(u-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{var g=this.fractionalToInteger(this.ticks.largeStep),b=this.fractionalToInteger(u);c=(b-n)%g==0}c&&l.classList.add(Qs.large),"h"===t?l.style.width=d+"%":l.style.height=d+"%";var w=c?"Both"===this.ticks.placement?2:1:0;if(c)for(var _=0;_<w;_++)this.createTick(l,u);else h(this.customValues)&&this.formatTicksValue(l,u);this.ul.appendChild(l),this.tickElementCollection.push(l);var C=void 0;h(this.customValues)&&(C=this.numberOfDecimals(e)>this.numberOfDecimals(u)?this.numberOfDecimals(e):this.numberOfDecimals(u),u="h"===t?this.makeRoundNumber(u+e,C):this.makeRoundNumber(u-e,C),p=this.makeRoundNumber(p+e,C))}this.tickesAlignment(t,d)},e.prototype.tickesAlignment=function(t,e){this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add(Qs.sliderFirstTick),this.lastChild.classList.add(Qs.sliderLastTick),this.sliderContainer.classList.add(Qs.scale+"-"+this.ticks.placement.toLowerCase()),"h"===t?(this.firstChild.style.width=e/2+"%",this.lastChild.style.width=e/2+"%"):(this.firstChild.style.height=e/2+"%",this.lastChild.style.height=e/2+"%");var n={ticksWrapper:this.ul,tickElements:this.tickElementCollection};this.trigger("renderedTicks",n),this.scaleAlignment()},e.prototype.createTick=function(t,e){var n=this.createElement("span",{className:Qs.tickValue+" "+Qs.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});t.appendChild(n),n.innerHTML=h(this.customValues)?this.formatTicksValue(t,e):e},e.prototype.formatTicksValue=function(t,e){var n=this.formatNumber(e),i=h(this.ticks)||h(this.ticks.format)?n:this.formatString(e,this.ticksFormatInfo).formatString,r={value:e,text:i,tickElement:t};return this.trigger("renderingTicks",r),t.setAttribute("title",r.text.toString()),r.text.toString()},e.prototype.scaleAlignment=function(){this.tickValuePosition();this.orientation;"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add(Qs.sliderSmallSize):this.sliderContainer.classList.remove(Qs.sliderSmallSize):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add(Qs.sliderSmallSize):this.sliderContainer.classList.remove(Qs.sliderSmallSize)},e.prototype.tickValuePosition=function(){var t,e=this.firstChild.getBoundingClientRect(),n=this.ticks.smallStep,i=Math.abs(parseFloat(y(this.max))-parseFloat(y(this.min)))/n;this.firstChild.children.length>0&&(t=this.firstChild.children[0].getBoundingClientRect());var r,o=[this.sliderContainer.querySelectorAll("."+Qs.tick+"."+Qs.large+" ."+Qs.tickValue)];r="Both"===this.ticks.placement?[].slice.call(o[0],2):[].slice.call(o[0],1);for(var s="Vertical"===this.orientation?2*e.height:2*e.width,a=0;a<this.firstChild.children.length;a++)"Vertical"===this.orientation?this.firstChild.children[a].style.top=-t.height/2+"px":this.enableRtl?this.firstChild.children[a].style.left=(s-this.firstChild.children[a].getBoundingClientRect().width)/2+"px":this.firstChild.children[a].style.left=-t.width/2+"px";for(var a=0;a<r.length;a++){var l=r[a].getBoundingClientRect();"Vertical"===this.orientation?L(r[a],{top:(s-l.height)/2+"px"}):L(r[a],{left:(s-l.width)/2+"px"})}this.enableRtl&&this.lastChild.children.length&&0!==i&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===i&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove(Qs.sliderLastTick),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove(Qs.sliderLastTick),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove(Qs.sliderLastTick))},e.prototype.setAriaAttrValue=function(t){var e,n=!h(this.ticks)&&!h(this.ticks.format),i=n?this.formatContent(this.tooltipFormatInfo,!1):this.formatContent(this.ticksFormatInfo,!1),r=n?this.formatContent(this.ticksFormatInfo,!0):this.formatContent(this.tooltipFormatInfo,!0);i=this.customAriaText?this.customAriaText:i,e=2===i.split(" - ").length?i.split(" - "):[i,i],this.setAriaAttributes(t),"Range"!==this.type?A(t,{"aria-valuenow":r,"aria-valuetext":i}):this.enableRtl?t===this.firstHandle?A(t,{"aria-valuenow":r.split(" - ")[1],"aria-valuetext":e[1]}):A(t,{"aria-valuenow":r.split(" - ")[0],"aria-valuetext":e[0]}):t===this.firstHandle?A(t,{"aria-valuenow":r.split(" - ")[0],"aria-valuetext":e[0]}):A(t,{"aria-valuenow":r.split(" - ")[1],"aria-valuetext":e[1]})},e.prototype.handleValueUpdate=function(){return"Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1},e.prototype.getLimitCorrectedValues=function(t){return t="MinRange"===this.type||"Default"===this.type?this.getLimitValueAndPosition(t,this.limits.minStart,this.limits.minEnd)[0]:1===this.activeHandle?this.getLimitValueAndPosition(t,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(t,this.limits.maxStart,this.limits.maxEnd)[0]},e.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},e.prototype.buttonClick=function(t){this.focusSliderElement();var e,n=this.enableRtl&&"Vertical"!==this.orientation,i=this.handleValueUpdate();40===t.keyCode||37===t.keyCode||t.currentTarget.classList.contains(Qs.firstButton)?e=n?this.add(i,parseFloat(this.step.toString()),!0):this.add(i,parseFloat(this.step.toString()),!1):38===t.keyCode||39===t.keyCode||t.currentTarget.classList.contains(Qs.secondButton)?e=n?this.add(i,parseFloat(this.step.toString()),!1):this.add(i,parseFloat(this.step.toString()),!0):33===t.keyCode||t.currentTarget.classList.contains(Qs.firstButton)?e=n?this.add(i,parseFloat(this.ticks.largeStep.toString()),!1):this.add(i,parseFloat(this.ticks.largeStep.toString()),!0):34===t.keyCode||t.currentTarget.classList.contains(Qs.secondButton)?e=n?this.add(i,parseFloat(this.ticks.largeStep.toString()),!0):this.add(i,parseFloat(this.ticks.largeStep.toString()),!1):36===t.keyCode?e=parseFloat(this.min.toString()):35===t.keyCode&&(e=parseFloat(this.max.toString())),this.limits.enabled&&(e=this.getLimitCorrectedValues(e)),this.changeHandleValue(e),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(Qs.sliderTabHandle)||this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),t.currentTarget.classList.contains(Qs.firstButton)&&ti.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),t.currentTarget.classList.contains(Qs.secondButton)&&ti.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},e.prototype.tooltipToggle=function(t){this.isMaterialTooltip?this.tooltipElement.classList.contains(Qs.materialTooltipOpen)?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(t):this.openTooltip(t)},e.prototype.buttonUp=function(t){t.currentTarget.classList.contains(Qs.firstButton)&&ti.remove(this.firstBtn,"mouseup touchend",this.buttonUp),t.currentTarget.classList.contains(Qs.secondButton)&&ti.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},e.prototype.setRangeBar=function(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",L(this.rangeBar,{width:h(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",L(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",L(this.rangeBar,{height:h(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",L(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))},e.prototype.checkValidValueAndPos=function(t){return t=this.checkHandleValue(t),t=this.checkHandlePosition(t)},e.prototype.setLimitBarPositions=function(t,e,n,i){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=t+"px",this.limitBarFirst.style.width=e-t+"px"):(this.limitBarFirst.style.left=t+"px",this.limitBarFirst.style.width=e-t+"px"):(this.limitBarFirst.style.bottom=t+"px",this.limitBarFirst.style.height=e-t+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.left=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.bottom=n+"px",this.limitBarSecond.style.height=i-n+"px"))},e.prototype.setLimitBar=function(){if("Default"===this.type||"MinRange"===this.type){var t=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);var e=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e),this.setLimitBarPositions(t,e)}else if("Range"===this.type){var n=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];n=this.checkValidValueAndPos(n);var i=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i);var r=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];r=this.checkValidValueAndPos(r);var o=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o),this.setLimitBarPositions(n,i,r,o)}},e.prototype.getLimitValueAndPosition=function(t,e,n,i){return h(e)&&(e=this.min,h(t)&&i&&(t=e)),h(n)&&(n=this.max,h(t)&&i&&(t=n)),t<e&&(t=e),t>n&&(t=n),[t,this.checkHandlePosition(t)]},e.prototype.setValue=function(){if(!h(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1),this.setAriaAttributes(this.firstHandle),this.handleVal1=h(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,h(this.activeHandle)?"Range"===this.type?this.activeHandle=2:this.activeHandle=1:this.activeHandle=this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){var t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed")}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},e.prototype.rangeValueUpdate=function(){null!==this.value&&"object"==typeof this.value||(this.value=[parseFloat(y(this.min)),parseFloat(y(this.max))])},e.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},e.prototype.modifyZindex=function(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=this.zIndex+4+"")},e.prototype.setHandlePosition=function(){var t,e=this,n=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach(function(t){"Horizontal"===e.orientation?e.enableRtl?t.style.right=n+"px":t.style.left=n+"px":t.style.bottom=n+"px"}),this.changeEvent("change")},e.prototype.getHandle=function(){return 1===this.activeHandle?this.firstHandle:this.secondHandle},e.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(),this.activeHandle=2,this.setHandlePosition(),this.activeHandle=1},e.prototype.changeEvent=function(t){var e="change"===t?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),e!==this.value&&(this.trigger(t,this.changeEventArgs(t)),this.setPreviousVal(t,this.value)),this.setAriaAttrValue(this.firstHandle);else{var n=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:n},!0),(e.length===this.value.length&&this.value[0]!==e[0]||this.value[1]!==e[1])&&(this.trigger(t,this.changeEventArgs(t)),this.setPreviousVal(t,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},e.prototype.changeEventArgs=function(t){var e;return this.tooltip.isVisible&&this.tooltipObj?(this.tooltipValue(),e={value:this.value,previousValue:"change"===t?this.previousVal:this.previousChanged,action:t,text:this.tooltipObj.content}):e={value:this.value,previousValue:"change"===t?this.previousVal:this.previousChanged,action:t,text:h(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString},e},e.prototype.setPreviousVal=function(t,e){"change"===t?this.previousVal=e:this.previousChanged=e},e.prototype.updateRangeValue=function(){var t=this.value.toString().split(",").map(Number);if(this.enableRtl&&"Vertical"!==this.orientation||this.rtl?this.value=[t[1],t[0]]:this.value=[t[0],t[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,e=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=e[0],this.handlePos2=e[1],this.preHandlePos2=this.handlePos2}},e.prototype.checkHandlePosition=function(t){var e;return t=100*(t-parseFloat(y(this.min)))/(parseFloat(y(this.max))-parseFloat(y(this.min))),e="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(t/100):this.element.getBoundingClientRect().height*(t/100),parseFloat(y(this.max))===parseFloat(y(this.min))&&(e="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),e},e.prototype.checkHandleValue=function(t){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(y(this.max));var e=this.tempStartEnd();return t<e.start?t=e.start:t>e.end&&(t=e.end),t},e.prototype.reposition=function(){var t=this;this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",L(this.rangeBar,{width:h(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",L(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",L(this.rangeBar,{height:h(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.handlePos1+"px",L(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(function(){t.firstHandle.style.transition=t.scaleTransform,"Range"===t.type&&(t.secondHandle.style.transition=t.scaleTransform)}),this.refreshTooltip(this.tooltipTarget)},e.prototype.changeHandleValue=function(t){var e=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(t),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(e=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(t),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(e=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==e&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition())},e.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},e.prototype.xyToPosition=function(t){if(this.min===this.max)return 100;if("Horizontal"===this.orientation){var e=t.x-this.element.getBoundingClientRect().left,n=this.element.offsetWidth/100;this.val=e/n}else{var i=t.y-this.element.getBoundingClientRect().top,n=this.element.offsetHeight/100;this.val=100-i/n}var r=this.stepValueCalculation(this.val);return r<0?r=0:r>100&&(r=100),this.enableRtl&&"Vertical"!==this.orientation&&(r=100-r),"Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(r/100):this.element.getBoundingClientRect().height*(r/100)},e.prototype.stepValueCalculation=function(t){0===this.step&&(this.step=1);var e=parseFloat(y(this.step))/((parseFloat(y(this.max))-parseFloat(y(this.min)))/100),n=t%Math.abs(e);return 0!==n&&(e/2>n?t-=n:t+=Math.abs(e)-n),t},e.prototype.add=function(t,e,n){var i=Math.pow(10,3);return n?(Math.round(t*i)+Math.round(e*i))/i:(Math.round(t*i)-Math.round(e*i))/i},e.prototype.positionToValue=function(t){var e,n=parseFloat(y(this.max))-parseFloat(y(this.min));return e="Horizontal"===this.orientation?t/this.element.getBoundingClientRect().width*n:t/this.element.getBoundingClientRect().height*n,this.add(e,parseFloat(this.min.toString()),!0)},e.prototype.sliderBarClick=function(t){t.preventDefault();var e;"mousedown"===t.type||"click"===t.type?e={x:t.clientX,y:t.clientY}:"touchstart"===t.type&&(e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY});var n=this.xyToPosition(e),i=this.positionToValue(n);if("Range"===this.type&&this.handlePos2-n<n-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled){var r=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd);i=r[0],n=r[1]}this.secondHandle.classList.add(Qs.sliderActiveHandle),this.handlePos2=this.preHandlePos2=n,this.handleVal2=i}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);i=r[0],n=r[1]}this.firstHandle.classList.add(Qs.sliderActiveHandle),this.handlePos1=this.preHandlePos1=n,this.handleVal1=i}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add(Qs.materialTooltipActive);var o=this.element.querySelector("."+Qs.sliderTabHandle);o&&this.getHandle()!==o&&o.classList.remove(Qs.sliderTabHandle);var s=1===this.activeHandle?this.firstHandle:this.secondHandle;if(t.target===s)return!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(Qs.sliderTabHandle)||this.materialChange(),void this.tooltipToggle(this.getHandle());if(this.checkRepeatedValue(i)){var a=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=a.handle,"Default"!==this.type&&(this.rangeBar.style.transition=a.rangeBar),this.setHandlePosition(),"Default"!==this.type&&this.setRangeBar()}},e.prototype.sliderDown=function(t){var e,n;if(t.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&t.target===this.rangeBar){var i=void 0,r=void 0;"mousedown"===t.type?(e=[t.clientX,t.clientY],i=e[0],r=e[1]):"touchstart"===t.type&&(n=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],i=n[0],r=n[1]),"Horizontal"===this.orientation?(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-i):(this.firstPartRemain=r-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-r),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var o=this.element.querySelector("."+Qs.sliderTabHandle);o&&o.classList.remove(Qs.sliderTabHandle),ti.add(document,"mousemove touchmove",this.dragRangeBarMove,this),ti.add(document,"mouseup touchend",this.dragRangeBarUp,this)}else this.sliderBarClick(t),ti.add(document,"mousemove touchmove",this.sliderBarMove,this),ti.add(document,"mouseup touchend",this.sliderBarUp,this)},e.prototype.handleValueAdjust=function(t,e,n){1===n?(this.handleVal1=e,this.handleVal2=this.handleVal1+this.minDiff):2===n&&(this.handleVal2=e,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},e.prototype.dragRangeBarMove=function(t){var e,n;"touchmove"!==t.type&&t.preventDefault();var i;this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none";var r,o;if("mousemove"===t.type?(e=[t.clientX,t.clientY],r=e[0],o=e[1]):(n=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],r=n[0],o=n[1]),!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(i=this.enableRtl?{x:r+this.secondPartRemain,y:o+this.secondPartRemain}:{x:r-this.firstPartRemain,y:o+this.secondPartRemain},this.handlePos1=this.xyToPosition(i),this.handleVal1=this.positionToValue(this.handlePos1),i=this.enableRtl?{x:r-this.firstPartRemain,y:o-this.firstPartRemain}:{x:r+this.secondPartRemain,y:o-this.firstPartRemain},this.handlePos2=this.xyToPosition(i),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){var s=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=s[0],this.handlePos1=s[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),s=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=s[0],this.handlePos2=s[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(),this.activeHandle=2,this.setHandlePosition(),this.tooltipToggle(this.rangeBar),this.setRangeBar()},e.prototype.sliderBarUp=function(){this.changeEvent("changed"),this.handleFocusOut(),this.firstHandle.classList.remove(Qs.sliderActiveHandle),"Range"===this.type&&this.secondHandle.classList.remove(Qs.sliderActiveHandle),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove(Qs.materialTooltipActive)),ti.remove(document,"mousemove touchmove",this.sliderBarMove),ti.remove(document,"mouseup touchend",this.sliderBarUp)},e.prototype.sliderBarMove=function(t){"touchmove"!==t.type&&t.preventDefault();var e;e="mousemove"===t.type?{x:t.clientX,y:t.clientY}:{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};var n=this.xyToPosition(e),i=this.positionToValue(n);if(n=Math.round(n),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);n=r[1],i=r[0]}this.handlePos1=n,this.handleVal1=i}this.firstHandle.classList.add(Qs.sliderActiveHandle)}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add(Qs.sliderActiveHandle),!(this.limits.enabled&&this.limits.startHandleFixed||(n>this.handlePos2&&(n=this.handlePos2,i=this.handleVal2),n===this.preHandlePos1))){if(this.limits.enabled){var o=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);i=o[0],n=o[1]}this.handlePos1=this.preHandlePos1=n,this.handleVal1=i,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add(Qs.sliderActiveHandle),!(this.limits.enabled&&this.limits.endHandleFixed||(n<this.handlePos1&&(n=this.handlePos1,i=this.handleVal1),n===this.preHandlePos2)))){if(this.limits.enabled){var o=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd);i=o[0],n=o[1]}this.handlePos2=this.preHandlePos2=n,this.handleVal2=i,this.activeHandle=2}this.checkRepeatedValue(i)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(Qs.sliderTabHandle)||this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())},e.prototype.dragRangeBarUp=function(t){this.changeEvent("changed"),this.closeTooltip(),ti.remove(document,"mousemove touchmove",this.dragRangeBarMove),ti.remove(document,"mouseup touchend",this.dragRangeBarUp)},e.prototype.checkRepeatedValue=function(t){if("Range"===this.type){if(t===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(t===this.previousVal)return 0;return 1},e.prototype.refreshTooltip=function(t){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),t&&(this.tooltipObj.refresh(t),this.tooltipTarget=t))},e.prototype.openTooltip=function(t){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(t),this.tooltipTarget=t)},e.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},e.prototype.keyDown=function(t){switch(t.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:t.preventDefault(),this.buttonClick(t)}},e.prototype.wireButtonEvt=function(t){t?(ti.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),ti.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),ti.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),ti.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),ti.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),ti.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),ti.remove(this.firstBtn,"focusout",this.sliderFocusOut),ti.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(ti.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),ti.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),ti.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),ti.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),ti.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),ti.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),ti.add(this.firstBtn,"focusout",this.sliderFocusOut,this),ti.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},e.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(ti.add(this.element,"mousedown touchstart",this.sliderDown,this),ti.add(this.sliderContainer,"keydown",this.keyDown,this),ti.add(this.sliderContainer,"keyup",this.keyUp,this),ti.add(this.element,"focusout",this.sliderFocusOut,this),ti.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&ti.add(this.formElement,"reset",this.formResetHandler,this))},e.prototype.unwireEvents=function(){ti.remove(this.element,"mousedown touchstart",this.sliderDown),ti.remove(this.sliderContainer,"keydown",this.keyDown),ti.remove(this.sliderContainer,"keyup",this.keyUp),ti.remove(this.element,"focusout",this.sliderFocusOut),ti.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),ti.remove(this.element,"reset",this.formResetHandler)},e.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},e.prototype.keyUp=function(t){if(9===t.keyCode&&t.target.classList.contains(Qs.sliderHandle)&&(this.focusSliderElement(),!t.target.classList.contains(Qs.sliderTabHandle))){this.element.querySelector("."+Qs.sliderTabHandle)&&this.element.querySelector("."+Qs.sliderTabHandle).classList.remove(Qs.sliderTabHandle),t.target.classList.add(Qs.sliderTabHandle);var e=t.target.parentElement;e===this.element&&(e.querySelector("."+Qs.sliderTrack).classList.add(Qs.sliderTabTrack),"Range"!==this.type&&"MinRange"!==this.type||e.querySelector("."+Qs.rangeBar).classList.add(Qs.sliderTabRange)),"Range"===this.type&&(t.target.previousSibling.classList.contains(Qs.sliderHandle)?this.activeHandle=2:this.activeHandle=1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed")},e.prototype.hover=function(t){h(t)||("mouseover"===t.type||"touchmove"===t.type||"mousemove"===t.type||"pointermove"===t.type||"touchstart"===t.type?this.sliderContainer.classList.add(Qs.sliderHover):this.sliderContainer.classList.remove(Qs.sliderHover))},e.prototype.sliderFocusOut=function(t){t.relatedTarget!==this.secondHandle&&t.relatedTarget!==this.firstHandle&&t.relatedTarget!==this.element&&t.relatedTarget!==this.firstBtn&&t.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.element.querySelector("."+Qs.sliderTabHandle)&&this.element.querySelector("."+Qs.sliderTabHandle).classList.remove(Qs.sliderTabHandle),this.element.querySelector("."+Qs.sliderTabTrack)&&(this.element.querySelector("."+Qs.sliderTabTrack).classList.remove(Qs.sliderTabTrack),"Range"!==this.type&&"MinRange"!==this.type||!this.element.querySelector("."+Qs.sliderTabRange)||this.element.querySelector("."+Qs.sliderTabRange).classList.remove(Qs.sliderTabRange)),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},e.prototype.removeElement=function(t){t.parentNode&&t.parentNode.removeChild(t)},e.prototype.changeSliderType=function(t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove(Qs.materialSlider),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==t&&("Range"===t&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!h(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===t||"Default"===t?h(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):h(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.updateConfig()},e.prototype.changeRtl=function(){if(this.enableRtl||"Range"!==this.type||(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var t=this.enableRtl&&"Vertical"!==this.orientation;A(t?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),A(t?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},e.prototype.changeOrientation=function(){this.changeSliderType(this.type)},e.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},e.prototype.limitsPropertyChange=function(){this.limits.enabled?(h(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),h(this.limitBarFirst)&&h(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(h(this.limitBarFirst)||D(this.limitBarFirst),h(this.limitBarSecond)||D(this.limitBarSecond))},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),E([this.sliderContainer],[Qs.sliderDisabled]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),D(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML=""},e.prototype.onPropertyChanged=function(t,e){for(var n=this,i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"cssClass":this.setCSSClass(e.cssClass);break;case"value":if(t&&e){var o=h(t.value)?"Range"===this.type?[this.min,this.max]:this.min:t.value;this.setProperties({value:o},!0),e.value.toString()!==o.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(h(t.value)||e.value[1]===o[1]?this.activeHandle=1:this.activeHandle=2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":h(t.tooltip)||h(e.tooltip)||this.setTooltip();break;case"type":this.changeSliderType(e.type),this.setZindex();break;case"enableRtl":e.enableRtl!==t.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=e.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":h(this.sliderContainer.querySelector("."+Qs.scale))||(D(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(t){t.match(/e-scale-/)&&n.sliderContainer.classList.remove(t)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":t.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove(Qs.sliderButtonClass),this.firstBtn=void 0,this.secondBtn=void 0);break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition()}}},e.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add(Qs.readonly)):(this.wireEvents(),this.sliderContainer.classList.remove(Qs.readonly))},e.prototype.setMinMaxValue=function(){var t=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),h(this.sliderContainer.querySelector("."+Qs.scale))||this.ul&&(D(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(e){e.match(/e-scale-/)&&t.sliderContainer.classList.remove(e)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())},e.prototype.setZindex=function(){this.zIndex=6,h(this.ticks)||"None"===this.ticks.placement||(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),this.isMaterial||h(this.ticks)||"Both"!==this.ticks.placement||(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},e.prototype.setTooltip=function(){this.changeSliderType(this.type)},e.prototype.getModuleName=function(){return"slider"},Ys([G(null)],e.prototype,"value",void 0),Ys([G(null)],e.prototype,"customValues",void 0),Ys([G(1)],e.prototype,"step",void 0),Ys([G(0)],e.prototype,"min",void 0),Ys([G(100)],e.prototype,"max",void 0),Ys([G(!1)],e.prototype,"readonly",void 0),Ys([G("Default")],e.prototype,"type",void 0),Ys([X({},Gs)],e.prototype,"ticks",void 0),Ys([X({},Xs)],e.prototype,"limits",void 0),Ys([G(!0)],e.prototype,"enabled",void 0),Ys([G(!1)],e.prototype,"enableRtl",void 0),Ys([X({},Ks)],e.prototype,"tooltip",void 0),Ys([G(!1)],e.prototype,"showButtons",void 0),Ys([G(!0)],e.prototype,"enableAnimation",void 0),Ys([G("Horizontal")],e.prototype,"orientation",void 0),Ys([G("")],e.prototype,"cssClass",void 0),Ys([Q()],e.prototype,"created",void 0),Ys([Q()],e.prototype,"change",void 0),Ys([Q()],e.prototype,"changed",void 0),Ys([Q()],e.prototype,"renderingTicks",void 0),Ys([Q()],e.prototype,"renderedTicks",void 0),Ys([Q()],e.prototype,"tooltipChange",void 0),e=Ys([Z],e)}(tr),Js=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ta={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,5}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")};!function(t){t[t.Message=0]="Message",t[t.Label=1]="Label"}(Ps||(Ps={}));var ea,na=(function(t){function e(e,n){var i=t.call(this,n,e)||this;if(i.validated=[],i.errorRules=[],i.allowSubmit=!1,i.required="required",i.infoElement=null,i.inputElement=null,i.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",i.localyMessage={},i.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===i.rules&&(i.rules={}),i.l10n=new pr("formValidator",i.defaultMessages,i.locale),i.locale&&i.localeFunc(),qi.on("notifyExternalChange",i.afterLocalization,i),e="string"==typeof e?O(e,document):e,null!=i.element)return i.element.setAttribute("novalidate",""),i.inputElements=I(i.selectQuery,i.element),i.createHTML5Rules(),i.wireEvents(),i}Js(e,t),n=e,e.prototype.addRules=function(t,e){t&&(this.rules.hasOwnProperty(t)?c(this.rules[t],e,{}):this.rules[t]=e)},e.prototype.removeRules=function(t,e){if(t||e)if(this.rules[t]&&!e)delete this.rules[t];else{if(h(this.rules[t]&&e))return;for(var n=0;n<e.length;n++)delete this.rules[t][e[n]]}else this.rules={}},e.prototype.validate=function(t){var e=Object.keys(this.rules);if(t&&e.length)return this.validateRules(t),-1!==e.indexOf(t)&&0===this.errorRules.filter(function(e){return e.name===t}).length;this.errorRules=[];for(var n=0,i=e;n<i.length;n++){var r=i[n];this.validateRules(r)}return 0===this.errorRules.length},e.prototype.reset=function(){this.element.reset(),this.clearForm()},e.prototype.getInputElement=function(t){return this.inputElement=O('[name="'+t+'"]',this.element),this.inputElement},e.prototype.destroy=function(){this.reset(),this.unwireEvents(),this.rules={};for(var e=I("."+this.errorClass+", ."+this.validClass,this.element),n=0,i=e;n<i.length;n++){i[n].remove()}t.prototype.destroy.call(this),qi.off("notifyExternalChange",this.afterLocalization)},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"locale":this.localeFunc()}}},e.prototype.localeFunc=function(){for(var t=0,e=Object.keys(this.defaultMessages);t<e.length;t++){var n=e[t];this.l10n.setLocale(this.locale);var i=this.l10n.getConstant(n);this.localyMessage[n]=i}},e.prototype.getModuleName=function(){return"formValidator"},e.prototype.afterLocalization=function(t){this.locale=t.locale,this.localeFunc()},e.prototype.clearForm=function(){this.errorRules=[],this.validated=[];for(var t=I(this.selectQuery,this.element),e=0,n=t;e<n.length;e++){var i=n[e],r=i;r.removeAttribute("aria-invalid"),r.classList.remove(this.errorClass),r.name.length>0&&(this.getInputElement(r.name),this.getErrorElement(r.name),this.hideMessage(r.name)),r.classList.remove(this.validClass)}},e.prototype.createHTML5Rules=function(){for(var t=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],e=["hidden","email","url","date","number","tel"],n=0,i=this.inputElements;n<i.length;n++){for(var r=i[n],o={},s=0,a=t;s<a.length;s++){var l=a[s];if(null!==r.getAttribute(l))switch(l){case"required":this.defRule(r,o,l,r.required);break;case"data-validation":l=r.getAttribute(l),this.defRule(r,o,l,!0);break;case"type":-1!==e.indexOf(r.type)&&this.defRule(r,o,r.type,!0);break;case"rangeLength":case"range":this.defRule(r,o,l,JSON.parse(r.getAttribute(l)));break;case"equalTo":var u=r.getAttribute(l);this.defRule(r,o,l,u);break;default:"true"===r.getAttribute("data-val")?this.annotationRule(r,o,l,r.getAttribute(l)):this.defRule(r,o,l,r.getAttribute(l))}}0!==Object.keys(o).length&&this.addRules(r.name,o)}},e.prototype.annotationRule=function(t,e,n,i){var r=n.split("-"),o=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],s=r[r.length-1],a=r[r.length-2];if(-1!==o.indexOf(s))switch(s){case"required":this.defRule(t,e,"required",i);break;case"creditcard":this.defRule(t,e,"creditcard",i);break;case"phone":this.defRule(t,e,"tel",i)}else if(-1!==o.indexOf(a))switch(a){case"maxlength":this.defRule(t,e,"maxLength",i);break;case"minlength":this.defRule(t,e,"minLength",i);break;case"range":var l=t.getAttribute("data-val-range-min"),u=t.getAttribute("data-val-range-max");this.defRule(t,e,"range",[l,u]);break;case"equalto":var c=t.getAttribute(n).split(".");this.defRule(t,e,"equalTo",c[c.length-1]);break;case"regex":this.defRule(t,e,"regex",i)}},e.prototype.defRule=function(t,e,n,i){var r,o=t.getAttribute("data-"+n+"-message"),s=t.getAttribute("data-val-"+n);this.rules[t.name]&&"validateHidden"!==n&&"hidden"!==n&&(this.getInputElement(t.name),r=this.getErrorMessage(this.rules[t.name][n],n)),o?i=[i,o]:s?i=[i,s]:r&&(i=[i,r]),e[n]=i},e.prototype.wireEvents=function(){for(var t=0,e=this.inputElements;t<e.length;t++){var i=e[t];n.isCheckable(i)?ti.add(i,"click",this.clickHandler,this):"SELECT"===i.tagName?ti.add(i,"change",this.changeHandler,this):(ti.add(i,"focusout",this.focusOutHandler,this),ti.add(i,"keyup",this.keyUpHandler,this))}ti.add(this.element,"submit",this.submitHandler,this),ti.add(this.element,"reset",this.resetHandler,this)},e.prototype.unwireEvents=function(){for(var t=0,e=this.inputElements;t<e.length;t++){var n=e[t];ti.clearEvents(n)}ti.remove(this.element,"submit",this.submitHandler),ti.remove(this.element,"reset",this.resetHandler)},e.prototype.focusOutHandler=function(t){this.trigger("focusout",t);var e=t.target;this.rules[e.name]&&(this.rules[e.name][this.required]||e.value.length>0?this.validate(e.name):-1===this.validated.indexOf(e.name)&&this.validated.push(e.name))},e.prototype.keyUpHandler=function(t){this.trigger("keyup",t);var e=t.target,n=[16,17,18,20,35,36,37,38,39,40,45,144,225];(9!==t.which||this.rules[e.name]&&(!this.rules[e.name]||this.rules[e.name][this.required]))&&-1!==this.validated.indexOf(e.name)&&this.rules[e.name]&&-1===n.indexOf(t.which)&&this.validate(e.name)},e.prototype.clickHandler=function(t){this.trigger("click",t);var e=t.target;"submit"!==e.type?this.validate(e.name):null!==e.getAttribute("formnovalidate")&&(this.allowSubmit=!0)},e.prototype.changeHandler=function(t){this.trigger("change",t);var e=t.target;this.validate(e.name)},e.prototype.submitHandler=function(t){this.trigger("submit",t),this.allowSubmit||this.validate()?this.allowSubmit=!1:t.preventDefault()},e.prototype.resetHandler=function(){this.clearForm()},e.prototype.validateRules=function(t){if(this.rules[t]){var e=Object.keys(this.rules[t]),n=!1,i=!1,r=e.indexOf("validateHidden"),o=e.indexOf("hidden");if(this.getInputElement(t),-1!==o&&(n=!0),-1!==r&&(i=!0),!n||n&&i){-1!==r&&e.splice(r,1),-1!==o&&e.splice(o-1,1),this.getErrorElement(t);for(var s=0,a=e;s<a.length;s++){var l=a[s],u=this.getErrorMessage(this.rules[t][l],l),c={name:t,message:u},h={inputName:t,element:this.inputElement,message:u};if(!this.isValid(t,l)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(t),this.errorRules.push(c),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info"),this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.infoElement?this.showMessage(c):this.createErrorElement(t,c.message,this.inputElement),h.errorElement=this.infoElement,h.status="failure",this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.optionalValidationStatus(t,h),this.trigger("validationComplete",h),"required"===l&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(t),h.status="success",this.trigger("validationComplete",h)}}}},e.prototype.optionalValidationStatus=function(t,e){this.rules[t][this.required]||this.inputElement.value.length||h(this.infoElement)||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),e.status="",this.hideMessage(t))},e.prototype.isValid=function(t,e){var i=this.rules[t][e],r=i instanceof Array&&"string"==typeof i[1]?i[0]:i,o=this.rules[t][e],s={value:this.inputElement.value,param:r,element:this.inputElement,formElement:this.element};if(this.trigger("validationBegin",s),o&&"function"==typeof o[0]){return o[0].call(this,{element:this.inputElement,value:this.inputElement.value})}return n.isCheckable(this.inputElement)?"required"!==e||I("input[name="+t+"]:checked",this.element).length>0:n.checkValidator[e](s)},e.prototype.getErrorMessage=function(t,e){var n=this.inputElement.getAttribute("data-"+e+"-message")?this.inputElement.getAttribute("data-"+e+"-message"):t instanceof Array&&"string"==typeof t[1]?t[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[e]:this.defaultMessages[e],i=n.match(/{(\d)}/g);if(!h(i))for(var r=0;r<i.length;r++){var o=t instanceof Array?t[r]:t;n=n.replace(i[r],o)}return n},e.prototype.createErrorElement=function(t,e,n){var i=_(this.errorElement,{className:this.errorClass,innerHTML:e,attrs:{for:t}});if(this.errorOption===Ps.Message&&(i.classList.remove(this.errorClass),i.classList.add("e-message"),i=_(this.errorContainer,{className:this.errorClass,innerHTML:i.outerHTML})),i.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+n.id+'"]'))this.element.querySelector('[data-valmsg-for="'+n.id+'"]').appendChild(i);else if(!0===n.hasAttribute("data-msg-containerid")){var r=n.getAttribute("data-msg-containerid"),o=this.element.querySelector("#"+r);o.appendChild(i)}else null!=this.customPlacement?this.customPlacement.call(this,this.inputElement,i):this.inputElement.parentNode.insertBefore(i,this.inputElement.nextSibling);i.style.display="block",this.getErrorElement(t),this.validated.push(t),this.checkRequired(t)},e.prototype.getErrorElement=function(t){return this.infoElement=O(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=O(this.errorElement+"."+this.errorClass+'[for="'+t+'"]',this.element)),this.infoElement},e.prototype.removeErrorRules=function(t){for(var e=0;e<this.errorRules.length;e++){this.errorRules[e].name===t&&this.errorRules.splice(e,1)}},e.prototype.showMessage=function(t){this.infoElement.style.display="block",this.infoElement.innerHTML=t.message,this.checkRequired(t.name)},e.prototype.hideMessage=function(t){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(t),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))},e.prototype.checkRequired=function(t){this.rules[t][this.required]||this.inputElement.value.length||h(this.infoElement)||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(t))},e.isCheckable=function(t){var e=t.getAttribute("type");return e&&("checkbox"===e||"radio"===e||"submit"===e)};var n;e.checkValidator={required:function(t){return t.value.length>0},email:function(t){return ta.EMAIL.test(t.value)},url:function(t){return ta.URL.test(t.value)},dateIso:function(t){return ta.DATE_ISO.test(t.value)},tel:function(t){return ta.PHONE.test(t.value)},creditcard:function(t){return ta.CREDITCARD.test(t.value)},number:function(t){return!isNaN(Number(t.value))&&-1===t.value.indexOf(" ")},digits:function(t){return ta.DIGITS.test(t.value)},maxLength:function(t){return t.value.length<=t.param},minLength:function(t){return t.value.length>=t.param},rangeLength:function(t){var e=t.param;return t.value.length>=e[0]&&t.value.length<=e[1]},range:function(t){var e=t.param;return!isNaN(Number(t.value))&&Number(t.value)>=e[0]&&Number(t.value)<=e[1]},date:function(t){return!isNaN(new Date(t.value).getTime())},max:function(t){return isNaN(Number(t.value))?new Date(t.value).getTime()<=new Date(JSON.parse(JSON.stringify(t.param))).getTime():+t.value<=t.param},min:function(t){if(isNaN(Number(t.value))){if(-1!==t.value.indexOf(",")){var e=t.value.replace(/,/g,"");return parseFloat(e)>=t.param}return new Date(t.value).getTime()>=new Date(JSON.parse(JSON.stringify(t.param))).getTime()}return+t.value>=t.param},regex:function(t){return new RegExp(t.param).test(t.value)},equalTo:function(t){var e=t.formElement.querySelector("#"+t.param);return t.param=e.value,t.param===t.value}},$s([G("")],e.prototype,"locale",void 0),$s([G("e-hidden")],e.prototype,"ignore",void 0),$s([G()],e.prototype,"rules",void 0),$s([G("e-error")],e.prototype,"errorClass",void 0),$s([G("e-valid")],e.prototype,"validClass",void 0),$s([G("label")],e.prototype,"errorElement",void 0),$s([G("div")],e.prototype,"errorContainer",void 0),$s([G(Ps.Label)],e.prototype,"errorOption",void 0),$s([Q()],e.prototype,"focusout",void 0),$s([Q()],e.prototype,"keyup",void 0),$s([Q()],e.prototype,"click",void 0),$s([Q()],e.prototype,"change",void 0),$s([Q()],e.prototype,"submit",void 0),$s([Q()],e.prototype,"validationBegin",void 0),$s([Q()],e.prototype,"validationComplete",void 0),$s([Q()],e.prototype,"customPlacement",void 0),e=n=$s([Z],e)}(ri),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ia=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ra="e-upload-file-list",oa="e-file-status",sa="e-file-remove-btn",aa="e-file-delete-btn",la="e-file-abort-btn",ua="e-file-reload-btn",ca="e-upload-progress-wrap",ha="e-upload-progress-bar",pa="e-upload-success",da="e-upload-fails",fa="e-file-pause-btn",ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return na(e,t),ia([G("")],e.prototype,"name",void 0),ia([G(null)],e.prototype,"size",void 0),ia([G("")],e.prototype,"type",void 0),e}(_i),va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return na(e,t),ia([G("Browse...")],e.prototype,"browse",void 0),ia([G("Upload")],e.prototype,"upload",void 0),ia([G("Clear")],e.prototype,"clear",void 0),e}(_i),ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return na(e,t),ia([G("")],e.prototype,"saveUrl",void 0),ia([G("")],e.prototype,"removeUrl",void 0),ia([G(0)],e.prototype,"chunkSize",void 0),ia([G(3)],e.prototype,"retryCount",void 0),ia([G(500)],e.prototype,"retryAfterDelay",void 0),e}(_i),ga=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.initialAttr={accept:null,multiple:!1,disabled:!1},i.fileList=[],i.filesData=[],i.uploadedFilesData=[],i.isForm=!1,i.allTypes=!1,i.pausedData=[],i.uploadMetaData=[],i.tabIndex="0",i.btnTabIndex="0",i.disableKeyboardNavigation=!1,i.count=-1,i.actionCompleteCount=0,i.flag=!0,i.selectedFiles=[],i}na(e,t),e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=h(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=h(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=h(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.setDropArea();break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"minFileSize":case"maxFileSize":case"template":case"autoUpload":case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=o("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(e.cssClass)}}},e.prototype.setLocalizedTexts=function(){h(this.template)&&("string"==typeof this.buttons.browse&&(this.browseButton.innerText="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper.querySelector(".e-file-drop").innerHTML=this.localizedTexts("dropFilesHint")),this.updateFileList())},e.prototype.getKeyValue=function(t){for(var e,n=0,i=Object.keys(this.preLocaleObj);n<i.length;n++){var r=i[n];this.preLocaleObj[r]===t&&(e=r)}return e},e.prototype.updateFileList=function(){var t;if(this.fileList.length>0&&!h(this.uploadWrapper.querySelector(".e-upload-files")))for(var e=0;e<this.fileList.length;e++)t=this.fileList[e].querySelector(".e-file-status"),t.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[e].status)),this.filesData[e].status=this.localizedTexts(this.getKeyValue(this.filesData[e].status)),this.fileList[e].classList.contains(pa)&&this.fileList[e].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[e].querySelector(".e-file-play-btn")&&this.fileList[e].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[e].querySelector(".e-file-remove-btn")&&this.fileList[e].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[e].querySelector(".e-file-reload-btn")&&this.fileList[e].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))},e.prototype.reRenderFileList=function(){this.listParent&&(D(this.listParent),this.listParent=null,this.fileList=[],this.createFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))},e.prototype.preRender=function(){this.cloneElement=this.element.cloneNode(!0),this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled"},this.l10n=new pr("uploader",this.localeText,this.locale),this.preLocaleObj=o("currentLocale",this.l10n),this.checkHTMLAttributes();var t=N(this.element,"form");if(!h(t))for(;t&&t!==document.documentElement;t=t.parentElement)"FORM"===t.tagName&&(this.isForm=!0,this.formElement=t,t.setAttribute("enctype","multipart/form-data"),t.setAttribute("encoding","multipart/form-data"));var e=o("ej2_instances",this.element);if("EJS-UPLOADER"===this.element.tagName){var n=this.createElement("input",{attrs:{type:"file"}}),i=0;for(i;i<this.element.attributes.length;i++)n.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),n.innerHTML=this.element.innerHTML;n.hasAttribute("name")||n.setAttribute("name","UploadFiles"),this.element.appendChild(n),this.element=n,s("ej2_instances",e,this.element)}e[0].isPureReactComponent&&(h(e[0].props.name)?!h(e[0].props.id)&&h(e[0].props.name)?this.element.setAttribute("name",e[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",e[0].props.name)),h(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=mi.info.name},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.getModuleName=function(){return"uploader"},e.prototype.updateDirectoryAttributes=function(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))},e.prototype.render=function(){this.renderBrowseButton(),this.initializeUpload(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()},e.prototype.renderBrowseButton=function(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),"string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")},e.prototype.renderActionButtons=function(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:"e-upload-actions"}),this.uploadButton=this.createElement("button",{className:"e-file-upload-btn e-css e-btn e-flat e-primary",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.clearButton=this.createElement("button",{className:"e-file-clear-btn e-css e-btn e-flat",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.uploadButton.focus(),this.wireActionButtonEvents()},e.prototype.wireActionButtonEvents=function(){ti.add(this.uploadButton,"click",this.uploadButtonClick,this),ti.add(this.clearButton,"click",this.clearButtonClick,this)},e.prototype.unwireActionButtonEvents=function(){ti.remove(this.uploadButton,"click",this.uploadButtonClick),ti.remove(this.clearButton,"click",this.clearButtonClick)},e.prototype.removeActionButtons=function(){this.actionButtons&&(this.unwireActionButtonEvents(),D(this.actionButtons),this.actionButtons=null)},e.prototype.renderButtonTemplates=function(){if("string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){var t=void 0;t=h(this.buttons.upload)?"Upload":this.buttons.upload,this.buttons.upload=t,"string"==typeof this.buttons.upload?(this.uploadButton.textContent="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){var e=void 0;e=h(this.buttons.clear)?"Clear":this.buttons.clear,this.buttons.clear=e,"string"==typeof this.buttons.clear?(this.clearButton.textContent="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}},e.prototype.initializeUpload=function(){this.element.setAttribute("tabindex","-1");var t=this.createElement("span",{className:"e-file-select"});this.element.parentElement.insertBefore(t,this.element),this.dropAreaWrapper=this.createElement("div",{className:"e-file-select-wrap"}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),t.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(t);var e=this.createElement("span",{className:"e-file-drop"});e.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(e),this.uploadWrapper=this.createElement("div",{className:"e-upload"}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()},e.prototype.renderPreLoadFiles=function(){if(!h(this.files[0].size)){var t=[].slice.call(this.files),e=[];this.multiple||(this.clearData(),t=[t[0]]);for(var n=0,i=t;n<i.length;n++){var r=i[n],o={name:r.name+"."+r.type.split(".")[r.type.split(".").length-1],rawFile:"",size:r.size,status:this.localizedTexts("uploadSuccessMessage"),type:r.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};e.push(o),this.filesData.push(o)}this.createFileList(e),this.autoUpload||!this.listParent||this.actionButtons||this.isForm&&!this.allowUpload()||!this.showFileList||this.renderActionButtons(),this.checkActionButtonStatus()}},e.prototype.checkActionButtonStatus=function(){if(this.actionButtons){var t=this.uploadWrapper.querySelectorAll(".e-validation-fails").length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+pa).length+this.uploadWrapper.querySelectorAll("span.e-upload-progress").length;t>0&&t===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}},e.prototype.setDropArea=function(){var t=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement="string"!=typeof this.dropArea?this.dropArea:document.querySelector(this.dropArea);for(var e=this.element,n=!1;e.parentNode;)(e=e.parentNode)===this.dropZoneElement&&(n=!0,t.textContent=this.localizedTexts("dropFilesHint"));n||(t.textContent="")}else this.dropZoneElement=this.uploadWrapper,t.textContent=this.localizedTexts("dropFilesHint");this.bindDropEvents()},e.prototype.setMultipleSelection=function(){if(this.multiple&&!this.element.hasAttribute("multiple")){var t=document.createAttribute("multiple");t.value="multiple",this.element.setAttributeNode(t)}else this.multiple||this.element.removeAttribute("multiple")},e.prototype.checkAutoUpload=function(t){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(t):this.upload(t),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()},e.prototype.sequenceUpload=function(t){if(this.filesData.length-t.length==0||"1"!==this.filesData[this.filesData.length-t.length-1].statusCode){++this.count;var e=!this.showFileList;"object"==typeof this.filesData[this.count]?(this.upload(this.filesData[this.count],e),"0"===this.filesData[this.count].statusCode&&this.sequenceUpload(t)):--this.count}},e.prototype.setCSSClass=function(t){this.cssClass&&C([this.uploadWrapper],this.cssClass.split(this.cssClass.indexOf(",")>-1?",":" ")),t&&E([this.uploadWrapper],t.split(" "))},e.prototype.wireEvents=function(){ti.add(this.browseButton,"click",this.browseButtonClick,this),ti.add(this.element,"change",this.onSelectFiles,this),ti.add(document,"click",this.removeFocus,this),this.keyboardModule=new hr(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&ti.add(this.formElement,"reset",this.resetForm,this)},e.prototype.unWireEvents=function(){ti.remove(this.browseButton,"click",this.browseButtonClick),ti.remove(this.element,"change",this.onSelectFiles),ti.remove(document,"click",this.removeFocus),this.isForm&&ti.remove(this.formElement,"reset",this.resetForm),this.keyboardModule.destroy()},e.prototype.resetForm=function(){this.clearAll()},e.prototype.keyActionHandler=function(t){var e=t.target;switch(t.action){case"enter":if(t.target===this.clearButton)this.clearButtonClick();else if(t.target===this.uploadButton)this.uploadButtonClick();else if(t.target===this.browseButton)this.browseButtonClick();else if(e.classList.contains(fa)){var n=this.getCurrentMetaData(null,t);n.file.statusCode="4",n.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(n,!1)}else if(e.classList.contains("e-file-play-btn"))this.resumeUpload(this.getCurrentMetaData(null,t),t);else if(e.classList.contains(ua)){var n=this.getCurrentMetaData(null,t);if(h(n)){var i=t.target.parentElement,r=this.filesData[this.fileList.indexOf(i)];this.retry(r)}else n.file.statusCode="1",n.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(n.file)}else this.removeFiles(t),e.classList.contains(la)||this.browseButton.focus();t.preventDefault(),t.stopPropagation()}},e.prototype.getCurrentMetaData=function(t,e){var n,i;if(h(t)){var r=e.target.parentElement;n=this.filesData[this.fileList.indexOf(r)]}else n=t;for(var o=0;o<this.uploadMetaData.length;o++)this.uploadMetaData[o].file.name===n.name&&(i=this.uploadMetaData[o]);return i},e.prototype.removeFocus=function(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector(".e-clear-icon-focus")&&(document.activeElement.blur(),this.listParent.querySelector(".e-clear-icon-focus").classList.remove("e-clear-icon-focus"))},e.prototype.browseButtonClick=function(){this.element.click()},e.prototype.uploadButtonClick=function(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)},e.prototype.clearButtonClick=function(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0},e.prototype.bindDropEvents=function(){this.dropZoneElement&&(ti.add(this.dropZoneElement,"drop",this.dropElement,this),ti.add(this.dropZoneElement,"dragover",this.dragHover,this),ti.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),ti.add(this.dropZoneElement,"paste",this.onPasteFile,this))},e.prototype.unBindDropEvents=function(){this.dropZoneElement&&(ti.remove(this.dropZoneElement,"drop",this.dropElement),ti.remove(this.dropZoneElement,"dragover",this.dragHover),ti.remove(this.dropZoneElement,"dragleave",this.onDragLeave))},e.prototype.onDragLeave=function(t){this.dropZoneElement.classList.remove("e-upload-drag-hover")},e.prototype.dragHover=function(t){this.enabled&&(this.dropZoneElement.classList.add("e-upload-drag-hover"),t.preventDefault(),t.stopPropagation())},e.prototype.dropElement=function(t){this.dropZoneElement.classList.remove("e-upload-drag-hover"),this.onSelectFiles(t),t.preventDefault(),t.stopPropagation()},e.prototype.onPasteFile=function(t){var e=t.clipboardData.items;if(1===e.length){var n=[].slice.call(e)[0];"file"===n.kind&&n.type.match("^image/")&&this.renderSelectedFiles(t,[n.getAsFile()],!1,!0)}},e.prototype.removeFiles=function(t){if(this.enabled){var e=t.target.parentElement,n=this.fileList.indexOf(e),i=this.fileList[n],r=this.filesData[n];if(!h(r)){if(t.target.classList.contains(la)){if(r.statusCode="5",!h(i)){var o=i.querySelector("."+la);ke({target:o,width:"20px"}),an(o)}this.sequentialUpload&&this.uploadSequential(),i.classList.contains("e-restrict-retry")||this.checkActionComplete(!0)}else this.remove(r,!1,!1,t);this.element.value="",this.checkActionButtonStatus()}}},e.prototype.removeFilesData=function(t,e){var n;if(e)return void(this.showFileList||(n=this.filesData.indexOf(t),this.filesData.splice(n,1)));var i=this.getLiElement(t);h(i)||(D(i),n=this.fileList.indexOf(i),this.fileList.splice(n,1),this.filesData.splice(n,1),0!==this.fileList.length||h(this.listParent)||(D(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&n<=this.count&&--this.count)},e.prototype.removeUploadedFile=function(t,e,n,i){var r=this,o=t,s=this.element.getAttribute("name"),a=new $n(this.asyncSettings.removeUrl,"POST",!0,null);a.emitError=!1;var l=new FormData,u=this.getLiElement(t);a.beforeSend=function(t){if(e.currentRequest=a.httpRequest,n||r.trigger("removing",e),e.cancel)return void(t.cancel=!0);if(!(h(u)||h(u.querySelector("."+aa))&&h(u.querySelector("."+sa)))){var i=void 0;i=u.querySelector("."+aa)?u.querySelector("."+aa):u.querySelector("."+sa),ke({target:i,width:"20px"}),an(i)}e.postRawFile&&!h(o.rawFile)&&""!==o.rawFile?l.append(s,o.rawFile):l.append(s,o.name),r.updateFormData(l,e.customFormData)},a.onLoad=function(t){return r.removeCompleted(t,o,i),{}},a.onError=function(t){return r.removeFailed(t,o,i),{}},a.send(l)},e.prototype.updateFormData=function(t,e){if(e.length>0&&e[0])for(var n=0;n<e.length;n++)!function(n){var i=e[n],r=Object.keys(i).map(function(t){return i[t]});t.append(Object.keys(i)[0],r)}(n)},e.prototype.removeCompleted=function(t,e,n){var i=t&&t.currentTarget?this.getResponse(t):null,r={e:t,response:i,operation:"remove",file:this.updateStatus(e,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",r),this.removeFilesData(e,n);var o=this.uploadedFilesData.indexOf(e);this.uploadedFilesData.splice(o,1),this.trigger("change",{files:this.uploadedFilesData})},e.prototype.removeFailed=function(t,e,n){var i=t&&t.currentTarget?this.getResponse(t):null,r={e:t,response:i,operation:"remove",file:this.updateStatus(e,this.localizedTexts("removedFailedMessage"),"0")};if(!n){var o=this.filesData.indexOf(e),s=this.fileList[o];if(s){var a=s.querySelector("."+oa);s.classList.remove(pa),a.classList.remove(pa),s.classList.add(da),a.classList.add(da)}this.checkActionButtonStatus()}this.trigger("failure",r);var l=this.getLiElement(e);if(!h(l)&&!h(l.querySelector("."+aa))){un(l.querySelector("."+aa)),D(l.querySelector(".e-spinner-pane"))}},e.prototype.getFilesFromFolder=function(t){this.filesEntries=[];var e;if(e=this.multiple?t.dataTransfer.items:[t.dataTransfer.items[0]],this.checkDirectoryUpload(e))for(var n=this,i=0;i<e.length;i++)!function(i){var r=e[i].webkitGetAsEntry();if(r.isFile){var o=[];r.file(function(t){var e=r.fullPath;o.push({path:e,file:t})}),n.renderSelectedFiles(t,o,!0)}else r.isDirectory&&n.traverseFileTree(r,t)}(i)},e.prototype.checkDirectoryUpload=function(t){for(var e=0;e<t.length;e++){if(t[e].webkitGetAsEntry().isDirectory)return!0}return!1},e.prototype.traverseFileTree=function(t,e){var n=this;if("boolean"==typeof t){for(var i=[],r=this,o=0;o<this.filesEntries.length;o++)!function(t){r.filesEntries[t].file(function(e){var r=n.filesEntries[t].fullPath;i.push({path:r,file:e})})}(o);this.renderSelectedFiles(e,i,!0)}else if(t.isFile)this.filesEntries.push(t);else if(t.isDirectory){var s=t.createReader();s.readEntries(function(t){for(var e=0;e<t.length;e++)n.traverseFileTree(t[e]);n.traverseFileTree(!0),n.filesEntries=[]})}},e.prototype.onSelectFiles=function(t){if(this.enabled){var e;if("drop"===t.type)if(this.directoryUpload)this.getFilesFromFolder(t);else{var n=t.dataTransfer.files;e=this.multiple?this.sortFileList(n):[n[0]],this.renderSelectedFiles(t,e)}else e=[].slice.call(t.target.files),this.renderSelectedFiles(t,e)}},e.prototype.renderSelectedFiles=function(t,e,n,i){var r={event:t,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1};if(e.length<1)return r.isCanceled=!0,void this.trigger("selected",r);this.flag=!0;var o=[];this.multiple||(this.clearData(!0),e=[e[0]]);for(var s=0;s<e.length;s++){var a=n?e[s].file:e[s],l=n?e[s].path.substring(1,e[s].path.length):i?d(a.name.substring(0,a.name.lastIndexOf(".")))+"."+this.getFileType(a.name):this.directoryUpload?e[s].webkitRelativePath:a.name,u={name:l,rawFile:a,size:a.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(a.name),validationMessages:this.validatedFileSize(a.size),statusCode:"1"};i&&(u.fileSource="paste"),u.status=""!==u.validationMessages.minSize?this.localizedTexts("invalidMinFileSize"):""!==u.validationMessages.maxSize?this.localizedTexts("invalidMaxFileSize"):u.status,""===u.validationMessages.minSize&&""===u.validationMessages.maxSize||(u.statusCode="0",this.checkActionComplete(!0)),o.push(u)}if(r.filesData=o,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.allTypes||(o=this.checkExtension(o)),this.trigger("selected",r),this.selectedFiles=o,!r.cancel){if(this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(r.isModified&&r.modifiedFilesData.length>0){var c=this.allTypes?r.modifiedFilesData:this.checkExtension(r.modifiedFilesData);this.updateSortedFileList(c),this.filesData=c,this.isForm&&!this.allowUpload()||this.checkAutoUpload(c)}else this.createFileList(o),this.filesData=this.filesData.concat(o),this.isForm&&!this.allowUpload()||this.checkAutoUpload(o);h(r.progressInterval)||""===r.progressInterval||(this.progressInterval=r.progressInterval)}else this.filesData=this.filesData.concat(o),this.autoUpload&&this.upload(this.filesData,!0);this.raiseActionComplete()}},e.prototype.allowUpload=function(){var t=!1;return this.isForm&&!h(this.asyncSettings.saveUrl)&&""!==this.asyncSettings.saveUrl&&(t=!0),t},e.prototype.clearData=function(t){h(this.listParent)||(D(this.listParent),this.listParent=null),"msie"===this.browserName||t||(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()},e.prototype.updateSortedFileList=function(t){var e,n=this.createElement("div",{id:"clonewrapper"}),i=-1;if(this.listParent){for(var r=0;r<this.listParent.querySelectorAll("li").length;r++){var o=this.listParent.querySelectorAll("li")[r];n.appendChild(o.cloneNode(!0))}e=this.listParent.querySelectorAll("li");for(var s=0,a=e;s<a.length;s++){D(a[s])}this.removeActionButtons();var l=[].slice.call(n.childNodes);D(this.listParent),this.listParent=null,this.fileList=[],this.createParentUL();for(var u=0;u<t.length;u++){for(var c=0;c<this.filesData.length;c++)this.filesData[c].name===t[u].name&&(this.listParent.appendChild(l[c]),ti.add(l[c].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(l[c]),i=u);i!==u&&this.createFileList([t[u]])}}else this.createFileList(t)},e.prototype.isBlank=function(t){return!t||/^\s*$/.test(t)},e.prototype.checkExtension=function(t){var e=t;if(!this.isBlank(this.allowedExtensions)){for(var n=[],i=this.allowedExtensions.split(","),r=0,o=i;r<o.length;r++){var s=o[r];n.push(s.trim().toLocaleLowerCase())}for(var a=0;a<t.length;a++)-1===n.indexOf(("."+t[a].type).toLocaleLowerCase())&&(t[a].status=this.localizedTexts("invalidFileType"),t[a].statusCode="0")}return e},e.prototype.validatedFileSize=function(t){var e="",n="";return t<this.minFileSize?e=this.localizedTexts("invalidMinFileSize"):t>this.maxFileSize?n=this.localizedTexts("invalidMaxFileSize"):(e="",n=""),{minSize:e,maxSize:n}},e.prototype.isPreLoadFile=function(t){for(var e=!1,n=0;n<this.files.length;n++)this.files[n].name===t.name.slice(0,t.name.lastIndexOf("."))&&this.files[n].type===t.type&&(e=!0);return e},e.prototype.createCustomfileList=function(t){this.createParentUL();for(var e=0,n=t;e<n.length;e++){var i=n[e],r=this.createElement("li",{className:ra,attrs:{"data-file-name":i.name}});this.uploadTemplateFn=this.templateComplier(this.template);var o=[].slice.call(this.uploadTemplateFn(i)),s=t.indexOf(i);k(o,r);var a={element:r,fileInfo:i,index:s,isPreload:this.isPreLoadFile(i)},l={element:r,fileInfo:i,index:s,isPreload:this.isPreLoadFile(i)};this.trigger("rendering",a),this.trigger("fileListRendering",l),this.listParent.appendChild(r),this.fileList.push(r)}},e.prototype.createParentUL=function(){h(this.listParent)&&(this.listParent=this.createElement("ul",{className:"e-upload-files"}),this.uploadWrapper.appendChild(this.listParent))},e.prototype.createFileList=function(t){if(this.createParentUL(),""===this.template||h(this.template))for(var e=0,n=t;e<n.length;e++){var i=n[e],r=this.createElement("li",{className:ra,attrs:{"data-file-name":i.name}}),o=this.createElement("span",{className:"e-file-container"}),s=this.createElement("span",{className:"e-file-name",attrs:{title:i.name}});s.innerHTML=this.getFileNameOnly(i.name);var a=this.createElement("span",{className:"e-file-type"});if(a.innerHTML="."+this.getFileType(i.name),this.enableRtl){var l=this.createElement("span",{className:"e-rtl-container"});l.appendChild(a),l.appendChild(s),o.appendChild(l)}else o.appendChild(s),o.appendChild(a);var u=this.createElement("span",{className:"e-file-size"});u.innerHTML=this.bytesToSize(i.size),o.appendChild(u);var c=this.createElement("span",{className:oa});o.appendChild(c),c.innerHTML=i.status,r.appendChild(o);var p=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&p.classList.add("e-msie"),p.setAttribute("title",this.localizedTexts("remove")),r.appendChild(p),ti.add(p,"click",this.removeFiles,this),"2"===i.statusCode?(c.classList.add(pa),p.classList.add(aa),p.setAttribute("title",this.localizedTexts("delete"))):"1"!==i.statusCode&&(c.classList.remove(pa),c.classList.add("e-validation-fails")),this.autoUpload&&"1"===i.statusCode&&""!==this.asyncSettings.saveUrl&&(c.innerHTML=""),p.classList.contains(aa)||p.classList.add(sa);var d=t.indexOf(i),f={element:r,fileInfo:i,index:d,isPreload:this.isPreLoadFile(i)},m={element:r,fileInfo:i,index:d,isPreload:this.isPreLoadFile(i)};this.trigger("rendering",f),this.trigger("fileListRendering",m),this.listParent.appendChild(r),this.fileList.push(r),this.truncateName(s)}else this.createCustomfileList(t)},e.prototype.getSlicedName=function(t){var e;e=t.textContent,t.dataset.tail=e.slice(e.length-10)},e.prototype.truncateName=function(t){var e=t;"edge"!==this.browserName&&e.offsetWidth<e.scrollWidth?this.getSlicedName(e):e.offsetWidth+1<e.scrollWidth&&this.getSlicedName(e)},e.prototype.getFileType=function(t){var e,n=t.lastIndexOf(".");return n>=0&&(e=t.substring(n+1)),e||""},e.prototype.getFileNameOnly=function(t){var e=this.getFileType(t);return e=t.split("."+e)[0]},e.prototype.setInitialAttributes=function(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){var t=document.createAttribute("multiple");this.element.setAttributeNode(t)}},e.prototype.filterfileList=function(t){for(var e,n=[],i=0;i<t.length;i++)e=this.getLiElement(t[i]),e.classList.contains(pa)||n.push(t[i]);return n},e.prototype.updateStatus=function(t,e,n,i){if(void 0===i&&(i=!0),""===e||h(e)||""===n||h(n)||(t.status=e,t.statusCode=n),i){var r=this.getLiElement(t);h(r)||h(r.querySelector("."+oa))||""===e||h(e)||(r.querySelector("."+oa).textContent=e)}return t},e.prototype.getLiElement=function(t){for(var e,n=0;n<this.filesData.length;n++)this.filesData[n].name===t.name&&(e=n);return this.fileList[e]},e.prototype.createProgressBar=function(t){var e=this.createElement("span",{className:ca}),n=this.createElement("progressbar",{className:ha,attrs:{value:"0",max:"100"}}),i=this.createElement("span",{className:"e-progress-inner-wrap"});n.setAttribute("style","width: 0%");var r=this.createElement("span",{className:"e-progress-bar-text"});r.textContent="0%",i.appendChild(n),e.appendChild(i),e.appendChild(r),t.querySelector(".e-file-container").appendChild(e)},e.prototype.updateProgressbar=function(t,e){if(!isNaN(Math.round(t.loaded/t.total*100))&&!h(e.querySelector("."+ha)))if(h(this.progressInterval)||""===this.progressInterval)this.changeProgressValue(e,Math.round(t.loaded/t.total*100).toString()+"%");else{var n=Math.round(t.loaded/t.total*100)%parseInt(this.progressInterval,10);0!==n&&100!==n||this.changeProgressValue(e,Math.round(t.loaded/t.total*100).toString()+"%")}},e.prototype.changeProgressValue=function(t,e){t.querySelector("."+ha).setAttribute("style","width:"+e),t.querySelector(".e-progress-bar-text").textContent=e},e.prototype.uploadInProgress=function(t,e,n,i){var r=this.getLiElement(e);if(!h(r)||n){if(h(r))this.cancelUploadingFile(e,t,i);else{"5"===e.statusCode&&this.cancelUploadingFile(e,t,i,r),r.querySelectorAll("."+ca).length>0||!r.querySelector("."+oa)||(r.querySelector("."+oa).classList.add("e-upload-progress"),this.createProgressBar(r),this.updateProgressBarClasses(r,"e-upload-progress"),r.querySelector("."+oa).classList.remove(da)),this.updateProgressbar(t,r);var o=r.querySelector("."+sa);h(o)||(o.classList.add(la,"e-upload-progress"),o.setAttribute("title",this.localizedTexts("abort")),o.classList.remove(sa))}var s={e:t,operation:"upload",file:this.updateStatus(e,this.localizedTexts("inProgress"),"3")};this.trigger("progress",s)}},e.prototype.cancelUploadingFile=function(t,e,n,i){var r=this;if("5"===t.statusCode){var o={event:e,fileData:t,cancel:!1};if(this.trigger("canceling",o),o.cancel){if(t.statusCode="3",!h(i)){var s=i.querySelector("."+la);h(s)||(un(s),D(i.querySelector(".e-spinner-pane")))}return}n.emitError=!1,n.httpRequest.abort();var a=new FormData;if("5"===t.statusCode){var l=this.element.getAttribute("name");a.append(l,t.name),a.append("cancel-uploading",t.name);var u=new $n(this.asyncSettings.removeUrl,"POST",!0,null);u.emitError=!1,u.onLoad=function(e){return r.removecanceledFile(e,t),{}},u.send(a)}}},e.prototype.removecanceledFile=function(t,e){var n=this.getLiElement(e);if(!n.querySelector("."+ua)&&!h(n.querySelector("."+la))){this.updateStatus(e,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(t,e,n);var i=n.querySelector("."+sa);h(n)||(un(i),D(n.querySelector(".e-spinner-pane")));var r=t&&t.currentTarget?this.getResponse(t):null,o={event:t,response:r,operation:"cancel",file:e};this.trigger("success",o)}},e.prototype.renderFailureState=function(t,e,n){var i=this;this.updateProgressBarClasses(n,da),this.removeProgressbar(n,"failure"),h(n.querySelector(".e-file-status"))||n.querySelector(".e-file-status").classList.add(da);var r=n.querySelector("."+la);if(!h(r)){r.classList.remove(la,"e-upload-progress"),r.classList.add(sa),r.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),n.insertBefore(this.pauseButton,r),this.pauseButton.setAttribute("title",this.localizedTexts("retry"));n.querySelector("."+ua).addEventListener("click",function(t){i.reloadcanceledFile(t,e,n,!1)},!1)}},e.prototype.reloadcanceledFile=function(t,e,n,i){e.statusCode="1",e.status=this.localizedTexts("readyToUploadMessage"),i||(n.querySelector("."+oa).classList.remove(da),h(n.querySelector("."+ua))||D(n.querySelector("."+ua)),this.pauseButton=null),n.classList.add("e-restrict-retry"),this.upload([e])},e.prototype.uploadComplete=function(t,e,n){var i=t.target;if(4===i.readyState&&i.status>=200&&i.status<=299){var r=this.getLiElement(e);if(h(r)&&(!n||h(n)))return;if(!h(r)){this.updateProgressBarClasses(r,pa),this.removeProgressbar(r,"success");var o=r.querySelector("."+la);h(o)||(o.classList.add(aa),o.setAttribute("title",this.localizedTexts("delete")),o.classList.remove(la),o.classList.remove("e-upload-progress"))}this.raiseSuccessEvent(t,e)}else this.uploadFailed(t,e)},e.prototype.getResponse=function(t){var e=t.currentTarget;return{readyState:e.readyState,statusCode:e.status,statusText:e.statusText,headers:e.getAllResponseHeaders(),withCredentials:e.withCredentials}},e.prototype.raiseSuccessEvent=function(t,e){var n=t&&t.currentTarget?this.getResponse(t):null,i=this.localizedTexts("uploadSuccessMessage"),r={e:t,response:n,operation:"upload",file:this.updateStatus(e,i,"2",!1),statusText:i};this.trigger("success",r),this.updateStatus(e,r.statusText,"2"),this.uploadedFilesData.push(e),this.trigger("change",{file:this.uploadedFilesData}),this.checkActionButtonStatus(),this.fileList.length>0&&(this.getLiElement(e).classList.contains("e-restrict-retry")?this.getLiElement(e).classList.remove("e-restrict-retry"):(this.uploadSequential(),this.checkActionComplete(!0)))},e.prototype.uploadFailed=function(t,e){var n=this.getLiElement(e),i=t&&t.currentTarget?this.getResponse(t):null,r=this.localizedTexts("uploadFailedMessage"),o={e:t,response:i,operation:"upload",file:this.updateStatus(e,r,"0",!1),statusText:r};h(n)||this.renderFailureState(t,e,n),this.trigger("failure",o),this.updateStatus(e,o.statusText,"0"),this.checkActionButtonStatus(),this.uploadSequential(),this.checkActionComplete(!0)},e.prototype.uploadSequential=function(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())},e.prototype.checkActionComplete=function(t){t?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()},e.prototype.raiseActionComplete=function(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;var t={fileData:[]};t.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",t)}},e.prototype.getSelectedFileStatus=function(t){for(var e=[],n=0,i=0;i<t.length;i++)for(var r=t[i],o=0;o<this.filesData.length;o++)this.filesData[o].name===r.name&&(e[n]=this.filesData[o],++n);return e},e.prototype.updateProgressBarClasses=function(t,e){var n=t.querySelector("."+ha);h(n)||n.classList.add(e)},e.prototype.removeProgressbar=function(t,e){var n=this;h(t.querySelector("."+ca))||(this.progressAnimation=new gi({duration:1250}),this.progressAnimation.animate(t.querySelector("."+ca),{name:"FadeOut"}),this.progressAnimation.animate(t.querySelector(".e-progress-bar-text"),{name:"FadeOut"}),setTimeout(function(){n.animateProgressBar(t,e)},750))},e.prototype.animateProgressBar=function(t,e){"success"===e?(t.classList.add(pa),h(t.querySelector("."+oa))||(t.querySelector("."+oa).classList.remove("e-upload-progress"),this.progressAnimation.animate(t.querySelector("."+oa),{name:"FadeIn"}),t.querySelector("."+oa).classList.add(pa))):h(t.querySelector("."+oa))||(t.querySelector("."+oa).classList.remove("e-upload-progress"),this.progressAnimation.animate(t.querySelector("."+oa),{name:"FadeIn"}),t.querySelector("."+oa).classList.add(da)),t.querySelector("."+ca)&&D(t.querySelector("."+ca))},e.prototype.setExtensions=function(t){""===t||h(t)?this.element.removeAttribute("accept"):this.element.setAttribute("accept",t)},e.prototype.templateComplier=function(t){if(t){try{if(document.querySelectorAll(t).length)return ht(document.querySelector(t).innerHTML.trim())}catch(e){return ht(t)}}},e.prototype.setRTL=function(){this.enableRtl?C([this.uploadWrapper],"e-rtl"):E([this.uploadWrapper],"e-rtl")},e.prototype.localizedTexts=function(t){return this.l10n.setLocale(this.locale),this.l10n.getConstant(t)},e.prototype.setControlStatus=function(){this.enabled?(this.uploadWrapper.classList.contains("e-disabled")&&this.uploadWrapper.classList.remove("e-disabled"),!h(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!h(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!h(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add("e-disabled"),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),h(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),h(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))},e.prototype.checkHTMLAttributes=function(){this.element.hasAttribute("accept")&&(this.allowedExtensions=this.element.getAttribute("accept"),this.initialAttr.accept=this.allowedExtensions),this.element.hasAttribute("multiple")&&(this.multiple=!0,this.initialAttr.multiple=!0),this.element.hasAttribute("disabled")&&(this.enabled=!1,this.initialAttr.disabled=!0)},e.prototype.chunkUpload=function(t,e){var n=Math.min(this.asyncSettings.chunkSize,t.size),i=t.rawFile.slice(0,n),r={chunkIndex:0,blob:i,file:t,start:0,end:n,retryCount:0,request:null};this.sendRequest(t,r,e)},e.prototype.sendRequest=function(t,e,n){var i=this,r=new FormData,o=t.rawFile.slice(e.start,e.end);r.append("chunkFile",o,t.name),r.append("chunk-index",e.chunkIndex.toString()),r.append("chunkIndex",e.chunkIndex.toString());var s=Math.max(Math.ceil(t.size/this.asyncSettings.chunkSize),1);r.append("total-chunk",s.toString()),r.append("totalChunk",s.toString());var a=new $n({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});a.emitError=!1,a.onLoad=function(t){return i.chunkUploadComplete(t,e,n),{}},a.onUploadProgress=function(t){return i.chunkUploadInProgress(t,e,n),{}};var l={fileData:t,customFormData:[],cancel:!1,chunkSize:0===this.asyncSettings.chunkSize?null:this.asyncSettings.chunkSize};a.beforeSend=function(n){l.currentRequest=a.httpRequest,l.currentChunkIndex=e.chunkIndex,0===l.currentChunkIndex&&i.trigger("uploading",l),i.trigger("chunkUploading",l),l.cancel?i.eventCancelByArgs(n,l,t):i.updateFormData(r,l.customFormData)},a.onError=function(t){return i.chunkUploadFailed(t,e,n),{}},a.send(r),e.request=a},e.prototype.eventCancelByArgs=function(t,e,n){var i=this;if(t.cancel=!0,"5"!==e.fileData.statusCode){var r=this.getLiElement(e.fileData);r.querySelector("."+oa).innerHTML=this.localizedTexts("fileUploadCancel"),r.querySelector("."+oa).classList.add(da),e.fileData.statusCode="5",e.fileData.status=this.localizedTexts("fileUploadCancel"),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),r.insertBefore(this.pauseButton,r.querySelector("."+sa)),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",function(t){i.reloadcanceledFile(t,n,r)},!1),this.checkActionButtonStatus()}},e.prototype.checkChunkUpload=function(){return!(this.asyncSettings.chunkSize<=0||h(this.asyncSettings.chunkSize))},e.prototype.chunkUploadComplete=function(t,e,n){var i,r=this,o=t.target;if(4===o.readyState&&o.status>=200&&o.status<300){var s=t&&t.currentTarget?this.getResponse(t):null,a=Math.max(Math.ceil(e.file.size/this.asyncSettings.chunkSize),1),l={event:t,file:e.file,chunkIndex:e.chunkIndex,totalChunk:a,chunkSize:this.asyncSettings.chunkSize,response:s};if(this.trigger("chunkSuccess",l),!h(n)&&n||(i=this.getLiElement(e.file)),this.updateMetaData(e),e.end===e.file.size&&(e.file.statusCode="3"),"5"===e.file.statusCode){var u={event:t,fileData:e.file,cancel:!1};if(this.trigger("canceling",u),u.cancel){e.file.statusCode="3";var c=i.querySelector("."+la);return h(i)||h(c)||(un(c),D(i.querySelector(".e-spinner-pane"))),void this.sendNextRequest(e)}e.request.emitError=!1,o.abort();var p=new FormData,d=this.element.getAttribute("name");p.append(d,e.file.name),p.append("cancel-uploading",e.file.name),p.append("cancelUploading",e.file.name);var f=new $n(this.asyncSettings.removeUrl,"POST",!0,null);f.emitError=!1,f.onLoad=function(t){return r.removeChunkFile(t,e,n),{}},f.send(p)}else{if(a-1===e.chunkIndex&&a>e.chunkIndex){var m=this.pausedData.indexOf(e);return m>=0&&this.pausedData.splice(m,1),h(this.template)&&(h(n)||!n)&&i&&(i&&D(i.querySelector("."+fa)),this.removeChunkProgressBar(e)),void this.raiseSuccessEvent(t,e.file)}this.sendNextRequest(e)}}else this.chunkUploadFailed(t,e)},e.prototype.sendNextRequest=function(t){t.start=t.end,t.end+=this.asyncSettings.chunkSize,t.end=Math.min(t.end,t.file.size),t.chunkIndex+=1,this.sendRequest(t.file,t)},e.prototype.removeChunkFile=function(t,e,n){if(h(this.template)&&h(n)&&!n){var i=this.getLiElement(e.file),r=i.querySelector("."+la),o=r;this.updateStatus(e.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(i,da),this.removeProgressbar(i,"failure"),r.classList.remove(la),r.classList.add(sa),r.setAttribute("title",this.localizedTexts("remove"));var s=i.querySelector("."+fa);s.classList.add(ua),s.classList.remove(fa),s.setAttribute("title",this.localizedTexts("retry")),h(i)||h(r)||(un(o),D(i.querySelector(".e-spinner-pane")))}},e.prototype.pauseUpload=function(t,e,n){t.file.statusCode="4",t.file.status=this.localizedTexts("pause"),this.updateMetaData(t);var i={event:e||null,file:t.file,chunkIndex:t.chunkIndex,chunkCount:Math.round(t.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(t,n,i)},e.prototype.abortUpload=function(t,e,n){t.request.emitError=!1,t.request.httpRequest.abort();var i=this.getLiElement(t.file);if(h(this.template)&&(h(e)||!e)){var r=i.querySelector("."+fa);r.classList.remove(fa),r.classList.add("e-file-play-btn"),r.setAttribute("title",this.localizedTexts("resume")),r.nextElementSibling.classList.add(sa),r.nextElementSibling.classList.remove(la),r.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(var o=0;o<this.pausedData.length;o++)this.pausedData[o].file.name===t.file.name&&this.pausedData.splice(o,1);this.pausedData.push(t),this.trigger("pausing",n)},e.prototype.resumeUpload=function(t,e,n){var i,r=this.getLiElement(t.file);h(r)||(i=r.querySelector(".e-file-play-btn")),h(i)||!h(n)&&n||(i.classList.remove("e-file-play-btn"),i.classList.add(fa),i.setAttribute("title",this.localizedTexts("pause")),i.nextElementSibling.classList.remove(sa),i.nextElementSibling.classList.add(la),i.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),t.file.status=this.localizedTexts("inProgress"),t.file.statusCode="3",this.updateMetaData(t);var o={event:e||null,file:t.file,chunkIndex:t.chunkIndex,chunkCount:Math.round(t.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",o);for(var s=0;s<this.pausedData.length;s++)this.pausedData[s].end===this.pausedData[s].file.size?this.chunkUploadComplete(e,t,n):this.pausedData[s].file.name===t.file.name&&(this.pausedData[s].start=this.pausedData[s].end,this.pausedData[s].end=this.pausedData[s].end+this.asyncSettings.chunkSize,this.pausedData[s].end=Math.min(this.pausedData[s].end,this.pausedData[s].file.size),this.pausedData[s].chunkIndex=this.pausedData[s].chunkIndex+1,this.sendRequest(this.pausedData[s].file,this.pausedData[s],n))},e.prototype.updateMetaData=function(t){-1===this.uploadMetaData.indexOf(t)?this.uploadMetaData.push(t):(this.uploadMetaData.splice(this.uploadMetaData.indexOf(t),1),this.uploadMetaData.push(t))},e.prototype.removeChunkProgressBar=function(t){var e=this.getLiElement(t.file);if(!h(e)){this.updateProgressBarClasses(e,pa),this.removeProgressbar(e,"success");var n=e.querySelector("."+la);h(n)||(n.classList.add(aa),n.setAttribute("title",this.localizedTexts("delete")),n.classList.remove(la,"e-upload-progress"))}},e.prototype.chunkUploadFailed=function(t,e,n){var i,r=this,o=Math.max(Math.ceil(e.file.size/this.asyncSettings.chunkSize),1);!h(this.template)||!h(n)&&n||(i=this.getLiElement(e.file));var s=t&&t.currentTarget?this.getResponse(t):null,a={event:t,file:e.file,chunkIndex:e.chunkIndex,totalChunk:o,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:s};if(this.trigger("chunkFailure",a),!a.cancel)if(e.retryCount<this.asyncSettings.retryCount)setTimeout(function(){r.retryRequest(i,e,n)},this.asyncSettings.retryAfterDelay);else{if(!h(i)){var l=i.querySelector("."+fa)?i.querySelector("."+fa):i.querySelector(".e-file-play-btn");h(l)||(l.classList.add(ua),l.classList.remove(fa,"e-file-play-btn")),this.updateProgressBarClasses(i,da),this.removeProgressbar(i,"failure"),i.querySelector(".e-icons").classList.remove("e-upload-progress");var u=i.querySelector("."+la);u.classList.remove(la),h(i.querySelector("."+fa))||D(i.querySelector("."+fa)),e.start>0?(u.classList.add(aa),u.setAttribute("title",this.localizedTexts("delete"))):(u.classList.add(sa),u.setAttribute("title",this.localizedTexts("remove")))}e.retryCount=0;var c=e.file,p=this.localizedTexts("uploadFailedMessage"),d={e:t,response:s,operation:"upload",file:this.updateStatus(c,p,"0",!1),statusText:p};this.trigger("failure",d),this.updateStatus(c,d.statusText,"0"),this.uploadSequential(),this.checkActionComplete(!0)}},e.prototype.retryRequest=function(t,e,n){h(this.template)&&(h(n)||!n)&&t&&this.updateProgressBarClasses(t,da),e.retryCount+=1,this.sendRequest(e.file,e)},e.prototype.checkPausePlayAction=function(t){var e=t.target,n=t.target.parentElement,i=this.fileList.indexOf(n),r=this.filesData[i],o=this.getCurrentMetaData(r);e.classList.contains(fa)?this.pauseUpload(o,t):e.classList.contains("e-file-play-btn")?this.resumeUpload(o,t):e.classList.contains(ua)&&(o.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(o,!1):this.retryUpload(o,!0))},e.prototype.retryUpload=function(t,e){e?(t.end=t.end+this.asyncSettings.chunkSize,t.start=t.start+this.asyncSettings.chunkSize,this.sendRequest(t.file,t)):(t.file.statusCode="1",t.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(t.file)),this.getLiElement(t.file).classList.add("e-restrict-retry")},e.prototype.chunkUploadInProgress=function(t,e,n){var i=this;if("4"!==e.file.statusCode){"4"!==e.file.statusCode&&"5"!==e.file.statusCode&&(e.file.statusCode="3",e.file.status=this.localizedTexts("inProgress")),this.updateMetaData(e);var r=this.getLiElement(e.file);if(!h(r)){var o=r.querySelector("."+ua);if(h(o)||(o.classList.add(fa),o.setAttribute("title",this.localizedTexts("pause")),o.classList.remove(ua)),!h(r)){if(!(r.querySelectorAll("."+ca).length>0)){var s=r.querySelector("."+oa);h(this.template)&&(s.classList.add("e-upload-progress"),s.classList.remove(da),this.createProgressBar(r),this.updateProgressBarClasses(r,"e-upload-progress"));var a=r.querySelector("."+sa)?r.querySelector("."+sa):r.querySelector("."+aa);h(a)||(a.classList.add(la),a.setAttribute("title",this.localizedTexts("abort")),a.classList.remove(sa))}if(!isNaN(Math.round(t.loaded/t.total*100))&&h(this.template)&&"4"!==e.file.statusCode){var l=e.chunkIndex*this.asyncSettings.chunkSize,u=Math.min((l+t.loaded)/e.file.size*100,100);this.changeProgressValue(r,Math.round(u).toString()+"%")}0===e.chunkIndex&&this.checkActionButtonStatus()}h(r.querySelector("."+fa))&&h(this.template)&&(this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),"msie"===this.browserName&&this.pauseButton.classList.add("e-msie"),r.insertBefore(this.pauseButton,r.querySelector("."+la)),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",function(t){i.checkPausePlayAction(t)},!1))}}},e.prototype.bytesToSize=function(t){var e=-1;if(!t)return"0.0 KB";do{t/=1024,e++}while(t>99);return e>=2&&(t*=1024,e=1),Math.max(t,0).toFixed(1)+" "+["KB","MB"][e]},e.prototype.sortFileList=function(t){for(var e=t,n=[],i=0;i<e.length;i++)n.push(e[i].name);for(var r=n.sort(),o=[],s=0,a=r;s<a.length;s++)for(var l=a[s],i=0;i<e.length;i++)l===e[i].name&&o.push(e[i]);return o},e.prototype.destroy=function(){this.element.value=null,this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();for(var e=["aria-label","directory","webkitdirectory","tabindex"],n=0,i=e;n<i.length;n++){var r=i[n];this.element.removeAttribute(r)}this.uploadWrapper.parentElement.appendChild(this.element),D(this.uploadWrapper),this.uploadWrapper=null,t.prototype.destroy.call(this)},e.prototype.upload=function(t,e){var n=this.validateFileType(t);this.uploadFiles(n,e)},e.prototype.validateFileType=function(t){var e=[];return t instanceof Array?e=t:e.push(t),e},e.prototype.uploadFiles=function(t,e){var n=this,i=[];if(""!==this.asyncSettings.saveUrl&&!h(this.asyncSettings.saveUrl)){if(!e||h(e))if(this.multiple)i=this.filterfileList(t);else{var r=[];r.push(t[0]),i=this.filterfileList(r)}else i=t;for(var o=this.checkChunkUpload(),s=this,a=0;a<i.length;a++)!function(t){var r=new $n(s.asyncSettings.saveUrl,"POST",!0,null);r.emitError=!1;var a={fileData:i[t],customFormData:[],cancel:!1},l=new FormData;if(r.beforeSend=function(e){a.currentRequest=r.httpRequest,n.trigger("uploading",a),a.cancel&&n.eventCancelByArgs(e,a,i[t]),n.updateFormData(l,a.customFormData)},"1"===i[t].statusCode){var u=s.element.getAttribute("name");l.append(u,i[t].rawFile,i[t].name),o&&i[t].size>s.asyncSettings.chunkSize?s.chunkUpload(i[t],e):(r.onLoad=function(r){return n.uploadComplete(r,i[t],e),{}},r.onUploadProgress=function(o){return n.uploadInProgress(o,i[t],e,r),{}},r.onError=function(e){return n.uploadFailed(e,i[t]),{}},r.send(l))}}(a)}},e.prototype.remove=function(t,e,n,i){var r,o={event:i,cancel:!1,filesData:[],customFormData:[],postRawFile:!0};if(this.isForm)return o.filesData=this.getFilesData(),this.trigger("removing",o),void(o.cancel||this.clearAll());var s=[];t=h(t)?this.filesData:t,t instanceof Array?s=t:s.push(t),o.filesData=s;for(var a=this.asyncSettings.removeUrl,l=""!==a&&!h(a),u=0,c=s;u<c.length;u++){var p=c[u];if(r=this.filesData.indexOf(p),"2"!==p.statusCode&&"4"!==p.statusCode||!l){if(n||this.trigger("removing",o),o.cancel)return;this.removeFilesData(p,e)}else this.removeUploadedFile(p,o,n,e);this.sequentialUpload?r<=this.actionCompleteCount&&this.checkActionComplete(!1):this.checkActionComplete(!1)}},e.prototype.clearAll=function(){if(h(this.listParent))return"msie"!==this.browserName&&(this.element.value=""),void(this.filesData=[]);var t={cancel:!1,filesData:this.filesData};this.trigger("clearing",t),t.cancel||(this.clearData(),this.actionCompleteCount=0,this.count=-1)},e.prototype.getFilesData=function(){return this.filesData},e.prototype.pause=function(t,e){var n=this.validateFileType(t);this.pauseUploading(n,e)},e.prototype.pauseUploading=function(t,e){for(var n=this.getFiles(t),i=0;i<n.length;i++)"3"===n[i].statusCode&&this.pauseUpload(this.getCurrentMetaData(n[i],null),null,e)},e.prototype.getFiles=function(t){var e=[];return h(t)||t instanceof Array?e=t:e.push(t),e},e.prototype.resume=function(t,e){var n=this.validateFileType(t);this.resumeFiles(n,e)},e.prototype.resumeFiles=function(t,e){for(var n=this.getFiles(t),i=0;i<n.length;i++)"4"===n[i].statusCode&&this.resumeUpload(this.getCurrentMetaData(n[i],null),null,e)},e.prototype.retry=function(t,e,n){var i=this.validateFileType(t);this.retryFailedFiles(i,e,n)},e.prototype.retryFailedFiles=function(t,e,n){for(var i=this.getFiles(t),r=0;r<i.length;r++)if("5"===i[r].statusCode||"0"===i[r].statusCode)if(this.asyncSettings.chunkSize>0)this.retryUpload(this.getCurrentMetaData(i[r],null),e);else{var o=void 0;n||(o=this.fileList[this.filesData.indexOf(i[r])]),this.reloadcanceledFile(null,i[r],o,n)}},e.prototype.cancel=function(t){var e=this.validateFileType(t);this.cancelUpload(e)},e.prototype.cancelUpload=function(t){var e=this.getFiles(t);if(this.asyncSettings.chunkSize>0){for(var n=0;n<e.length;n++)if("3"===e[n].statusCode){var i=this.getCurrentMetaData(e[n],null);i.file.statusCode="5",i.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(i),this.showHideUploadSpinner(e[n])}}else for(var n=0;n<e.length;n++)"3"===e[n].statusCode&&(e[n].statusCode="5",e[n].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(e[n]))},e.prototype.showHideUploadSpinner=function(t){var e=this.getLiElement(t);if(!h(e)&&h(this.template)){var n=e.querySelector("."+la);ke({target:n,width:"20px"}),an(n)}},ia([X({saveUrl:"",removeUrl:""},ya)],e.prototype,"asyncSettings",void 0),ia([G(!1)],e.prototype,"sequentialUpload",void 0),ia([G(!1)],e.prototype,"enableRtl",void 0),ia([G("")],e.prototype,"cssClass",void 0),ia([G(!0)],e.prototype,"enabled",void 0),ia([G(null)],e.prototype,"template",void 0),ia([G(!0)],e.prototype,"multiple",void 0),ia([G(!0)],e.prototype,"autoUpload",void 0),ia([X({},va)],e.prototype,"buttons",void 0),ia([G("")],e.prototype,"allowedExtensions",void 0),ia([G(0)],e.prototype,"minFileSize",void 0),ia([G(3e7)],e.prototype,"maxFileSize",void 0),ia([G(null)],e.prototype,"dropArea",void 0),ia([K([{}],ma)],e.prototype,"files",void 0),ia([G(!0)],e.prototype,"showFileList",void 0),ia([G(!1)],e.prototype,"directoryUpload",void 0),ia([Q()],e.prototype,"created",void 0),ia([Q()],e.prototype,"actionComplete",void 0),ia([Q()],e.prototype,"rendering",void 0),ia([Q()],e.prototype,"fileListRendering",void 0),ia([Q()],e.prototype,"selected",void 0),ia([Q()],e.prototype,"uploading",void 0),ia([Q()],e.prototype,"success",void 0),ia([Q()],e.prototype,"failure",void 0),ia([Q()],e.prototype,"removing",void 0),ia([Q()],e.prototype,"clearing",void 0),ia([Q()],e.prototype,"progress",void 0),ia([Q()],e.prototype,"change",void 0),ia([Q()],e.prototype,"chunkSuccess",void 0),ia([Q()],e.prototype,"chunkFailure",void 0),ia([Q()],e.prototype,"chunkUploading",void 0),ia([Q()],e.prototype,"canceling",void 0),ia([Q()],e.prototype,"pausing",void 0),ia([Q()],e.prototype,"resuming",void 0),e=ia([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ba=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ga(e,t),ba([G("")],e.prototype,"iconCss",void 0),ba([G("")],e.prototype,"id",void 0),ba([G(!1)],e.prototype,"separator",void 0),ba([G("")],e.prototype,"text",void 0),ba([G("")],e.prototype,"url",void 0),e}(_i),_a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ca=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ea={DISABLED:"e-disabled",FOCUS:"e-focused",ICON:"e-menu-icon",ITEM:"e-item",POPUP:"e-dropdown-popup",RTL:"e-rtl",SEPARATOR:"e-separator",VERTICAL:"e-vertical"},xa=function(t){function e(e,n){return t.call(this,e,n)||this}return _a(e,t),e.prototype.preRender=function(){},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.closePopup()},e.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents()},e.prototype.createPopup=function(){var t,e=this.createElement("div",{className:Ea.POPUP,id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new yo(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),A(this.element,(t={},t["aria-haspopup"]=this.items.length||this.target?"true":"false",t["aria-expanded"]="false",t["aria-owns"]=this.getPopUpElement().id,t.type="button",t)),this.cssClass&&C([e],this.cssClass.split(" "))},e.prototype.getTargetElement=function(){return"string"==typeof this.target?O(this.target):this.target},e.prototype.createItems=function(t){for(var e,n,i,r,o=this.hasIcon(t,"iconCss"),s=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}}),a=0;a<t.length;a++)n=t[a],i=this.createElement("li",{innerHTML:n.url?"":n.text,className:n.separator?Ea.ITEM+" "+Ea.SEPARATOR:Ea.ITEM,attrs:{role:"menuItem",tabindex:"-1"},id:n.id?n.id:d("e-"+this.getModuleName()+"-item")}),n.iconCss?(e=this.createElement("span",{className:Ea.ICON+" "+n.iconCss}),i.insertBefore(e,i.childNodes[0])):o&&!n.separator&&i.classList.add("e-blank-icon"),n.url&&i.appendChild(this.createAnchor(n)),r={item:n,element:i},this.trigger("beforeItemRender",r),s.appendChild(i);return s},e.prototype.hasIcon=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n][e])return!0;return!1},e.prototype.createAnchor=function(t){return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t.text,attrs:{href:t.url}})},e.prototype.initialize=function(){this.button=new _o({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=d("e-"+this.getModuleName())),this.appendArrowSpan(),this.createPopup(),this.setActiveElem([this.element])},e.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(Ea.VERTICAL)>-1?"bottom":"right")+" e-caret"}))},e.prototype.setActiveElem=function(t){this.activeElem=t},e.prototype.getModuleName=function(){return"dropdown-btn"},e.prototype.canOpen=function(){return this.getPopUpElement().classList.contains("e-popup-close")},e.prototype.destroy=function(){var e=this;if(t.prototype.destroy.call(this),"dropdown-btn"===this.getModuleName()){var n,i=void 0;this.element.querySelector("span.e-caret")&&D(this.element.querySelector("span.e-caret")),this.cssClass&&(n=this.cssClass.split(" ")),this.button.destroy(),n&&E([this.element],n),E(this.activeElem,["e-active"]),i=this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"],i.forEach(function(t){e.element.removeAttribute(t)}),this.dropDown.destroy();var r=document.getElementById(this.getPopUpElement().id);r&&(E([r],["e-popup-open","e-popup-close"]),D(r)),this.disabled||this.unWireEvents()}},e.prototype.getPopUpElement=function(){return this.dropDown.element},e.prototype.getULElement=function(){return this.getPopUpElement().children[0]},e.prototype.wireEvents=function(){var t=this.getPopUpElement();this.delegateMousedownHandler=this.mousedownHandler.bind(this),ti.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),ti.add(this.element,"click",this.clickHandler,this),ti.add(t,"click",this.clickHandler,this),ti.add(this.element,"keydown",this.keyBoardHandler,this),ti.add(t,"keydown",this.keyBoardHandler,this),this.rippleFn=tt(t,{selector:"."+Ea.ITEM})},e.prototype.keyBoardHandler=function(t){if(t.target!==this.element||9!==t.keyCode&&(t.altKey||40!==t.keyCode)&&38!==t.keyCode)switch(t.keyCode){case 38:case 40:!t.altKey||38!==t.keyCode&&40!==t.keyCode?this.upDownKeyHandler(t):this.keyEventHandler(t);break;case 9:case 13:case 27:case 32:this.keyEventHandler(t)}},e.prototype.upDownKeyHandler=function(t){if(!this.target||38!==t.keyCode&&40!==t.keyCode){t.preventDefault();var e=this.getULElement(),n=40===t.keyCode?0:e.childElementCount-1,i=n,r=null;this.removeCustomSelection();for(var o=0,s=e.children.length;o<s;o++)e.children[o].classList.contains(Ea.FOCUS)&&(r=e.children[o],i=o,r.classList.remove(Ea.FOCUS),40===t.keyCode?i++:i--,i===(40===t.keyCode?e.childElementCount:-1)&&(i=n));r=e.children[i],i=this.isValidLI(r,i,t.keyCode),-1!==i&&(C([e.children[i]],Ea.FOCUS),e.children[i].focus())}},e.prototype.removeCustomSelection=function(){var t=this.getULElement().querySelector(".e-selected");t&&t.classList.remove("e-selected")},e.prototype.isValidLI=function(t,e,n,i){if(void 0===i&&(i=0),(t.classList.contains(Ea.SEPARATOR)||t.classList.contains(Ea.DISABLED))&&(e===(40===n?this.items.length-1:0)?e=40===n?0:this.items.length-1:40===n?e++:e--),t=this.getULElement().children[e],t.classList.contains(Ea.SEPARATOR)||t.classList.contains(Ea.DISABLED)){if(++i===this.items.length)return e=-1;e=this.isValidLI(t,e,n,i)}return e},e.prototype.keyEventHandler=function(t){(!this.target||13!==t.keyCode&&9!==t.keyCode)&&(9!==t.keyCode&&t.preventDefault(),27===t.keyCode||38===t.keyCode||9===t.keyCode?this.canOpen()||this.closePopup(t,this.element):this.clickHandler(t))},e.prototype.getLI=function(t){return"LI"===t.tagName?t:N(t,"li")},e.prototype.mousedownHandler=function(t){var e=t.target;this.canOpen()||N(e,"#"+this.getPopUpElement().id)||N(e,"#"+this.element.id)||this.closePopup(t)},e.prototype.clickHandler=function(t){var e=t.target,n=this.canOpen();if(N(e,"#"+this.element.id))n?this.openPopUp(t):this.closePopup(t,this.activeElem[0]);else if(N(e,"#"+this.getPopUpElement().id)){var i=void 0,r=void 0,o=void 0,s=this.getLI(e);s&&(r=Array.prototype.indexOf.call(this.getULElement().children,s),o=this.items[r],o&&(i={element:s,item:o},this.trigger("select",i)),this.closePopup(t,this.activeElem[0]))}},e.prototype.openPopUp=function(t){void 0===t&&(t=null),this.target||this.getPopUpElement().appendChild(this.createItems(this.items));var e=this.getULElement(),n={element:e,items:this.items,event:t,cancel:!1};if(this.trigger("beforeOpen",n),!n.cancel){this.dropDown.show(null,this.element),C([this.element],"e-active"),this.element.setAttribute("aria-expanded","true"),e.focus();var i={element:e,items:this.items};this.trigger("open",i)}},e.prototype.closePopup=function(t,e){void 0===t&&(t=null);var n=this.getULElement(),i={element:n,items:this.items,event:t,cancel:!1};if(this.trigger("beforeClose",i),!i.cancel){this.removeCustomSelection(),this.dropDown.hide(),E(this.activeElem,"e-active"),this.element.setAttribute("aria-expanded","false"),e&&e.focus();var r={element:n,items:this.items};this.trigger("close",r),!this.target&&n&&D(n)}},e.prototype.unWireEvents=function(){ti.remove(document,"mousedown touchstart",this.delegateMousedownHandler),ti.remove(this.element,"click",this.clickHandler),ti.remove(this.getPopUpElement(),"click",this.clickHandler),ti.remove(this.element,"keydown",this.keyBoardHandler),ti.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.rippleFn()},e.prototype.onPropertyChanged=function(t,e){var n=["content","cssClass","iconCss","iconPosition","disabled","enableRtl"];this.button.setProperties(zn(t,n)),this.dropDown.setProperties(zn(t,["enableRtl"]));for(var i=this.getPopUpElement(),r=0,o=Object.keys(t);r<o.length;r++){switch(o[r]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":t.disabled?(this.unWireEvents(),this.canOpen()||this.closePopup()):this.wireEvents();break;case"cssClass":if(t.cssClass.indexOf(Ea.VERTICAL)>-1){V(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"])}e.cssClass&&E([i],e.cssClass.split(" ")),t.cssClass&&C([i],t.cssClass.split(" "));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.dropDown.refresh(),i.classList.contains("e-popup-open")&&V(i,["e-popup-close"],["e-popup-open"])}}},Ca([G("")],e.prototype,"content",void 0),Ca([G("")],e.prototype,"cssClass",void 0),Ca([G(!1)],e.prototype,"disabled",void 0),Ca([G("")],e.prototype,"iconCss",void 0),Ca([G("Left")],e.prototype,"iconPosition",void 0),Ca([K([],wa)],e.prototype,"items",void 0),Ca([G("")],e.prototype,"target",void 0),Ca([Q()],e.prototype,"beforeItemRender",void 0),Ca([Q()],e.prototype,"beforeOpen",void 0),Ca([Q()],e.prototype,"beforeClose",void 0),Ca([Q()],e.prototype,"close",void 0),Ca([Q()],e.prototype,"open",void 0),Ca([Q()],e.prototype,"select",void 0),Ca([Q()],e.prototype,"created",void 0),e=Ca([Z],e)}(tr),Sa=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ta=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ka="EJS-SPLITBUTTON",Ma=function(t){function e(e,n){return t.call(this,e,n)||this}return Sa(e,t),e.prototype.preRender=function(){var t=this.element;if(t.tagName===ka){for(var e=o("ej2_instances",t),n=this.createElement("button",{attrs:{type:"button"}}),i=this.createElement(ka,{className:"e-"+this.getModuleName()+"-wrapper"}),r=0,a=t.attributes.length;r<a;r++)n.setAttribute(t.attributes[r].nodeName,t.attributes[r].nodeValue);t.parentNode.insertBefore(i,t),D(t),t=n,i.appendChild(t),s("ej2_instances",e,t),this.wrapper=i,this.element=t}this.element.id||(this.element.id=d("e-"+this.getModuleName()))},e.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents()},e.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add("e-rtl"),this.cssClass&&C([this.wrapper],this.cssClass.split(" "))},e.prototype.createPrimaryButton=function(){var t={cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled};this.primaryBtnObj=new _o(t),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},e.prototype.createSecondaryButton=function(){var t=this,e=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(e);var n={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,beforeItemRender:function(e){t.trigger("beforeItemRender",e)},beforeOpen:function(e){t.trigger("beforeOpen",e)},beforeClose:function(e){t.trigger("beforeClose",e)},open:function(e){t.trigger("open",e)},close:function(e){t.trigger("close",e)},select:function(e){t.trigger("select",e)}};this.secondaryBtnObj=new xa(n),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(e),this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],ti.remove(this.getPopUpElement(),"keydown",this.secondaryBtnObj.keyBoardHandler),this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")},e.prototype.setAria=function(){A(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.secondaryBtnObj.dropDown.element.id})},e.prototype.getModuleName=function(){return"split-btn"},e.prototype.toggle=function(){this.secondaryBtnObj.toggle()},e.prototype.destroy=function(){var e=this,n=["e-rtl"],i=document.getElementById(this.element.id);this.cssClass&&(n=n.concat(this.cssClass.split(" "))),i&&i.parentElement===this.wrapper&&(this.wrapper.tagName===ka?(this.wrapper.innerHTML="",E([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),E([this.wrapper],this.cssClass.split(" "))):(E([this.element],n),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(t){e.element.removeAttribute(t)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),P(this.wrapper)),this.unWireEvents()),this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),t.prototype.destroy.call(this),this.element.getAttribute("class")||this.element.removeAttribute("class")},e.prototype.wireEvents=function(){ti.add(this.element,"click",this.primaryBtnClickHandler,this),ti.add(this.getPopUpElement(),"keydown",this.keyBoardHandler,this),new hr(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})},e.prototype.unWireEvents=function(){ti.remove(this.element,"click",this.primaryBtnClickHandler),g(this.element,hr).destroy()},e.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},e.prototype.btnKeyBoardHandler=function(t){switch(t.action){case"altdownarrow":this.clickHandler(t)}},e.prototype.onPropertyChanged=function(t,e){var n=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(zn(t,n)),n=["items","beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl"],this.secondaryBtnObj.setProperties(zn(t,n));for(var i=0,r=Object.keys(t);i<r.length;i++){switch(r[i]){case"cssClass":e.cssClass&&E([this.wrapper],e.cssClass.split(" ")),C([this.wrapper],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?C([this.wrapper],"e-rtl"):E([this.wrapper],"e-rtl")}}},Ta([G("")],e.prototype,"content",void 0),Ta([G("")],e.prototype,"cssClass",void 0),Ta([G(!1)],e.prototype,"disabled",void 0),Ta([G("")],e.prototype,"iconCss",void 0),Ta([G("Left")],e.prototype,"iconPosition",void 0),Ta([K([],wa)],e.prototype,"items",void 0),Ta([G("")],e.prototype,"target",void 0),Ta([Q()],e.prototype,"beforeItemRender",void 0),Ta([Q()],e.prototype,"beforeOpen",void 0),Ta([Q()],e.prototype,"beforeClose",void 0),Ta([Q()],e.prototype,"click",void 0),Ta([Q()],e.prototype,"close",void 0),Ta([Q()],e.prototype,"open",void 0),Ta([Q()],e.prototype,"select",void 0),Ta([Q()],e.prototype,"created",void 0),e=Ta([Z],e)}(xa),Da=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pa=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Aa="e-btn-content",Oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Da(e,t),Pa([G(null)],e.prototype,"template",void 0),Pa([G(16)],e.prototype,"width",void 0),Pa([G("Left")],e.prototype,"position",void 0),e}(_i),Ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Da(e,t),Pa([G(400)],e.prototype,"duration",void 0),Pa([G("None")],e.prototype,"effect",void 0),Pa([G("ease")],e.prototype,"easing",void 0),e}(_i),Na=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.step=1,i}Da(e,t),e.prototype.preRender=function(){t.prototype.preRender.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.init(),this.wireEvents(),this.setAria()},e.prototype.start=function(t){this.isPaused=!1,this.startProgress(t||this.percent,this.progressTime)},e.prototype.stop=function(){this.isPaused=!0,cancelAnimationFrame(this.timerId)},e.prototype.getModuleName=function(){return"progress-btn"},e.prototype.destroy=function(){var e,n=this,i=["e-hide-spinner","e-progress-active","e-round-corner","e-"+t.prototype.getModuleName.call(this),"e-spin-"+this.spinSettings.position.toLowerCase()];t.prototype.destroy.call(this),this.unWireEvents(),this.element.innerHTML="",this.cssClass&&(i=i.concat(this.cssClass.split(" "))),E([this.element],i),e=this.element.getAttribute("class")?["aria-label","aria-valuemin","aria-valuemax","aria-valuenow"]:["aria-label","aria-valuemin","aria-valuemax","aria-valuenow","class"],e.forEach(function(t){n.element.removeAttribute(t)}),this.disabled&&this.element.removeAttribute("disabled")},e.prototype.init=function(){this.element.classList.add("e-"+t.prototype.getModuleName.call(this)),this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress()},e.prototype.createSpinner=function(){var t=this.createElement("span",{className:"e-spinner"});this.setSpinPosition(t),ke({target:t,width:this.spinSettings.width||16,template:this.spinSettings.template},this.createElement)},e.prototype.getSpinner=function(){return this.element.getElementsByClassName("e-spinner")[0]},e.prototype.getProgress=function(){return this.element.getElementsByClassName("e-progress")[0]},e.prototype.setSpinPosition=function(t){var e=this.spinSettings.position||"Left";"Left"===e||"Top"===e?this.element.insertBefore(t,this.element.getElementsByClassName(Aa)[0]):this.element.appendChild(t),this.element.classList.add("e-spin-"+e.toLowerCase())},e.prototype.createProgress=function(){this.element.appendChild(this.createElement("span",{className:"e-progress"}))},e.prototype.setContent=function(){var t=this.element.innerHTML;this.element.innerHTML="",this.element.appendChild(this.createElement("span",{className:Aa,innerHTML:t}))},e.prototype.clickHandler=function(){this.element.classList.contains("e-progress-active")||this.startProgress()},e.prototype.startProgress=function(t,e){var n=this.element.classList,i=n.contains("e-vertical");n.add("e-progress-active"),n.contains("e-hide-spinner")||an(this.element),this.startAnimate(Date.now(),e||0,e?Date.now()-1*this.duration/100:Date.now(),t||0,0,this.step,0,i),this.startContAnimate()},e.prototype.startAnimate=function(t,e,n,i,r,o,s,a){var l=this;try{var u,c=t-n,h=this.duration*o/100,p=c?c<h?c-h:c%h:0;this.progressTime=e=e+c-p,n=t-p,i+=(c-p)/this.duration*100,r=(e-s)%h==0||100===i?i:r,u={percent:r,currentDuration:e,step:o},0===i?this.trigger("begin",u):100===i||e===this.duration?this.trigger("end",u):this.trigger("progress",u),i!==u.percent&&u.percent!==r&&(i=u.percent),this.percent=i,this.step=u.step,(e-s)%(this.duration*u.step/100)!=0&&100!==i||(this.timerId=requestAnimationFrame(function(){l.enableProgress&&(l.getProgress().style[a?"height":"width"]=i+"%"),l.element.setAttribute("aria-valuenow",i.toString())}),r=i,s=e),this.isPaused||(e<this.duration&&i<100?setTimeout(function(){l.startAnimate(Date.now(),e,n,i,r,u.step,s,a)},this.duration/100-p):setTimeout(function(){l.progressTime=l.percent=0,l.enableProgress&&(l.getProgress().style[a?"height":"width"]="0%"),l.element.setAttribute("aria-valuenow","0"),l.hideSpin()},100))}catch(t){cancelAnimationFrame(this.timerId),this.trigger("fail",t)}},e.prototype.startContAnimate=function(){var t=this,e=this.element.getElementsByClassName(Aa)[0];"None"!==this.animationSettings.effect?new gi({}).animate(e,{duration:this.animationSettings.duration,name:"Progress"+this.animationSettings.effect,timingFunction:this.animationSettings.easing,begin:function(){"Center"===t.spinSettings.position&&t.setSpinnerSize()},end:function(){e.classList.add("e-animate-end")}}):"Center"===this.spinSettings.position&&this.setSpinnerSize()},e.prototype.setSpinnerSize=function(){var t=this.element.getElementsByClassName(Aa)[0],e=this.getSpinner();e.style.width=Math.max(e.offsetWidth,t.offsetWidth)+"px",e.style.height=Math.max(e.offsetHeight,t.offsetHeight)+"px",t.classList.add("e-cont-animate")},e.prototype.hideSpin=function(){var t=this.element.getElementsByClassName(Aa)[0];if(this.element.classList.contains("e-hide-spinner")||un(this.element),this.element.classList.remove("e-progress-active"),"None"!==this.animationSettings.effect&&t.classList.remove("e-animate-end"),"Center"===this.spinSettings.position){var e=this.getSpinner();t.classList.remove("e-cont-animate"),e.style.width="auto",e.style.height="auto"}},e.prototype.setIconSpan=function(){var t=this.element.getElementsByClassName(Aa)[0],e=this.element.getElementsByClassName("e-btn-icon")[0];!t.childNodes[0]||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?t.appendChild(e):t.insertBefore(e,t.childNodes[0])},e.prototype.setAria=function(){A(this.element,{"aria-label":this.element.textContent+" progress","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"})},e.prototype.wireEvents=function(){ti.add(this.element,"click",this.clickHandler,this)},e.prototype.unWireEvents=function(){ti.remove(this.element,"click",this.clickHandler)},e.prototype.onPropertyChanged=function(e,n){var i=this.element;t.prototype.onPropertyChanged.call(this,e,n);for(var r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"content":this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress(),i.setAttribute("aria-label",i.textContent+" progress");break;case"iconCss":n.iconCss||this.setIconSpan();break;case"iconPosition":this.setIconSpan();break;case"enableProgress":e.enableProgress?this.createProgress():P(this.getProgress());break;case"spinSettings":e.spinSettings.position&&(i.classList.remove("e-spin-"+n.spinSettings.position.toLowerCase()),this.setSpinPosition(this.getSpinner())),(e.spinSettings.template||e.spinSettings.width)&&(i.removeChild(this.getSpinner()),this.createSpinner())}}},Pa([G(!1)],e.prototype,"enableProgress",void 0),Pa([G(2e3)],e.prototype,"duration",void 0),Pa([G("Left")],e.prototype,"iconPosition",void 0),Pa([G("")],e.prototype,"iconCss",void 0),Pa([G(!1)],e.prototype,"disabled",void 0),Pa([G(!1)],e.prototype,"isPrimary",void 0),Pa([G("")],e.prototype,"cssClass",void 0),Pa([G("")],e.prototype,"content",void 0),Pa([G(!1)],e.prototype,"isToggle",void 0),Pa([X({},Oa)],e.prototype,"spinSettings",void 0),Pa([X({},Ia)],e.prototype,"animationSettings",void 0),Pa([Q()],e.prototype,"created",void 0),Pa([Q()],e.prototype,"begin",void 0),Pa([Q()],e.prototype,"progress",void 0),Pa([Q()],e.prototype,"end",void 0),Pa([Q()],e.prototype,"fail",void 0),e=Pa([Z],e)}(_o),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),La=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Va="e-switch-ctrl-btn",Ra="e-hide-hex-value",Fa="e-hide-switchable-value",Ha="e-hide-value",ja="e-hsv-color",Ba="e-selected-value",Ua="e-mode-switch-btn",qa="e-nocolor-item",za="e-opacity-value",Wa="e-preview-container",Ya="e-show-value",Ga="e-selected",Xa="e-tile",Ka={default:["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"]},Qa=(function(t){function e(e,n){return t.call(this,e,n)||this}Na(e,t),e.prototype.preRender=function(){var t=this.element;this.formElement=N(this.element,"form"),this.formElement&&ti.add(this.formElement,"reset",this.formResetHandler,this);var e={Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"};this.l10n=new pr("colorpicker",e,this.locale),t.getAttribute("ejs-for")&&!t.getAttribute("name")&&t.setAttribute("name",t.id)},e.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||C([this.container.parentElement],"e-hide-opacity")},e.prototype.initWrapper=function(){var t=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(t,this.element),t.appendChild(this.element),A(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);var e=this.value?this.roundValue(this.value).toLowerCase():"#008000ff",n=e.slice(0,7);h(this.initialInputValue)&&(this.initialInputValue=n),this.element.value=n,this.setProperties({value:e},!0),this.enableRtl&&t.classList.add("e-rtl"),this.cssClass&&C([t],this.cssClass.split(" ")),this.tileRipple=tt(this.container,{selector:"."+Xa}),this.ctrlBtnRipple=tt(this.container,{selector:".e-btn"})},e.prototype.getWrapper=function(){return this.element.parentElement},e.prototype.createWidget=function(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),mi.isDevice&&this.refreshPopupPos()},e.prototype.createSplitBtn=function(){var t=this,e=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(e),this.splitBtn=new Ma({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,beforeOpen:this.beforeOpenFn.bind(this),open:this.onOpen.bind(this),beforeClose:this.beforePopupClose.bind(this),click:function(e){t.trigger("change",{currentValue:{hex:t.value.slice(0,7),rgba:t.convertToRgbString(t.hexToRgb(t.value))},previousValue:{hex:null,rgba:null},value:t.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(e);var n=this.createElement("span",{className:"e-split-preview"});O(".e-selected-color",e).appendChild(n),n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var i=this.getPopupEle();if(C([i],"e-colorpicker-popup"),this.cssClass&&C([i],this.cssClass.split(" ")),mi.isDevice){var r=this.getPopupInst();r.relateTo=document.body,r.position={X:"center",Y:"center"},r.targetType="container",r.collision={X:"fit",Y:"fit"},r.offsetY=4,i.style.zIndex=ie(this.splitBtn.element).toString()}},e.prototype.onOpen=function(t){this.trigger("open",{element:this.container})},e.prototype.getPopupInst=function(){return g(this.getPopupEle(),yo)},e.prototype.beforeOpenFn=function(t){var e={element:this.container,event:t.event,cancel:!1};if(this.trigger("beforeOpen",e),t.cancel=e.cancel,!t.cancel){var n=this.getPopupEle();n.style.top=y(0+pageYOffset),n.style.left=y(0+pageXOffset),n.style.display="block",this.createWidget(),n.style.display="",mi.isDevice&&(this.modal=this.createElement("div"),this.modal.className="e-"+this.getModuleName()+" e-modal",this.modal.style.display="none",document.body.insertBefore(this.modal,n),document.body.className+=" e-colorpicker-overflow",this.modal.style.display="block",this.modal.style.zIndex=(Number(n.style.zIndex)-1).toString())}},e.prototype.beforePopupClose=function(t){if(!h(t.event)){var e={element:this.container,event:t.event,cancel:!1};this.trigger("beforeClose",e),mi.isDevice&&t.event.target===this.modal&&(e.cancel=!0),t.cancel=e.cancel,t.cancel||this.onPopupClose()}},e.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",O(".e-split-preview",this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",E([this.container],["e-color-picker","e-color-palette"]),mi.isDevice&&this.modal&&(E([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},e.prototype.createPalette=function(){if(V(this.container,["e-color-palette"],["e-color-picker"]),this.presetColors){var t=this.createElement("div",{className:"e-custom-palette"});this.appendElement(t);var e=Object.keys(this.presetColors);if(1===e.length)this.appendPalette(this.presetColors[e[0]],e[0],t);else for(var n=0,i=e.length;n<i;n++)this.appendPalette(this.presetColors[e[n]],e[n],t);I(".e-row",t).length>10&&C([t],"e-palette-group")}else this.appendPalette(Ka.default,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var r=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=y(this.container.children[0].offsetWidth+r+r),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},e.prototype.firstPaletteFocus=function(){O("."+Ga,this.container.children[0])||I(".e-palette",this.container)[0].focus()},e.prototype.appendPalette=function(t,e,n){var i=this.createElement("div",{className:"e-palette",attrs:{tabindex:"0"}});n?n.appendChild(i):this.appendElement(i);for(var r,o,s,a=0,l=t.length;a<l;a++)0!==a&&a%this.columns!=0||(r=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),i.appendChild(r)),s=this.roundValue(t[a]).toLowerCase(),o=this.createElement("span",{className:Xa,attrs:{role:"gridcell","aria-label":s,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:o,presetName:e,value:t[a]}),r.appendChild(o),this.value===s&&(this.addTileSelection(o),i.focus()),o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(s))},e.prototype.setNoColor=function(){var t=I(".e-row")[0].children[0];t.classList.add(qa),this.value||(t.classList.add(Ga),N(t,".e-palette").focus()),["aria-selected","aria-label"].forEach(function(e){t.removeAttribute(e)}),t.style.backgroundColor=""},e.prototype.appendElement=function(t,e){void 0===e&&(e=0);var n=this.container.children[e];n?this.container.insertBefore(t,n):this.container.appendChild(t)},e.prototype.addTileSelection=function(t){t.classList.add(Ga),t.setAttribute("aria-selected","true")},e.prototype.createPicker=function(){V(this.container,["e-color-picker"],["e-color-palette"]);var t=this.createElement("div",{className:"e-hsv-container"});this.appendElement(t),t.appendChild(this.createElement("div",{className:ja}));var e=this.createElement("span",{className:"e-handler",attrs:{tabindex:"0"}});t.appendChild(e),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},e.prototype.setHsvContainerBg=function(t){void 0===t&&(t=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(t,100,100,1))},e.prototype.getHsvContainer=function(){return O(".e-hsv-container",this.container)},e.prototype.setHandlerPosition=function(){var t=this.getDragHandler(),e=O("."+ja,this.container);this.enableRtl?t.style.left=y(e.offsetWidth*Math.abs(100-this.hsv[1])/100):t.style.left=y(e.offsetWidth*this.hsv[1]/100),t.style.top=y(e.offsetHeight*(100-this.hsv[2])/100)},e.prototype.createSlider=function(){var t=this.createElement("div",{className:"e-slider-preview"});this.appendElement(t,1),this.createPreview(t);var e=this.createElement("div",{className:"e-colorpicker-slider"});t.insertBefore(e,t.children[0]);var n=this.createElement("div",{className:"e-hue-slider"});e.appendChild(n),this.hueSlider=new Zs({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(n),this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),e.appendChild(n),this.createOpacitySlider(n))},e.prototype.createOpacitySlider=function(t){this.opacitySlider=new Zs({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(t);var e=this.createElement("div",{className:"e-opacity-empty-track"});t.appendChild(e),this.updateOpacitySliderBg()},e.prototype.updateOpacitySliderBg=function(){var t=this.enableRtl?"to left":"to right";O(".e-slider-track",this.opacitySlider.element).style.background="linear-gradient("+t+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)"},e.prototype.hueChange=function(t){this.hsv[0]=t.value,this.setHsvContainerBg(),this.convertToOtherFormat()},e.prototype.opacityChange=function(t){var e=t.value,n=this.rgbToHex(this.rgb);this.hsv[3]=e/100,this.rgb[3]=e/100;var i=this.rgbToHex(this.rgb);this.getWrapper().classList.contains(Ha)||(g(O("."+za,this.container),Ls).value=e);var r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.triggerEvent(i,n,r)},e.prototype.createPreview=function(t){var e=this.createElement("div",{className:Wa});t.appendChild(e);var n=this.createElement("span",{className:"e-preview e-current"});e.appendChild(n);var i=this.convertToRgbString(this.rgb);n.style.backgroundColor=i,n=this.createElement("span",{className:"e-preview e-previous"}),e.appendChild(n),n.style.backgroundColor=i},e.prototype.isPicker=function(){return!this.container.classList.contains("e-color-palette")},e.prototype.getPopupEle=function(){return this.container.parentElement},e.prototype.createNumericInput=function(t,e,n,i){var r=this,o=new Ls({value:e,placeholder:n,min:0,max:i,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(t){t.event&&r.inputHandler(t.event)}});o.createElement=this.createElement,o.appendTo(t)},e.prototype.createInput=function(){var t=this.isPicker(),e=this.getWrapper();if(t&&!e.classList.contains(Ha)||!t&&e.classList.contains(Ya)){var n=this.createElement("div",{className:Ba});t?this.appendElement(n,2):this.appendElement(n,1);var i=this.createElement("div",{className:"e-input-container"});if(n.appendChild(i),e.classList.contains("e-hide-valueswitcher")||this.appendValueSwitchBtn(n),!e.classList.contains(Ra)){var r=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false"}});i.appendChild(r),rs.createInput({element:r,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),rs.setValue(this.value.slice(0,7),r),r.addEventListener("input",this.inputHandler.bind(this))}if(!e.classList.contains(Fa)){var o=void 0,s=void 0;this.isRgb?(o="RGB",s=this.rgb):(o="HSV",s=this.hsv);for(var a=["rh","gs","bv"],l=0;l<3;l++)this.createNumericInput(i.appendChild(this.createElement("input",{className:"e-"+a[l]+"-value"})),s[l],o[l],255);this.enableOpacity&&this.appendOpacityValue(i)}}},e.prototype.appendOpacityValue=function(t){this.createNumericInput(t.appendChild(this.createElement("input",{className:za})),100*this.rgb[3],"A",100)},e.prototype.appendValueSwitchBtn=function(t){var e=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn e-value-switch-btn"});t.appendChild(e),this.isPicker()&&!this.getWrapper().classList.contains(Fa)&&e.addEventListener("click",this.formatSwitchHandler.bind(this))},e.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var t=this.createElement("div",{className:Va});if(this.container.appendChild(t),this.showButtons){var e=this.createElement("div",{className:"e-ctrl-btn"});t.appendChild(e);var n=this.l10n.getConstant("Apply");e.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-primary e-small e-apply",attrs:{title:n}}));var i=this.l10n.getConstant("Cancel");e.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-small e-cancel",attrs:{title:i}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},e.prototype.appendModeSwitchBtn=function(){var t=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+Ua,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});O("."+Va,this.container).insertBefore(t,O(".e-ctrl-btn",this.container))},e.prototype.createDragTooltip=function(){var t=this,e=new ls({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:function(e){t.tooltipEle=e.element},animation:{open:{effect:"None"},close:{effect:"None"}}});e.createElement=this.createElement,e.appendTo(this.container),e.open(this.container),this.tooltipEle.style.zIndex=ie(this.tooltipEle).toString(),O(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},e.prototype.getTooltipInst=function(){return g(this.container,ls)},e.prototype.setTooltipOffset=function(t){this.getTooltipInst().offsetY=t},e.prototype.toggleDisabled=function(t){t?this.getWrapper().classList.add("e-disabled"):this.getWrapper().classList.remove("e-disabled"),this.showButtons&&[].slice.call(I(".e-btn",this.container)).forEach(function(e){t?A(e,{disabled:""}):e.removeAttribute("disabled")})},e.prototype.convertToRgbString=function(t){return t.length?4===t.length?"rgba("+t.join()+")":"rgb("+t.join()+")":""},e.prototype.convertToHsvString=function(t){return 4===t.length?"hsva("+t.join()+")":"hsv("+t.join()+")"},e.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},e.prototype.convertToOtherFormat=function(t){void 0===t&&(t=!1);var e=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var n=this.rgbToHex(this.rgb),i=this.convertToRgbString(this.rgb);this.updatePreview(i),this.updateInput(n),this.triggerEvent(n,e,i,t)},e.prototype.updateInput=function(t){var e=this.getWrapper();e.classList.contains(Ha)||(e.classList.contains(Ra)||rs.setValue(t.substr(0,7),O(".e-hex",this.container)),e.classList.contains(Fa)||(this.isRgb?this.updateValue(this.rgb,!1):this.updateValue(this.hsv,!1)))},e.prototype.updatePreview=function(t){this.enableOpacity&&this.updateOpacitySliderBg(),O(".e-tip-transparent",this.tooltipEle).style.backgroundColor=t,O("."+Wa+" .e-current",this.container).style.backgroundColor=t,O("."+Wa+" .e-previous",this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},e.prototype.getDragHandler=function(){return O(".e-handler",this.container)},e.prototype.removeTileSelection=function(){[].slice.call(I("."+Ga,this.container.children[0])).forEach(function(t){t.classList.remove(Ga),t.setAttribute("aria-selected","false")})},e.prototype.convertRgbToNumberArray=function(t){return t.slice(t.indexOf("(")+1,t.indexOf(")")).split(",").map(function(t,e){return 3!==e?parseInt(t,10):parseFloat(t)})},e.prototype.getValue=function(t,e){if(t||(t=this.value),e=e?e.toLowerCase():"hex","r"===t[0]){var n=this.convertRgbToNumberArray(t);if("hex"===e||"hexa"===e){var i=this.rgbToHex(n);return"hex"===e?i.slice(0,7):i}return"hsv"===e?this.convertToHsvString(this.rgbToHsv.apply(this,n.slice(0,3))):"hsva"===e?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"null"}if("h"===t[0]){var n=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(t));if("rgba"===e)return this.convertToRgbString(n);if("hex"===e||"hexa"===e){var i=this.rgbToHex(n);return"hex"===e?i.slice(0,7):i}return"rgb"===e?this.convertToRgbString(n.slice(0,3)):"null"}t=this.roundValue(t);var r=this.hexToRgb(t);return"rgb"!==e&&"hsv"!==e||(r=r.slice(0,3)),"rgba"===e||"rgb"===e?this.convertToRgbString(r):"hsva"===e||"hsv"===e?this.convertToHsvString(this.rgbToHsv.apply(this,r)):"hex"===e?t.slice(0,7):"a"===e?r[3].toString():"null"},e.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},e.prototype.getModuleName=function(){return"colorpicker"},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.wireEvents=function(){if(this.isPicker()){var t=this.getDragHandler();ti.add(t,"keydown",this.pickerKeyDown,this),ti.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),ti.add(O(".e-previous",this.container),"click",this.previewHandler,this)}else ti.add(this.container,"click",this.paletteClickHandler,this),ti.add(this.container,"keydown",this.paletteKeyDown,this)},e.prototype.formResetHandler=function(){this.value=this.initialInputValue,A(this.element,{value:this.initialInputValue})},e.prototype.addCtrlSwitchEvent=function(){ti.add(O("."+Va,this.container),"click",this.btnClickHandler,this)},e.prototype.pickerKeyDown=function(t){switch(t.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,t);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,t);break;case 38:this.handlerDragPosition(2,1,t);break;case 40:this.handlerDragPosition(2,-1,t);break;case 13:t.preventDefault();var e=this.rgbToHex(this.rgb);this.enterKeyHandler(e,t)}},e.prototype.enterKeyHandler=function(t,e){this.triggerChangeEvent(t),this.inline||(this.closePopup(e),this.splitBtn.element.focus())},e.prototype.closePopup=function(t){var e={element:this.container,event:t,cancel:!1};this.trigger("beforeClose",e),e.cancel||(this.splitBtn.toggle(),this.onPopupClose())},e.prototype.triggerChangeEvent=function(t){var e=t.slice(0,7);this.trigger("change",{currentValue:{hex:e,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:t}),this.setProperties({value:t},!0),this.element.value=e||"#000000"},e.prototype.handlerDragPosition=function(t,e,n){n.preventDefault(),this.hsv[t]+=e*(n.ctrlKey?1:3),this.hsv[t]<0&&(this.hsv[t]=0),this.updateHsv(),this.convertToOtherFormat(!0)},e.prototype.handlerDown=function(t){t.preventDefault();"mousedown"===t.type?(this.clientX=Math.abs(t.pageX-pageXOffset),this.clientY=Math.abs(t.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(t.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(t.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),ti.add(document,"mousemove touchmove",this.handlerMove,this),ti.add(document,"mouseup touchend",this.handlerEnd,this)},e.prototype.handlerMove=function(t){"touchmove"!==t.type&&t.preventDefault();var e,n;"mousemove"===t.type?(e=Math.abs(t.pageX-pageXOffset),n=Math.abs(t.pageY-pageYOffset)):(e=Math.abs(t.changedTouches[0].pageX-pageXOffset),n=Math.abs(t.changedTouches[0].pageY-pageYOffset)),this.setHsv(e,n);var i=this.getDragHandler();parseInt(i.style.left,10),parseInt(i.style.top,10);this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(i),this.tooltipEle.style.transform||(Math.abs(this.clientX-e)>8||Math.abs(this.clientY-n)>8)&&(O("."+ja,this.container).style.cursor="pointer",i.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",i.classList.add("e-hide-handler"))},e.prototype.setHsv=function(t,e){var n=O("."+ja,this.container),i=n.getBoundingClientRect();t=this.enableRtl?t>i.right?0:Math.abs(t-i.right):t>i.left?Math.abs(t-i.left):0,e=e>i.top?Math.abs(e-i.top):0,this.hsv[2]=Math.round(10*Number(100*(n.offsetHeight-Math.max(0,Math.min(n.offsetHeight,e-n.offsetTop)))/n.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(n.offsetWidth,t-n.offsetLeft))/n.offsetWidth))/10},e.prototype.handlerEnd=function(t){"touchend"!==t.type&&t.preventDefault(),ti.remove(document,"mousemove touchmove",this.handlerMove),ti.remove(document,"mouseup touchend",this.handlerEnd);var e=this.getDragHandler();O("."+ja,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",e.classList.remove("e-hide-handler")),this.inline||this.showButtons||this.closePopup(t)},e.prototype.btnClickHandler=function(t){var e=t.target;N(e,"."+Ua)?(t.stopPropagation(),this.switchToPalette()):(e.classList.contains("e-apply")||e.classList.contains("e-cancel"))&&this.ctrlBtnClick(e,t)},e.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),D(O(".e-slider-preview",this.container)),this.getWrapper().classList.contains(Ha)||P(O("."+Ba,this.container)),D(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents()},e.prototype.refreshPopupPos=function(){if(!this.inline){var t=this.getPopupEle();t.style.left=y(0+pageXOffset),t.style.top=y(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},e.prototype.formatSwitchHandler=function(t){t.target.parentElement;this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},e.prototype.updateValue=function(t,e,n,i){for(var r,o=["e-rh-value","e-gs-value","e-bv-value"],s=0,a=o.length;s<a;s++)r=g(O("."+o[s],this.container),Ls),r.value=Math.round(t[s]),e&&(r.placeholder=o[s].substr(n,1).toUpperCase(),r.max=i?i[s]:255),r.dataBind()},e.prototype.previewHandler=function(t){var e=t.target,n=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(e.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var i=this.rgbToHex(this.rgb),r=this.rgbToHsv.apply(this,this.rgb);r[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:r[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(r[0]),this.enableOpacity&&r[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*r[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=r,this.setHandlerPosition(),this.updateInput(i),O("."+Wa+" .e-current",this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(i,n,this.convertToRgbString(this.rgb))},e.prototype.paletteClickHandler=function(t){t.preventDefault();var e=t.target;if(e.classList.contains(Xa)){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(qa))this.noColorTile();else{var n=e.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(n)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Ya)&&this.updateInput(n),this.triggerEvent(n,i,this.convertToRgbString(this.rgb))}this.inline||this.showButtons||this.closePopup(t)}else N(e,"."+Ua)?this.switchToPicker():e.classList.contains("e-apply")||e.classList.contains("e-cancel")?this.ctrlBtnClick(e,t):this.getWrapper().classList.contains(Ya)&&N(e,".e-value-switch-btn")&&this.formatSwitchHandler(t)},e.prototype.noColorTile=function(t){void 0===t&&(t=!1);var e=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",e,"",t)},e.prototype.switchToPicker=function(){var t=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(I(".e-palette",this.container)).forEach(function(t){D(t)}),t.classList.contains(Ya)&&D(O("."+Ba,this.container)),this.container.style.width="";var e=O(".e-custom-palette",this.container);this.presetColors&&P(e),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents()},e.prototype.ctrlBtnClick=function(t,e){if(t.classList.contains("e-apply")){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}this.inline||(this.closePopup(e),this.splitBtn.element.focus())},e.prototype.paletteKeyDown=function(t){var e=t.target;if(e.classList.contains("e-palette")){var n,i,r=[].slice.call(I("."+Xa,e)),o=r.filter(function(t){return t.classList.contains("e-selected")}).pop();switch(!t.altKey&&t.keyCode){case 39:t.preventDefault(),n=o?r[this.tilePosition(r,o,this.enableRtl?-1:1)]:r[this.enableRtl?r.length-1:0],this.keySelectionChanges(n);break;case 37:t.preventDefault(),n=o?r[this.tilePosition(r,o,this.enableRtl?1:-1)]:r[this.enableRtl?0:r.length-1],this.keySelectionChanges(n);break;case 38:t.preventDefault(),i=o?this.tilePosition(r,o,-this.columns):0,n=r[i]?r[i]:r[i-this.columns],this.keySelectionChanges(n);break;case 40:t.preventDefault(),i=o?this.tilePosition(r,o,this.columns):r.length-1,r[i]?n=r[i]:(i%=r.length,i+=r[r.length-1].parentElement.childElementCount,n=r[i]),this.keySelectionChanges(n);break;case 13:if(t.preventDefault(),o){var s=o.getAttribute("aria-label");this.enterKeyHandler(s||"",t)}}}},e.prototype.keySelectionChanges=function(t){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(qa))this.noColorTile(!0);else{var e=t.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Ya)&&this.updateInput(e),this.triggerEvent(e,n,this.convertToRgbString(this.rgb),!0)}},e.prototype.tilePosition=function(t,e,n){t=Array.prototype.slice.call(t);var i=t.length,r=this.columns-t[i-1].parentElement.childElementCount,o=t.indexOf(e);return o+=n,o<0?o+=i+r:o%=i+r,o},e.prototype.inputHandler=function(t){var e=t.target;if(e.value.length){var n,i;switch(O(".e-float-text",e.parentElement).textContent){case"HEX":var r="";if(("#"===e.value[0]&&5!==e.value.length||"#"!==e.value[0]&&4!==e.value.length)&&(r=this.roundValue(e.value)),9!==r.length)return;i=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(r+r.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),i,e.value);break;case"R":this.rgb[0]!==Number(e.value)&&(i=this.rgbToHex(this.rgb),this.rgb[0]=Number(e.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,i));break;case"G":this.rgb[1]!==Number(e.value)&&(i=this.rgbToHex(this.rgb),this.rgb[1]=Number(e.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,i));break;case"B":this.rgb[2]!==Number(e.value)&&(i=this.rgbToHex(this.rgb),this.rgb[2]=Number(e.value),n=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(n,i));break;case"H":this.hueSlider.value=Number(e.value);break;case"S":this.hsv[1]!==Number(e.value)&&(this.hsv[1]=Number(e.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(e.value)&&(this.hsv[2]=Number(e.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(e.value)}}},e.prototype.inputValueChange=function(t,e,n){t[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:t[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(t[0])),this.hsv=t;var i=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(n||i);var r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.triggerEvent(i,e,r)},e.prototype.triggerEvent=function(t,e,n,i){void 0===i&&(i=!1);var r=t.slice(0,7);this.showButtons||i?this.trigger("select",{currentValue:{hex:r,rgba:n},previousValue:{hex:e.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(e))}}):(this.trigger("change",{currentValue:{hex:r,rgba:n},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:t}),this.setProperties({value:t},!0),this.element.value=r||"#000000")},e.prototype.destroy=function(){var e=this,n=this.getWrapper();t.prototype.destroy.call(this),["tabindex","spellcheck"].forEach(function(t){e.element.removeAttribute(t)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,D(this.element.nextElementSibling),n.parentElement.insertBefore(this.element,n),D(n),this.container=null,this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.destroyOtherComp=function(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var t=this.getTooltipInst();t.close(),t.destroy(),this.tooltipEle=null}},e.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},e.prototype.unWireEvents=function(){if(this.isPicker()){var t=(this.getWrapper(),this.getDragHandler());ti.remove(t,"keydown",this.pickerKeyDown),ti.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&ti.remove(O("."+Va,this.container),"click",this.btnClickHandler),ti.remove(O(".e-previous",this.container),"click",this.previewHandler)}else ti.remove(this.container,"click",this.paletteClickHandler),ti.remove(this.container,"keydown",this.paletteKeyDown)},e.prototype.roundValue=function(t){if(!t)return"";"#"!==t[0]&&(t="#"+t);var e=t.length;if(4===e&&(t+="f",e=5),5===e){for(var n="",i=1,r=t.length;i<r;i++)n+=t.charAt(i)+t.charAt(i);t="#"+n,e=9}return 7===e&&(t+="ff"),t},e.prototype.hexToRgb=function(t){if(!t)return[];t=t.trim(),9!==t.length&&(t=this.roundValue(t));var e=Number((parseInt(t.slice(-2),16)/255).toFixed(2));t=t.slice(1,7);var n=parseInt(t,16),i=[];return i.push(n>>16&255),i.push(n>>8&255),i.push(255&n),i.push(e),i},e.prototype.rgbToHsv=function(t,e,n,i){if(this.rgb&&!this.rgb.length)return[];t/=255,e/=255,n/=255;var r,o,s=Math.max(t,e,n),a=Math.min(t,e,n),l=s,u=s-a;if(o=0===s?0:u/s,s===a)r=0;else{switch(s){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}var c=[Math.round(360*r),Math.round(1e3*o)/10,Math.round(1e3*l)/10];return h(i)||c.push(i),c},e.prototype.hsvToRgb=function(t,e,n,i){var r,o,s,a,l,u,c,p;if(e/=100,n/=100,0===e)return r=o=s=n,[Math.round(255*r),Math.round(255*o),Math.round(255*s),i];switch(t/=60,a=Math.floor(t),l=t-a,u=n*(1-e),c=n*(1-e*l),p=n*(1-e*(1-l)),a){case 0:r=n,o=p,s=u;break;case 1:r=c,o=n,s=u;break;case 2:r=u,o=n,s=p;break;case 3:r=u,o=c,s=n;break;case 4:r=p,o=u,s=n;break;default:r=n,o=u,s=c}var d=[Math.round(255*r),Math.round(255*o),Math.round(255*s)];return h(i)||d.push(i),d},e.prototype.rgbToHex=function(t){return t.length?"#"+this.hex(t[0])+this.hex(t[1])+this.hex(t[2])+(h(t[3])?"":0!==t[3]?(Math.round(255*t[3])+65536).toString(16).substr(-2):"00"):""},e.prototype.hex=function(t){return("0"+t.toString(16)).slice(-2)},e.prototype.changeModeSwitcherProp=function(t){var e=O("."+Va,this.container);t?e?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):e&&(this.showButtons?D(O("."+Ua,e)):P(e))},e.prototype.changeShowBtnProps=function(t){var e=O("."+Va,this.container);t?(e&&P(e),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?D(O(".e-ctrl-btn",e)):P(e)},e.prototype.changeValueProp=function(t){if(this.isPicker())this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),D(N(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(t);else{this.removeTileSelection();var e=O('span[aria-label="'+this.roundValue(t)+'"]',this.container);e&&this.addTileSelection(e)}},e.prototype.setInputEleProps=function(t){P(O("."+Ba,this.container)),this.createInput()},e.prototype.changeDisabledProp=function(t){this.isPicker()&&(this.hueSlider.enabled=!t,this.opacitySlider.enabled=!t,this.setInputEleProps(t)),t?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},e.prototype.changeCssClassProps=function(t,e){var n=this.getWrapper(),i=this.getPopupEle();e&&E([n,i],e.split(" ")),t&&C([n,i],t.split(" "))},e.prototype.changeRtlProps=function(t){t?C([this.getWrapper()],"e-rtl"):E([this.getWrapper()],"e-rtl")},e.prototype.changePaletteProps=function(){D(this.container.children[0]),this.container.style.width="",this.createPalette()},e.prototype.changeOpacityProps=function(t){var e=this.getWrapper();t?(E([this.container.parentElement],"e-hide-opacity"),this.createOpacitySlider(O(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),e.classList.contains(Ha)||e.classList.contains(Fa)||this.appendOpacityValue(O(".e-input-container",this.container))):(C([this.container.parentElement],"e-hide-opacity"),this.opacitySlider.destroy(),P(this.opacitySlider.element),this.opacitySlider=null,e.classList.contains(Ha)||e.classList.contains(Fa)||P(O("."+za,this.container).parentElement))},e.prototype.onPropertyChanged=function(t,e){var n=this;if(!h(t.value)){var i=this.roundValue(t.value);if(9===i.length){this.element.value=this.roundValue(i).slice(0,7);var r=this.splitBtn&&O(".e-split-preview",this.splitBtn.element);r&&(r.style.backgroundColor=t.value)}else this.value=e.value}if(!this.inline&&h(t.inline)){var o=["disabled","enableRtl"];if(this.splitBtn.setProperties(zn(t,o)),!this.isPopupOpen())return this.changeCssClassProps(t.cssClass,e.cssClass),void this.changeRtlProps(t.enableRtl)}for(var s=this,a=0,l=Object.keys(t);a<l.length;a++){var u=l[a];!function(i){switch(i){case"inline":t.inline?(s.getWrapper().appendChild(s.container),s.splitBtn.destroy(),D(s.element.nextElementSibling),s.container.children.length||s.createWidget()):(s.destroyOtherComp(),s.unWireEvents(),s.container.innerHTML="",s.createSplitBtn());break;case"cssClass":s.changeCssClassProps(t.cssClass,e.cssClass);var r=t.cssClass.split(" ").concat(e.cssClass.split(" "));r=r.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]);var o=0;r.forEach(function(t){if(0===o&&(t===Ha||"e-hide-valueswitcher"===t||t===Ya||t===Ra||t===Fa)){O("."+Ba,n.container)&&P(O("."+Ba,n.container)),n.createInput(),o++}});break;case"enableRtl":s.isPicker()&&(s.hueSlider.enableRtl=t.enableRtl,s.enableOpacity&&(s.opacitySlider.enableRtl=t.enableRtl),s.setInputEleProps(t.enableRtl)),s.changeRtlProps(t.enableRtl);break;case"disabled":s.changeDisabledProp(t.disabled);break;case"value":s.value!==e.value&&s.changeValueProp(t.value);break;case"showButtons":s.changeShowBtnProps(t.showButtons);break;case"mode":"Picker"===t.mode?s.switchToPicker():s.switchToPalette();break;case"modeSwitcher":s.changeModeSwitcherProp(t.modeSwitcher);break;case"columns":case"presetColors":s.isPicker()||s.changePaletteProps();break;case"noColor":t.noColor?"Palette"!==s.mode||s.modeSwitcher||s.setNoColor():s.changePaletteProps();break;case"enableOpacity":s.changeOpacityProps(t.enableOpacity)}}(u)}},La([G("#008000ff")],e.prototype,"value",void 0),La([G("")],e.prototype,"cssClass",void 0),La([G(!1)],e.prototype,"disabled",void 0),La([G(!1)],e.prototype,"enableRtl",void 0),La([G("Picker")],e.prototype,"mode",void 0),La([G(!0)],e.prototype,"modeSwitcher",void 0),La([G(null)],e.prototype,"presetColors",void 0),La([G(!0)],e.prototype,"showButtons",void 0),La([G(10)],e.prototype,"columns",void 0),La([G(!1)],e.prototype,"inline",void 0),La([G(!1)],e.prototype,"noColor",void 0),La([G(!1)],e.prototype,"enablePersistence",void 0),La([G(!0)],e.prototype,"enableOpacity",void 0),La([Q()],e.prototype,"select",void 0),La([Q()],e.prototype,"change",void 0),La([Q()],e.prototype,"beforeTileRender",void 0),La([Q()],e.prototype,"beforeOpen",void 0),La([Q()],e.prototype,"open",void 0),La([Q()],e.prototype,"beforeClose",void 0),La([Q()],e.prototype,"beforeModeSwitch",void 0),La([Q()],e.prototype,"created",void 0),e=La([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Za=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ja=(function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.previousValue=null,i.isAngular=!1,i.isHiddenInput=!1,i.isForm=!1,i}Qa(e,t),e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"floatLabelType":rs.removeFloating(this.textboxWrapper),rs.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":rs.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container);break;case"value":var r=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=r,rs.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.isAngular&&!0===this.preventChange?(this.previousValue=this.value,this.preventChange=!1):(h(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&h(this.preventChange))&&this.raiseChangeEvent();break;case"readonly":rs.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),this.raiseChangeEvent());break;case"showClearButton":"TEXTAREA"!==this.respectiveElement.tagName&&(rs.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent());break;case"enableRtl":rs.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":rs.setPlaceholder(this.placeholder,this.respectiveElement);break;case"cssClass":rs.setCssClass(this.cssClass,[this.textboxWrapper.container]);break;case"locale":this.globalize=new Ki(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),rs.setPlaceholder(this.placeholder,this.respectiveElement)}}},e.prototype.getModuleName=function(){return"textbox"},e.prototype.isBlank=function(t){return!t||/^\s*$/.test(t)},e.prototype.preRender=function(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=N(this.element,"form"),h(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){var t=o("ej2_instances",this.element),e=this.multiline?this.createElement("textarea"):this.createElement("input"),n=0;for(n;n<this.element.attributes.length;n++)e.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),e.innerHTML=this.element.innerHTML;this.element.appendChild(e),this.element=e,s("ej2_instances",t,this.element)}var i=this.element.attributes;this.checkAttributes(i),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),this.globalize=new Ki(this.locale);var r={placeholder:this.placeholder};if(this.l10n=new pr("textbox",r,this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",d("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name");for(var a=["required","minlength","maxlength"],l=0;l<a.length;l++)if(this.element.hasAttribute(a[l])){var u=this.element.getAttribute(a[l]);this.textarea.setAttribute(a[l],u),this.element.removeAttribute(a[l])}}},e.prototype.checkAttributes=function(t){for(var e=0;e<t.length;e++){var n=t[e].nodeName;"disabled"===n?this.setProperties({enabled:!1},!0):"readonly"===n?this.setProperties({readonly:!0},!0):"placeholder"===n&&this.setProperties({placeholder:t[e].nodeValue},!0)}},e.prototype.render=function(){this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=rs.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:this.cssClass,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),""!==this.respectiveElement.value&&(this.value=this.respectiveElement.value),h(this.value)||(rs.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),h(this.value)||(this.initialValue=this.value,this.setInitialValue()),this.previousValue=this.value},e.prototype.setInitialValue=function(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)},e.prototype.wireEvents=function(){ti.add(this.respectiveElement,"focus",this.focusHandler,this),ti.add(this.respectiveElement,"blur",this.focusOutHandler,this),ti.add(this.respectiveElement,"input",this.inputHandler,this),ti.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&ti.add(this.formElement,"reset",this.resetForm,this),this.enabled&&this.bindClearEvent()},e.prototype.resetValue=function(t){var e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=t,this.isProtectedOnChange=e},e.prototype.resetForm=function(){this.isAngular?this.resetValue(""):this.resetValue(this.initialValue);var t=this.textboxWrapper.container.querySelector(".e-float-text");h(this.initialValue)||""===this.initialValue?(t.classList.add("e-label-bottom"),t.classList.remove("e-label-top")):""!==this.initialValue&&(t.classList.add("e-label-top"),t.classList.remove("e-label-bottom"))},e.prototype.focusHandler=function(t){var e={container:this.textboxWrapper.container,event:t,value:this.value};this.trigger("focus",e)},e.prototype.focusOutHandler=function(t){null===this.previousValue&&null===this.value&&""===this.respectiveElement.value||this.previousValue===this.respectiveElement.value||this.raiseChangeEvent(t,!0);var e={container:this.textboxWrapper.container,event:t,value:this.value};this.trigger("blur",e)},e.prototype.inputHandler=function(t){var e=this,n={event:t,value:this.respectiveElement.value,previousValue:this.value,container:this.textboxWrapper.container};this.isAngular&&(e.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.trigger("input",n),t.stopPropagation()},e.prototype.changeHandler=function(t){this.setProperties({value:this.respectiveElement.value},!0),this.raiseChangeEvent(t,!0),t.stopPropagation()},e.prototype.raiseChangeEvent=function(t,e){var n={event:t,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:e||!1,isInteracted:e||!1};this.preventChange=!1,this.trigger("change",n),this.previousValue=this.value},e.prototype.bindClearEvent=function(){this.showClearButton&&"TEXTAREA"!==this.respectiveElement.tagName&&ti.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this)},e.prototype.resetInputHandler=function(t){if(t.preventDefault(),!this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")){var e=this.value;rs.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0);var n={event:t,value:this.respectiveElement.value,previousValue:e,container:this.textboxWrapper.container};this.trigger("input",n),this.raiseChangeEvent(t,!0)}},e.prototype.unWireEvents=function(){ti.remove(this.respectiveElement,"focus",this.focusHandler),ti.remove(this.respectiveElement,"blur",this.focusOutHandler),ti.remove(this.respectiveElement,"input",this.inputHandler),ti.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&ti.remove(this.formElement,"reset",this.resetForm)},e.prototype.destroy=function(){this.unWireEvents(),this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-placeholder","aria-disabled","aria-readonly","aria-labelledby"]),this.textboxWrapper.container.parentElement.appendChild(this.respectiveElement),D(this.textboxWrapper.container),this.textboxWrapper=null,t.prototype.destroy.call(this)},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.addAttributes=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];"disabled"===i?(this.setProperties({enabled:!1},!0),rs.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===i?(this.setProperties({readonly:!0},!0),rs.setReadonly(this.readonly,this.respectiveElement)):"class"===i?this.respectiveElement.classList.add(t[i]):"placeholder"===i?(this.setProperties({placeholder:t[i]},!0),rs.setPlaceholder(this.placeholder,this.respectiveElement)):("rows"===i&&this.respectiveElement.tagName,this.respectiveElement.setAttribute(i,t[i]))}},e.prototype.removeAttributes=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];"disabled"===i?(this.setProperties({enabled:!0},!0),rs.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===i?(this.setProperties({readonly:!1},!0),rs.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===i?(this.setProperties({placeholder:null},!0),rs.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(i)}},Za([G("text")],e.prototype,"type",void 0),Za([G(!1)],e.prototype,"readonly",void 0),Za([G(null)],e.prototype,"value",void 0),Za([G("Never")],e.prototype,"floatLabelType",void 0),Za([G("")],e.prototype,"cssClass",void 0),Za([G(null)],e.prototype,"placeholder",void 0),Za([G(!1)],e.prototype,"enableRtl",void 0),Za([G(!1)],e.prototype,"multiline",void 0),Za([G(!0)],e.prototype,"enabled",void 0),Za([G(!1)],e.prototype,"showClearButton",void 0),Za([G(!1)],e.prototype,"enablePersistence",void 0),Za([Q()],e.prototype,"created",void 0),Za([Q()],e.prototype,"destroyed",void 0),Za([Q()],e.prototype,"change",void 0),Za([Q()],e.prototype,"blur",void 0),Za([Q()],e.prototype,"focus",void 0),Za([Q()],e.prototype,"input",void 0),e=Za([Z],e)}(tr),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),$a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},tl=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.previousElementValue="",i.isDateIconClicked=!1,i.isAltKeyPressed=!1,i.invalidValueString=null,i.checkPreviousValue=null,i.keyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",tab:"tab"},i.calendarKeyConfigs={escape:"escape",enter:"enter",tab:"tab"},i}return Ja(e,t),e.prototype.render=function(){this.initialize(),this.bindEvents()},e.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):A(this.inputElement,{readonly:""}),this.updateIconState()},e.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&E([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?E([this.inputWrapper.container],["e-non-edit"]):C([this.inputWrapper.container],["e-non-edit"])},e.prototype.initialize=function(){this.checkInvalidValue(this.value),this.createInput(),this.setAllowEdit(),this.updateInput(),this.previousElementValue=this.inputElement.value,this.previousDate=new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},e.prototype.createInput=function(){var t={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){var e={placeholder:null};this.globalize=new Ki(this.locale),this.l10n=new pr("datepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.inputWrapper=rs.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),""!==this.inputElement.name?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),A(this.inputElement,t),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),rs.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),C([this.inputWrapper.container],"e-date-wrapper")},e.prototype.updateInput=function(){var e;if(this.value&&!this.isCalendar()&&this.disabledDates(),+new Date(this.checkValue(this.value))||this.setProperties({value:null},!0),this.strictMode&&(t.prototype.validateDate.call(this),this.minMaxUpdates(),t.prototype.minMaxUpdate.call(this)),!h(this.value)){var n=this.value,i=void 0,r=h(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?i="Gregorian"===this.calendarMode?this.globalize.formatDate(this.value,{format:r,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.value,{format:r,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(e="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.formatDate(this.value,e)),+n<=+this.max&&+n>=+this.min)rs.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton);else{var o=+n>=+this.max||!+this.value||!+this.value||+n<=+this.min;!this.strictMode&&o&&rs.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton)}}h(this.value)&&this.strictMode&&rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),!this.strictMode&&h(this.value)&&this.invalidValueString&&rs.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},e.prototype.minMaxUpdates=function(){!h(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!h(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},e.prototype.checkStringValue=function(t){var e=null,n=null,i=null;if("datetimepicker"===this.getModuleName()){var r=new Ki(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},i={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return e=this.checkDateValue(this.globalize.parseDate(t,n)),h(e)&&"datetimepicker"===this.getModuleName()&&(e=this.checkDateValue(this.globalize.parseDate(t,i))),e},e.prototype.checkInvalidValue=function(t){if(!(t instanceof Date||h(t))){var e=null,n=t;"number"==typeof t&&(n=t.toString());if("datetimepicker"===this.getModuleName()){var i=new Ki(this.locale);"Gregorian"===this.calendarMode?({format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},{format:i.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):({format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},{format:i.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};var r=!1;if("string"!=typeof n)n=null,r=!0;else if("string"==typeof n&&(n=n.trim()),!(e=this.checkStringValue(n))){var o=null,s=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(n)&&!s.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?r=!0:e=new Date(n)}r?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:e},!0)}},e.prototype.bindEvents=function(){this.enabled?(ti.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),ti.add(this.inputElement,"focus",this.inputFocusHandler,this),ti.add(this.inputElement,"blur",this.inputBlurHandler,this),ti.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&ti.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&ti.add(this.formElement,"reset",this.resetFormHandler,this)):(ti.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),ti.remove(this.inputElement,"focus",this.inputFocusHandler),ti.remove(this.inputElement,"blur",this.inputBlurHandler),ti.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&ti.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&ti.remove(this.formElement,"reset",this.resetFormHandler)),this.keyboardModules=new hr(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.keyConfigs})},e.prototype.resetFormHandler=function(){if(!this.inputElement.disabled){var t=this.inputElement.getAttribute("value");"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(t="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(rs.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}},e.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=this.inputElement.value},e.prototype.inputChangeHandler=function(t){t.stopPropagation()},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&ti.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(t){t.preventDefault(),this.clear(t)},e.prototype.clear=function(t){this.setProperties({value:null},!0),rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(t)},e.prototype.dateIconHandler=function(t){mi.isDevice&&("EJS-DATEPICKER"===this.element.tagName?this.inputElement.setAttribute("readonly",""):this.element.setAttribute("readonly",""),this.inputElement.blur()),t.preventDefault(),this.readonly||(this.isCalendar()?this.hide(t):(this.isDateIconClicked=!0,this.show(null,t),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),C([this.inputWrapper.container],["e-input-focus"]),C(this.inputWrapper.buttons,"e-active")))},e.prototype.CalendarKeyActionHandle=function(t){switch(t.action){case"escape":this.isCalendar()?this.hide(t):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,t),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(t)}},e.prototype.inputFocusHandler=function(){var t={model:this};this.isDateIconClicked=!1,this.trigger("focus",t),this.updateIconState()},e.prototype.inputBlurHandler=function(t){if(this.strictModeUpdate(),""===this.inputElement.value&&h(this.value)&&(this.invalidValueString=null,rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)),this.updateInput(),this.popupUpdate(),this.changeTrigger(t),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(t),"datepicker"===this.getModuleName()){var e={model:this};this.trigger("blur",e)}this.isCalendar()&&(this.calendarKeyboardModules=new hr(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.calendarKeyConfigs}))},e.prototype.documentHandler=function(t){"touchstart"!==t.type&&t.preventDefault();var e=t.target;N(e,".e-datepicker.e-popup-wrapper")||N(e,".e-input-group")===this.inputWrapper.container||e.classList.contains("e-day")||this.hide(t)},e.prototype.inputKeyActionHandle=function(t){switch(t.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(t),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(t),"datepicker"===this.getModuleName()&&this.show(null,t);break;case"escape":this.hide(t);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(t),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(t),this.isCalendar()&&(t.preventDefault(),t.stopPropagation());break;case"tab":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(t),this.errorClass(),this.hide(t);break;case"select":this.isAltKeyPressed?this.defaultAction(t):this.hide(t);break;default:this.defaultAction(t)}},e.prototype.defaultAction=function(e){this.previousDate=!h(this.value)&&new Date(+this.value)||null,this.isCalendar()&&t.prototype.keyActionHandle.call(this,e)},e.prototype.popupUpdate=function(){if((h(this.value)&&!h(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll(".e-selected").length>0&&E(this.popupObj.element.querySelectorAll(".e-selected"),["e-selected"]),!h(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var e=new Date(this.checkValue(this.value));t.prototype.navigateTo.call(this,"Month",e)}},e.prototype.strictModeUpdate=function(){var t,e;if(t="datetimepicker"===this.getModuleName()?h(this.formatString)?this.dateTimeFormat:this.formatString:h(this.formatString)?this.formatString:this.formatString.replace("dd","d"),!h(t)){t.split("M").length-1<3&&(t=t.replace("MM","M"))}var n;"datetimepicker"===this.getModuleName()?n="Gregorian"===this.calendarMode?{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:(e="Gregorian"===this.calendarMode?{format:t,type:"dateTime",skeleton:"yMd"}:{format:t,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=e);var i;"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,n))?i=this.globalize.parseDate(this.inputElement.value,n):(e="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.parseDate(this.inputElement.value,e)):i=this.globalize.parseDate(this.inputElement.value,n),this.strictMode&&i?(rs.setValue(this.globalize.formatDate(i,n),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0),this.strictMode&&!i&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),h(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},e.prototype.createCalendar=function(){var t=this;this.popupWrapper=this.createElement("div",{className:"e-datepicker e-popup-wrapper"}),h(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),mi.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className="e-datepicker e-date-modal",document.body.className+=" e-date-overflow",this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new yo(this.popupWrapper,{content:this.calendarElement,relateTo:mi.isDevice?document.body:this.inputWrapper.container,position:mi.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:mi.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){"datetimepicker"!==t.getModuleName()&&document.activeElement!==t.inputElement&&(t.calendarElement.children[1].firstElementChild.focus(),t.calendarKeyboardModules=new hr(t.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:t.CalendarKeyActionHandle.bind(t),keyConfigs:t.calendarKeyConfigs}),t.calendarKeyboardModules=new hr(t.inputWrapper.container.children[t.index],{eventName:"keydown",keyAction:t.CalendarKeyActionHandle.bind(t),keyConfigs:t.calendarKeyConfigs}))},close:function(){t.isDateIconClicked&&t.inputWrapper.container.children[t.index].focus(),t.value&&t.disabledDates(),t.popupObj&&t.popupObj.destroy(),D(t.popupWrapper),t.popupObj=t.popupWrapper=null,t.setAriaAttributes()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},e.prototype.modelHeader=function(){var t,e=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),i=this.createElement("div"),r=this.createElement("span",{className:"e-model-day"}),o=this.createElement("span",{className:"e-model-month"});t="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,t),t="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},r.textContent=this.globalize.formatDate(this.value||new Date,t)+", ",t="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},o.textContent=""+this.globalize.formatDate(this.value||new Date,t),e.appendChild(n),i.appendChild(r),i.appendChild(o),e.appendChild(i),this.calendarElement.insertBefore(e,this.calendarElement.firstElementChild)},e.prototype.changeTrigger=function(t){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=t||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!h(t),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)))},e.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},e.prototype.changeEvent=function(t){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(t),this.changedArgs.event=t||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!h(t),this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(t),this.previousElementValue=this.inputElement.value,this.errorClass())},e.prototype.requiredModules=function(){var t=[];return this&&t.push({args:[this],member:"islamic"}),t},e.prototype.selectCalendar=function(t){var e,n,i;n="datetimepicker"===this.getModuleName()&&h(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(i="Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"},e=this.globalize.formatDate(this.changedArgs.value,i)):(i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},e=this.globalize.formatDate(this.changedArgs.value,i))),h(e)||rs.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-popup-wrapper"))},e.prototype.setWidth=function(t){this.inputWrapper.container.style.width="number"==typeof t?y(this.width):"string"==typeof t?t.match(/px|%|em/)?this.width:y(this.width):"100%"},e.prototype.show=function(e,n){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var i=!0,r=void 0;if(h(this.value)||+this.value>=+this.min&&+this.value<=+this.max?r=this.value||null:(r=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(t.prototype.render.call(this),this.setProperties({value:r||null},!0),this.previousDate=r,this.createCalendar()),this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,event:n||null,cancel:!1,appendTo:document.body},this.trigger("open",this.preventArgs),i&&!this.preventArgs.cancel){C(this.inputWrapper.buttons,"e-active"),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement);var o={name:"FadeIn",duration:mi.isDevice?0:300};1e3===this.zIndex?this.popupObj.show(new gi(o),this.element):this.popupObj.show(new gi(o),null),this.setAriaAttributes()}else this.popupObj.destroy(),this.popupWrapper=this.popupObj=null;ti.add(document,"mousedown touchstart",this.documentHandler,this)}},e.prototype.hide=function(t){if(!h(this.popupWrapper)){var e=!0;if(this.preventArgs={preventDefault:function(){e=!1},popup:this.popupObj,event:t||null,cancel:!1},E(this.inputWrapper.buttons,"e-active"),E([document.body],"e-date-overflow"),this.isCalendar()&&this.trigger("close",this.preventArgs),this.isCalendar()&&e&&!this.preventArgs.cancel){this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),E(this.inputWrapper.buttons,"e-active")}this.setAriaAttributes(),mi.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),ti.remove(document,"mousedown touchstart",this.documentHandler)}mi.isDevice&&this.allowEdit&&!this.readonly&&("EJS-DATEPICKER"===this.element.tagName?this.inputElement.removeAttribute("readonly"):this.element.removeAttribute("readonly")),this.setAllowEdit()},e.prototype.focusIn=function(t){if(document.activeElement!==this.inputElement&&this.enabled){this.inputElement.focus(),C([this.inputWrapper.container],["e-input-focus"])}},e.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur(),E([this.inputWrapper.container],["e-input-focus"]);var t={model:this};this.trigger("blur",t)}},e.prototype.currentView=function(){var e;return this.calendarElement&&(e=t.prototype.currentView.call(this)),e},e.prototype.navigateTo=function(e,n){this.calendarElement&&t.prototype.navigateTo.call(this,e,n)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&t.prototype.destroy.call(this);var e={"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.inputElement&&(rs.removeAttributes(e,this.inputElement),h(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),ti.remove(this.inputElement,"blur",this.inputBlurHandler),ti.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&D(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),E([this.inputElement],["e-input"])),E([this.element],["e-datepicker"]),D(this.inputWrapper.container)),this.formElement&&ti.remove(this.formElement,"reset",this.resetFormHandler)},e.prototype.ensureInputAttribute=function(){for(var t=[],e=0;e<this.inputElement.attributes.length;e++)t[e]=this.inputElement.attributes[e].name;for(var e=0;e<t.length;e++)h(this.inputElementCopy.getAttribute(t[e]))?("value"===t[e].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(t[e])):("value"===t[e].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(t[e])),this.inputElement.setAttribute(t[e],this.inputElementCopy.getAttribute(t[e])))},e.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),E([this.inputElementCopy],["e-datepicker","e-control","e-lib"]),this.inputElement=this.element,this.formElement=N(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=d("ej2-datetimepicker"),null!==this.ngTag&&A(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=d("ej2-datepicker"),null!==this.ngTag&&A(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),t.prototype.preRender.call(this)},e.prototype.validationAttribute=function(t,e){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");e.setAttribute("name",n),t.removeAttribute("name");for(var i=["required","aria-required","form"],r=0;r<i.length;r++)if(!h(t.getAttribute(i[r]))){var o=t.getAttribute(i[r]);e.setAttribute(i[r],o),t.removeAttribute(i[r])}},e.prototype.checkFormat=function(){var t=new Ki(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||h(this.format.skeleton))"datetimepicker"===this.getModuleName()?this.formatString=this.dateTimeFormat:this.formatString=null;else{var e=this.format.skeleton;"datetimepicker"===this.getModuleName()?this.formatString=t.getDatePattern({skeleton:e,type:"dateTime"}):this.formatString=t.getDatePattern({skeleton:e,type:"date"})}else this.formatString=null},e.prototype.checkHtmlAttributes=function(){this.globalize=new Ki(this.locale),this.checkFormat(),this.checkView();var t,e=["value","min","max","disabled","readonly","style","name","placeholder","type"];t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var n=0,i=e;n<i.length;n++){var r=i[n];if(!h(this.inputElement.getAttribute(r)))switch(r){case"disabled":var o="disabled"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r);this.setProperties({enabled:!o},!0);break;case"readonly":var a="readonly"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r);this.setProperties({readonly:a},!0);break;case"placeholder":if(null===this.placeholder){this.inputElement.getAttribute(r);this.setProperties({placeholder:this.inputElement.getAttribute(r)},!0)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(r));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(r));break;case"value":if(!this.value){var l=this.inputElement.getAttribute(r);this.setProperties(s(r,this.globalize.parseDate(l,t),{}),!0)}break;case"min":+this.min==+new Date(1900,0,1)&&this.setProperties(s(r,this.globalize.parseDate(this.inputElement.getAttribute(r)),{}),!0);break;case"max":+this.max==+new Date(2099,11,31)&&this.setProperties(s(r,this.globalize.parseDate(this.inputElement.getAttribute(r)),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(r)&&this.inputElement.setAttribute("type","text")}}},e.prototype.getModuleName=function(){return"datepicker"},e.prototype.disabledDates=function(){var e,n,i;e=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value));var r=this.previousDate;this.minMaxUpdates(),t.prototype.render.call(this),this.previousDate=r;var o=e&&+e,s='*[id^="/id"]'.replace("/id",""+o);this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+e)&&this.setProperties({value:e},!0),h(this.calendarElement.querySelectorAll(s)[0])||this.calendarElement.querySelectorAll(s)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0))));var a;"datetimepicker"===this.getModuleName()?(i="Gregorian"===this.calendarMode?this.globalize.formatDate(e,{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(e,{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),a=i):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},a=this.globalize.formatDate(e,n)),this.popupObj||rs.setValue(a,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.setAriaAttributes=function(){this.isCalendar()?(rs.addAttributes({"aria-expanded":"true"},this.inputElement),A(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(rs.addAttributes({"aria-expanded":"false"},this.inputElement),A(this.inputElement,{"aria-activedescendant":"null"}))},e.prototype.errorClass=function(){var t='*[id^="/id"]'.replace("/id",""+ +this.value),e=this.calendarElement&&this.calendarElement.querySelectorAll(t)[0]&&this.calendarElement.querySelectorAll(t)[0].classList.contains("e-disabled");!h(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&h(this.value)||e?(C([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":"true"})):(E([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":"false"}))},e.prototype.onPropertyChanged=function(e,n){"Gregorian"===this.calendarMode?this.formatString:this.formatString;for(var i=0,r=Object.keys(e);i<r.length;i++){switch(r[i]){case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,h(this.value)&&(rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(),+this.previousDate!=+this.value&&this.changeTrigger(null);break;case"format":this.checkFormat(),this.updateInput();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":rs.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":rs.setReadonly(this.readonly,this.inputElement);break;case"enabled":rs.setEnabled(this.enabled,this.inputElement),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),this.bindEvents();break;case"locale":this.globalize=new Ki(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),rs.setPlaceholder(this.placeholder,this.inputElement),this.updateInput();break;case"enableRtl":rs.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&t.prototype.onPropertyChanged.call(this,e,n);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":rs.setCssClass(e.cssClass,[this.inputWrapper.container]),this.popupWrapper&&(this.popupWrapper.className+=" "+e.cssClass);break;case"showClearButton":rs.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,rs.removeFloating(this.inputWrapper),rs.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&t.prototype.onPropertyChanged.call(this,e,n)}this.hide(null)}},$a([G(null)],e.prototype,"width",void 0),$a([G(null)],e.prototype,"cssClass",void 0),$a([G(!1)],e.prototype,"strictMode",void 0),$a([G(null)],e.prototype,"format",void 0),$a([G(!0)],e.prototype,"enabled",void 0),$a([G(null)],e.prototype,"values",void 0),$a([G(!1)],e.prototype,"isMultiSelection",void 0),$a([G(!0)],e.prototype,"showClearButton",void 0),$a([G(!0)],e.prototype,"allowEdit",void 0),$a([G(!1)],e.prototype,"enableRtl",void 0),$a([G(!1)],e.prototype,"enablePersistence",void 0),$a([G(1e3)],e.prototype,"zIndex",void 0),$a([G(!1)],e.prototype,"readonly",void 0),$a([G(null)],e.prototype,"placeholder",void 0),$a([G("Never")],e.prototype,"floatLabelType",void 0),$a([Q()],e.prototype,"open",void 0),$a([Q()],e.prototype,"close",void 0),$a([Q()],e.prototype,"blur",void 0),$a([Q()],e.prototype,"focus",void 0),$a([Q()],e.prototype,"created",void 0),$a([Q()],e.prototype,"destroyed",void 0),e=$a([Z],e)}(uo),el=function(){function t(t){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof t?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return t.prototype.setKey=function(t){return this.key=t,this},t.prototype.using=function(t){return this.dataManager=t,this},t.prototype.execute=function(t,e,n,i){return t=t||this.dataManager,t?t.executeQuery(this,e,n,i):rl.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},t.prototype.executeLocal=function(t){return t=t||this.dataManager,t?t.executeLocal(this):rl.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},t.prototype.clone=function(){var e=new t;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e},t.prototype.from=function(t){return this.fromTable=t,this},t.prototype.addParams=function(t,e){return"function"==typeof e?this.params.push({key:t,fn:e}):this.params.push({key:t,value:e}),this},t.prototype.distinct=function(t){return this.distincts="string"==typeof t?[].slice.call([t],0):t.slice(0),this},t.prototype.expand=function(t){return this.expands="string"==typeof t?[].slice.call([t],0):t.slice(0),this},t.prototype.where=function(t,e,n,i,r){e=e?e.toLowerCase():null;var o=null;return"string"==typeof t?o=new nl(t,e,n,i,r):t instanceof nl&&(o=t),this.queries.push({fn:"onWhere",e:o}),this},t.prototype.search=function(t,e,n,i,r){"string"==typeof e&&(e=[e]),n=n||"contains";var o=rl.fnOperators[n];return this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:n,searchKey:t,ignoreCase:i,ignoreAccent:r,comparer:o}}),this},t.prototype.sortBy=function(e,n,i){var r,o,s="ascending";if("string"==typeof e&&rl.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),n="descending"),n&&"string"!=typeof n||(s=n?n.toLowerCase():"ascending",n=rl.fnSort(n)),i){r=t.filterQueries(this.queries,"onSortBy");for(var a=0;a<r.length;a++)if("string"==typeof(o=r[a].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(var l=0;l<o.length;l++)if(o[l]===e||e.toLowerCase()===o[l]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:n,direction:s}}),this},t.prototype.sortByDesc=function(t){return this.sortBy(t,"descending")},t.prototype.group=function(t,e,n){return this.sortBy(t,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:t,comparer:e||null,format:n||null}}),this},t.prototype.page=function(t,e){return this.queries.push({fn:"onPage",e:{pageIndex:t,pageSize:e}}),this},t.prototype.range=function(t,e){return this.queries.push({fn:"onRange",e:{start:t,end:e}}),this},t.prototype.take=function(t){return this.queries.push({fn:"onTake",e:{nos:t}}),this},t.prototype.skip=function(t){return this.queries.push({fn:"onSkip",e:{nos:t}}),this},t.prototype.select=function(t){return"string"==typeof t&&(t=[].slice.call([t],0)),this.queries.push({fn:"onSelect",e:{fieldNames:t}}),this},t.prototype.hierarchy=function(t,e){return this.subQuerySelector=e,this.subQuery=t,this},t.prototype.foreignKey=function(t){return this.fKey=t,this},t.prototype.requiresCount=function(){return this.isCountRequired=!0,this},t.prototype.aggregate=function(t,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:t}}),this},t.filterQueries=function(t,e){return t.filter(function(t){return t.fn===e})},t.filterQueryLists=function(t,e){for(var n=t.filter(function(t){return-1!==e.indexOf(t.fn)}),i={},r=0;r<n.length;r++)i[n[r].fn]||(i[n[r].fn]=n[r].e);return i},t}(),nl=function(){function t(e,n,i,r,o){return void 0===r&&(r=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=n.toLowerCase(),this.value=i,this.ignoreCase=r,this.ignoreAccent=o,this.isComplex=!1,this.comparer=rl.fnOperators.processOperator(this.operator)):(e instanceof t&&i instanceof t||i instanceof Array)&&(this.isComplex=!0,this.condition=n.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return t.and=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.combinePredicates([].slice.call(e,0),"and")},t.prototype.and=function(e,n,i,r,o){return t.combine(this,e,n,i,"and",r,o)},t.or=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.combinePredicates([].slice.call(e,0),"or")},t.prototype.or=function(e,n,i,r,o){return t.combine(this,e,n,i,"or",r,o)},t.fromJson=function(t){if(t instanceof Array){for(var e=[],n=0,i=t.length;n<i;n++)e.push(this.fromJSONData(t[n]));return e}var r=t;return this.fromJSONData(r)},t.prototype.validate=function(t){var e,n,i=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,rl.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent);e="and"===this.condition;for(var r=0;r<i.length;r++)if(n=i[r].validate(t),e){if(!n)return!1}else if(n)return!0;return e},t.prototype.toJson=function(){var t,e;if(this.isComplex){t=[],e=this.predicates;for(var n=0;n<e.length;n++)t.push(e[n].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t}},t.combinePredicates=function(e,n){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new t(e[0],n,e.slice(1))},t.combine=function(e,n,i,r,o,s,a){return n instanceof t?t[o](e,n):"string"==typeof n?t[o](e,new t(n,i,r,s,a)):rl.throwError("Predicate - "+o+" : invalid arguments")},t.fromJSONData=function(e){for(var n=e.predicates||[],i=n.length,r=[],o=0;o<i;o++)r.push(this.fromJSONData(n[o]));return e.isComplex?new t(r[0],e.condition,r.slice(1)):new t(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent)},t}(),il={GroupGuid:"{271bbba0-1ee7}"},rl=function(){function t(){}return t.getValue=function(t,e){return"function"==typeof t?t.call(e||{}):t},t.endsWith=function(t,e){return t.slice(-e.length)===e},t.startsWith=function(t,e){return t.slice(0,e.length)===e},t.fnSort=function(e){return e=e?t.toLowerCase(e):"ascending","ascending"===e?this.fnAscending:this.fnDescending},t.fnAscending=function(t,e){return null===e||void 0===e?-1:"string"==typeof t?t.localeCompare(e):null===t||void 0===t?1:t-e},t.fnDescending=function(t,e){return null===e||void 0===e?1:"string"==typeof t?-1*t.localeCompare(e):null===t||void 0===t?-1:e-t},t.extractFields=function(t,e){for(var n={},i=0;i<e.length;i++)n=this.setValue(e[i],this.getObject(e[i],t),n);return n},t.select=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(this.extractFields(t[i],e));return n},t.group=function(e,n,i,r,o,s){r=r||1;var a=e;if(a.GroupGuid===il.GroupGuid){for(var l=this,u=0;u<a.length;u++)!function(t){if(h(o))a[t].items=l.group(a[t].items,n,i,a.level+1,null,s),a[t].count=a[t].items.length;else{var e=-1,r=o.filter(function(e){return e.key===a[t].key});e=o.indexOf(r[0]),a[t].items=l.group(a[t].items,n,i,a.level+1,o[e].items,s),a[t].count=o[e].count}}(u);return a.childLevels+=1,a}var c={},p=[];p.GroupGuid=il.GroupGuid,p.level=r,p.childLevels=0,p.records=a;for(var d=this,f=0;f<a.length;f++)!function(t){var e=d.getVal(a,t,n);if(h(s)||(e=s(e,n)),!c[e]&&(c[e]={key:e,count:0,items:[],aggregates:{},field:n},p.push(c[e]),!h(o))){var i=o.filter(function(t){return t.key===c[e].key});c[e].count=i[0].count}c[e].count=h(o)?c[e].count+=1:c[e].count,c[e].items.push(a[t])}(f);if(i&&i.length)for(var f=0;f<p.length;f++)!function(e){for(var n={},r=void 0,s=i,a=0;a<i.length;a++)if(r=t.aggregates[i[a].type],h(o))r&&(n[s[a].field+" - "+s[a].type]=r(p[e].items,s[a].field));else{var l=o.filter(function(t){return t.key===p[e].key});r&&(n[s[a].field+" - "+s[a].type]=r(l[0].items,s[a].field))}p[e].aggregates=n}(f);return a.length&&p||a},t.buildHierarchy=function(t,e,n,i,r){var o,s,a={};for(i.result&&(i=i.result),i.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<i.length;o++){var l=this.getObject(t,i[o]);s=a[l]||(a[l]=[]),s.push(i[o])}for(o=0;o<n.length;o++){var l=this.getObject(r||t,n[o]);n[o][e]=a[l]}},t.getFieldList=function(t,e,n){if(void 0===n&&(n=""),void 0===e||null===e)return this.getFieldList(t,[],n);for(var i=t,r=Object.keys(t),o=0,s=r;o<s.length;o++){var a=s[o];"object"!=typeof i[a]||i[a]instanceof Array?e.push(n+a):this.getFieldList(i[a],e,n+a+".")}return e},t.getObject=function(t,e){if(!t)return e;if(e){if(-1===t.indexOf("."))return e[t];for(var n=e,i=t.split("."),r=0;r<i.length&&null!=n;r++)n=n[i[r]];return n}},t.setValue=function(t,e,n){var i,r,o=t.toString().split("."),s=n||{},a=s,l=o.length;for(i=0;i<l;i++)r=o[i],i+1===l?a[r]=void 0===e?void 0:e:h(a[r])&&(a[r]={}),a=a[r];return s},t.sort=function(t,e,n){if(t.length<=1)return t;var i=parseInt((t.length/2).toString(),10),r=t.slice(0,i),o=t.slice(i);return r=this.sort(r,e,n),o=this.sort(o,e,n),this.merge(r,o,e,n)},t.ignoreDiacritics=function(e){return"string"!=typeof e?e:e.split("").map(function(e){return e in t.diacritics?t.diacritics[e]:e}).join("")},t.merge=function(t,e,n,i){for(var r,o=[];t.length>0||e.length>0;)r=t.length>0&&e.length>0?i?i(this.getVal(t,0,n),this.getVal(e,0,n))<=0?t:e:t[0][n]<t[0][n]?t:e:t.length>0?t:e,o.push(r.shift());return o},t.getVal=function(t,e,n){return n?this.getObject(n,t[e]):t[e]},t.toLowerCase=function(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""},t.callAdaptorFunction=function(t,e,n,i){if(e in t){var r=t[e](n,i);h(r)||(n=r)}return n},t.getAddParams=function(e,n,i){var r={};return t.callAdaptorFunction(e,"addParams",{dm:n,query:i,params:i.params,reqParams:r}),r},t.isPlainObject=function(t){return!!t&&t.constructor===Object},t.isCors=function(){var t=null;try{t=new window.XMLHttpRequest}catch(t){}return!!t&&"withCredentials"in t},t.getGuid=function(t){var e;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(t,n){if("crypto"in window&&"getRandomValues"in crypto){var i=new Uint8Array(1);window.crypto.getRandomValues(i),e=i[0]%16|0}else e=16*Math.random()|0;return"0123456789abcdef"[19===n?3&e|8:e]})},t.isNull=function(t){return void 0===t||null===t},t.getItemFromComparer=function(e,n,i){var r,o,s,a=0,l="string"==typeof t.getVal(e,0,n);if(e.length)for(;h(r)&&a<e.length;)r=t.getVal(e,a,n),s=e[a++];for(;a<e.length;a++)o=t.getVal(e,a,n),h(o)||(l&&(r=+r,o=+o),i(r,o)>0&&(r=o,s=e[a]));return s},t.distinct=function(e,n,i){i=!h(i)&&i;var r,o=[],s={};return e.forEach(function(a,l){(r=t.getVal(e,l,n))in s||(o.push(i?e[l]:r),s[r]=1)}),o},t.serverTimezoneOffset=null,t.throwError=function(t){try{throw new Error(t)}catch(t){throw t.message+"\n"+t.stack}},t.aggregates={sum:function(e,n){for(var i,r=0,o="number"!=typeof t.getVal(e,0,n),s=0;s<e.length;s++)i=t.getVal(e,s,n),isNaN(i)||null===i||(o&&(i=+i),r+=i);return r},average:function(e,n){return t.aggregates.sum(e,n)/e.length},min:function(e,n){var i;return"function"==typeof n&&(i=n,n=null),t.getObject(n,t.getItemFromComparer(e,n,i||t.fnAscending))},max:function(e,n){var i;return"function"==typeof n&&(i=n,n=null),t.getObject(n,t.getItemFromComparer(e,n,i||t.fnDescending))},truecount:function(t,e){return new pl(t).executeLocal((new el).where(e,"equal",!0,!0)).length},falsecount:function(t,e){return new pl(t).executeLocal((new el).where(e,"equal",!1,!0)).length},count:function(t,e){return t.length}},t.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},t.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},t.fnOperators={equal:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?t.toLowerCase(e)===t.toLowerCase(n):e===n},notequal:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),!t.fnOperators.equal(e,n,i)},lessthan:function(e,n,i){return i?t.toLowerCase(e)<t.toLowerCase(n):e<n},greaterthan:function(e,n,i){return i?t.toLowerCase(e)>t.toLowerCase(n):e>n},lessthanorequal:function(e,n,i){return i?t.toLowerCase(e)<=t.toLowerCase(n):e<=n},greaterthanorequal:function(e,n,i){return i?t.toLowerCase(e)>=t.toLowerCase(n):e>=n},contains:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?!h(e)&&!h(n)&&-1!==t.toLowerCase(e).indexOf(t.toLowerCase(n)):!h(e)&&!h(n)&&-1!==e.toString().indexOf(n)},notnull:function(t){return null!==t},isnull:function(t){return null===t},startswith:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?e&&n&&t.startsWith(t.toLowerCase(e),t.toLowerCase(n)):e&&n&&t.startsWith(e,n)},endswith:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?e&&n&&t.endsWith(t.toLowerCase(e),t.toLowerCase(n)):e&&n&&t.endsWith(e,n)},processSymbols:function(e){var n=t.operatorSymbols[e];if(n){return t.fnOperators[n]}return t.throwError("Query - Process Operator : Invalid operator")},processOperator:function(e){var n=t.fnOperators[e];return n||t.fnOperators.processSymbols(e)}},t.parse={parseJson:function(e){return"string"==typeof e?e=JSON.parse(e,t.parse.jsonReviver):e instanceof Array?t.parse.iterateAndReviveArray(e):"object"==typeof e&&null!==e&&t.parse.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var n=0;n<e.length;n++)"object"==typeof e[n]&&null!==e[n]?t.parse.iterateAndReviveJson(e[n]):"string"!=typeof e[n]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[n])?e[n]=t.parse.parseJson(e[n]):e[n]=t.parse.jsonReviver("",e[n])},iterateAndReviveJson:function(e){for(var n,i=Object.keys(e),r=0,o=i;r<o.length;r++){var s=o[r];t.startsWith(s,"__")||(n=e[s],"object"==typeof n?n instanceof Array?t.parse.iterateAndReviveArray(n):n&&t.parse.iterateAndReviveJson(n):e[s]=t.parse.jsonReviver(e[s],n))}},jsonReviver:function(e,n){var i=n;if("string"==typeof n){var r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n);if(r)return t.dateParse.toTimeZone(new Date(parseInt(r[1],10)),t.serverTimezoneOffset,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){var o=i.split(/[^0-9]/);n=t.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),t.serverTimezoneOffset,!0)}}return n},isJson:function(e){return"string"==typeof e[0]?e:t.parse.parseJson(e)},isGuid:function(t){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(t)},replacer:function(e,n){return t.isPlainObject(e)?t.parse.jsonReplacer(e,n):e instanceof Array?t.parse.arrayReplacer(e):e instanceof Date?t.parse.jsonReplacer({val:e},n).val:e},jsonReplacer:function(e,n){for(var i,r=Object.keys(e),o=0,s=r;o<s.length;o++){var a=s[o];if((i=e[a])instanceof Date){var l=i;e[a]=t.dateParse.toTimeZone(t.dateParse.addSelfOffset(l),t.serverTimezoneOffset).toJSON()}}return e},arrayReplacer:function(e){for(var n=0;n<e.length;n++)t.isPlainObject(e[n])?e[n]=t.parse.jsonReplacer(e[n]):e[n]instanceof Date&&(e[n]=t.parse.jsonReplacer({date:e[n]}).date);return e}},t.dateParse={addSelfOffset:function(t){return new Date(+t-6e4*t.getTimezoneOffset())},toUTC:function(t){return new Date(+t+6e4*t.getTimezoneOffset())},toTimeZone:function(e,n,i){if(null===n)return e;var r=i?t.dateParse.toUTC(e):e;return new Date(+r-36e5*n)},toLocalTime:function(t){var e=t,n=-e.getTimezoneOffset(),i=n>=0?"+":"-",r=function(t){var e=Math.floor(Math.abs(t));return(e<10?"0":"")+e};return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+i+r(n/60)+":"+r(n%60)}},t}(),ol=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sl=function(){function t(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},this.type=t,this.dataSource=e,this.pvt={}}return t.prototype.processResponse=function(t,e,n,i){return t},t}(),al=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ol(e,t),e.prototype.processQuery=function(t,e){for(var n,i,r=t.dataSource.json.slice(0),o=r.length,s=!0,a={},l=0;l<e.queries.length;l++)i=e.queries[l],n=this[i.fn].call(this,r,i.e,e),"onAggregates"===i.fn?a[i.e.field+" - "+i.e.type]=n:r=void 0!==n?n:r,"onPage"!==i.fn&&"onSkip"!==i.fn&&"onTake"!==i.fn&&"onRange"!==i.fn||(s=!1),s&&(o=r.length);return e.isCountRequired&&(r={result:r,count:o,aggregates:a}),r},e.prototype.batchRequest=function(t,e,n){var i,r=e.deletedRecords.length;for(i=0;i<e.addedRecords.length;i++)this.insert(t,e.addedRecords[i]);for(i=0;i<e.changedRecords.length;i++)this.update(t,n.key,e.changedRecords[i]);for(i=0;i<r;i++)this.remove(t,n.key,e.deletedRecords[i]);return e},e.prototype.onWhere=function(t,e){return t&&t.length?t.filter(function(t){if(e)return e.validate(t)}):t},e.prototype.onAggregates=function(t,e){var n=rl.aggregates[e.type];return t&&n&&0!==t.length?n(t,e.field):null},e.prototype.onSearch=function(t,e){return t&&t.length?(0===e.fieldNames.length&&rl.getFieldList(t[0],e.fieldNames),t.filter(function(t){for(var n=0;n<e.fieldNames.length;n++)if(e.comparer.call(t,rl.getObject(e.fieldNames[n],t),e.searchKey,e.ignoreCase,e.ignoreAccent))return!0;return!1})):t},e.prototype.onSortBy=function(t,e,n){if(!t||!t.length)return t;var i,r=rl.getValue(e.fieldName,n);if(!r)return t.sort(e.comparer);if(r instanceof Array){r=r.slice(0);for(var o=r.length-1;o>=0;o--)r[o]&&(i=e.comparer,rl.endsWith(r[o]," desc")&&(i=rl.fnSort("descending"),r[o]=r[o].replace(" desc","")),t=rl.sort(t,r[o],i));return t}return rl.sort(t,r,e.comparer)},e.prototype.onGroup=function(t,e,n){if(!t||!t.length)return t;var i=el.filterQueries(n.queries,"onAggregates"),r=[];if(i.length)for(var o=void 0,s=0;s<i.length;s++)o=i[s].e,r.push({type:o.type,field:rl.getValue(o.field,n)});return rl.group(t,rl.getValue(e.fieldName,n),r,null,null,e.comparer)},e.prototype.onPage=function(t,e,n){var i=rl.getValue(e.pageSize,n),r=(rl.getValue(e.pageIndex,n)-1)*i,o=r+i;return t&&t.length?t.slice(r,o):t},e.prototype.onRange=function(t,e){return t&&t.length?t.slice(rl.getValue(e.start),rl.getValue(e.end)):t},e.prototype.onTake=function(t,e){return t&&t.length?t.slice(0,rl.getValue(e.nos)):t},e.prototype.onSkip=function(t,e){return t&&t.length?t.slice(rl.getValue(e.nos)):t},e.prototype.onSelect=function(t,e){return t&&t.length?rl.select(t,rl.getValue(e.fieldNames)):t},e.prototype.insert=function(t,e,n,i,r){return h(r)?t.dataSource.json.push(e):t.dataSource.json.splice(r,0,e)},e.prototype.remove=function(t,e,n,i){var r,o=t.dataSource.json;for("object"==typeof n&&(n=n[e]),r=0;r<o.length&&o[r][e]!==n;r++);return r!==o.length?o.splice(r,1):null},e.prototype.update=function(t,e,n,i){var r,o=t.dataSource.json,s=n[e];for(r=0;r<o.length&&o[r][e]!==s;r++);return r<o.length?u(o[r],n):null},e}(sl),ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ol(e,t),e.prototype.processQuery=function(t,e,n){var i,r,o=this.getQueryRequest(e),s=el.filterQueryLists(e.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e.params,l=t.dataSource.url,u=null,c=this.options,h={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in s?(i=s.onPage,r=rl.getValue(i.pageIndex,e),u=rl.getValue(i.pageSize,e),r=(r-1)*u):"onRange"in s&&(i=s.onRange,r=i.start,u=i.end-i.start);for(var p=0;p<o.sorts.length;p++)i=rl.getValue(o.sorts[p].e.fieldName,e),h.sorts.push(rl.callAdaptorFunction(this,"onEachSort",{name:i,direction:o.sorts[p].e.direction},e));n&&(i=this.getFiltersFrom(n,e))&&h.filters.push(rl.callAdaptorFunction(this,"onEachWhere",i.toJson(),e));for(var p=0;p<o.filters.length;p++){h.filters.push(rl.callAdaptorFunction(this,"onEachWhere",o.filters[p].e.toJson(),e));for(var d="object"==typeof h.filters[p]?Object.keys(h.filters[p]):[],f=0,m=d;f<m.length;f++){var v=m[f];rl.isNull(h[v])&&delete h[v]}}for(var p=0;p<o.searches.length;p++)i=o.searches[p].e,h.searches.push(rl.callAdaptorFunction(this,"onEachSearch",{fields:i.fieldNames,operator:i.operator,key:i.searchKey,ignoreCase:i.ignoreCase},e));for(var p=0;p<o.groups.length;p++)h.groups.push(rl.getValue(o.groups[p].e.fieldName,e));for(var p=0;p<o.aggregates.length;p++)i=o.aggregates[p].e,h.aggregates.push({type:i.type,field:rl.getValue(i.field,e)});var y={};this.getRequestQuery(c,e,s,h,y),rl.callAdaptorFunction(this,"addParams",{dm:t,query:e,params:a,reqParams:y});for(var g=Object.keys(y),b=0,w=g;b<w.length;b++){var v=w[b];(rl.isNull(y[v])||""===y[v]||0===y[v].length)&&delete y[v]}c.skip in y&&c.take in y||null===u||(y[c.skip]=rl.callAdaptorFunction(this,"onSkip",r,e),y[c.take]=rl.callAdaptorFunction(this,"onTake",u,e));var _=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(y),url:l,pvtData:_,type:"POST",contentType:"application/json; charset=utf-8"}:(i=this.convertToQueryString(y,e,t),i=(-1!==t.dataSource.url.indexOf("?")?"&":"/")+i,{type:"GET",url:i.length?l.replace(/\/*$/,i):l,pvtData:_})},e.prototype.getRequestQuery=function(t,e,n,i,r){var o=r;o[t.from]=e.fromTable,t.apply&&e.distincts.length&&(o[t.apply]="onDistinct"in this?rl.callAdaptorFunction(this,"onDistinct",e.distincts):""),!e.distincts.length&&t.expand&&(o[t.expand]="onExpand"in this&&"onSelect"in n?rl.callAdaptorFunction(this,"onExpand",{selects:rl.getValue(n.onSelect.fieldNames,e),expands:e.expands},e):e.expands),o[t.select]="onSelect"in n&&!e.distincts.length?rl.callAdaptorFunction(this,"onSelect",rl.getValue(n.onSelect.fieldNames,e),e):"",o[t.count]=e.isCountRequired?rl.callAdaptorFunction(this,"onCount",e.isCountRequired,e):"",o[t.search]=i.searches.length?rl.callAdaptorFunction(this,"onSearch",i.searches,e):"",o[t.skip]="onSkip"in n?rl.callAdaptorFunction(this,"onSkip",rl.getValue(n.onSkip.nos,e),e):"",o[t.take]="onTake"in n?rl.callAdaptorFunction(this,"onTake",rl.getValue(n.onTake.nos,e),e):"",o[t.where]=i.filters.length||i.searches.length?rl.callAdaptorFunction(this,"onWhere",i.filters,e):"",o[t.sortBy]=i.sorts.length?rl.callAdaptorFunction(this,"onSortBy",i.sorts,e):"",o[t.group]=i.groups.length?rl.callAdaptorFunction(this,"onGroup",i.groups,e):"",o[t.aggregates]=i.aggregates.length?rl.callAdaptorFunction(this,"onAggregates",i.aggregates,e):"",o.param=[]},e.prototype.convertToQueryString=function(t,e,n){return""},e.prototype.processResponse=function(t,e,n,i,r,o){i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("application/json")&&(t=rl.parse.parseJson(t));var s=r,a=s.pvtData||{},l=t?t.groupDs:[];if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var u=JSON.parse(s.data);if(u&&"batch"===u.action&&t&&t.addedRecords)return o.addedRecords=t.addedRecords,o;t&&t.d&&(t=t.d);var c={};return t&&"count"in t&&(c.count=t.count),c.result=t&&t.result?t.result:t,this.getAggregateResult(a,t,c,l,n),rl.isNull(c.count)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}},e.prototype.onGroup=function(t){return this.pvt.groups=t,t},e.prototype.onAggregates=function(t){this.pvt.aggregates=t},e.prototype.batchRequest=function(t,e,n,i,r){return{type:"POST",url:t.dataSource.batchUrl||t.dataSource.crudUrl||t.dataSource.removeUrl||t.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(c({},{changed:e.changedRecords,added:e.addedRecords,deleted:e.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},rl.getAddParams(this,t,i)))}},e.prototype.beforeSend=function(t,e){},e.prototype.insert=function(t,e,n,i){return{url:t.dataSource.insertUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(c({},{value:e,table:n,action:"insert"},rl.getAddParams(this,t,i)))}},e.prototype.remove=function(t,e,n,i,r){return{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(c({},{key:n,keyColumn:e,table:i,action:"remove"},rl.getAddParams(this,t,r)))}},e.prototype.update=function(t,e,n,i,r){return{type:"POST",url:t.dataSource.updateUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(c({},{value:n,action:"update",keyColumn:e,key:n[e],table:i},rl.getAddParams(this,t,r)))}},e.prototype.getFiltersFrom=function(t,e){var n,i=e.fKey,r=i,o=e.key,s=[];"object"!=typeof t[0]&&(r=null);for(var a=0;a<t.length;a++)n="object"==typeof t[0]?rl.getObject(o||r,t[a]):t[a],s.push(new nl(i,"equal",n));return nl.or(s)},e.prototype.getAggregateResult=function(t,e,n,i,r){var o=e;if(e&&e.result&&(o=e.result),t&&t.aggregates&&t.aggregates.length){var s=t.aggregates,a=void 0,l=o,u={};e.aggregate&&(l=e.aggregate);for(var c=0;c<s.length;c++)(a=rl.aggregates[s[c].type])&&(u[s[c].field+" - "+s[c].type]=a(l,s[c].field));n.aggregates=u}if(t&&t.groups&&t.groups.length){for(var p=t.groups,c=0;c<p.length;c++){h(i)||(i=rl.group(i,p[c]));var d=el.filterQueries(r.queries,"onGroup")[c].e;o=rl.group(o,p[c],t.aggregates,null,i,d.comparer)}n.result=o}return n},e.prototype.getQueryRequest=function(t){var e={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return e.sorts=el.filterQueries(t.queries,"onSortBy"),e.groups=el.filterQueries(t.queries,"onGroup"),e.filters=el.filterQueries(t.queries,"onWhere"),e.searches=el.filterQueries(t.queries,"onSearch"),e.aggregates=el.filterQueries(t.queries,"onAggregates"),e},e.prototype.addParams=function(t){var e=t.reqParams;t.params.length&&(e.params={});for(var n=0,i=t.params;n<i.length;n++){var r=i[n];if(e[r.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");e[r.key]=r.value,r.fn&&(e[r.key]=r.fn.call(t.query,r.key,t.query,t.dm)),e.params[r.key]=e[r.key]}},e}(sl),ul=function(t){function e(e){var n=t.call(this)||this;return n.options=c({},n.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),c(n.options,e||{}),n}return ol(e,t),e.prototype.getModuleName=function(){return"ODataAdaptor"},e.prototype.onPredicate=function(t,n,i){var r,o,s="",a=t.value,l=typeof a,u=t.field?e.getField(t.field):null;if(a instanceof Date&&(a="datetime'"+rl.parse.replacer(a)+"'"),"string"===l&&(a=encodeURIComponent(a),a="'"+a+"'",i&&(u="cast("+u+", 'Edm.String')"),rl.parse.isGuid(a)&&(o="guid"),t.ignoreCase&&(o||(u="tolower("+u+")"),a=a.toLowerCase())),r=rl.odBiOperator[t.operator])return s+=u,s+=r,o&&(s+=o),s+a;if("substringof"===(r=h(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?rl.odUniOperator[t.operator]:rl.odv4UniOperator[t.operator])){var c=a;a=u,u=c}return s+=r+"(",s+=u+",",o&&(s+=o),s+=a+")"},e.prototype.addParams=function(e){t.prototype.addParams.call(this,e),delete e.reqParams.params},e.prototype.onComplexPredicate=function(t,e,n){for(var i=[],r=0;r<t.predicates.length;r++)i.push("("+this.onEachWhere(t.predicates[r],e,n)+")");return i.join(" "+t.condition+" ")},e.prototype.onEachWhere=function(t,e,n){return t.isComplex?this.onComplexPredicate(t,e,n):this.onPredicate(t,e,n)},e.prototype.onWhere=function(t){return this.pvt.search&&t.push(this.onEachWhere(this.pvt.search,null,!0)),t.join(" and ")},e.prototype.onEachSearch=function(t){t.fields&&0===t.fields.length&&rl.throwError("Query() - Search : oData search requires list of field names to search");for(var e=this.pvt.search||[],n=0;n<t.fields.length;n++)e.push(new nl(t.fields[n],t.operator,t.key,t.ignoreCase));this.pvt.search=e},e.prototype.onSearch=function(t){return this.pvt.search=nl.or(this.pvt.search),""},e.prototype.onEachSort=function(t){var n=[];if(t.name instanceof Array)for(var i=0;i<t.name.length;i++)n.push(e.getField(t.name[i])+("descending"===t.direction?" desc":""));else n.push(e.getField(t.name)+("descending"===t.direction?" desc":""));return n.join(",")},e.prototype.onSortBy=function(t){return t.reverse().join(",")},e.prototype.onGroup=function(t){return this.pvt.groups=t,[]},e.prototype.onSelect=function(t){for(var n=0;n<t.length;n++)t[n]=e.getField(t[n]);return t.join(",")},e.prototype.onAggregates=function(t){return this.pvt.aggregates=t,""},e.prototype.onCount=function(t){return!0===t?"allpages":""},e.prototype.beforeSend=function(t,e,n){rl.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(e.setRequestHeader("Accept",this.options.multipartAccept),e.setRequestHeader("DataServiceVersion","2.0"),e.overrideMimeType("text/plain; charset=x-user-defined")):e.setRequestHeader("Accept",this.options.accept),e.setRequestHeader("DataServiceVersion","2.0"),e.setRequestHeader("MaxDataServiceVersion","2.0")},e.prototype.processResponse=function(t,e,n,i,r,o){if(!h(t.d)){var s=n&&n.isCountRequired?t.d.results:t.d;if(!h(s))for(var a=0;a<s.length;a++)h(s[a].__metadata)||delete s[a].__metadata}var l=r&&r.pvtData,u=this.processBatchResponse(t,n,i,r,o);if(u)return u;var c=i&&r.getResponseHeader("DataServiceVersion"),p=null,d=c&&parseInt(c,10)||2;if(n&&n.isCountRequired){(t.__count||t["odata.count"])&&(p=t.__count||t["odata.count"]),t.d&&(t=t.d),(t.__count||t["odata.count"])&&(p=t.__count||t["odata.count"])}3===d&&t.value&&(t=t.value),t.d&&(t=t.d),d<3&&t.results&&(t=t.results);var f={};return f.count=p,f.result=t,this.getAggregateResult(l,t,f,null,n),rl.isNull(p)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},e.prototype.convertToQueryString=function(t,e,n){var i=[],r=t.table||"";delete t.table,n.dataSource.requiresFormat&&(t.$format="json");for(var o=Object.keys(t),s=0,a=o;s<a.length;s++){var l=a[s];i.push(l+"="+t[l])}return i=i.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!r?i:i.length?r+"?"+i:r||""},e.prototype.localTimeReplacer=function(t,e){for(var n=0,i=h(e)?[]:Object.keys(e);n<i.length;n++){var r=i[n];e[r]instanceof Date&&(e[r]=rl.dateParse.toLocalTime(e[r]))}return e},e.prototype.insert=function(t,e,n){return{url:(t.dataSource.insertUrl||t.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(e,this.options.localTime?this.localTimeReplacer:null)}},e.prototype.remove=function(t,e,n,i){var r;return r="string"!=typeof n||rl.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(t.dataSource.removeUrl||t.dataSource.url).replace(/\/*$/,i?"/"+i:"")+r}},e.prototype.update=function(t,e,n,i,r,o){"PATCH"!==this.options.updateType||h(o)||(n=this.compareAndRemove(n,o,e));var s;return s="string"!=typeof n[e]||rl.parse.isGuid(n[e])?"("+n[e]+")":"('"+n[e]+"')",{type:this.options.updateType,url:(t.dataSource.updateUrl||t.dataSource.url).replace(/\/*$/,i?"/"+i:"")+s,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},e.prototype.batchRequest=function(t,e,n,i,r){var o=n.guid=rl.getGuid(this.options.batchPre),s=t.dataSource.url.replace(/\/*$/,"/"+this.options.batch),a={url:n.url,key:n.key,cid:1,cSet:rl.getGuid(this.options.changeSet)},l="--"+o+"\n";return l+="Content-Type: multipart/mixed; boundary="+a.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(e.addedRecords,a,t),l+=this.generateUpdateRequest(e.changedRecords,a,t,r?r.changedRecords:[]),l+=this.generateDeleteRequest(e.deletedRecords,a,t),l+=a.cSet+"--\n",l+="--"+o+"--",{type:"POST",url:s,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:l}},e.prototype.generateDeleteRequest=function(t,e,n){if(!t)return"";var i={method:"DELETE ",url:function(t,e,n){return"("+t[e][n]+")"},data:function(t,e){return""}};return this.generateBodyContent(t,e,i,n)+"\n"},e.prototype.generateInsertRequest=function(t,e,n){if(!t)return"";var i={method:"POST ",url:function(t,e,n){return""},data:function(t,e){return JSON.stringify(t[e])+"\n\n"}};return this.generateBodyContent(t,e,i,n)},e.prototype.generateUpdateRequest=function(t,e,n,i){var r=this;if(!t)return"";t.forEach(function(t){return t=r.compareAndRemove(t,i.filter(function(n){return rl.getObject(e.key,n)===rl.getObject(e.key,t)})[0],e.key)});var o={method:this.options.updateType+" ",url:function(t,e,n){return"("+t[e][n]+")"},data:function(t,e){return JSON.stringify(t[e])+"\n\n"}};return this.generateBodyContent(t,e,o,n)},e.getField=function(t){return t.replace(/\./g,"/")},e.prototype.generateBodyContent=function(t,e,n,i){for(var r="",o=0;o<t.length;o++)r+="\n"+e.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=n.method,"POST "===n.method?r+=(i.dataSource.insertUrl||i.dataSource.crudUrl||e.url)+n.url(t,o,e.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?r+=(i.dataSource.updateUrl||i.dataSource.crudUrl||e.url)+n.url(t,o,e.key)+" HTTP/1.1\n":"DELETE "===n.method&&(r+=(i.dataSource.removeUrl||i.dataSource.crudUrl||e.url)+n.url(t,o,e.key)+" HTTP/1.1\n"),r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",h(t[o]["@odata.etag"])?r+="\n":(r+="If-Match: "+t[o]["@odata.etag"]+"\n\n",delete t[o]["@odata.etag"]),r+=n.data(t,o);return r},e.prototype.processBatchResponse=function(t,e,n,i,r){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return e.isCountRequired?{result:[],count:0}:[];if(i&&this.options.batch&&rl.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()){var o=n.getResponseHeader("Content-Type"),s=void 0,a=void 0,l=t+"";if(o=o.substring(o.indexOf("=batchresponse")+1),l=l.split(o),l.length<2)return{};l=l[1];var u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(l);u&&l.replace(u[0],"");var h=u?u[1]:"";l=l.split(h);for(var p=l.length;p>-1;p--)/\bContent-ID:/i.test(l[p])&&/\bHTTP.+201/.test(l[p])&&(s=parseInt(/\bContent-ID: (\d+)/i.exec(l[p])[1],10),r.addedRecords[s]&&(a=rl.parse.parseJson(/^\{.+\}/m.exec(l[p])[0]),c({},r.addedRecords[s],this.processResponse(a))));return r}return null},e.prototype.compareAndRemove=function(t,e,n){var i=this;return h(e)?t:(Object.keys(t).forEach(function(r){if(r!==n&&"@odata.etag"!==r)if(rl.isPlainObject(t[r])){i.compareAndRemove(t[r],e[r]);var o=Object.keys(t[r]).filter(function(t){return"@odata.etag"!==t});0===o.length&&delete t[r]}else t[r]===e[r]?delete t[r]:t[r]&&e[r]&&t[r].valueOf()===e[r].valueOf()&&delete t[r]}),t)},e}(ll),cl=(function(t){function e(e){var n=t.call(this,e)||this;return n.options=c({},n.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),c(n.options,e||{}),n}ol(e,t),e.prototype.getModuleName=function(){return"ODataV4Adaptor"},e.prototype.onCount=function(t){return!0===t?"true":""},e.prototype.onPredicate=function(e,n,i){var r="",o=e.value,s=o instanceof Date;return r=t.prototype.onPredicate.call(this,e,n,i),s&&(r=r.replace(/datetime'(.*)'$/,"$1")),r},e.prototype.onEachSearch=function(t){var e=this.pvt.searches||[];e.push(t.key),this.pvt.searches=e},e.prototype.onSearch=function(t){return this.pvt.searches.join(" OR ")},e.prototype.onExpand=function(t){var e=this,n={},i={},r=t.expands.slice(),o=[];return t.selects.filter(function(t){return t.indexOf(".")>-1}).forEach(function(t){var e=t.split(".");e[0]in n||(n[e[0]]=[]),n[e[0]].push(e[1])}),Object.keys(n).forEach(function(t){-1===r.indexOf(t)&&r.push(t)}),r.forEach(function(t){i[t]=t in n?t+"("+e.options.select+"="+n[t].join(",")+")":t}),Object.keys(i).forEach(function(t){return o.push(i[t])}),o.join(",")},e.prototype.onDistinct=function(t){return"groupby(("+t.map(function(t){return ul.getField(t)}).join(",")+"))"},e.prototype.onSelect=function(e){return t.prototype.onSelect.call(this,e.filter(function(t){return-1===t.indexOf(".")}))},e.prototype.beforeSend=function(t,e,n){"POST"!==n.type&&"PUT"!==n.type&&"PATCH"!==n.type||e.setRequestHeader("Prefer","return=representation"),e.setRequestHeader("Accept",this.options.accept)},e.prototype.processResponse=function(e,n,i,r,o,s){var a=o&&o.pvtData,l=t.prototype.processBatchResponse.call(this,e,i,r,o,s);if(l)return l;var u=null;i&&i.isCountRequired&&"@odata.count"in e&&(u=e["@odata.count"]),e=h(e.value)?e:e.value;var c={};return c.count=u,c.result=e,this.getAggregateResult(a,e,c,null,i),rl.isNull(u)?c.result:{result:c.result,count:u,aggregates:c.aggregates}}}(ul),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ol(e,t),e.prototype.getModuleName=function(){return"WebApiAdaptor"},e.prototype.insert=function(t,e,n){return{type:"POST",url:t.dataSource.url,data:JSON.stringify(e)}},e.prototype.remove=function(t,e,n,i){return{type:"DELETE",url:t.dataSource.url+"/"+n,data:JSON.stringify(n)}},e.prototype.update=function(t,e,n,i){return{type:"PUT",url:t.dataSource.url,data:JSON.stringify(n)}},e.prototype.beforeSend=function(t,e,n){e.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},e.prototype.processResponse=function(t,e,n,i,r,o){var s=r&&r.pvtData,a=null,l={};if(r&&"post"!==r.type.toLowerCase()){var u=i&&r.getResponseHeader("DataServiceVersion"),c=u&&parseInt(u,10)||2;n&&n.isCountRequired&&(rl.isNull(t.Count)||(a=t.Count)),c<3&&t.Items&&(t=t.Items),l.count=a,l.result=t,this.getAggregateResult(s,t,l,null,n)}return l.result=l.result||t,rl.isNull(a)?l.result:{result:l.result,count:l.count,aggregates:l.aggregates}}}(ul),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ol(e,t),e.prototype.processQuery=function(t,e,n){var i=(new ll).processQuery(t,e,n),r=rl.parse.parseJson(i.data),o={};if(r.param)for(var s=0;s<r.param.length;s++){var a=r.param[s],l=Object.keys(a)[0];o[l]=a[l]}o.value=r;return{data:JSON.stringify(o),url:i.url,pvtData:i.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}}}(ll),function(t){function e(){var e=t.call(this)||this;return s("beforeSend",ll.prototype.beforeSend,e),e}return ol(e,t),e.prototype.insert=function(t,e,n,i){return this.updateType="add",{url:t.dataSource.insertUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(c({},{value:e,table:n,action:"insert"},rl.getAddParams(this,t,i)))}},e.prototype.remove=function(e,n,i,r,o){return t.prototype.remove.call(this,e,n,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(c({},{key:i,keyColumn:n,table:r,action:"remove"},rl.getAddParams(this,e,o)))}},e.prototype.update=function(t,e,n,i,r){return this.updateType="update",this.updateKey=e,{type:"POST",url:t.dataSource.updateUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(c({},{value:n,action:"update",keyColumn:e,key:n[e],table:i},rl.getAddParams(this,t,r)))}},e.prototype.processResponse=function(e,n,i,r,o,s,a){var l;if("add"===this.updateType&&t.prototype.insert.call(this,n,e),"update"===this.updateType&&t.prototype.update.call(this,n,this.updateKey,e),this.updateType=void 0,e.added)for(l=0;l<e.added.length;l++)t.prototype.insert.call(this,n,e.added[l]);if(e.changed)for(l=0;l<e.changed.length;l++)t.prototype.update.call(this,n,a.key,e.changed[l]);if(e.deleted)for(l=0;l<e.deleted.length;l++)t.prototype.remove.call(this,n,a.key,e.deleted[l]);return e},e.prototype.batchRequest=function(t,e,n){return{type:"POST",url:t.dataSource.batchUrl||t.dataSource.crudUrl||t.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:e.changedRecords,added:e.addedRecords,deleted:e.deletedRecords,action:"batch",table:n.url,key:n.key})}},e.prototype.addParams=function(t){(new ll).addParams(t)},e}(al)),hl=function(t){function e(e,n,i){var r=t.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,h(e)||(r.cacheAdaptor=e),r.pageSize=i,r.guidId=rl.getGuid("cacheAdaptor");var o={keys:[],results:[]};window.localStorage.setItem(r.guidId,JSON.stringify(o));var s=r.guidId;return h(n)||setInterval(function(){var t;t=rl.parse.parseJson(window.localStorage.getItem(s));for(var e=[],i=0;i<t.results.length;i++){var r=+new Date,o=+new Date(t.results[i].timeStamp);t.results[i].timeStamp=r-o,r-o>n&&e.push(i)}for(var i=0;i<e.length;i++)t.results.splice(e[i],1),t.keys.splice(e[i],1);window.localStorage.removeItem(s),window.localStorage.setItem(s,JSON.stringify(t))},n),r}return ol(e,t),e.prototype.generateKey=function(t,e){var n=this.getQueryRequest(e),i=el.filterQueryLists(e.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=t;"onPage"in i&&(r+=i.onPage.pageIndex),n.sorts.forEach(function(t){r+=t.e.direction+t.e.fieldName}),n.groups.forEach(function(t){r+=t.e.fieldName}),n.searches.forEach(function(t){r+=t.e.searchKey});for(var o=0;o<n.filters.length;o++){var s=n.filters[o];if(s.e.isComplex){var a=e.clone();a.queries=[];for(var l=0;l<s.e.predicates.length;l++)a.queries.push({fn:"onWhere",e:s.e.predicates[l],filter:e.queries.filter});r+=s.e.condition+this.generateKey(t,a)}else r+=s.e.field+s.e.operator+s.e.value}return r},e.prototype.processQuery=function(t,e,n){var i,r=this.generateKey(t.dataSource.url,e);i=rl.parse.parseJson(window.localStorage.getItem(this.guidId));var o=i?i.results[i.keys.indexOf(r)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},e.prototype.processResponse=function(t,e,n,i,r,o){if(this.isInsertAction||r&&this.cacheAdaptor.options.batch&&rl.endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(t,e,n,i,r,o);t=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var s=n?this.generateKey(e.dataSource.url,n):e.dataSource.url,a={};a=rl.parse.parseJson(window.localStorage.getItem(this.guidId));var l=a.keys.indexOf(s);for(-1!==l&&(a.results.splice(l,1),a.keys.splice(l,1)),a.results[a.keys.push(s)-1]={keys:s,result:t.result,timeStamp:new Date,count:t.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),t},e.prototype.beforeSend=function(t,e,n){rl.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&e.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),t.dataSource.crossDomain||e.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},e.prototype.update=function(t,e,n,i){return this.isCrudAction=!0,this.cacheAdaptor.update(t,e,n,i)},e.prototype.insert=function(t,e,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(t,e,n)},e.prototype.remove=function(t,e,n,i){return this.isCrudAction=!0,this.cacheAdaptor.remove(t,e,n,i)},e.prototype.batchRequest=function(t,e,n){return this.cacheAdaptor.batchRequest(t,e,n)},e}(ll),pl=function(){function t(t,e,n){var i=this;this.dateParse=!0,this.requests=[],t||this.dataSource||(t=[]),n=n||t.adaptor;var r;return t instanceof Array?r={json:t,offline:!0}:"object"==typeof t?(t.json||(t.json=[]),r={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:void 0!==t.offline?t.offline:!(t.adaptor instanceof cl)&&!t.url,requiresFormat:t.requiresFormat}):rl.throwError("DataManager: Invalid arguments"),void 0!==r.requiresFormat||rl.isCors()||(r.requiresFormat=!!h(r.crossDomain)||r.crossDomain),void 0===r.dataType&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=e,r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=n||new ul,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new el),this.ready.then(function(t){i.dataSource.offline=!0,i.isDataAvailable=!0,r.json=t.result,i.adaptor=new al})):this.adaptor=r.offline?new al:new ul,!r.jsonp&&this.adaptor instanceof ul&&(r.jsonp="callback"),this.adaptor=n||this.adaptor,r.enableCaching&&(this.adaptor=new hl(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this}return t.prototype.setDefaultQuery=function(t){return this.defaultQuery=t,this},t.prototype.executeLocal=function(e){this.defaultQuery||e instanceof el||rl.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||rl.throwError("DataManager - executeLocal() : Json data is required to execute"),e=e||this.defaultQuery;var n=this.adaptor.processQuery(this,e);if(e.subQuery){var i=e.subQuery.fromTable,r=e.subQuery.lookups,o=e.isCountRequired?n.result:n;r&&r instanceof Array&&rl.buildHierarchy(e.subQuery.fKey,i,o,r,e.subQuery.key);for(var s=0;s<o.length;s++)o[s][i]instanceof Array&&(o[s]=c({},{},o[s]),o[s][i]=this.adaptor.processResponse(e.subQuery.using(new t(o[s][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(n,this,e)},t.prototype.executeQuery=function(e,n,i,r){var o=this;"function"==typeof e&&(r=i,i=n,n=e,e=null),e||(e=this.defaultQuery),e instanceof el||rl.throwError("DataManager - executeQuery() : A query is required to execute");var s=new dl,a={query:e};if(this.dataSource.offline||void 0===this.dataSource.url||""===this.dataSource.url)t.nextTick(function(){var n=o.executeLocal(e);a=t.getDeferedArgs(e,n,a),s.resolve(a)});else{var l=this.adaptor.processQuery(this,e);this.makeRequest(l,s,a,e)}return(n||i)&&s.promise.then(n,i),r&&s.promise.then(r,r),s.promise},t.getDeferedArgs=function(t,e,n){return t.isCountRequired?(n.result=e.result,n.count=e.count,n.aggregates=e.aggregates):n.result=e,n},t.nextTick=function(t){(window.setImmediate||window.setTimeout)(t,0)},t.prototype.extendRequest=function(t,e,n){return c({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:n},t)},t.prototype.makeRequest=function(t,e,n,i){var r=this,o=!!i.subQuerySelector,s=function(t){n.error=t,e.reject(n)},a=function(t,i,r,o,s,a,l){n.xhr=r,n.count=i?parseInt(i.toString(),10):0,n.result=t,n.request=o,n.aggregates=a,n.actual=s,n.virtualSelectRecords=l,e.resolve(n)},l=function(t,e){var l=new dl,u={parent:n};i.subQuery.isChild=!0;var c=r.adaptor.processQuery(r,i.subQuery,t?r.adaptor.processResponse(t):e),h=r.makeRequest(c,l,u,i.subQuery);return o||l.then(function(e){t&&(rl.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,t,e,i.subQuery.key),a(t,e.count,e.xhr))},s),h},u=function(t,e){-1===e.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&r.dateParse&&(t=rl.parse.parseJson(t));var n=r.adaptor.processResponse(t,r,i,e.httpRequest,e),s=0,u=null,c=t.virtualSelectRecords;if(i.isCountRequired&&(s=n.count,u=n.aggregates,n=n.result),!i.subQuery)return void a(n,s,e.httpRequest,e.type,t,u,c);o||l(n,e)},c=this.extendRequest(t,u,s),h=new $n(c);if(h.beforeSend=function(){r.beforeSend(h.httpRequest,h)},c=h.send(),c.catch(function(t){return!0}),this.requests.push(h),o){var p=void 0,d=i.subQuerySelector.call(this,{query:i.subQuery,parent:i});d&&d.length?(p=Promise.all([c,l(null,d)]),p.then(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],s=r.adaptor.processResponse(n[0],r,i,r.requests[0].httpRequest,r.requests[0]),l=0;i.isCountRequired&&(l=s.count,s=s.result);var u=r.adaptor.processResponse(n[1],r,i.subQuery,r.requests[1].httpRequest,r.requests[1]);l=0,i.subQuery.isCountRequired&&(l=u.count,u=u.result),rl.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,s,u,i.subQuery.key),o=!1,a(s,l,r.requests[0].httpRequest)})):o=!1}return c},t.prototype.beforeSend=function(t,e){this.adaptor.beforeSend(this,t,e);for(var n,i=this.dataSource.headers,r=0;i&&r<i.length;r++){n=[];for(var o=Object.keys(i[r]),s=0,a=o;s<a.length;s++){var l=a[s];n.push(l),t.setRequestHeader(l,i[r][l])}}},t.prototype.saveChanges=function(t,e,n,i,r){var o=this;n instanceof el&&(i=n,n=null);var s={url:n,key:e||this.dataSource.key},a=this.adaptor.batchRequest(this,t,s,i||new el,r);if(this.dataSource.offline)return a;var l=new dl,u=new $n(a);return u.beforeSend=function(){o.beforeSend(u.httpRequest,u)},u.onSuccess=function(e,n){l.resolve(o.adaptor.processResponse(e,o,null,n.httpRequest,n,t,s))},u.onFailure=function(t){l.reject([{error:t}])},u.send().catch(function(t){return!0}),l.promise},t.prototype.insert=function(t,e,n,i){e instanceof el&&(n=e,e=null);var r=this.adaptor.insert(this,t,e,n,i);return this.dataSource.offline?r:this.doAjaxRequest(r)},t.prototype.remove=function(t,e,n,i){"object"==typeof e&&(e=e[t]),n instanceof el&&(i=n,n=null);var r=this.adaptor.remove(this,t,e,n,i);return this.dataSource.offline?r:this.doAjaxRequest(r)},t.prototype.update=function(t,e,n,i,r){n instanceof el&&(i=n,n=null);var o=this.adaptor.update(this,t,e,n,i,r);return this.dataSource.offline?o:this.doAjaxRequest(o)},t.prototype.doAjaxRequest=function(t){var e=this,n=new dl;t=c({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},t);var i=new $n(t);return i.beforeSend=function(){e.beforeSend(i.httpRequest,i)},i.onSuccess=function(t,i){try{rl.parse.parseJson(t)}catch(e){t=[]}t=e.adaptor.processResponse(rl.parse.parseJson(t),e,null,i.httpRequest,i),n.resolve(t)},i.onFailure=function(t){n.reject([{error:t}])},i.send().catch(function(t){return!0}),n.promise},t}(),dl=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return t}(),fl={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper"};!function(t){function e(t,e,i,r){var s=c({},N,i),a=c({},I,s.ariaAttributes),l=m(e).typeof;return"string"===l||"number"===l?n(t,e,r,i):o(t,e,i,a.level,r)}function n(t,e,n,r){return P(t,i(t,e,n,r),null,r)}function i(t,e,n,i){var r=[],o=c({},N,i);fl=x(o.moduleName);for(var s=w(),a=0;a<e.length;a++)if(!h(e[a])){var l=void 0;if(o.itemCreating&&"function"==typeof o.itemCreating){var u={dataSource:e,curData:e[a],text:e[a],options:o};o.itemCreating(u)}if(l=n?E(t,e[a],void 0,null,null,[],null,s,a,i):D(t,e[a],void 0,null,null,i),o.itemCreated&&"function"==typeof o.itemCreated){var u={dataSource:e,curData:e[a],text:e[a],item:l,options:o};o.itemCreated(u)}r.push(l)}return r}function r(e,n,i,r,o){var s=c({},N,i);fl=x(s.moduleName);var a,l=c({},t.defaultMappedFields,s.fields),p=c({},I,s.ariaAttributes);r&&(p.level=r);var d,f=[];n&&n.length&&!h(m(n).item)&&!m(n).item.hasOwnProperty(l.id)&&(a=w());for(var y=0;y<n.length;y++){var g=Wn(n[y],l);if(!h(n[y])){if(s.itemCreating&&"function"==typeof s.itemCreating){var b={dataSource:n,curData:n[y],text:g[l.text],options:s,fields:l};s.itemCreating(b)}var C=n[y];s.itemCreating&&"function"==typeof s.itemCreating&&(g=Wn(n[y],l)),g.hasOwnProperty(l.id)&&!h(g[l.id])&&(a=g[l.id]);var S=[];if(s.showCheckBox&&S.push(e("input",{className:fl.check,attrs:{type:"checkbox"}})),!0===o)s.showIcon&&g.hasOwnProperty(l.iconCss)&&!h(g[l.iconCss])&&S.push(e("span",{className:fl.icon+" "+g[l.iconCss]})),d=E(e,C,g,l,s.itemClass,S,!(!C.hasOwnProperty("isHeader")||!C.isHeader),a,y,i);else{if(d=D(e,C,g,l,s.itemClass,i),d.classList.add(fl.level+"-"+p.level),d.setAttribute("aria-level",p.level.toString()),g.hasOwnProperty(l.tooltip)&&d.setAttribute("title",g[l.tooltip]),g.hasOwnProperty(l.htmlAttributes)&&g[l.htmlAttributes]&&v(d,g[l.htmlAttributes]),g.hasOwnProperty(l.enabled)&&!1===g[l.enabled]&&d.classList.add(fl.disabled),g.hasOwnProperty(l.isVisible)&&!1===g[l.isVisible]&&(d.style.display="none"),g.hasOwnProperty(l.imageUrl)&&!h(g[l.imageUrl])&&!s.template){var k={src:g[l.imageUrl]};u(k,g[l.imageAttributes]),T([e("img",{className:fl.image,attrs:k})],d.firstElementChild)}s.showIcon&&g.hasOwnProperty(l.iconCss)&&!h(g[l.iconCss])&&!s.template&&T([e("div",{className:fl.icon+" "+g[l.iconCss]})],d.firstElementChild),S.length&&T(S,d.firstElementChild),_(e,g,l,n,s,d,p.level)}if(s.itemCreated&&"function"==typeof s.itemCreated){var b={dataSource:n,curData:n[y],text:g[l.text],item:d,options:s,fields:l};s.itemCreated(b)}f.push(d)}}return f}function o(t,e,n,i,o){var s=c({},N,n);return P(t,r(t,e,n,i,o),s.listClass,n)}function s(t,e,n){if(fl=x(N.moduleName),t&&t.length){var i,r,o=Array.prototype.slice.call(t);for(r=e?a(e,o):!0===n?o.length:-1,i=o[r+(!0===n?-1:1)];i&&(!S(i)||i.classList.contains(fl.disabled));)r+=!0===n?-1:1,i=o[r];return i}}function a(t,e){if(e&&t){var n=e;return n=Array.prototype.slice.call(e),n.indexOf(t)}}function l(e,n,i){void 0===i&&(i="None");var r=c({},t.defaultMappedFields,n),o=(new el).group(r.groupBy);o=p(i,"key",o);var s=d(e,o);e=[];for(var a=0;a<s.length;a++){var l=s[a].items,u={};u[r.text]=s[a].key,u.isHeader=!0,u.id="group-list-item-"+(s[a].key?s[a].key.toString().trim():"undefined"),u.items=l,e.push(u);for(var h=0;h<l.length;h++)e.push(l[h])}return e}function p(t,e,n){if(void 0===n&&(n=new el),"Ascending"===t)n.sortBy(e,"ascending",!0);else if("Descending"===t)n.sortBy(e,"descending",!0);else for(var i=0;i<n.queries.length;i++)"onSortBy"===n.queries[i].fn&&n.queries.splice(i,1);return n}function d(t,e){return new pl(t).executeLocal(e)}function f(e,n){var i=c({},N,n),r=c({},t.defaultMappedFields,i.fields),o=e.cloneNode(!0),s=[];o.classList.add("json-parent");var a=o.querySelectorAll(".json-parent>li");o.classList.remove("json-parent");for(var l=0;l<a.length;l++){for(var u=a[l],h=u.querySelector("a"),p=u.querySelector("ul"),d={},m=h?h.childNodes:u.childNodes,v=Object.keys(m),g=0;g<m.length;g++)m[Number(v[g])].hasChildNodes()||(d[r.text]=m[Number(v[g])].textContent);var b=y(u);b.id?(d[r.id]=b.id,delete b.id):d[r.id]=w(),Object.keys(b).length&&(d[r.htmlAttributes]=b),h&&(b=y(h),Object.keys(b).length&&(d[r.urlAttributes]=b)),p&&(d[r.child]=f(p,n)),s.push(d)}return s}function m(t){for(var e={typeof:null,item:null},n=0;n<t.length;n++)if(!h(t[n]))return e={typeof:typeof t[n],item:t[n]};return e}function v(t,e){var n={};u(n,e),n.class&&(C([t],n.class.split(" ")),delete n.class),A(t,n)}function y(t){for(var e={},n=t.attributes,i=0;i<n.length;i++)e[n[i].nodeName]=n[i].nodeValue;return e}function g(e,n,i,r,o){fl=x(N.moduleName);for(var s=e("ul",{className:fl.ul,attrs:{role:"presentation"}}),a=c({},N,o),l=c({},t.defaultMappedFields,r),u=ht(n),h=[],p=w(),d=0;d<i.length;d++){var f=Wn(i[d],l),m=i[d],v=m.isHeader,y=f[l.value];if(a.itemCreating&&"function"==typeof a.itemCreating){var g={dataSource:i,curData:m,text:y,options:a,fields:l};a.itemCreating(g)}a.itemCreating&&"function"==typeof a.itemCreating&&(f=Wn(i[d],l),y=f[l.value]);var b=e("li",{id:p+"-"+d,className:v?fl.group:fl.li,attrs:{role:"presentation"}});if(v?b.innerText=f[l.text]:(k(u(m),b),b.setAttribute("data-value",y),b.setAttribute("role","option")),a.itemCreated&&"function"==typeof a.itemCreated){var g={dataSource:i,curData:m,text:y,item:b,options:a,fields:l};a.itemCreated(g)}h.push(b)}return k(h,s),s}function b(e,n,i,r){for(var o=ht(e),s=c({},t.defaultMappedFields,i),a=s.groupBy,l=0,u=r;l<u.length;l++){var h=u[l],p={};p[a]=h.textContent,h.innerHTML="",k(o(p),h)}return r}function w(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function _(t,e,n,i,r,s,a){var l=e[n.child]||[],u=e[n.hasChildren];if(l.length&&(u=!0,s.classList.add(fl.hasChild),r.processSubChild)){var c=o(t,l,r,++a);s.appendChild(c)}if(r.expandCollapse&&u&&!r.template){s.firstElementChild.classList.add(fl.iconWrapper);("Left"===r.expandIconPosition?T:k)([t("div",{className:"e-icons "+r.expandIconClass})],s.querySelector("."+fl.textContent))}}function E(t,e,n,i,r,o,s,a,l,u){var p,d=c({},N,u),f=c({},I,d.ariaAttributes),m=e,y=e;"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e&&(p=e,m="boolean"==typeof n[i.text]||"number"==typeof n[i.text]?n[i.text]:n[i.text]||"",y=n[i.value]);var g;g=h(p)||h(n[i.id])||""===n[i.id]?a+"-"+l:a;var b=t("li",{className:(!0===s?fl.group:fl.li)+" "+(h(r)?"":r),id:g,attrs:""!==f.groupItemRole&&""!==f.itemRole?{role:!0===s?f.groupItemRole:f.itemRole}:{}});return p&&n.hasOwnProperty(i.enabled)&&"false"===n[i.enabled].toString()&&b.classList.add(fl.disabled),s?b.innerText=m:(h(y)||b.setAttribute("data-value",y),b.setAttribute("role","option"),p&&n.hasOwnProperty(i.htmlAttributes)&&n[i.htmlAttributes]&&v(b,n[i.htmlAttributes]),o.length&&k(o,b),p&&(n[i.url]||n[i.urlAttributes]&&n[i.urlAttributes].href)?b.appendChild(M(t,p,i,m)):b.appendChild(document.createTextNode(m))),b}function x(t){return{li:"e-"+t+"-item",ul:"e-"+t+"-parent e-ul",group:"e-"+t+"-group-item",icon:"e-"+t+"-icon",text:"e-"+t+"-text",check:"e-"+t+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+t+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+t+"-img",iconWrapper:"e-icon-wrapper"}}function M(t,e,n,i){var r=Wn(e,n),o={href:r[n.url]};r.hasOwnProperty(n.urlAttributes)&&r[n.urlAttributes]&&(u(o,r[n.urlAttributes]),o.href=r[n.url]?r[n.url]:r[n.urlAttributes].href);var s=t("a",{className:fl.text+" "+fl.url,innerHTML:i});return v(s,o),s}function D(t,e,n,i,r,o){var s,a,l,u=c({},N,o),p=c({},I,u.ariaAttributes),d=e;"string"!=typeof e&&"number"!=typeof e&&(l=e,d=n[i.text]||"",s=n[i.id],a=!(!e.hasOwnProperty("isHeader")||!e.isHeader));var f=t("li",{className:(!0===a?fl.group:fl.li)+" "+(h(r)?"":r),attrs:""!==p.groupItemRole&&""!==p.itemRole?{role:!0===a?p.groupItemRole:p.itemRole}:{}});if(h(s)?f.setAttribute("data-uid",w()):f.setAttribute("data-uid",s),a&&o&&o.groupTemplate){var m=ht(o.groupTemplate);k(m(e),f)}else if(!a&&o&&o.template){var m=ht(o.template);k(m(e),f)}else{var v=t("div",{className:fl.textContent,attrs:""!==p.wrapperRole?{role:p.wrapperRole}:{}});l&&(n[i.url]||n[i.urlAttributes]&&n[i.urlAttributes].href)?v.appendChild(M(t,l,i,d)):v.appendChild(t("span",{className:fl.text,innerHTML:d,attrs:""!==p.itemText?{role:p.itemText}:{}})),f.appendChild(v)}return f}function P(t,e,n,i){var r=c({},N,i),o=c({},I,r.ariaAttributes);fl=x(r.moduleName);var s=t("ul",{className:fl.ul+" "+(h(n)?"":n),attrs:""!==o.listRole?{role:o.listRole}:{}});return k(e,s),s}function O(t,e,n,i){var r=c({},N,i);return fl=x(r.moduleName),("Left"===r.expandIconPosition?T:k)([t("div",{className:"e-icons "+r.expandIconClass+" "+(h(n)?"":n)})],e.querySelector("."+fl.textContent)),e}t.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var I={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},N={showCheckBox:!1,showIcon:!1,expandCollapse:!1,fields:t.defaultMappedFields,ariaAttributes:I,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right"};t.createList=e,t.createListFromArray=n,t.createListItemFromArray=i,t.createListItemFromJson=r,t.createListFromJson=o,t.getSiblingLI=s,t.indexOf=a,t.groupDataSource=l,t.addSorting=p,t.getDataSource=d,t.createJsonFromElement=f,t.renderContentTemplate=g,t.renderGroupTemplate=b,t.generateId=w,t.generateUL=P,t.generateIcon=O}(ea||(ea={}));var ml,vl=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yl=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gl={None:[],SlideLeft:["SlideRightOut","SlideLeftOut","SlideLeftIn","SlideRightIn"],SlideDown:["SlideTopOut","SlideBottomOut","SlideBottomIn","SlideTopIn"],Zoom:["FadeOut","FadeZoomOut","FadeZoomIn","FadeIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},bl={None:[],SlideLeft:["SlideLeftOut","SlideRightOut","SlideRightIn","SlideLeftIn"],SlideDown:["SlideBottomOut","SlideTopOut","SlideTopIn","SlideBottomIn"],Zoom:["FadeZoomOut","FadeOut","FadeIn","FadeZoomIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},wl={root:"e-listview",hover:"e-hover",selected:"e-active",focused:"e-focused",parentItem:"e-list-parent",listItem:"e-list-item",listIcon:"e-list-icon",textContent:"e-text-content",listItemText:"e-list-text",groupListItem:"e-list-group-item",hasChild:"e-has-child",view:"e-view",header:"e-list-header",headerText:"e-headertext",headerTemplateText:"e-headertemplate-text",text:"e-text",disable:"e-disabled",content:"e-content",icon:"e-icons",backIcon:"e-icon-back",checkboxWrapper:"e-checkbox-wrapper",checkbox:"e-checkbox",checked:"e-check",checklist:"e-checklist",checkboxIcon:"e-frame",checkboxRight:"e-checkbox-right",checkboxLeft:"e-checkbox-left",listviewCheckbox:"e-listview-checkbox",itemCheckList:"e-checklist"},_l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vl(e,t),yl([G("id")],e.prototype,"id",void 0),yl([G("text")],e.prototype,"text",void 0),yl([G("isChecked")],e.prototype,"isChecked",void 0),yl([G("isVisible")],e.prototype,"isVisible",void 0),yl([G("enabled")],e.prototype,"enabled",void 0),yl([G("iconCss")],e.prototype,"iconCss",void 0),yl([G("child")],e.prototype,"child",void 0),yl([G("tooltip")],e.prototype,"tooltip",void 0),yl([G("groupBy")],e.prototype,"groupBy",void 0),yl([G("text")],e.prototype,"sortBy",void 0),yl([G("htmlAttributes")],e.prototype,"htmlAttributes",void 0),yl([G("tableName")],e.prototype,"tableName",void 0),e}(_i),Cl=(function(t){function e(e,n){return t.call(this,e,n)||this}vl(e,t),e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"htmlAttributes":this.setHTMLAttribute();break;case"cssClass":this.setCSSClass(e.cssClass);break;case"enable":this.setEnable();break;case"width":case"height":this.setSize();break;case"enableRtl":this.setEnableRTL();break;case"fields":this.listBaseOption.fields=this.fields.properties,this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"headerTitle":this.curDSLevel.length||this.header(this.headerTitle,!1);break;case"showHeader":this.header(this.headerTitle,!1);break;case"enableVirtualization":D(this.contentContainer),this.refresh();break;case"showCheckBox":case"checkBoxPosition":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.setCheckbox();break;case"dataSource":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"sortOrder":case"showIcon":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():(this.listBaseOption.showIcon=this.showIcon,this.curViewDS=this.getSubDS(),this.resetCurrentList())}}},e.prototype.setHTMLAttribute=function(){Object.keys(this.htmlAttributes).length&&A(this.element,this.htmlAttributes)},e.prototype.setCSSClass=function(t){this.cssClass&&C([this.element],this.cssClass.split(" ").filter(function(t){return t})),t&&E([this.element],t.split(" ").filter(function(t){return t}))},e.prototype.setSize=function(){this.element.style.height=y(this.height),this.element.style.width=y(this.width),this.isWindow=!this.element.clientHeight},e.prototype.setEnable=function(){this.enableElement(this.element,this.enable)},e.prototype.setEnableRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},e.prototype.enableElement=function(t,e){e?t.classList.remove(wl.disable):t.classList.add(wl.disable)},e.prototype.header=function(t,e){if(void 0===this.headerEle&&this.showHeader){this.headerEle=this.createElement("div",{className:wl.header});var n=this.createElement("span",{className:wl.headerText,innerHTML:this.headerTitle}),i=this.createElement("div",{className:wl.text,innerHTML:n.outerHTML}),r=this.createElement("div",{className:wl.icon+" "+wl.backIcon+" e-but-back",attrs:{style:"display:none;"}});if(this.headerEle.appendChild(r),this.headerEle.appendChild(i),this.headerTemplate){var o=ht(this.headerTemplate),s=this.createElement("div",{className:wl.headerTemplateText});k(o({}),s),k([s],this.headerEle)}this.headerTemplate&&this.headerTitle&&i.classList.add("header"),this.element.classList.add("e-has-header"),T([this.headerEle],this.element)}else if(this.headerEle)if(this.showHeader){this.headerEle.style.display="";var i=this.headerEle.querySelector("."+wl.headerText),r=this.headerEle.querySelector("."+wl.backIcon);i.innerHTML=t,this.headerTemplate&&e&&(i.parentElement.classList.remove("header"),this.headerEle.querySelector("."+wl.headerTemplateText).classList.add("nested-header")),this.headerTemplate&&!e&&(i.parentElement.classList.add("header"),this.headerEle.querySelector("."+wl.headerTemplateText).classList.remove("nested-header"),this.headerEle.querySelector("."+wl.headerTemplateText).classList.add("header")),r.style.display=!0===e?"":"none"}else this.headerEle.style.display="none"},e.prototype.switchView=function(t,e,n){var i=this;if(t&&e){var r=t.style.position,o="hidden"!==this.element.style.overflow?this.element.style.overflow:"";t.style.position="absolute",t.classList.add("e-view");var s=void 0,a=this.animation.duration;if(this.animation.effect)s=this.enableRtl?bl[this.animation.effect]:gl[this.animation.effect];else{s=gl.SlideLeft,n=this.enableRtl,a=0}this.element.style.overflow="hidden",this.aniObj.animate(t,{name:!0===n?s[0]:s[1],duration:a,timingFunction:this.animation.easing,end:function(e){t.style.display="none",i.element.style.overflow=o,t.style.position=r,t.classList.remove("e-view")}}),e.style.display="",this.aniObj.animate(e,{name:!0===n?s[2]:s[3],duration:a,timingFunction:this.animation.easing,end:function(){i.trigger("actionComplete")}}),this.curUL=e}},e.prototype.preRender=function(){this.listBaseOption={template:this.template,headerTemplate:this.headerTemplate,groupTemplate:this.groupTemplate,expandCollapse:!0,listClass:"",ariaAttributes:{itemRole:"listitem",listRole:"list",itemText:"",groupItemRole:"group",wrapperRole:"presentation"},fields:this.fields.properties,sortOrder:this.sortOrder,showIcon:this.showIcon,itemCreated:this.renderCheckbox.bind(this)},this.initialization()},e.prototype.initialization=function(){this.curDSLevel=[],this.animateOptions={},this.curViewDS=[],this.currentLiElements=[],this.isNestedList=!1,this.selectedData=[],this.selectedId=[],this.aniObj=new gi(this.animateOptions)},e.prototype.renderCheckbox=function(t){if(t.item.classList.contains(wl.hasChild)&&(this.isNestedList=!0),this.showCheckBox&&this.isValidLI(t.item)){var e=void 0,n=void 0;e=le(this.createElement,!1,{checked:!1,enableRtl:this.enableRtl,cssClass:wl.listviewCheckbox}),e.setAttribute("role","checkbox");var i=e.querySelector("."+wl.checkboxIcon);t.item.classList.add(wl.itemCheckList),t.item.firstElementChild.classList.add(wl.checkbox),"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]?(n=Wn(t.curData,this.listBaseOption.fields),n[this.listBaseOption.fields.isChecked]&&this.checkInternally(t,e)):"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]||-1===this.selectedData.indexOf(t.text)||this.checkInternally(t,e),e.setAttribute("aria-checked",i.classList.contains(wl.checked)?"true":"false"),"Left"===this.checkBoxPosition?(e.classList.add(wl.checkboxLeft),t.item.firstElementChild.classList.add(wl.checkboxLeft),t.item.firstElementChild.insertBefore(e,t.item.firstElementChild.childNodes[0])):(e.classList.add(wl.checkboxRight),t.item.firstElementChild.classList.add(wl.checkboxRight),t.item.firstElementChild.appendChild(e)),this.currentLiElements.push(t.item)}},e.prototype.checkInternally=function(t,e){t.item.classList.add(wl.selected),t.item.setAttribute("aria-selected","true"),e.querySelector("."+wl.checkboxIcon).classList.add(wl.checked),e.setAttribute("aria-checked","true")},e.prototype.checkItem=function(t){this.toggleCheckBase(t,!0)},e.prototype.toggleCheckBase=function(t,e){if(this.showCheckBox){var n=t;if(t instanceof Object&&t.constructor!==HTMLLIElement&&(n=this.getLiFromObjOrElement(t)),!h(n)){var i=n.querySelector("."+wl.checkboxIcon);e?n.classList.add(wl.selected):n.classList.remove(wl.selected),n.setAttribute("aria-selected",e?"true":"false"),e?i.classList.add(wl.checked):i.classList.remove(wl.checked),i.parentElement.setAttribute("aria-checked",e?"true":"false")}this.setSelectedItemData(n)}},e.prototype.uncheckItem=function(t){this.toggleCheckBase(t,!1)},e.prototype.checkAllItems=function(){this.toggleAllCheckBase(!0)},e.prototype.uncheckAllItems=function(){this.toggleAllCheckBase(!1)},e.prototype.toggleAllCheckBase=function(t){if(this.showCheckBox){for(var e=0;e<this.liCollection.length;e++){var n=this.liCollection[e].querySelector("."+wl.checkboxIcon);n&&(t?n.classList.contains(wl.checked)||this.checkItem(this.liCollection[e]):n.classList.contains(wl.checked)&&this.uncheckItem(this.liCollection[e]))}this.enableVirtualization&&this.virtualizationModule.checkedItem(t)}},e.prototype.setCheckbox=function(){var t=this;if(this.showCheckBox){var e=Array.prototype.slice.call(this.element.querySelectorAll("."+wl.listItem)),n={item:void 0,curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:""};e.forEach(function(e){n.item=e,n.curData=t.getItemData(e),e.querySelector("."+wl.checkboxWrapper)&&t.removeElement(e.querySelector("."+wl.checkboxWrapper)),t.renderCheckbox(n),n.item.classList.contains(wl.selected)&&t.checkInternally(n,n.item.querySelector("."+wl.checkboxWrapper))})}else{var e=Array.prototype.slice.call(this.element.querySelectorAll("."+wl.itemCheckList));e.forEach(function(e){e.classList.remove(wl.selected),e.firstElementChild.classList.remove(wl.checkbox),t.removeElement(e.querySelector("."+wl.checkboxWrapper))}),this.selectedItems&&this.selectedItems.item.classList.add(wl.selected)}},e.prototype.refreshItemHeight=function(){this.virtualizationModule.refreshItemHeight()},e.prototype.clickHandler=function(t){var e=t.target,n=e.classList;if(n.contains(wl.backIcon)||n.contains(wl.headerText))this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back();else{var i=N(e.parentNode,"."+wl.listItem);if(null===i&&(i=e),this.removeFocus(),this.enable&&this.showCheckBox&&this.isValidLI(i))if(t.target.classList.contains(wl.checkboxIcon)){if(i.classList.add(wl.focused),h(i.querySelector("."+wl.checked))){var r={curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:void 0,item:i};this.checkInternally(r,r.item.querySelector("."+wl.checkboxWrapper))}else this.uncheckItem(i),i.classList.add(wl.focused);if(t){var o=this.selectEventData(i,t),s=i.querySelector("."+wl.checkboxIcon);u(o,{isChecked:s.classList.contains(wl.checked)}),this.trigger("select",o)}}else i.classList.contains(wl.hasChild)?(this.removeHover(),this.removeSelect(),this.removeSelect(i),this.setSelectLI(i,t),i.classList.remove(wl.selected)):this.setCheckboxLI(i,t);else this.setSelectLI(i,t)}},e.prototype.removeElement=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.hoverHandler=function(t){var e=N(t.target.parentNode,"."+wl.listItem);this.setHoverLI(e)},e.prototype.leaveHandler=function(t){this.removeHover()},e.prototype.homeKeyHandler=function(t,e){if(Object.keys(this.dataSource).length&&this.curUL){var n=this.curUL.querySelectorAll("."+wl.listItem),i=this.curUL.querySelector("."+wl.focused)||this.curUL.querySelector("."+wl.selected);i&&(i.classList.remove(wl.focused),this.showCheckBox||i.classList.remove(wl.selected));var r=e?n.length-1:0;n[r].classList.contains(wl.hasChild)||this.showCheckBox?n[r].classList.add(wl.focused):this.setSelectLI(n[r],t)}},e.prototype.onArrowKeyDown=function(t,e){var n,i;return!h(this.curUL.querySelector("."+wl.hasChild))||this.showCheckBox?(i=this.curUL.querySelector("."+wl.focused)||this.curUL.querySelector("."+wl.selected),n=ea.getSiblingLI(this.curUL.querySelectorAll("."+wl.listItem),i,e),h(n)||(i&&(i.classList.remove(wl.focused),this.showCheckBox||i.classList.remove(wl.selected)),n.classList.contains(wl.hasChild)||this.showCheckBox?n.classList.add(wl.focused):this.setSelectLI(n,t))):(i=this.curUL.querySelector("."+wl.selected),n=ea.getSiblingLI(this.curUL.querySelectorAll("."+wl.listItem),i,e),this.setSelectLI(n,t)),n},e.prototype.arrowKeyHandler=function(t,e){var n=this;if(Object.keys(this.dataSource).length&&this.curUL){var i=this.onArrowKeyDown(t,e),r=this.element.getBoundingClientRect().top,o=this.element.getBoundingClientRect().height,s=this.curUL.querySelector("."+wl.listItem).getBoundingClientRect(),a=void 0,l=void 0;if(this.fields.groupBy&&(l=this.curUL.querySelector("."+wl.groupListItem).getBoundingClientRect()),i){var u=i.getBoundingClientRect().top,c=i.getBoundingClientRect().height;if(e)(a=this.isWindow?u:u-r)<0&&(this.isWindow?window.scrollTo(0,pageYOffset+a):this.element.scrollTo(0,this.element.scrollTop+a));else{var h=this.isWindow?window.innerHeight:o;a=this.isWindow?u+c:u-r+c,a>h&&(this.isWindow?window.scrollTo(0,pageYOffset+(a-h)):this.element.scrollTo(0,this.element.scrollTop+(a-h)))}}else if(this.enableVirtualization&&e&&this.virtualizationModule.uiFirstIndex)this.onUIScrolled=function(){n.onArrowKeyDown(t,e),n.onUIScrolled=void 0},a=this.virtualizationModule.listItemHeight,this.isWindow?window.scrollTo(0,pageYOffset-a):this.element.scrollTo(0,this.element.scrollTop-a);else if(e)if(this.showHeader&&this.headerEle){var p=l?l.top:s.top,d=this.headerEle.getBoundingClientRect();a=d.top<0?d.height-p:0,this.isWindow?window.scrollTo(0,pageYOffset-a):this.element.scrollTo(0,0)}else this.fields.groupBy&&(a=this.isWindow?l.top<0?l.top:0:r-s.top+l.height,this.isWindow?window.scrollTo(0,pageYOffset+a):this.element.scrollTo(0,this.element.scrollTop-a))}},e.prototype.enterKeyHandler=function(t){if(Object.keys(this.dataSource).length&&this.curUL){var e=!h(this.curUL.querySelector("."+wl.hasChild)),n=this.curUL.querySelector("."+wl.focused);e&&n&&(n.classList.remove(wl.focused),this.showCheckBox&&(this.removeSelect(),this.removeSelect(n),this.removeHover()),this.setSelectLI(n,t))}},e.prototype.spaceKeyHandler=function(t){if(this.enable&&this.showCheckBox&&Object.keys(this.dataSource).length&&this.curUL){var e=this.curUL.querySelector("."+wl.focused);if(!h(e)&&h(e.querySelector("."+wl.checked))){var n={curData:void 0,dataSource:void 0,fields:void 0,options:void 0,text:void 0,item:e};this.checkInternally(n,n.item.querySelector("."+wl.checkboxWrapper))}else this.uncheckItem(e)}},e.prototype.keyActionHandler=function(t){switch(t.keyCode){case 36:this.homeKeyHandler(t);break;case 35:this.homeKeyHandler(t,!0);break;case 40:this.arrowKeyHandler(t);break;case 38:this.arrowKeyHandler(t,!0);break;case 13:this.enterKeyHandler(t);break;case 8:this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back();break;case 9:this.tabFocus(t);break;case 32:this.spaceKeyHandler(t)}},e.prototype.swipeActionHandler=function(t){"Right"===t.swipeDirection&&(this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back())},e.prototype.focusout=function(){if(Object.keys(this.dataSource).length&&this.curUL){var t=this.curUL.querySelector("."+wl.focused),e=this.curUL.querySelector("[aria-selected = true]");t&&(t.classList.remove(wl.focused),e&&!this.showCheckBox&&e.classList.add(wl.selected))}},e.prototype.wireEvents=function(){ti.add(this.element,"keydown",this.keyActionHandler,this),ti.add(this.element,"click",this.clickHandler,this),this.enableVirtualization||(ti.add(this.element,"mouseover",this.hoverHandler,this),ti.add(this.element,"mouseout",this.leaveHandler,this)),ti.add(this.element,"focusout",this.focusout,this),this.touchModule=new yr(this.element,{swipe:this.swipeActionHandler.bind(this)})},e.prototype.unWireEvents=function(){ti.remove(this.element,"click",this.clickHandler),this.enableVirtualization||(ti.remove(this.element,"mouseover",this.hoverHandler),ti.remove(this.element,"mouseout",this.leaveHandler)),ti.remove(this.element,"mouseover",this.hoverHandler),ti.remove(this.element,"mouseout",this.leaveHandler),this.touchModule.destroy()},e.prototype.tabFocus=function(t){if(this.curUL&&(!this.curUL.querySelector("."+wl.focused)&&this.showCheckBox||!this.curUL.querySelector("."+wl.selected)&&!this.showCheckBox&&!this.curUL.querySelector("."+wl.hasChild)||this.curUL.querySelector("."+wl.hasChild)&&!this.curUL.querySelector("."+wl.focused)&&!this.curUL.querySelector("."+wl.selected))&&t.preventDefault(),Object.keys(this.dataSource).length&&this.curUL){var e=this.curUL.querySelector("."+wl.selected);if(!e&&this.curUL||this.showCheckBox){var n=e||this.curUL.querySelector("."+wl.listItem);if(n.classList.contains(wl.hasChild)||this.showCheckBox){h(this.curUL.querySelector("."+wl.focused))&&n.classList.add(wl.focused)}else this.setSelectLI(n,t)}}},e.prototype.removeFocus=function(){for(var t=this.element.querySelectorAll("."+wl.focused),e=0,n=t;e<n.length;e++){n[e].classList.remove(wl.focused)}},e.prototype.removeHover=function(){var t=this.element.querySelector("."+wl.hover);t&&t.classList.remove(wl.hover)},e.prototype.removeSelect=function(t){if(h(t))for(var e=this.element.querySelectorAll("."+wl.selected),n=0,i=e;n<i.length;n++){var r=i[n];this.showCheckBox&&r.querySelector("."+wl.checked)||(r.setAttribute("aria-selected","false"),r.classList.remove(wl.selected))}else t.classList.remove(wl.selected),t.setAttribute("aria-selected","false")},e.prototype.isValidLI=function(t){return t&&t.classList.contains(wl.listItem)&&!t.classList.contains(wl.groupListItem)&&!t.classList.contains(wl.disable)},e.prototype.setCheckboxLI=function(t,e){if(this.isValidLI(t)&&this.enable&&this.showCheckBox){this.curUL.querySelector("."+wl.focused)&&this.curUL.querySelector("."+wl.focused).classList.remove(wl.focused),t.classList.add(wl.focused);var n=t.querySelector("."+wl.checkboxWrapper),i=n.querySelector("."+wl.checkboxIcon+"."+wl.icon);this.removeHover(),i.classList.contains(wl.checked)?(i.classList.remove(wl.checked),t.classList.remove(wl.selected),t.setAttribute("aria-selected","false")):(i.classList.add(wl.checked),t.classList.add(wl.selected),t.setAttribute("aria-selected","true")),n.setAttribute("aria-checked",i.classList.contains(wl.checked)?"true":"false");var r=this.selectEventData(t,e);u(r,{isChecked:i.classList.contains(wl.checked)}),this.enableVirtualization&&this.virtualizationModule.setCheckboxLI(t,e),this.trigger("select",r),this.setSelectedItemData(t),this.renderSubList(t)}},e.prototype.selectEventData=function(t,e){var n,i=this.getItemData(t),r=Wn(i,this.listBaseOption.fields);n=!h(i)&&"string"==typeof this.dataSource[0]||"number"==typeof this.dataSource[0]?{item:t,text:t&&t.innerText.trim(),data:this.dataSource}:{item:t,text:r&&r[this.listBaseOption.fields.text],data:i};var o={};return u(o,n),e&&u(o,{isInteracted:!0,event:e,index:Array.prototype.indexOf.call(this.curUL.children,t)}),o},e.prototype.setSelectedItemData=function(t){var e=this.getItemData(t),n=Wn(e,this.listBaseOption.fields);h(e)||"string"!=typeof this.dataSource[0]&&"number"!=typeof this.dataSource[0]?this.selectedItems={item:t,text:n&&n[this.listBaseOption.fields.text],data:e}:this.selectedItems={item:t,text:t&&t.innerText.trim(),data:this.dataSource}},e.prototype.setSelectLI=function(t,e){if(this.isValidLI(t)&&!t.classList.contains(wl.selected)&&this.enable){this.showCheckBox||this.removeSelect(),t.classList.add(wl.selected),t.setAttribute("aria-selected","true"),this.removeHover(),this.setSelectedItemData(t),this.enableVirtualization&&this.virtualizationModule.setSelectLI(t,e);var n=this.selectEventData(t,e);this.trigger("select",n),this.selectedLI=t,this.renderSubList(t)}},e.prototype.setHoverLI=function(t){if(this.isValidLI(t)&&!t.classList.contains(wl.hover)&&this.enable){var e=this.element.querySelectorAll("."+wl.hover);e&&e.length&&E(e,wl.hover),t.classList.contains(wl.selected)&&!this.showCheckBox||t.classList.add(wl.hover)}},e.prototype.getSubDS=function(){var t=this.curDSLevel;if(t.length){for(var e=this.localData,n=0,i=t;n<i.length;n++){var r=i[n],o={};o[this.fields.id]=r,this.curDSJSON=this.findItemFromDS(e,o);var s=Wn(this.curDSJSON,this.listBaseOption.fields);e=this.curDSJSON?s[this.fields.child]:e}return e}return this.localData},e.prototype.getItemData=function(t){var e,n=this.dataSource instanceof pl?this.localData:this.dataSource,i=this.getElementUID(t);return e=h(this.element.querySelector("."+wl.hasChild))&&this.fields.groupBy?this.curViewDS:n,this.findItemFromDS(e,i)},e.prototype.findItemFromDS=function(t,e,n){var i,r=this;return t&&t.length&&e?t.some(function(o){var s=Wn(o,r.listBaseOption.fields);if(!e[r.fields.id]&&!e[r.fields.text]||e[r.fields.id]&&(!h(s[r.fields.id])&&s[r.fields.id].toString())!==e[r.fields.id].toString()||e[r.fields.text]&&s[r.fields.text]!==e[r.fields.text])if("object"!=typeof o&&-1!==t.indexOf(o))i=n?t:o;else if(!h(e[r.fields.id])&&h(s[r.fields.id])){var a=r.element.querySelector('[data-uid="'+e[r.fields.id]+'"]');a&&a.innerText.trim()===s[r.fields.text]&&(i=o)}else s.hasOwnProperty(r.fields.child)&&s[r.fields.child].length&&(i=r.findItemFromDS(s[r.fields.child],e,n));else i=n?t:o;return!!i}):i=t,i},e.prototype.getQuery=function(){var t=[],e=this.query?this.query:new el;if(!this.query){for(var n=0,i=Object.keys(this.fields.properties);n<i.length;n++){var r=i[n];"tableName"!==r&&this.fields[r]&&this.fields[r]!==ea.defaultMappedFields[r]&&-1===t.indexOf(this.fields[r])&&t.push(this.fields[r])}e.select(t),this.fields.properties.hasOwnProperty("tableName")&&e.from(this.fields.tableName)}return e},e.prototype.setViewDataSource=function(t){void 0===t&&(t=this.localData),t&&this.fields.groupBy?"None"!==this.sortOrder?this.curViewDS=ea.groupDataSource(ea.getDataSource(t,ea.addSorting(this.sortOrder,this.fields.sortBy)),this.listBaseOption.fields,this.sortOrder):this.curViewDS=ea.groupDataSource(t,this.listBaseOption.fields,this.sortOrder):t&&"None"!==this.sortOrder?this.curViewDS=ea.getDataSource(t,ea.addSorting(this.sortOrder,this.fields.sortBy)):this.curViewDS=t},e.prototype.isInAnimation=function(){return this.curUL.classList.contains(".e-animate")},e.prototype.setLocalData=function(){var t=this;if(this.trigger("actionBegin"),this.dataSource instanceof pl)this.dataSource.executeQuery(this.getQuery()).then(function(e){t.isDestroyed||(t.localData=e.result,t.removeElement(t.contentContainer),t.renderList(),t.trigger("actionComplete",e))}).catch(function(e){t.isDestroyed||t.trigger("actionFailure",e)});else if(this.dataSource&&this.dataSource.length)this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData});else{var e=this.element.querySelector("ul");e&&(P(e),this.setProperties({dataSource:ea.createJsonFromElement(e)},!0),this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData}))}},e.prototype.reRender=function(){this.element.innerHTML="",this.headerEle=this.ulElement=this.liCollection=void 0,this.setLocalData(),this.header()},e.prototype.resetCurrentList=function(){this.setViewDataSource(this.curViewDS),this.contentContainer.innerHTML="",this.createList(),this.renderIntoDom(this.curUL)},e.prototype.createList=function(){this.currentLiElements=[],this.isNestedList=!1,this.ulElement=this.curUL=ea.createList(this.createElement,this.curViewDS,this.listBaseOption),this.liCollection=this.curUL.querySelectorAll("."+wl.listItem)},e.prototype.renderSubList=function(t){var e=t.getAttribute("data-uid");if(t.classList.contains(wl.hasChild)&&e){var n=N(t.parentNode,"."+wl.parentItem),i=this.element.querySelector("[pid='"+e+"']");if(this.curDSLevel.push(e),this.setViewDataSource(this.getSubDS()),!i){var r=this.curViewDS;i=ea.createListFromJson(this.createElement,r,this.listBaseOption,this.curDSLevel.length),i.setAttribute("pID",e),i.style.display="none",this.renderIntoDom(i)}if(this.switchView(n,i),this.liCollection=this.curUL.querySelectorAll("."+wl.listItem),this.selectedItems){var o=Wn(this.selectedItems.data,this.listBaseOption.fields);this.header(o[this.listBaseOption.fields.text],!0)}this.selectedLI=void 0}},e.prototype.renderIntoDom=function(t){this.contentContainer.appendChild(t)},e.prototype.renderList=function(t){this.setViewDataSource(t),this.enableVirtualization&&Object.keys(this.dataSource).length?(!this.template&&!this.groupTemplate||this.virtualizationModule.isNgTemplate()||(this.listBaseOption.template=null,this.listBaseOption.groupTemplate=null,this.listBaseOption.itemCreated=this.virtualizationModule.createUIItem.bind(this.virtualizationModule)),this.virtualizationModule.uiVirtualization()):(this.createList(),this.contentContainer=this.createElement("div",{className:wl.content}),this.element.appendChild(this.contentContainer),this.renderIntoDom(this.ulElement))},e.prototype.getElementUID=function(t){var e={};return t instanceof Element?e[this.fields.id]=t.getAttribute("data-uid"):e=t,e},e.prototype.render=function(){this.element.classList.add(wl.root),A(this.element,{role:"list",tabindex:"0"}),this.setCSSClass(),this.setEnableRTL(),this.setEnable(),this.setSize(),this.wireEvents(),this.header(),this.setLocalData(),this.setHTMLAttribute(),this.rippleFn=tt(this.element,{selector:"."+wl.listItem})},e.prototype.destroy=function(){this.unWireEvents();var e=[wl.root,wl.disable,"e-rtl","e-has-header","e-lib"].concat(this.cssClass.split(" ").filter(function(t){return t}));E([this.element],e),this.rippleFn(),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.element.innerHTML="",this.curUL=this.ulElement=this.liCollection=this.headerEle=void 0,t.prototype.destroy.call(this)},e.prototype.back=function(){var t=this.curDSLevel[this.curDSLevel.length-1];if(void 0!==t&&!this.isInAnimation()){this.curDSLevel.pop(),this.setViewDataSource(this.getSubDS());var e=this.element.querySelector("[data-uid='"+t+"']"),n=this.curUL;e?e=e.parentElement:(this.createList(),this.renderIntoDom(this.ulElement),e=this.curUL);var i=Wn(this.curDSJSON,this.listBaseOption.fields),r=i[this.fields.text];this.switchView(n,e,!0),this.removeFocus();var o=this.element.querySelector("[data-uid='"+t+"']");o.classList.add(wl.focused),this.showCheckBox&&o.querySelector("."+wl.checkboxIcon).classList.contains(wl.checked)?o.setAttribute("aria-selected","true"):(o.classList.remove(wl.selected),o.setAttribute("aria-selected","false")),this.liCollection=this.curUL.querySelectorAll("."+wl.listItem),this.header(this.curDSLevel.length?r:this.headerTitle,!!this.curDSLevel.length)}},e.prototype.selectItem=function(t){this.enableVirtualization?this.virtualizationModule.selectItem(t):this.showCheckBox?this.setCheckboxLI(this.getLiFromObjOrElement(t)):h(t)?this.removeSelect():this.setSelectLI(this.getLiFromObjOrElement(t))},e.prototype.getLiFromObjOrElement=function(t){var e,n=this.dataSource instanceof pl?this.localData:this.dataSource;if(!h(t))if("string"==typeof n[0]||"number"==typeof n[0])if(t instanceof Element){for(var i=t.getAttribute("data-uid").toString(),r=0;r<this.liCollection.length;r++)if(this.liCollection[r].getAttribute("data-uid").toString()===i){e=this.liCollection[r];break}}else Array.prototype.some.call(this.curUL.querySelectorAll("."+wl.listItem),function(n){return n.innerText.trim()===t.toString()&&(e=n,!0)});else{var o=this.getItemData(t),s=Wn(o,this.listBaseOption.fields);if(o&&(e=this.element.querySelector('[data-uid="'+s[this.fields.id]+'"]'),!this.enableVirtualization&&h(e)))for(var a=this.element.querySelectorAll("."+wl.listItem),r=0;r<a.length;r++)a[r].innerText.trim()===s[this.fields.text]&&(e=a[r])}return e},e.prototype.selectMultipleItems=function(t){if(!h(t))for(var e=0;e<t.length;e++)h(t[e])||this.selectItem(t[e])},e.prototype.getParentId=function(){var t=[];if(this.isNestedList)for(var e=this.curDSLevel.length-1;e>=0;e--)t.push(this.curDSLevel[e]);return t},e.prototype.getSelectedItems=function(){this.selectedId=[];var t=this.dataSource instanceof pl?this.localData:this.dataSource;if(this.enableVirtualization)return this.virtualizationModule.getSelectedItems();if(this.showCheckBox){var e=this.curUL.getElementsByClassName(wl.selected),n=[],i=[];this.selectedId=[];for(var r=[],o=0;o<e.length;o++)if("string"==typeof t[0]||"number"==typeof t[0])n.push(e[o].innerText.trim());else{var s=this.getItemData(e[o]),a=Wn(s,this.listBaseOption.fields);this.isNestedList?r.push({data:s,parentId:this.getParentId()}):i.push(s),a?(n.push(a[this.listBaseOption.fields.text]),this.selectedId.push(a[this.listBaseOption.fields.id])):(n.push(void 0),this.selectedId.push(void 0))}return"string"==typeof t[0]||"number"==typeof t[0]?{item:e,data:t,text:n}:this.isNestedList?{item:e,data:r,text:n}:{item:e,data:i,text:n}}var l=this.element.getElementsByClassName(wl.selected)[0],a=Wn(this.getItemData(l),this.listBaseOption.fields);return"string"==typeof t[0]||"number"==typeof t[0]?h(l)?void 0:{item:l,data:t,text:l.innerText.trim()}:h(a)||h(l)?void 0:(this.selectedId.push(a[this.listBaseOption.fields.id]),{text:a[this.listBaseOption.fields.text],item:l,data:this.getItemData(l)})},e.prototype.findItem=function(t){return this.getItemData(t)},e.prototype.enableItem=function(t){this.setItemState(t,!0),this.enableVirtualization&&this.virtualizationModule.enableItem(t)},e.prototype.disableItem=function(t){this.setItemState(t,!1),this.enableVirtualization&&this.virtualizationModule.disableItem(t)},e.prototype.setItemState=function(t,e){var n=this.getItemData(t),i=Wn(n,this.listBaseOption.fields);if(n){var r=this.element.querySelector('[data-uid="'+i[this.fields.id]+'"]');e?(r&&r.classList.remove(wl.disable),delete n[this.fields.enabled]):e||(r&&r.classList.add(wl.disable),n[this.fields.enabled]=!1)}},e.prototype.showItem=function(t){this.showHideItem(t,!1,""),this.enableVirtualization&&this.virtualizationModule.showItem(t)},e.prototype.hideItem=function(t){this.showHideItem(t,!0,"none"),this.enableVirtualization&&this.virtualizationModule.hideItem(t)},e.prototype.showHideItem=function(t,e,n){var i=this.getItemData(t),r=Wn(i,this.listBaseOption.fields);if(i){var o=this.element.querySelector('[data-uid="'+r[this.fields.id]+'"]');o&&(o.style.display=n),e?i[this.fields.isVisible]=!1:delete i[this.fields.isVisible]}},e.prototype.addItem=function(t,e){var n=this;if(void 0===e&&(e=void 0),!(this.dataSource instanceof pl)&&t instanceof Array)if(this.enableVirtualization)this.virtualizationModule.addItem(t,e);else{var i=this.findItemFromDS(this.dataSource,e),r=Wn(i,this.listBaseOption.fields),o=r[this.fields.child];o||(o=[]),o=o.concat(t),i instanceof Array?(t.forEach(function(t){if(n.dataSource.push(t),n.setViewDataSource(n.dataSource),n.ulElement){var e=n.curViewDS.indexOf(t);n.addListItem(t,e);var i=n.curViewDS[e-1];i&&i.isHeader&&1===i.items.length&&n.addListItem(i,e-1)}else n.reRender()}),this.liCollection=this.curUL.querySelectorAll("."+wl.listItem)):(i[this.fields.child]=o,this.reRender())}},e.prototype.addListItem=function(t,e){var n=this.getLiFromObjOrElement(this.curViewDS[e+1])||this.getLiFromObjOrElement(this.curViewDS[e+2])||null,i=ea.createListItemFromJson(this.createElement,[t],this.listBaseOption);this.ulElement.insertBefore(i[0],n)},e.prototype.removeItem=function(t){this.dataSource instanceof pl||(this.enableVirtualization?this.virtualizationModule.removeItem(t):this.removeItemFromList(t))},e.prototype.removeItemFromList=function(t){var e,n=t instanceof Element?this.getElementUID(t):t;if(e=this.findItemFromDS(this.dataSource,n,!0)){var i=void 0;i=this.findItemFromDS(e,n);var r=this.curViewDS.indexOf(i),o=this.getLiFromObjOrElement(t),s=void 0;this.fields.groupBy&&this.curViewDS[r-1]&&this.curViewDS[r-1].isHeader&&1===this.curViewDS[r-1].items.length&&o&&o.previousElementSibling.classList.contains(wl.groupListItem)&&(h(o.nextElementSibling)||o.nextElementSibling&&o.nextElementSibling.classList.contains(wl.groupListItem))&&(s=o.previousElementSibling),o&&D(o),s&&D(s);var a=e.indexOf(i);e.splice(a,1),this.setViewDataSource(this.dataSource),this.liCollection=Array.prototype.slice.call(this.element.querySelectorAll("."+wl.listItem))}},e.prototype.removeMultipleItems=function(t){if(!(this.dataSource instanceof pl)&&t.length)for(var e=0;e<t.length;e++)this.enableVirtualization?this.removeItem(t[e]):this.removeItemFromList(t[e])},e.prototype.getModuleName=function(){return"listview"},e.prototype.requiredModules=function(){var t=[];return this.enableVirtualization&&t.push({args:[this],member:"virtualization"}),t},e.prototype.getPersistData=function(){return this.addOnPersist(["cssClass","enableRtl","htmlAttributes","enable","fields","animation","headerTitle","sortOrder","showIcon","height","width","showCheckBox","checkBoxPosition"])},yl([G("")],e.prototype,"cssClass",void 0),yl([G(!1)],e.prototype,"enableVirtualization",void 0),yl([G({})],e.prototype,"htmlAttributes",void 0),yl([G(!0)],e.prototype,"enable",void 0),yl([G([])],e.prototype,"dataSource",void 0),yl([G()],e.prototype,"query",void 0),yl([X(ea.defaultMappedFields,_l)],e.prototype,"fields",void 0),yl([G({effect:"SlideLeft",duration:400,easing:"ease"})],e.prototype,"animation",void 0),yl([G("None")],e.prototype,"sortOrder",void 0),yl([G(!1)],e.prototype,"showIcon",void 0),yl([G(!1)],e.prototype,"showCheckBox",void 0),yl([G("Left")],e.prototype,"checkBoxPosition",void 0),yl([G("")],e.prototype,"headerTitle",void 0),yl([G(!1)],e.prototype,"showHeader",void 0),yl([G("")],e.prototype,"height",void 0),yl([G("")],e.prototype,"width",void 0),yl([G(null)],e.prototype,"template",void 0),yl([G(null)],e.prototype,"headerTemplate",void 0),yl([G(null)],e.prototype,"groupTemplate",void 0),yl([Q()],e.prototype,"select",void 0),yl([Q()],e.prototype,"actionBegin",void 0),yl([Q()],e.prototype,"actionComplete",void 0),yl([Q()],e.prototype,"actionFailure",void 0),e=yl([Z],e)}(tr),function(){function t(t){this.listViewInstance=t}t.prototype.isNgTemplate=function(){return!h(this.listViewInstance.templateRef)&&"string"!=typeof this.listViewInstance.templateRef&&h(this.listViewInstance.fields.groupBy)},t.prototype.uiVirtualization=function(){var t=this.listViewInstance.curViewDS,e=t.slice(0,1);this.listViewInstance.ulElement=this.listViewInstance.curUL=ea.createList(this.listViewInstance.createElement,e,this.listViewInstance.listBaseOption),this.listViewInstance.contentContainer=this.listViewInstance.createElement("div",{className:wl.content}),this.listViewInstance.element.appendChild(this.listViewInstance.contentContainer),this.listViewInstance.contentContainer.appendChild(this.listViewInstance.ulElement),this.listItemHeight=this.listViewInstance.ulElement.firstElementChild.getBoundingClientRect().height,this.expectedDomItemCount=this.ValidateItemCount(1e4),this.domItemCount=this.ValidateItemCount(Object.keys(this.listViewInstance.curViewDS).length),this.uiFirstIndex=0,this.uiLastIndex=this.domItemCount-1,this.wireScrollEvent(!1);var n=t.slice(1,this.domItemCount);k(ea.createListItemFromJson(this.listViewInstance.createElement,n,this.listViewInstance.listBaseOption),this.listViewInstance.ulElement),this.listViewInstance.liCollection=this.listViewInstance.curUL.querySelectorAll("li"),this.topElement=this.listViewInstance.createElement("div"),this.listViewInstance.ulElement.insertBefore(this.topElement,this.listViewInstance.ulElement.firstElementChild),this.bottomElement=this.listViewInstance.createElement("div"),this.listViewInstance.ulElement.insertBefore(this.bottomElement,null),this.totalHeight=Object.keys(t).length*this.listItemHeight-this.domItemCount*this.listItemHeight,this.topElement.style.height="0px",this.bottomElement.style.height=this.totalHeight+"px",this.topElementHeight=0,this.bottomElementHeight=this.totalHeight,this.listDiff=0,this.uiIndicesInitialization()},t.prototype.wireScrollEvent=function(t){t?this.listViewInstance.isWindow?window.removeEventListener("scroll",this.onVirtualScroll):ti.remove(this.listViewInstance.element,"scroll",this.onVirtualUiScroll):this.listViewInstance.isWindow?(this.onVirtualScroll=this.onVirtualUiScroll.bind(this),window.addEventListener("scroll",this.onVirtualScroll)):ti.add(this.listViewInstance.element,"scroll",this.onVirtualUiScroll,this)},t.prototype.ValidateItemCount=function(t){var e=this.listViewInstance.isWindow?Math.round(window.innerHeight/this.listItemHeight*3):Math.round(this.listViewInstance.height/this.listItemHeight*1.5);return e>t&&(e=t),e},t.prototype.uiIndicesInitialization=function(){var t=this;this.uiIndices={activeIndices:[],disabledItemIndices:[],hiddenItemIndices:[]},this.listViewInstance.curViewDS.forEach(function(e,n){t.listViewInstance.showCheckBox&&e[t.listViewInstance.fields.isChecked]&&t.uiIndices.activeIndices.push(n),h(e[t.listViewInstance.fields.enabled])||e[t.listViewInstance.fields.enabled]||t.uiIndices.disabledItemIndices.push(n)}),this.isNgTemplate()&&Array.prototype.forEach.call(this.listViewInstance.element.querySelectorAll("."+wl.listItem),function(e,n){e.context=t.listViewInstance.viewContainerRef._embeddedViews[n].context})},t.prototype.refreshItemHeight=function(){if(this.listViewInstance.curViewDS.length){var t=this.listViewInstance.curViewDS;this.listItemHeight=this.topElement.nextSibling.getBoundingClientRect().height,this.totalHeight=Object.keys(t).length*this.listItemHeight-this.domItemCount*this.listItemHeight,this.bottomElementHeight=this.totalHeight,this.bottomElement.style.height=this.totalHeight+"px"}},t.prototype.getscrollerHeight=function(t){return this.listViewInstance.isWindow?pageYOffset-t<=0?0:pageYOffset-t:this.listViewInstance.element.scrollTop-t<=0?0:this.listViewInstance.element.scrollTop-t},t.prototype.onVirtualUiScroll=function(){var t,e;e=this.listViewInstance.isWindow?this.listViewInstance.ulElement.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top:this.listViewInstance.headerEle?this.listViewInstance.headerEle.getBoundingClientRect().height:0,this.scrollPosition=h(this.scrollPosition)?0:this.scrollPosition;var n=this.getscrollerHeight(e);if(this.topElementHeight=this.listItemHeight*Math.floor(n/this.listItemHeight),this.bottomElementHeight=this.totalHeight-this.topElementHeight,t=n<=this.totalHeight?[this.topElementHeight,this.bottomElementHeight]:[this.totalHeight,0],this.topElementHeight=t[0],this.bottomElementHeight=t[1],this.topElementHeight!==parseFloat(this.topElement.style.height)){if(this.topElement.style.height=this.topElementHeight+"px",this.bottomElement.style.height=this.bottomElementHeight+"px",n>this.scrollPosition){var i=this.topElementHeight/this.listItemHeight-this.listDiff;i>this.expectedDomItemCount+5?this.onLongScroll(i,!0):this.onNormalScroll(i,!0)}else{var i=this.listDiff-this.topElementHeight/this.listItemHeight;i>this.expectedDomItemCount+5?this.onLongScroll(i,!1):this.onNormalScroll(i,!1)}this.listDiff=this.topElementHeight/this.listItemHeight,"function"==typeof this.listViewInstance.onUIScrolled&&this.listViewInstance.onUIScrolled()}this.scrollPosition=n},t.prototype.onLongScroll=function(t,e){var n=this,i=e?this.uiFirstIndex+t:this.uiFirstIndex-t;Array.prototype.forEach.call(this.listViewInstance.ulElement.querySelectorAll("li"),function(t){n.updateUI(t,i),i++}),this.uiLastIndex=e?this.uiLastIndex+t:this.uiLastIndex-t,this.uiFirstIndex=e?this.uiFirstIndex+t:this.uiFirstIndex-t},t.prototype.onNormalScroll=function(t,e){if(e)for(var n=0;n<t;n++){var i=++this.uiLastIndex;this.updateUI(this.topElement.nextElementSibling,i,this.bottomElement),this.uiFirstIndex++}else for(var n=0;n<t;n++){var i=--this.uiFirstIndex,r=this.topElement.nextSibling;this.updateUI(this.bottomElement.previousElementSibling,i,r),this.uiLastIndex--}},t.prototype.updateUiContent=function(t,e){var n=this.listViewInstance.curViewDS;if("string"==typeof this.listViewInstance.dataSource[0]||"number"==typeof this.listViewInstance.dataSource[0]?(t.dataset.uid=ea.generateId(),t.getElementsByClassName(wl.listItemText)[0].innerHTML=this.listViewInstance.curViewDS[e].toString()):(t.dataset.uid=n[e][this.listViewInstance.fields.id]?n[e][this.listViewInstance.fields.id].toString():ea.generateId(),t.getElementsByClassName(wl.listItemText)[0].innerHTML=n[e][this.listViewInstance.fields.text].toString()),this.listViewInstance.showIcon&&(t.querySelector("."+wl.listIcon)&&D(t.querySelector("."+wl.listIcon)),this.listViewInstance.curViewDS[e][this.listViewInstance.fields.iconCss])){var i=t.querySelector("."+wl.textContent),r=this.listViewInstance.createElement("div",{className:wl.listIcon+" "+this.listViewInstance.curViewDS[e][this.listViewInstance.fields.iconCss]});i.insertBefore(r,t.querySelector("."+wl.listItemText))}if(this.listViewInstance.showCheckBox&&this.listViewInstance.fields.groupBy){this.checkListWrapper||(this.checkListWrapper=this.listViewInstance.curUL.querySelector("."+wl.checkboxWrapper).cloneNode(!0));var i=t.querySelector("."+wl.textContent);this.listViewInstance.curViewDS[e].isHeader?t.querySelector("."+wl.checkboxWrapper)&&(t.classList.remove(wl.checklist),i.classList.remove(wl.checkbox),D(t.querySelector("."+wl.checkboxWrapper))):t.querySelector("."+wl.checkboxWrapper)||(t.classList.add(wl.checklist),i.classList.add(wl.checkbox),i.insertBefore(this.checkListWrapper.cloneNode(!0),t.querySelector("."+wl.listItemText)))}},t.prototype.changeElementAttributes=function(t,e){if(t.classList.remove(wl.disable),this.uiIndices.disabledItemIndices.length&&-1!==this.uiIndices.disabledItemIndices.indexOf(e)&&t.classList.add(wl.disable),t.style.display="",this.uiIndices.hiddenItemIndices.length&&-1!==this.uiIndices.hiddenItemIndices.indexOf(e)&&(t.style.display="none"),this.listViewInstance.showCheckBox){var n=t.querySelector("."+wl.checkboxWrapper);t.classList.remove(wl.selected),t.classList.remove(wl.focused),n&&(n.removeAttribute("aria-checked"),n.firstElementChild.classList.remove(wl.checked)),this.uiIndices.activeIndices.length&&-1!==this.uiIndices.activeIndices.indexOf(e)&&!this.listViewInstance.curUL.querySelector(wl.selected)&&(t.classList.add(wl.selected),n.firstElementChild.classList.add(wl.checked),n.setAttribute("aria-checked","true"),this.activeIndex===e&&t.classList.add(wl.focused))}else t.classList.remove(wl.selected),t.removeAttribute("aria-selected"),h(this.activeIndex)||this.activeIndex!==e||this.listViewInstance.curUL.querySelector(wl.selected)||(t.classList.add(wl.selected),t.setAttribute("aria-selected","true"));this.listViewInstance.fields.groupBy&&(this.listViewInstance.curViewDS[e].isHeader?t.classList.contains(wl.listItem)&&(t.classList.remove(wl.listItem),t.setAttribute("role","group"),t.classList.add(wl.groupListItem)):t.classList.contains(wl.groupListItem)&&(t.classList.remove(wl.groupListItem),t.setAttribute("role","listitem"),t.classList.add(wl.listItem)))},t.prototype.findDSAndIndexFromId=function(t,e){var n=this,i={};return e=this.listViewInstance.getElementUID(e),h(e)||t.some(function(t,r){return!!(e[n.listViewInstance.fields.id]&&e[n.listViewInstance.fields.id].toString()===(t[n.listViewInstance.fields.id]&&t[n.listViewInstance.fields.id].toString())||e===t)&&(i.index=r,i.data=t,!0)}),i},t.prototype.getSelectedItems=function(){var t=this;if(!h(this.activeIndex)||this.listViewInstance.showCheckBox&&this.uiIndices.activeIndices.length){var e=[],n=[];if("string"==typeof this.listViewInstance.dataSource[0]||"number"==typeof this.listViewInstance.dataSource[0]){var i=this.listViewInstance.curViewDS;return this.listViewInstance.showCheckBox?(this.uiIndices.activeIndices.forEach(function(t){e.push(i[t])}),{text:e,data:e,index:this.uiIndices.activeIndices.map(function(e){return t.listViewInstance.dataSource.indexOf(i[e])})}):{text:i[this.activeIndex],data:i[this.activeIndex],index:this.listViewInstance.dataSource.indexOf(i[this.activeIndex])}}var r=this.listViewInstance.curViewDS,o=this.listViewInstance.fields.text;return this.listViewInstance.showCheckBox?(this.uiIndices.activeIndices.forEach(function(t){n.push(r[t][o]),e.push(r[t])}),{text:n,data:e,index:this.uiIndices.activeIndices.map(function(e){return t.listViewInstance.dataSource.indexOf(r[e])})}):{text:r[this.activeIndex][this.listViewInstance.fields.text],data:r[this.activeIndex],index:this.listViewInstance.dataSource.indexOf(r[this.activeIndex])}}},t.prototype.selectItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);if(Object.keys(e).length){var n=this.activeIndex===e.index,i=void 0;if(this.activeIndex=e.index,this.listViewInstance.showCheckBox&&(-1===this.uiIndices.activeIndices.indexOf(e.index)?(i=!0,this.uiIndices.activeIndices.push(e.index)):(i=!1,this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(e.index),1)),this.listViewInstance.curUL.querySelector("."+wl.focused)&&this.listViewInstance.curUL.querySelector("."+wl.focused).classList.remove(wl.focused)),this.listViewInstance.getLiFromObjOrElement(t))this.listViewInstance.showCheckBox?this.listViewInstance.setCheckboxLI(this.listViewInstance.getLiFromObjOrElement(t)):this.listViewInstance.setSelectLI(this.listViewInstance.getLiFromObjOrElement(t));else{var r=void 0;if("string"==typeof this.listViewInstance.dataSource[0]||"number"==typeof this.listViewInstance.dataSource[0])r={text:this.listViewInstance.curViewDS[this.activeIndex],data:this.listViewInstance.curViewDS[this.activeIndex],index:this.activeIndex};else{var o=this.listViewInstance.curViewDS;r={text:o[this.activeIndex][this.listViewInstance.fields.text],data:o[this.activeIndex],index:this.activeIndex}}this.listViewInstance.showCheckBox?(r.isChecked=i,this.listViewInstance.trigger("select",r)):n||(this.listViewInstance.removeSelect(),this.listViewInstance.trigger("select",r))}}else h(t)&&!this.listViewInstance.showCheckBox&&(this.listViewInstance.removeSelect(),this.activeIndex=void 0)},t.prototype.enableItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(e.index),1)},t.prototype.disableItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&-1===this.uiIndices.disabledItemIndices.indexOf(e.index)&&this.uiIndices.disabledItemIndices.push(e.index)},t.prototype.showItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(e.index),1)},t.prototype.hideItem=function(t){var e=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(e).length&&-1===this.uiIndices.hiddenItemIndices.indexOf(e.index)&&this.uiIndices.hiddenItemIndices.push(e.index)},t.prototype.removeItem=function(t){var e,n=this.findDSAndIndexFromId(this.listViewInstance.curViewDS,t);Object.keys(n).length&&(e=n.data,this.listViewInstance.curViewDS[n.index-1]&&this.listViewInstance.curViewDS[n.index-1].isHeader&&1===this.listViewInstance.curViewDS[n.index-1].items.length?(this.removeUiItem(n.index-1),this.removeUiItem(n.index-1)):this.removeUiItem(n.index));var i=this.listViewInstance.dataSource.indexOf(e);-1!==i&&(this.listViewInstance.dataSource.splice(i,1),this.listViewInstance.setViewDataSource(this.listViewInstance.dataSource))},t.prototype.setCheckboxLI=function(t,e){var n=Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll("li"),t)+this.uiFirstIndex;this.activeIndex=Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll("li"),t)+this.uiFirstIndex,t.classList.contains(wl.selected)?-1===this.uiIndices.activeIndices.indexOf(n)&&this.uiIndices.activeIndices.push(n):this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(n),1)},t.prototype.setSelectLI=function(t,e){this.activeIndex=Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll("li"),t)+this.uiFirstIndex},t.prototype.checkedItem=function(t){var e=this;t?(this.uiIndices.activeIndices=[],this.activeIndex=void 0,this.listViewInstance.curViewDS.forEach(function(t,n){t.isHeader||e.uiIndices.activeIndices.push(n)})):(this.activeIndex=void 0,this.uiIndices.activeIndices=[])},t.prototype.addUiItem=function(t){var e=this.listViewInstance.curViewDS;if(this.changeUiIndices(t,!0),this.activeIndex&&this.activeIndex>=t&&this.activeIndex++,this.listViewInstance.showCheckBox&&e[t][this.listViewInstance.fields.isChecked]&&this.uiIndices.activeIndices.push(t),parseFloat(this.bottomElement.style.height)||parseFloat(this.topElement.style.height)||(this.bottomElement.style.height=parseFloat(this.bottomElement.style.height)+this.listItemHeight+"px"),parseFloat(this.bottomElement.style.height)){var n=this.listViewInstance.curUL.lastElementChild.previousSibling,i=this.listViewInstance.getLiFromObjOrElement(e[t+1])||this.listViewInstance.getLiFromObjOrElement(e[t+2]);i&&(this.bottomElement.style.height=parseFloat(this.bottomElement.style.height)+this.listItemHeight+"px",this.updateUI(n,t,i))}else{var n=this.listViewInstance.curUL.firstElementChild.nextSibling,i=void 0;i=Object.keys(this.listViewInstance.curViewDS).length-1===t?this.listViewInstance.curUL.lastElementChild:this.listViewInstance.getLiFromObjOrElement(e[t+1])||this.listViewInstance.getLiFromObjOrElement(e[t+2]),this.topElement.style.height=parseFloat(this.topElement.style.height)+this.listItemHeight+"px",this.uiFirstIndex++,this.uiLastIndex++,i&&(this.updateUI(n,t,i),this.listViewInstance.isWindow?window.scrollTo(0,pageYOffset+this.listItemHeight):this.listViewInstance.element.scrollTop+=this.listItemHeight)}this.totalHeight+=this.listItemHeight,this.listDiff=parseFloat(this.topElement.style.height)/this.listItemHeight},t.prototype.removeUiItem=function(t){this.totalHeight-=this.listItemHeight;var e=this.listViewInstance.curViewDS[t],n=this.listViewInstance.getLiFromObjOrElement(e);if(this.listViewInstance.curViewDS.splice(t,1),this.activeIndex&&this.activeIndex>=t&&this.activeIndex--,n)if(this.domItemCount>Object.keys(this.listViewInstance.curViewDS).length)D(n),this.domItemCount--,this.uiLastIndex--,this.totalHeight=0;else{if(n.classList.contains(wl.disable)&&(n.classList.remove(wl.disable),this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(t),1)),"none"===n.style.display&&(n.style.display="",this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(t),1)),this.listViewInstance.showCheckBox&&n.classList.contains(wl.selected)){this.listViewInstance.removeSelect(),this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(t),1);var i=n.querySelector("."+wl.checkboxWrapper);i.removeAttribute("aria-checked"),i.firstElementChild.classList.remove(wl.checked),n.classList.contains(wl.focused)&&(n.classList.remove(wl.focused),this.activeIndex=void 0)}else n.classList.contains(wl.selected)&&(this.listViewInstance.removeSelect(),this.activeIndex=void 0);parseFloat(this.bottomElement.style.height)||parseFloat(this.topElement.style.height)?parseFloat(this.bottomElement.style.height)?(this.bottomElement.style.height=parseFloat(this.bottomElement.style.height)-this.listItemHeight+"px",this.updateUI(n,this.uiLastIndex,this.bottomElement)):(this.topElement.style.height=parseFloat(this.topElement.style.height)-this.listItemHeight+"px",this.updateUI(n,this.uiFirstIndex-1,this.topElement.nextSibling),this.uiLastIndex--,this.uiFirstIndex--):this.updateUI(n,this.uiLastIndex,this.bottomElement)}this.changeUiIndices(t,!1),this.listDiff=parseFloat(this.topElement.style.height)/this.listItemHeight},t.prototype.changeUiIndices=function(t,e){var n=this;Object.keys(this.uiIndices).forEach(function(i){n.uiIndices[i]=n.uiIndices[i].map(function(n){return n>=t?e?++n:--n:n})})},t.prototype.addItem=function(t,e){var n=this;t.forEach(function(t){if(n.listViewInstance.dataSource.push(t),n.listViewInstance.setViewDataSource(n.listViewInstance.dataSource),n.domItemCount)if(n.domItemCount<n.expectedDomItemCount)n.wireScrollEvent(!0),D(n.listViewInstance.contentContainer),n.uiVirtualization();else{var e=n.listViewInstance.curViewDS.indexOf(t);n.addUiItem(e);var i=n.listViewInstance.curViewDS[e-1];i&&i.isHeader&&1===i.items.length&&n.addUiItem(e-1)}else n.uiVirtualization()})},t.prototype.createUIItem=function(t){var e=this.listViewInstance.createElement("div"),n='<div class="e-text-content" role="presentation"> <span class="e-list-text"> ${'+this.listViewInstance.fields.text+"} </span></div>";e.innerHTML=this.listViewInstance.template||n;var i=e.getElementsByTagName("*"),r=this.listViewInstance.createElement("div");this.listViewInstance.fields.groupBy&&(r.innerHTML=this.listViewInstance.groupTemplate||n);var o=r.getElementsByTagName("*");t.curData.isHeader&&(this.headerData=t.curData),this.templateData=t.curData.isHeader?t.curData.items[0]:t.curData,t.item.innerHTML="",t.item.context={data:t.curData,nodes:{flatTemplateNodes:[],groupTemplateNodes:[]}};for(var s=0;s<i.length;s++)this.compileTemplate(i[s],t.item,!1);for(var s=0;s<o.length;s++)this.compileTemplate(o[s],t.item,!0);t.item.context.template=t.curData.isHeader?e.firstElementChild:r.firstElementChild,t.item.context.type=t.curData.isHeader?"flatList":"groupList";var a=t.curData.isHeader?r:e;t.item.insertBefore(a.firstElementChild,null)},t.prototype.compileTemplate=function(t,e,n){this.textProperty(t,e,n),this.classProperty(t,e,n),this.attributeProperty(t,e,n)},t.prototype.onChange=function(t,e){e.context.data=t;var n=e.context.nodes.groupTemplateNodes,i=e.context.nodes.flatTemplateNodes;if(!h(t.isHeader)&&t.isHeader&&"groupList"===e.context.type){var r=e.firstElementChild;D(e.firstElementChild),e.insertBefore(e.context.template,null),e.context.template=r,e.context.type="flatList",n.forEach(function(e){return e.onChange(t)})}else if(t.isHeader||"flatList"!==e.context.type)t.isHeader?n.forEach(function(e){return e.onChange(t)}):i.forEach(function(e){return e.onChange(t)});else{var r=e.firstElementChild;D(e.firstElementChild),e.insertBefore(e.context.template,null),e.context.template=r,e.context.type="groupList",i.forEach(function(e){return e.onChange(t)})}},t.prototype.updateContextData=function(t,e,n){n?t.context.nodes.groupTemplateNodes.push(e):t.context.nodes.flatTemplateNodes.push(e)},t.prototype.classProperty=function(t,e,n){for(var i,r=this,o=new RegExp("\\${([^}]*)}","g"),s=[];null!==i;){var a=o.exec(t.className);s.push(a),i=a,null===i&&s.pop()}s&&s.length&&s.forEach(function(i){var o;o=-1!==i[1].indexOf("?")&&-1!==i[1].indexOf(":")?new Function("data","return "+i[1].replace(/\$/g,"data.")):new Function("data","return data."+i[1]);var s={};s.bindedvalue=o(n?r.headerData:r.templateData),s.onChange=function(e){s.bindedvalue&&E([t],s.bindedvalue.split(" ").filter(function(t){return t}));var n=o(e);n&&C([t],n.split(" ").filter(function(t){return t})),s.bindedvalue=n},i[0].split(" ").forEach(function(e){t.classList.remove(e)}),s.bindedvalue&&C([t],s.bindedvalue.split(" ").filter(function(t){return t})),r.updateContextData(e,s,n)})},t.prototype.attributeProperty=function(t,e,n){for(var i=this,r=[],o=0;o<t.attributes.length;o++)r.push(t.attributes[o].nodeName);-1!==r.indexOf("class")&&r.splice(r.indexOf("class"),1),r.forEach(function(r){var o,s,a=new RegExp("\\${([^}]*)}","g").exec(r)||[],l=new RegExp("\\${([^}]*)}","g").exec(t.getAttribute(r))||[];if(a.length||l.length){a[1]&&(o=new Function("data","return data."+a[1])),l[1]&&(s=-1!==l[1].indexOf("?")&&-1!==l[1].indexOf(":")?new Function("data","return "+l[1].replace(/\$/g,"data.")):new Function("data","return data."+l[1]));var u={};u.bindedvalue=n?[void 0===a[1]?void 0:o(i.headerData),void 0===l[1]?void 0:s(i.headerData)]:[void 0===a[1]?void 0:o(i.templateData),void 0===l[1]?void 0:s(i.templateData)],u.attrName=void 0===u.bindedvalue[0]?r:u.bindedvalue[0],u.onChange=function(e){var n=void 0===u.bindedvalue[1]?t.getAttribute(u.attrName):s(e);t.removeAttribute(u.attrName),u.attrName=void 0===u.bindedvalue[0]?u.attrName:o(e),t.setAttribute(u.attrName,n),u.bindedvalue=[void 0===u.bindedvalue[0]?void 0:o(e),void 0===u.bindedvalue[1]?void 0:s(e)]};var c=void 0===u.bindedvalue[1]?t.getAttribute(r):u.bindedvalue[1];t.removeAttribute(r),t.setAttribute(u.attrName,c),i.updateContextData(e,u,n)}})},t.prototype.textProperty=function(t,e,n){for(var i,r=this,o=new RegExp("\\${([^}]*)}","g"),s=[];null!==i;){var a=o.exec(t.innerText);s.push(a),i=a,null===i&&s.pop()}var l=Array.prototype.some.call(t.children,function(t){return!!new RegExp("\\${([^}]*)}","g").exec(t.innerText)});s&&s.length&&!l&&s.forEach(function(i){var o,s={};o=-1!==i[1].indexOf("?")&&-1!==i[1].indexOf(":")?new Function("data","return "+i[1].replace(/\$/g,"data.")):new Function("data","return data."+i[1]),s.bindedvalue=o(n?r.headerData:r.templateData),s.onChange=function(e){t.innerText=t.innerText.replace(s.bindedvalue,o(e)),s.bindedvalue=o(e)},t.innerText=t.innerText.replace(i[0],s.bindedvalue),r.updateContextData(e,s,n)})},t.prototype.reRenderUiVirtualization=function(){this.wireScrollEvent(!0),this.listViewInstance.contentContainer&&D(this.listViewInstance.contentContainer),this.listViewInstance.preRender(),this.listViewInstance.localData=this.listViewInstance.dataSource,this.listViewInstance.renderList()},t.prototype.updateUI=function(t,e,n){var i=this.isNgTemplate()?this.onNgChange:this.onChange;if(this.listViewInstance.template||this.listViewInstance.groupTemplate){var r=this.listViewInstance.curViewDS[e];t.dataset.uid=r[this.listViewInstance.fields.id]?r[this.listViewInstance.fields.id].toString():ea.generateId(),i(r,t)}else this.updateUiContent(t,e);this.changeElementAttributes(t,e),n&&this.listViewInstance.ulElement.insertBefore(t,n)},t.prototype.onNgChange=function(t,e){e.context.$implicit=t},t.prototype.getModuleName=function(){return"virtualization"},t.prototype.destroy=function(){this.wireScrollEvent(!0)}}(),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),El=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},xl=(function(t){function e(e,n){var i=t.call(this,n,e)||this;return i.getHelper=function(t){var e=i.getSortableElement(t.sender.target);if(!i.isValidTarget(e,i))return!1;var n;return i.helper?n=i.helper({sender:e,element:t.element}):(n=e.cloneNode(!0),n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"),C([n],["e-sortableclone"]),i.element.appendChild(n),n},i.onDrag=function(t){i.trigger("drag",{event:t.event,element:i.element,target:t.target});var e=i.getSortableInstance(t.target),n=i.getSortableElement(t.target,e);if(i.isValidTarget(n,e)&&i.curTarget!==n&&(!e.placeHolderElement||e.placeHolderElement!==t.target)){i.curTarget=n;var r=i.getIndex(e.placeHolderElement,e),o=h(r);r=o?i.getIndex(i.target):i.getIndex(n,e)<r||!r?r:r-1,e.placeHolderElement=i.getPlaceHolder(n,e);var s=i.getIndex(n,e),a=e.element!==i.element&&o?s:r<s?s+1:s;if(e.placeHolderElement){var l=e.element.childElementCount;e.element===i.element||a!==l-1&&a!==l||!o&&a!==l?e.element.insertBefore(e.placeHolderElement,e.element.children[a]):e.element.appendChild(e.placeHolderElement),i.refreshDisabled(r,s,e)}else i.updateItemClass(e),e.element.insertBefore(i.target,e.element.children[a]),i.refreshDisabled(r,s,e),i.curTarget=i.target,i.trigger("drop",{event:t.event,element:e.element,previousIndex:r,currentIndex:s,target:t.target,helper:e.element.lastChild,droppedElement:i.target,scope:i.scope})}if(e.element===t.target&&(i.isPlaceHolderPresent(e)||(e.placeHolderElement=i.getPlaceHolder(n,e)),e.placeHolderElement&&e.element.appendChild(e.placeHolderElement)),e=i.getSortableInstance(i.curTarget),h(n)&&e.element!==t.target&&t.target!==e.placeHolderElement)i.isPlaceHolderPresent(e)&&i.removePlaceHolder(e);else{var u,c=[].slice.call(document.getElementsByClassName("e-sortable-placeholder"));c.forEach(function(t){u=i.getSortableInstance(t),u.element&&u!==e&&i.removePlaceHolder(u)})}},i.onDragStart=function(t){i.element.style.touchAction="none",i.target=i.getSortableElement(t.target),i.target.classList.add("e-grabbed"),i.curTarget=i.target,i.trigger("dragStart",{event:t.event,element:i.element,target:i.target})},i.onDragStop=function(t){var e,n=i.getSortableInstance(i.curTarget);if(i.isPlaceHolderPresent(n)){e=i.getIndex(i.target),i.updateItemClass(n),n.element.insertBefore(i.target,n.placeHolderElement);var r=i.getIndex(i.target,n);e=i===n&&e-r>1?e-1:e,i.trigger("drop",{event:t.event,element:n.element,previousIndex:e,currentIndex:r,target:t.target,helper:t.helper,droppedElement:i.target,scopeName:i.scope}),P(n.placeHolderElement)}var o=i.getSortableInstance(t.target);o.element===t.target&&o!==n&&i.isPlaceHolderPresent(o)&&(e=i.getIndex(i.target),i.updateItemClass(o),o.element.appendChild(i.target),P(o.placeHolderElement),i.trigger("drop",{event:t.event,element:o.element,previousIndex:e,currentIndex:o.element.childElementCount,target:t.target,helper:t.helper,droppedElement:i.target,scopeName:i.scope})),i.element.style.touchAction="",i.target.classList.remove("e-grabbed"),i.target=null,i.curTarget=null,P(t.helper)},i.bind(),i}Cl(e,t),n=e,e.prototype.bind=function(){this.element.id||(this.element.id=d("sortable")),this.itemClass||(this.itemClass="e-sort-item",this.dataBind()),this.initializeDraggable()},e.prototype.initializeDraggable=function(){new or(this.element,{helper:this.getHelper,dragStart:this.onDragStart,drag:this.onDrag,dragStop:this.onDragStop,dragTarget:"."+this.itemClass,enableTapHold:!0,tapHoldThreshold:200,queryPositionInfo:this.queryPositionInfo})},e.prototype.getPlaceHolder=function(t,e){return e.placeHolder?(this.isPlaceHolderPresent(e)&&P(e.placeHolderElement),e.placeHolderElement=e.placeHolder({element:e.element,grabbedElement:this.target,target:t}),e.placeHolderElement.classList.add("e-sortable-placeholder"),e.placeHolderElement):null},e.prototype.isValidTarget=function(t,e){return t&&m(t,e.element)&&t.classList.contains(e.itemClass)&&!t.classList.contains("e-disabled")},e.prototype.removePlaceHolder=function(t){P(t.placeHolderElement),t.placeHolderElement=null},e.prototype.updateItemClass=function(t){this!==t&&(this.target.classList.remove(this.itemClass),this.target.classList.add(t.itemClass))},e.prototype.getSortableInstance=function(t){if(t=N(t,".e-"+this.getModuleName())){var e=F(t,n);return e.scope&&this.scope&&e.scope===this.scope?e:this}return this},e.prototype.refreshDisabled=function(t,e,n){if(n===this)for(var i=void 0,r=t<e,o=void 0,s=r?t:e,a=r?e:t;s<=a;)i=this.element.children[s],i.classList.contains("e-disabled")?(o=this.getIndex(i),this.element.insertBefore(i,this.element.children[r?o+2:o-1]),s=r?o+2:o+1):s++},e.prototype.getIndex=function(t,e){void 0===e&&(e=this);var n;return[].slice.call(e.element.children).forEach(function(e,i){e===t&&(n=i)}),n},e.prototype.getSortableElement=function(t,e){return void 0===e&&(e=this),N(t,"."+e.itemClass)},e.prototype.queryPositionInfo=function(t){return t.left=pageXOffset?parseFloat(t.left)-pageXOffset+"px":t.left,t.top=pageYOffset?parseFloat(t.top)-pageYOffset+"px":t.top,t},e.prototype.isPlaceHolderPresent=function(t){return t.placeHolderElement&&!!N(t.placeHolderElement,"#"+t.element.id)},e.prototype.moveTo=function(t,e,n){Yn(this.element,t,e,n)},e.prototype.destroy=function(){"e-sort-item"===this.itemClass&&(this.itemClass=null,this.dataBind()),F(this.element,or).destroy(),t.prototype.destroy.call(this)},e.prototype.getModuleName=function(){return"sortable"},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"itemClass":[].slice.call(this.element.children).forEach(function(n){n.classList.contains(e.itemClass)&&n.classList.remove(e.itemClass),t.itemClass&&n.classList.add(t.itemClass)})}}};var n;El([G(!1)],e.prototype,"enableAnimation",void 0),El([G(null)],e.prototype,"itemClass",void 0),El([G(null)],e.prototype,"scope",void 0),El([G()],e.prototype,"helper",void 0),El([G()],e.prototype,"placeHolder",void 0),El([Q()],e.prototype,"drag",void 0),El([Q()],e.prototype,"dragStart",void 0),El([Q()],e.prototype,"drop",void 0),e=n=El([Z],e)}(ri),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Sl=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Tl="e-left-calendar",kl="e-right-calendar",Ml="e-start-date",Dl="e-end-date",Pl="e-range-hover",Al="e-calendar",Ol="e-focused-date",Il="e-day-span",Nl="e-date-disabled",Ll="e-icon-disabled",Vl=fl.li,Rl="e-hover",Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xl(e,t),Sl([G()],e.prototype,"label",void 0),Sl([G()],e.prototype,"start",void 0),Sl([G()],e.prototype,"end",void 0),e}(_i),Hl=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isCustomRange=!1,i.isCustomWindow=!1,i.presetsItem=[],i.liCollections=[],i.previousEleValue="",i.isKeyPopup=!1,i.dateDisabled=!1,i.isRangeIconClicked=!1,i.isMaxDaysClicked=!1,i.disabledDays=[],i.preventBlur=!1,i.preventFocus=!1,i.invalidValueString=null,i}return xl(e,t),e.prototype.render=function(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue()},e.prototype.preRender=function(){if(this.presetKeyConfig={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",tab:"tab",spacebar:"space"},this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultConstant={placeholder:"",startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),E([this.cloneElement],["e-daterangepicker","e-control","e-lib"]),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=d("ej2-datetimepicker"),null!==this.angularTag&&A(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){var e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),t.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=N(this.element,"form")},e.prototype.updateValue=function(){this.formatString;this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):h(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())},e.prototype.initProperty=function(){this.globalize=new Ki(this.locale),this.checkFormat(),this.checkView(),(h(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()},e.prototype.checkFormat=function(){if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||h(this.format.skeleton))this.formatString=null;else{var t=this.format.skeleton;this.formatString=this.globalize.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null},e.prototype.initialize=function(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(),u(this.keyConfigs,{shiftTab:"shift+tab"});var t=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:t},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new pr("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.setRangeAllowEdit(),this.bindEvents()},e.prototype.setRangeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):A(this.inputElement,{readonly:""}),this.updateClearIconState()},e.prototype.updateClearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&E([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?E([this.inputWrapper.container],["e-non-edit"]):C([this.inputWrapper.container],["e-non-edit"])},e.prototype.validationAttribute=function(t,e){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");e.setAttribute("name",n),t.removeAttribute("name");for(var i=["required","aria-required","form"],r=0;r<i.length;r++)if(!h(t.getAttribute(i[r]))){var o=t.getAttribute(i[r]);e.setAttribute(i[r],o),t.removeAttribute(i[r])}},e.prototype.processPresets=function(){this.presetsItem=[];var t=0;if(!p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(var e=0,n=this.presets;e<n.length;e++){var i=n[e],r=i.label.replace(/\s+/g,"")+"_"+ ++t;"string"==typeof i.end?this.presetsItem.push({id:r,text:i.label,end:new Date(this.checkValue(i.end)),start:new Date(this.checkValue(i.start))}):this.presetsItem.push({id:r,text:i.label,start:i.start,end:i.end})}var o=h(this.startValue)?null:new Date(+this.startValue),s=h(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:o,end:s}),h(this.startValue)||h(this.endValue)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},e.prototype.bindEvents=function(){this.enabled?(ti.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),ti.add(this.inputElement,"focus",this.inputFocusHandler,this),ti.add(this.inputElement,"blur",this.inputBlurHandler,this),ti.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&ti.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.inputKeyboardModule=new hr(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&ti.add(this.formElement,"reset",this.formResetHandler,this),this.inputElement.setAttribute("tabindex",this.tabIndex)):(ti.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),ti.remove(this.inputElement,"blur",this.inputBlurHandler),ti.remove(this.inputElement,"focus",this.inputFocusHandler),ti.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&ti.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||h(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1)},e.prototype.updateHiddenInput=function(){if(this.firstHiddenChild&&this.secondHiddenChild){var t={type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,t)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,t)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,t)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,t)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}},e.prototype.inputChangeHandler=function(t){t.stopPropagation(),this.updateHiddenInput()},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&ti.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},e.prototype.resetHandler=function(t){this.valueType=this.value,t.preventDefault(),this.clear(),this.changeTrigger(t),this.clearRange(),this.hide(t)},e.prototype.restoreValue=function(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()},e.prototype.formResetHandler=function(t){if(this.formElement&&t.target===this.formElement&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");h(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(h(this.value)||h(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),e="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(rs.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}},e.prototype.clear=function(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),h(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()},e.prototype.rangeIconHandler=function(t){this.isMobile&&this.element.setAttribute("readonly",""),t.preventDefault(),this.targetElement=null,this.isPopupOpen()?this.applyFunction(t):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,t),this.isMobile||h(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),C([this.inputWrapper.container],["e-input-focus"]))},e.prototype.checkHtmlAttributes=function(){this.globalize=new Ki(this.locale);var t;t=["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type"];for(var e={format:this.formatString,type:"date",skeleton:"yMd"},n=0,i=t;n<i.length;n++){var r=i[n];if(!h(this.inputElement.getAttribute(r)))switch(r){case"disabled":var o="disabled"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r);this.setProperties({enabled:!o},!0);break;case"readonly":var a="readonly"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r);this.setProperties({readonly:a},!0);break;case"placeholder":(h(this.placeholder)||""===this.placeholder.trim())&&this.setProperties({placeholder:this.inputElement.getAttribute(r)},!0);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(r));break;case"min":if(h(this.min)||+this.min==+new Date(1900,0,1)){var l=this.globalize.parseDate(this.inputElement.getAttribute(r),e);this.setProperties(s(r,l,{}),!0)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(r));break;case"max":if(h(this.max)||+this.max==+new Date(2099,11,31)){var l=this.globalize.parseDate(this.inputElement.getAttribute(r),e);this.setProperties(s(r,l,{}),!0)}break;case"startDate":if(h(this.startDate)){var l=this.globalize.parseDate(this.inputElement.getAttribute(r),e);this.startValue=l,this.setValue()}break;case"endDate":if(h(this.endDate)){var l=this.globalize.parseDate(this.inputElement.getAttribute(r),e);this.endValue=l,this.setValue()}break;case"minDays":h(this.minDays)&&this.setProperties(s(r,parseInt(this.inputElement.getAttribute(r),10),{}),!0);break;case"maxDays":h(this.maxDays)&&this.setProperties(s(r,parseInt(this.inputElement.getAttribute(r),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(r)&&this.inputElement.setAttribute("type","text")}}},e.prototype.createPopup=function(){for(var t=0;t<this.presetsItem.length;t++)t!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[t].id&&this.presetsItem.splice(t,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(var t=0;t<=this.presetsItem.length-2;t++){var e=this.presetsItem[t].start,n=this.presetsItem[t].end;this.startValue&&this.endValue&&+e.setMilliseconds(0)==+this.startValue.setMilliseconds(0)&&+n.setMilliseconds(0)==+this.endValue.setMilliseconds(0)&&(this.activeIndex=t,this.isCustomRange=!1)}this.popupWrapper=_("div",{id:this.element.id+"_popup",className:"e-daterangepicker e-popup"});var i=!this.isCustomRange||this.isMobile;!p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&i?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},e.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),h(this.endValue)||h(this.startValue)||this.disabledDateRender(),this.updateHeader()},e.prototype.clearCalendarEvents=function(){ti.clearEvents(this.leftCalPrevIcon),ti.clearEvents(this.leftCalNextIcon),ti.clearEvents(this.rightCalPrevIcon),ti.clearEvents(this.rightCalNextIcon)},e.prototype.updateNavIcons=function(){if(this.isPopupOpen()&&this.depth===this.currentView()){var t=new Date(this.checkValue(this.leftCalCurrentDate)),e=!1;"Year"===this.currentView()?e=this.compareYears(t,this.rightCalCurrentDate)<1:"Decade"===this.currentView()?e=this.compareDecades(t,this.rightCalCurrentDate)<1:"Month"===this.currentView()&&(e=this.compareMonths(t,this.rightCalCurrentDate)<1),this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.leftCalNextIcon,this.nextIconHandler(e),this.previousIconHandler(e)}},e.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains("e-disabled")&&ti.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains("e-disabled")&&ti.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains("e-disabled")&&ti.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains("e-disabled")&&ti.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)},e.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),ti.add(this.startButton.element,"click",this.deviceHeaderClick,this),ti.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector(".e-right-calendar .e-header .e-title"),this.headerTitleElement=this.popupObj.element.querySelector(".e-left-calendar .e-header .e-title"),this.leftKeyboardModule=new hr(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs}),this.rightKeyboardModule=new hr(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},e.prototype.calendarIconRipple=function(){tt(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),tt(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),tt(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),tt(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},e.prototype.deviceCalendarEvent=function(){ti.clearEvents(this.nextIcon),ti.clearEvents(this.previousIcon),tt(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),tt(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains("e-disabled")&&ti.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains("e-disabled")&&ti.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},e.prototype.deviceNavNext=function(t){var e=N(t.target,"."+Al);this.updateDeviceCalendar(e),this.navigateNext(t),this.deviceNavigation()},e.prototype.deviceNavPrevious=function(t){var e=N(t.target,"."+Al);this.updateDeviceCalendar(e),this.navigatePrevious(t),this.deviceNavigation()},e.prototype.updateDeviceCalendar=function(t){t&&(this.previousIcon=t.querySelector(".e-prev"),this.nextIcon=t.querySelector(".e-next"),this.calendarElement=t,this.deviceCalendar=t,this.contentElement=t.querySelector(".e-content"),this.tableBodyElement=O(".e-content tbody",t),this.table=t.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=t.querySelector(".e-header .e-title"),this.headerElement=t.querySelector(".e-header"))},e.prototype.deviceHeaderClick=function(t){if(t.currentTarget.classList.contains("e-start-btn")&&!h(this.startValue)){this.endButton.element.classList.remove("e-active"),this.startButton.element.classList.add("e-active");var e=this.popupObj.element.querySelector("."+Al);this.updateDeviceCalendar(e),h(this.calendarElement.querySelector(".e-start-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),P(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else if(!h(this.startValue)&&!h(this.endValue)){this.startButton.element.classList.remove("e-active"),this.endButton.element.classList.add("e-active");var e=this.popupObj.element.querySelector("."+Al);this.updateDeviceCalendar(e),h(this.calendarElement.querySelector(".e-end-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),P(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+Al)),this.selectableDates()}},e.prototype.inputFocusHandler=function(){this.preventBlur=!1;var t={model:this};this.preventFocus||(this.preventFocus=!0,this.trigger("focus",t)),this.updateClearIconState(),this.updateHiddenInput()},e.prototype.inputBlurHandler=function(t){if(!this.preventBlur){var e=this.inputElement.value;if(h(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!h(e)&&""!==e.trim()){var n=e.split(" "+this.separator+" ");if(n.length>1){this.invalidValueString=null;var i={format:this.formatString,type:"date",skeleton:"yMd"},r=this.globalize.parseDate(n[0].trim(),i),o=this.globalize.parseDate(n[1].trim(),i);if(!(h(r)||isNaN(+r)||h(o)||isNaN(+o))){if(this.startValue=r,this.endValue=o,this.setValue(),this.refreshControl(),this.changeTrigger(t),!this.preventBlur&&document.activeElement!==this.inputElement){this.preventFocus=!1;var s={model:this};this.trigger("blur",s)}return void this.updateHiddenInput()}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}if(this.strictMode?(rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(this.clearRange(),this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(t),!this.preventBlur&&document.activeElement!==this.inputElement){this.preventFocus=!1;var s={model:this};this.trigger("blur",s)}}this.updateHiddenInput()},e.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null},e.prototype.errorClass=function(){var t=this.inputElement.value.trim();(h(this.endValue)&&h(this.startValue)&&""!==t||!h(this.startValue)&&+this.startValue<+this.min||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue||!h(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==t?(C([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(E([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":"false"}))},e.prototype.keyCalendarUpdate=function(t,e){return this.removeFocusedDate(),t?(this.leftCalCurrentDate=new Date(+this.currentDate),e=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),e=this.rightCalendar),this.updateCalendarElement(e),this.table.focus(),e},e.prototype.navInCalendar=function(t,e,n,i,r){var o,s,a=this.getViewNumber(this.currentView()),l=this.min;switch(s=h(this.maxDays)||!this.isMaxDaysClicked||h(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),t.action){case"moveRight":o=new Date(+this.currentDate),this.addDay(o,1,t,s,l),e&&+o==+i&&(r=this.keyCalendarUpdate(!1,r)),this.KeyboardNavigate(1,a,t,s,l),this.keyNavigation(r,t);break;case"moveLeft":o=new Date(+this.currentDate),this.addDay(o,-1,t,s,l),e||+o==+n&&(r=this.keyCalendarUpdate(!0,r)),this.KeyboardNavigate(-1,a,t,s,l),this.keyNavigation(r,t);break;case"moveUp":0===a?(o=new Date(+this.currentDate),this.addDay(o,-7,t,s,l),+o<=+n&&!e&&(r=this.keyCalendarUpdate(!0,r)),this.KeyboardNavigate(-7,a,t,s,l)):this.KeyboardNavigate(-4,a,t,this.max,this.min),this.keyNavigation(r,t);break;case"moveDown":0===a?(o=new Date(+this.currentDate),this.addDay(o,7,t,s,l),e&&+o>=+i&&(r=this.keyCalendarUpdate(!1,r)),this.KeyboardNavigate(7,a,t,s,l)):this.KeyboardNavigate(4,a,t,this.max,this.min),this.keyNavigation(r,t);break;case"home":this.currentDate=this.firstDay(this.currentDate),P(this.tableBodyElement),0===a?this.renderMonths(t):1===a?this.renderYears(t):this.renderDecades(t),this.keyNavigation(r,t);break;case"end":this.currentDate=this.lastDay(this.currentDate,a),P(this.tableBodyElement),0===a?this.renderMonths(t):1===a?this.renderYears(t):this.renderDecades(t),this.keyNavigation(r,t)}},e.prototype.keyInputHandler=function(e,n){var i,r=this.getViewNumber(this.currentView()),o=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),s=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),a=N(e.target,"."+kl);a=h(a)?this.leftCalendar:a;var l=a.classList.contains(Tl);this.updateCalendarElement(a);var u=this.tableBodyElement.querySelector("tr td.e-selected"),c=a.querySelector("tr td."+Ol),p=a.querySelector("tr td."+Ml),d=a.querySelector("tr td."+Dl),f=this.getViewNumber(this.depth),m=r===f&&this.getViewNumber(this.start)>=f,v=N(e.target,"."+Tl),y=N(e.target,"."+kl),g=N(e.target,".e-presets");switch(h(c)?h(d)||this.dateDisabled?h(p)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),C([this.inputWrapper.container],["e-input-focus"]));break;case"select":if(m){var b=h(c)?p:c;h(b)||b.classList.contains("e-disabled")||this.selectRange(null,b)}else(h(u)||m)&&h(c)||(h(this.value)||(n=this.calendarElement.classList.contains(Tl)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--r,c||u,n));e.preventDefault();break;case"controlHome":var w=new Date(this.currentDate.getFullYear(),0,1);!l&&+w<+s&&(a=this.keyCalendarUpdate(!0,a)),t.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(a,e);break;case"altRightArrow":h(v)?h(y)?h(g)||this.cancelButton.element.focus():h(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":h(v)?h(y)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(Tl),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":h(u)&&h(c)||m||(h(this.value)||(n=this.calendarElement.classList.contains(Tl)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--r,u||c,n)),e.preventDefault();break;case"controlEnd":w=new Date(this.currentDate.getFullYear(),11,31),l&&+w>+o&&(a=this.keyCalendarUpdate(!1,a)),t.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(a,e);break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!l&&+i<=+s&&(a=this.keyCalendarUpdate(!0,a)),this.addMonths(this.currentDate,-1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),l&&+i>=+o&&(a=this.keyCalendarUpdate(!1,a)),this.addMonths(this.currentDate,1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!l&&+i<=+s&&(a=this.keyCalendarUpdate(!0,a)),this.addYears(this.currentDate,-1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),l&&+i>=+o&&(a=this.keyCalendarUpdate(!1,a)),this.addYears(this.currentDate,1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftTab":h(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;default:this.navInCalendar(e,l,s,o,a),this.checkMinMaxDays()}this.presetHeight()},e.prototype.keyNavigation=function(t,e){this.bindCalendarCellEvents(t),t.classList.contains(Tl)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([t]),this.dateDisabled=this.isDateDisabled(this.currentDate),e.preventDefault()},e.prototype.inputHandler=function(t){switch(t.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(t),this.clearRange()),this.show(null,t),this.isRangeIconClicked=!1,this.isMobile||h(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(t);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(t),this.hide(t));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(t),t.preventDefault())}},e.prototype.bindCalendarCellEvents=function(t){var e;e=t?t.querySelectorAll(".e-calendar td"):this.popupObj.element.querySelectorAll(".e-calendar td");for(var n=0,i=e;n<i.length;n++){var r=i[n];ti.clearEvents(r);var o=void 0;o=r.classList.contains("e-disabled")||r.classList.contains(Nl),o||r.classList.contains("e-week-number")||(this.isMobile||ti.add(r,"mouseover",this.hoverSelection,this),ti.add(r,"mousedown",this.selectRange,this))}},e.prototype.removeFocusedDate=function(){var t,e=!h(this.startValue)||!h(this.endValue);t=this.popupObj.element.querySelectorAll(".e-calendar ."+Ol);for(var n=0,i=t;n<i.length;n++){var r=i[n],o=new Date,s=this.getIdValue(null,r);("Month"===this.depth&&"Month"===this.currentView()&&(!r.classList.contains("e-today")||r.classList.contains("e-today")&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(o,s)&&!this.isSameYear(o,s)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(o,s)||e))&&(r.classList.remove(Ol),r.classList.contains(Ml)||r.classList.contains(Dl)||r.removeAttribute("aria-label"))}},e.prototype.hoverSelection=function(t,e){var n=e||t.currentTarget,i=this.getIdValue(null,n);if(!h(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&h(this.endValue)&&h(this.startValue)||!h(this.startValue)&&h(this.endValue))){var r=void 0;r=this.popupObj.element.querySelectorAll(".e-calendar td");for(var o=0,s=r;o<s.length;o++){var a=s[o],l=!a.classList.contains("e-disabled")||a.classList.contains(Nl);if(!a.classList.contains("e-week-number")&&l){var u=this.getIdValue(null,a),c=new Date(+this.startValue);new Date(+u).setHours(0,0,0,0)>=c.setHours(0,0,0,0)&&+u<=+i?C([a],Pl):E([a],[Pl])}}}},e.prototype.isSameStartEnd=function(t,e){var n=!1;return"Month"===this.depth?t.setHours(0,0,0,0)===e.setHours(0,0,0,0)&&(n=!0):"Year"===this.depth?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&(n=!0):"Decade"===this.depth&&t.getFullYear()===e.getFullYear()&&(n=!0),n},e.prototype.updateRange=function(t){if(!h(this.startValue))for(var e=0,n=t;e<n.length;e++)for(var i=n[e],r=i.querySelectorAll(".e-calendar td"),o=0,s=r;o<s.length;o++){var a=s[o];if(!a.classList.contains("e-week-number")&&!a.classList.contains("e-disabled")){var l=this.getIdValue(null,a),u=this.getIdValue(null,a);if(h(this.endValue)?E([a],[Pl]):this.currentView()===this.depth&&+u.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+u.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&C([a],Pl),!a.classList.contains("e-other-month")){var c=new Date(+this.startValue),p=new Date(+l);this.currentView()===this.depth&&+p.setHours(0,0,0,0)==+c.setHours(0,0,0,0)&&+p.setHours(0,0,0,0)>=+c.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(C([a],[Ml,"e-selected"]),this.addSelectedAttributes(a,this.startValue,!0));var d=new Date(+this.endValue);"Year"===this.currentView()?p=new Date(p.getFullYear(),p.getMonth()+1,0):"Decade"===this.currentView()&&(p=new Date(p.getFullYear(),11,31)),this.currentView()===this.depth&&!h(this.endValue)&&+p.setHours(0,0,0,0)==+d.setHours(0,0,0,0)&&+p.setHours(0,0,0,0)<=+d.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(C([a],[Dl,"e-selected"]),this.addSelectedAttributes(a,this.startValue,!1)),+l!=+this.startValue||h(this.endValue)||+l!=+this.endValue||this.addSelectedAttributes(a,this.endValue,!1,!0)}}}},e.prototype.checkMinMaxDays=function(){(!h(this.minDays)&&this.minDays>0||!h(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+Al)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+Tl)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+kl))))},e.prototype.rangeArgs=function(t){var e,n,i=h(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),r=h(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return h(this.endValue)||h(this.startValue)?(e="",n=0):(e=i+" "+this.separator+" "+r,n=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:n,event:t||null,element:this.element,isInteracted:!h(t),text:e}},e.prototype.otherMonthSelect=function(t,e,n){var i=+this.getIdValue(null,t),r='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+i),o=this.popupObj&&this.popupObj.element.querySelector(r);h(o)||(e?(C([o],[Ml,"e-selected"]),this.addSelectedAttributes(o,this.startValue,!0)):(C([o],[Dl,"e-selected"]),this.addSelectedAttributes(o,this.endValue,!0)),n&&this.addSelectedAttributes(t,this.endValue,!1,!0))},e.prototype.selectRange=function(t,e){var n,i;t&&t.preventDefault();var r;r=h(t)?this.getIdValue(null,e):this.getIdValue(t,null);var o=r.getFullYear(),s=r.getMonth(),a=new Date(o,s,1),l=new Date(o,s+1,0),u=new Date(o,0,1),c=new Date(o,11,31);h(this.endValue)||h(this.startValue)?this.isMobile&&this.startButton.element.classList.contains("e-active")&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains("e-active"))&&this.removeSelection();var p=e||t.currentTarget;if(h(this.startValue))h(this.previousStartValue)||(r.setHours(this.previousStartValue.getHours()),r.setMinutes(this.previousStartValue.getMinutes()),r.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?a:u,this.endValue=null,this.setValue(),C([p],Ml),this.addSelectedAttributes(p,this.startValue,!0),p.classList.contains("e-other-month")&&this.otherMonthSelect(p,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add("e-active"),this.startButton.element.classList.remove("e-active"),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(t));else if(+r==+this.startValue||+r>+this.startValue){if(+r==+this.startValue&&!h(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||e)&&this.hoverSelection(t,e),h(this.previousEndValue)||(r.setHours(this.previousEndValue.getHours()),r.setMinutes(this.previousEndValue.getMinutes()),r.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?l:c,this.setValue();var d=this.popupObj.element.querySelectorAll("."+Dl);if(this.isMobile){this.startButton.element.classList.remove("e-active"),this.endButton.element.classList.add("e-active");for(var f=0,m=d;f<m.length;f++){var v=m[f];v.removeAttribute("aria-label"),v.classList.contains(Ml)?(this.addSelectedAttributes(v,this.startValue,!0),E([v],[Dl])):(v.setAttribute("aria-selected","false"),E([v],[Dl,"e-selected"]))}}C([p],Dl),+this.endValue==+this.startValue?this.addSelectedAttributes(p,this.endValue,!1,!0):this.addSelectedAttributes(p,this.endValue,!1),p.classList.contains("e-other-month")&&(+this.endValue==+this.startValue?this.otherMonthSelect(p,!1,!0):this.otherMonthSelect(p,!1)),d=this.popupObj.element.querySelectorAll("."+Dl);for(var y=0,g=d;y<g.length;y++){var b=g[y];b.classList.contains(Ml)&&E([b],[Pl])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(t))}else+r<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?a:u,this.setValue(),this.removeSelectedAttributes(),E(this.popupObj.element.querySelectorAll("."+Ml),[Ml,"e-selected"]),C([p],Ml),this.addSelectedAttributes(p,this.startValue,!0),p.classList.contains("e-other-month")&&this.otherMonthSelect(p,!0),this.checkMinMaxDays());t&&(n=N(t.target,"."+Tl)),h(n)?(t&&(i=t&&N(t.target,"."+kl)),h(i)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),C([p],"e-selected"),this.updateHeader(),this.removeFocusedDate()},e.prototype.selectableDates=function(){if(!h(this.startValue)){var t=this.calendarElement.querySelectorAll(".e-calendar td"),e=!1;if(this.currentView()===this.depth){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!r.classList.contains(Ml)&&!r.classList.contains("e-week-number")&&!r.classList.contains("e-disabled")){if(+this.getIdValue(null,r)<+this.startValue){C([r],[Nl,"e-disabled","e-overlay"]),ti.clearEvents(r);continue}break}if(r.classList.contains(Ml)&&!r.classList.contains("e-other-month")){e=!0;break}}e&&(this.previousIcon.classList.contains("e-disabled")||C([this.previousIcon],[Ll,"e-disabled","e-overlay"]))}else{for(var o=0,s=t;o<s.length;o++){var r=s[o],a=this.startValue.getMonth(),l=this.startValue.getFullYear(),u=this.getIdValue(null,r);if(this.startButton.element.classList.contains("e-active")||!("Year"===this.currentView()&&u.getMonth()<a&&u.getFullYear()<=l||"Decade"===this.currentView()&&u.getMonth()<=a&&u.getFullYear()<l))break;C([r],["e-disabled"])}t[0].classList.contains("e-disabled")?this.previousIconHandler(!0):t[t.length-1].classList.contains("e-disabled")&&this.nextIconHandler(!0)}}},e.prototype.updateMinMaxDays=function(t){if(!h(this.startValue)&&h(this.endValue)||this.isMobile&&this.endButton.element.classList.contains("e-active")){if(!h(this.minDays)&&this.minDays>0||!h(this.maxDays)&&this.maxDays>0){var e=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.minDays-1))),n=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1)));e=!h(this.minDays)&&this.minDays>0?e:null,n=!h(this.maxDays)&&this.maxDays>0?n:null,"Year"===this.currentView()?(e=h(e)?null:new Date(e.getFullYear(),e.getMonth(),0),n=h(n)?null:new Date(n.getFullYear(),n.getMonth(),1)):"Decade"===this.currentView()&&(e=h(e)?null:new Date(e.getFullYear()-1,11,1),n=h(n)?null:new Date(n.getFullYear(),0,1));for(var i=t.querySelectorAll(".e-calendar td"),r=void 0,o=0,s=i;o<s.length;o++){var a=s[o];if(!a.classList.contains(Ml)&&!a.classList.contains("e-week-number")){var l=this.getIdValue(null,a);if(!h(e)&&+l==+e&&a.classList.contains("e-disabled")&&e.setDate(e.getDate()+1),!a.classList.contains("e-disabled")){if(+l<=+this.startValue)continue;!h(e)&&+l<+e&&(C([a],[Nl,"e-disabled","e-overlay"]),ti.clearEvents(a)),!h(n)&&+l>+n&&(C([a],[Nl,"e-disabled","e-overlay"]),this.isMaxDaysClicked=!0,ti.clearEvents(a),h(r)&&!a.classList.contains("e-other-month")&&(r=a))}}}if(!h(r))if(this.isMobile)this.nextIcon.classList.contains("e-disabled")||C([this.nextIcon],[Ll,"e-disabled","e-overlay"]);else{var u=N(r,"."+kl);u=h(u)?this.leftCalendar:u;var c=u.classList.contains(Tl);c?(this.rightCalNextIcon.classList.contains("e-disabled")||C([this.rightCalNextIcon],[Ll,"e-disabled","e-overlay"]),this.leftCalNextIcon.classList.contains("e-disabled")||C([this.leftCalNextIcon],[Ll,"e-disabled","e-overlay"]),this.rightCalPrevIcon.classList.contains("e-disabled")||C([this.rightCalPrevIcon],[Ll,"e-disabled","e-overlay"])):this.rightCalNextIcon.classList.contains("e-disabled")||C([this.rightCalNextIcon],[Ll,"e-disabled","e-overlay"])}}}else this.isMaxDaysClicked=!1},e.prototype.removeClassDisabled=function(){var t;t=this.popupObj.element.querySelectorAll(".e-calendar td."+Nl);for(var e=0,n=t;e<n.length;e++){var i=n[e];i.classList.contains(Nl)&&(E([i],[Nl,"e-disabled","e-overlay"]),ti.add(i,"click",this.selectRange,this),this.isMobile||ti.add(i,"mouseover",this.hoverSelection,this))}this.isMobile?(this.nextIcon.classList.contains(Ll)&&E([this.nextIcon],[Ll,"e-disabled","e-overlay"]),this.previousIcon.classList.contains(Ll)&&E([this.previousIcon],[Ll,"e-disabled","e-overlay"])):(this.rightCalNextIcon.classList.contains(Ll)&&E([this.rightCalNextIcon],[Ll,"e-disabled","e-overlay"]),this.rightCalPrevIcon.classList.contains(Ll)&&E([this.rightCalPrevIcon],[Ll,"e-disabled","e-overlay"]),this.leftCalNextIcon.classList.contains(Ll)&&E([this.leftCalNextIcon],[Ll,"e-disabled","e-overlay"]))},e.prototype.updateHeader=function(){var t={type:"date",skeleton:"yMMMd"};if(h(this.endValue)||h(this.startValue))this.popupObj.element.querySelector("."+Il).textContent=this.l10n.getConstant("selectedDays");else{var e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;h(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+Il).textContent=e.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(h(this.startValue)?this.startButton.element.textContent=this.l10n.getConstant("startLabel"):this.startButton.element.textContent=this.globalize.formatDate(this.startValue,t),h(this.endValue)||h(this.startValue)?this.endButton.element.textContent=this.l10n.getConstant("endLabel"):this.endButton.element.textContent=this.globalize.formatDate(this.endValue,t)):(h(this.endValue)||h(this.startValue)?this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector(".e-end-label").textContent=this.globalize.formatDate(this.endValue,t),h(this.startValue)?this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector(".e-start-label").textContent=this.globalize.formatDate(this.startValue,t)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!h(this.startValue)&&+this.startValue<+this.min||!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+Il).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+Il).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")},e.prototype.removeSelection=function(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll(".e-selected").length>0&&E(this.popupObj.element.querySelectorAll(".e-selected"),[Ml,Dl,"e-selected"]),this.popupObj.element.querySelectorAll("."+Ol).length>0&&E(this.popupObj.element.querySelectorAll("."+Ol),Ol),this.popupObj.element.querySelectorAll("."+Pl).length>0&&E(this.popupObj.element.querySelectorAll("."+Pl),[Pl]))},e.prototype.addSelectedAttributes=function(t,e,n,i){if(t){var r=this.globalize.formatDate(e,{type:"date",skeleton:"full"});!h(i)&&i?t.setAttribute("aria-label","The current start and end date is "+r):t.setAttribute("aria-label","The current "+(n?"start":"end")+" date is "+r),t.setAttribute("aria-selected","true")}},e.prototype.removeSelectedAttributes=function(){if(this.popupObj){for(var t=this.popupObj.element.querySelectorAll("."+Ml),e=0,n=t;e<n.length;e++){var i=n[e];i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}for(var r=this.popupObj.element.querySelectorAll("."+Dl),o=0,s=r;o<s.length;o++){var i=s[o];i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}}},e.prototype.updateCalendarElement=function(t){t.classList.contains(Tl)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=t.querySelector(".e-content"),this.tableBodyElement=O(".e-content tbody",t),this.table=t.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=t.querySelector(".e-header .e-title"),this.headerElement=t.querySelector(".e-header")},e.prototype.navPrevMonth=function(t){t.preventDefault();var e=N(t.target,"."+Tl);e=h(e)?N(t.target,"."+kl):e,this.updateCalendarElement(e),this.navigatePrevious(t),!h(this.startValue)&&h(this.endValue)&&this.updateMinMaxDays(e),this.updateControl(e)},e.prototype.deviceNavigation=function(t){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+Al)]),this.endButton.element.classList.contains("e-active")&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+Al)),this.endButton.element.classList.contains("e-active")&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},e.prototype.updateControl=function(t){t.classList.contains(kl)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([t])},e.prototype.navNextMonth=function(t){t.preventDefault();var e=N(t.target,"."+Tl);e=h(e)?N(t.target,"."+kl):e,this.updateCalendarElement(e),this.navigateNext(t),!h(this.startValue)&&h(this.endValue)&&this.updateMinMaxDays(e),this.updateControl(e)},e.prototype.compareMonths=function(t,e){return t.getFullYear()!==e.getFullYear()||"Year"!==this.currentView()&&"Decade"!==this.currentView()?t.getFullYear()>e.getFullYear()?-1:t.getFullYear()<e.getFullYear()?t.getFullYear()+1===e.getFullYear()&&11===t.getMonth()&&0===e.getMonth()?-1:1:t.getMonth()===e.getMonth()?0:t.getMonth()+1===e.getMonth()?-1:1:-1},e.prototype.compareYears=function(t,e){return t.getFullYear()===e.getFullYear()?-1:t.getFullYear()>e.getFullYear()?-1:t.getFullYear()+1===e.getFullYear()?-1:1},e.prototype.compareDecades=function(t,e){var n;if(t.getFullYear()===e.getFullYear())n=-1;else if(t.getFullYear()>e.getFullYear())n=-1;else{var i=t.getFullYear(),r=e.getFullYear();n=i-i%10+10==r-r%10?-1:1}return n},e.prototype.isPopupOpen=function(){return!(h(this.popupObj)||!this.popupObj.element.classList.contains("e-popup"))},e.prototype.createRangeHeader=function(){var t=this.createElement("div",{className:"e-start-end"});if(this.isMobile){var e=this.createElement("button",{className:"e-end-btn"}),n=this.createElement("button",{className:"e-start-btn"});this.startButton=new _o({content:this.l10n.getConstant("startLabel")},n),this.endButton=new _o({content:this.l10n.getConstant("endLabel")},e),t.appendChild(n),t.appendChild(e)}else{var i=this.createElement("a",{className:"e-start-label"}),r=this.createElement("a",{className:"e-end-label"}),o=this.createElement("span",{className:"e-change-icon e-icons"});A(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),A(r,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),t.appendChild(i),t.appendChild(o),t.appendChild(r),i.textContent=this.l10n.getConstant("startLabel"),r.textContent=this.l10n.getConstant("endLabel")}return t},e.prototype.disableInput=function(){this.strictMode?h(this.previousStartValue)||h(this.previousEndValue)||(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),rs.setEnabled(this.enabled,this.inputElement),this.bindEvents()},e.prototype.validateMinMax=function(){if(this.min=h(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=h(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,!(this.min<=this.max))return void this.disableInput();h(this.minDays)||h(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!h(this.minDays)&&this.minDays<0&&(this.minDays=null),!h(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)},e.prototype.validateRangeStrict=function(){h(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),h(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()},e.prototype.validateRange=function(){this.validateMinMaxDays()},e.prototype.validateMinMaxDays=function(){if(!h(this.startValue)&&!h(this.endValue)){var t=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;if(!h(this.minDays)&&this.minDays>0&&!(t>=this.minDays))if(this.strictMode){var e=new Date(+this.startValue);e.setDate(e.getDate()+(this.minDays-1)),+e>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=e,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();h(this.maxDays)||!(this.maxDays>0)||t<=this.maxDays||(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}},e.prototype.renderCalendar=function(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Al),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),A(this.calendarElement,{role:"calendar"}),t.prototype.createHeader.call(this),t.prototype.createContent.call(this)},e.prototype.isSameMonth=function(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},e.prototype.isSameYear=function(t,e){return t.getFullYear()===e.getFullYear()},e.prototype.isSameDecade=function(t,e){var n=t.getFullYear(),i=e.getFullYear();return n-n%10==i-i%10},e.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},e.prototype.selectNextMonth=function(){if(h(this.endValue)||h(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!h(this.startValue)&&+this.startValue<+this.min||!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);var t=this.currentDate.getMonth()+1;this.currentDate.setMonth(t)}},e.prototype.selectNextYear=function(){if(h(this.endValue)||h(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);var t=this.currentDate.getFullYear()+1;return void this.currentDate.setFullYear(t)}this.currentDate=new Date(+this.endValue),(!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue||!h(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))},e.prototype.selectNextDecade=function(){if(h(this.endValue)||h(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){var t=this.currentDate.getFullYear()+10;return void this.currentDate.setFullYear(t)}this.currentDate=new Date(+this.endValue),(!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue||!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))},e.prototype.selectStartMonth=function(){h(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!h(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?this.currentDate=new Date(+this.startValue):this.currentDate=new Date((new Date).setHours(0,0,0,0)),(!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&+this.startValue<+this.min||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()},e.prototype.createCalendar=function(){var e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){h(this.startValue)||(this.currentDate=new Date(+this.startValue)),t.prototype.validateDate.call(this),t.prototype.minMaxUpdate.call(this),t.prototype.render.call(this);var n=this.calendarElement.querySelector(".e-calendar .e-prev"),i=this.calendarElement.querySelector(".e-calendar .e-next");P(this.calendarElement.querySelector(".e-calendar .e-icon-container")),this.calendarElement.querySelector(".e-calendar .e-header").appendChild(i),this.calendarElement.querySelector(".e-calendar .e-header").appendChild(n),T([n],this.calendarElement.querySelector(".e-calendar .e-header")),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector(".e-calendar .e-header .e-title")}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(Tl),this.leftCalPrevIcon=this.calendarElement.querySelector(".e-left-calendar .e-prev"),this.leftCalNextIcon=this.calendarElement.querySelector(".e-left-calendar .e-next"),this.leftTitle=this.calendarElement.querySelector(".e-left-calendar .e-title"),P(this.calendarElement.querySelector(".e-left-calendar .e-icon-container")),this.calendarElement.querySelector(".e-left-calendar .e-header").appendChild(this.leftCalNextIcon),this.calendarElement.querySelector(".e-left-calendar .e-header").appendChild(this.leftCalPrevIcon),T([this.leftCalPrevIcon],this.calendarElement.querySelector(".e-left-calendar .e-header")),this.leftCalendar=this.calendarElement;var r=this.createElement("div",{className:"e-left-container"}),o=this.createElement("div",{className:"e-right-container"});r.appendChild(this.leftCalendar),e.appendChild(r),this.isMobile||ti.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),C([this.calendarElement],kl),this.rightCalendar=this.calendarElement,E([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),E([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector(".e-right-calendar .e-prev"),this.rightCalNextIcon=this.calendarElement.querySelector(".e-right-calendar .e-next"),this.rightTitle=this.calendarElement.querySelector(".e-right-calendar .e-title"),P(this.calendarElement.querySelector(".e-right-calendar .e-icon-container")),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector(".e-right-calendar .e-header").appendChild(this.rightCalNextIcon),this.calendarElement.querySelector(".e-right-calendar .e-header").appendChild(this.rightCalPrevIcon),T([this.rightCalPrevIcon],this.calendarElement.querySelector(".e-right-calendar .e-header")),o.appendChild(this.rightCalendar),e.appendChild(o),this.isMobile||ti.add(this.rightTitle,"click",this.rightNavTitle,this)}return e},e.prototype.leftNavTitle=function(t){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(t,this.calendarElement))},e.prototype.calendarNavigation=function(e,n){this.table=n.querySelector("table"),this.headerTitleElement=n.querySelector(".e-title"),this.tableBodyElement=n.querySelector("tbody"),this.tableHeadElement=n.querySelector("thead"),this.contentElement=n.querySelector(".e-content"),this.updateCalendarElement(n),t.prototype.navigateTitle.call(this,e),this.updateNavIcons()},e.prototype.rightNavTitle=function(t){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(t,this.calendarElement))},e.prototype.clickEventEmitter=function(t){this.isMobile||(N(t.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},e.prototype.currentView=function(){return t.prototype.currentView.call(this)},e.prototype.getCalendarView=function(t){return"Year"===t?"Year":"Decade"===t?"Decade":"Month"},e.prototype.navigatedEvent=function(e){if(this.trigger("navigated",this.navigatedArgs),!h(this.popupObj)){var n=this.getCalendarView(this.currentView());if(this.isMobile)n===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates();else if(this.isMobile||n!==this.depth)this.updateNavIcons(),this.calendarIconEvent();else{if((this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar)!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&h(this.controlDown)){if(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!h(this.controlDown)){if(this.rightCalCurrentDate=new Date(+this.currentDate),"Year"===n){var i=this.currentDate.getFullYear()-1;this.leftCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(i))}else if("Decade"===n){var r=this.currentDate.getFullYear()-10;this.leftCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(r))}else this.leftCalCurrentDate=new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth()-1));this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&h(this.endValue)?"Month"===n&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()?t.prototype.navigateTo.call(this,n,new Date(+this.startValue)):"Year"===n&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear()?t.prototype.navigateTo.call(this,n,new Date(+this.startValue)):t.prototype.navigateTo.call(this,n,this.leftCalCurrentDate):t.prototype.navigateTo.call(this,n,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null}}else{if(this.leftCalCurrentDate=new Date(+this.currentDate),"Year"===n){var o=this.currentDate.getFullYear()+1;this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(o))}else if("Decade"===n){var s=this.currentDate.getFullYear()+10;this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(s))}else this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth()+1));this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),t.prototype.navigateTo.call(this,n,this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null}this.checkMinMaxDays()}}},e.prototype.createControl=function(){var t=this.createElement("div",{className:"e-date-range-container"}),e=this.createElement("div",{className:"e-range-header"}),n=this.createRangeHeader();e.appendChild(n);var i=this.createElement("div",{className:Il});A(i,{"aria-label":"Selected Days"}),i.textContent=this.l10n.getConstant("selectedDays"),e.appendChild(i);var r=this.createElement("div",{className:"e-separator"}),o=this.createCalendar();t.appendChild(e),t.appendChild(r),t.appendChild(o);var s=this.createElement("div",{className:"e-footer"}),a=this.createElement("button",{className:"e-cancel e-flat e-css"}),l=this.createElement("button");C([l],["e-apply","e-flat","e-primary","e-css"]),s.appendChild(l),s.appendChild(a);var u=!h(this.startValue)&&!h(this.endValue);if(this.cancelButton=new _o({content:this.l10n.getConstant("cancelText")},a),this.applyButton=new _o({content:this.l10n.getConstant("applyText"),disabled:!u},l),ti.add(l,"click",this.applyFunction,this),ti.add(a,"click",this.cancelFunction,this),this.popupWrapper.appendChild(t),!this.isMobile&&!p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.createPresets(),this.listRippleEffect(),C([t],"e-range-border"),C([this.popupWrapper],"e-preset-wrapper");this.popupWrapper.querySelector(".e-presets").style.height=this.popupWrapper.querySelector(".e-date-range-container").getBoundingClientRect().height+"px"}this.popupWrapper.appendChild(s),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()},e.prototype.cancelFunction=function(t){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),C([this.inputWrapper.container],["e-input-focus"])),t.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(t)},e.prototype.deviceHeaderUpdate=function(){h(this.startValue)&&h(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add("e-active")):h(this.startValue)||this.startButton.element.classList.add("e-active")},e.prototype.applyFunction=function(t){t.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),C([this.inputWrapper.container],["e-input-focus"])),"touchstart"!==t.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&t.preventDefault(),h(this.startValue)||h(this.endValue)?this.hide(t||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,rs.setValue(this.rangeArgs(t).text,this.inputElement,this.floatLabelType,this.showClearButton),this.changeTrigger(t),this.hide(t||null),this.errorClass()),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.popupKeyboardModule=new hr(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})))},e.prototype.onMouseClick=function(t,e){if("touchstart"!==t.type){var n=e||t.target,i=N(n,"."+Vl),r=i&&i.classList.contains("e-active");i&&i.classList.contains(Vl)&&this.setListSelection(i,t),this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,i&&i.classList.contains(Vl)&&"custom_range"===i.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():r||"keydown"!==t.type||this.inputElement.focus())}},e.prototype.onMouseOver=function(t){var e=N(t.target,"."+Vl);e&&e.classList.contains(Vl)&&!e.classList.contains(Rl)&&C([e],Rl)},e.prototype.onMouseLeave=function(t){var e=N(t.target,"."+Rl);h(e)||E([e],Rl)},e.prototype.setListSelection=function(t,e){if(t&&(!t.classList.contains("e-active")||this.isMobile&&t.classList.contains("e-active"))){if(this.isMobile&&t.classList.contains("e-active")){this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(t);if("custom_range"===this.presetsItem[this.activeIndex].id)return void this.renderCustomPopup();return}this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(t),C([t],"e-active"),t.setAttribute("aria-selected","true");var n=this.presetsItem[this.activeIndex];"custom_range"===n.id?this.renderCustomPopup():this.applyPresetRange(n)}},e.prototype.removeListSelection=function(){var t=this.presetElement.querySelector(".e-active");h(t)||(E([t],"e-active"),t.removeAttribute("aria-selected"))},e.prototype.setValue=function(){this.modelValue=[this.startValue,this.endValue]},e.prototype.applyPresetRange=function(t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=t.start,this.endValue=t.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(null)),this.changeTrigger(),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},e.prototype.showPopup=function(t,e){this.presetHeight(),1e3===this.zIndex?this.popupObj.show(null,this.element):this.popupObj.show(null,null),this.isMobile&&this.popupObj.refreshPosition()},e.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-daterangepicker e-popup"}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()},e.prototype.listRippleEffect=function(){for(var t=0,e=this.liCollections;t<e.length;t++){tt(e[t])}},e.prototype.createPresets=function(){if(!p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:"e-presets",attrs:{tabindex:"0"}});var t=ea.createList(this.createElement,this.presetsItem,null,!0);A(t,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(t),this.popupWrapper.appendChild(this.presetElement);var e=this.presetElement.querySelector("#custom_range");h(e)||(e.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+Vl),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!h(this.activeIndex)&&this.activeIndex>-1&&C([this.liCollections[this.activeIndex]],"e-active")}},e.prototype.wireListEvents=function(){ti.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(ti.add(this.presetElement,"mouseover",this.onMouseOver,this),ti.add(this.presetElement,"mouseout",this.onMouseLeave,this))},e.prototype.unWireListEvents=function(){h(this.presetElement)||(ti.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(ti.remove(this.presetElement,"mouseover",this.onMouseOver),ti.remove(this.presetElement,"mouseout",this.onMouseLeave)))},e.prototype.renderPopup=function(){var t=this;this.popupWrapper.classList.add("e-control");var e=this.popupWrapper.getBoundingClientRect().width;h(this.cssClass)||""===this.cssClass.trim()||(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new yo(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:h(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){A(t.inputElement,{"aria-expanded":"true"}),C([t.inputWrapper.buttons[0]],"e-active"),t.isMobile||(t.cancelButton&&(t.btnKeyboardModule=new hr(t.cancelButton.element,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),t.btnKeyboardModule=new hr(t.applyButton.element,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),h(t.leftCalendar)||t.isRangeIconClicked||t.calendarFocus(),h(t.presetElement)||(t.presetKeyboardModule=new hr(t.presetElement,{eventName:"keydown",keyAction:t.presetKeyActionHandler.bind(t),keyConfigs:t.presetKeyConfig}),t.presetKeyboardModule=new hr(t.presetElement,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),h(t.leftCalendar)?(t.preventBlur=!0,t.presetElement.focus()):t.presetElement.setAttribute("tabindex","-1")),t.popupKeyBoardHandler()),t.isMobile&&!mi.isDevice&&ti.add(document,"keydown",t.popupCloseHandler,t)},close:function(){A(t.inputElement,{"aria-expanded":"false"}),E([t.inputWrapper.buttons[0]],"e-active"),t.isRangeIconClicked&&t.inputWrapper.container.children[1].focus(),p(t.presets[0].start&&t.presets[0].end&&t.presets[0].label)||t.unWireListEvents(),h(t.popupObj)||(D(t.popupObj.element),t.popupObj.destroy(),t.popupObj=null),t.isMobile&&!mi.isDevice&&ti.remove(document,"keydown",t.popupCloseHandler)}}),this.isMobile&&(this.popupObj.element.classList.add("e-device"),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(C([this.modal],["e-device","e-daterangepicker","e-range-modal"]),document.body.className+=" e-range-overflow",this.modal.style.display="block"),ti.add(document,"mousedown",this.documentHandler,this)},e.prototype.popupCloseHandler=function(t){switch(t.keyCode){case 27:this.hide(t)}},e.prototype.calendarFocus=function(){var t=this.popupObj&&this.popupObj.element.querySelector("."+Ml);if(t){var e=N(t,"."+kl);e=h(e)?this.leftCalendar:e,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,e.children[1].firstElementChild.focus()),C([t],Ol)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())},e.prototype.presetHeight=function(){var t=this.popupObj&&this.popupObj.element.querySelector(".e-presets"),e=this.popupObj&&this.popupObj.element.querySelector(".e-date-range-container");h(t)||h(e)||(t.style.height=e.getBoundingClientRect().height+"px")},e.prototype.presetKeyActionHandler=function(t){switch(t.action){case"moveDown":this.listMoveDown(t),this.setScrollPosition(),t.preventDefault();break;case"moveUp":this.listMoveUp(t),this.setScrollPosition(),t.preventDefault();break;case"enter":var e=this.getHoverLI(),n=this.getActiveLI();if(!h(this.leftCalendar)&&!h(n)&&(h(e)||!h(n)&&n===e)){this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(n);if("custom_range"===this.presetsItem[this.activeIndex].id)return this.calendarFocus(),n.classList.remove(Rl),void t.preventDefault()}h(e)&&h(n)||this.onMouseClick(t,e||n),t.preventDefault();break;case"tab":if(this.leftCalendar){var i=this.getHoverLI();h(i)||i.classList.remove(Rl)}else this.hide(t),t.preventDefault()}},e.prototype.listMoveDown=function(t){var e=this.getHoverLI(),n=this.getActiveLI();if(h(e))if(h(n))C([this.liCollections[0]],Rl);else{var i=n.nextElementSibling;!h(i)&&i.classList.contains(Vl)&&C([i],Rl)}else{var i=e.nextElementSibling;!h(i)&&i.classList.contains(Vl)&&(E([e],Rl),C([i],Rl))}},e.prototype.listMoveUp=function(t){var e=this.getHoverLI(),n=this.getActiveLI();if(h(e)){if(!h(n)){var i=n.previousElementSibling;!h(i)&&i.classList.contains(Vl)&&C([i],Rl)}}else{var i=e.previousElementSibling;!h(i)&&i.classList.contains(Vl)&&(E([e],Rl),C([i],Rl))}},e.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+Rl)},e.prototype.getActiveLI=function(){return this.presetElement.querySelector(".e-active")},e.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new hr(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.popupKeyboardModule=new hr(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},e.prototype.setScrollPosition=function(){var t=this.presetElement.getBoundingClientRect().height,e=this.presetElement.querySelector("."+Rl),n=this.presetElement.querySelector(".e-active"),i=h(e)?n:e;if(!h(i)){var r=i.nextElementSibling,o=r?r.offsetTop:i.offsetTop,s=i.getBoundingClientRect().height;o+i.offsetTop>t?this.presetElement.scrollTop=r?o-(t/2+s/2):o:this.presetElement.scrollTop=0}},e.prototype.popupKeyActionHandle=function(t){var e=N(t.target,".e-presets");switch(t.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(t)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,t);break;case"tab":this.hide(t);break;case"altRightArrow":h(e)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),t.preventDefault();break;case"altLeftArrow":h(e)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():h(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),t.preventDefault()}},e.prototype.documentHandler=function(t){if(!h(this.popupObj)){var e=t.target;this.inputWrapper.container.contains(e)&&(h(this.popupObj)||N(e,this.popupWrapper.id))||("touchstart"===t.type||"mousedown"===t.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&t.preventDefault(),!h(this.targetElement)&&(h(this.targetElement)||e===this.targetElement)||N(e,"#"+this.popupObj.element.id)||N(e,".e-input-group")===this.inputWrapper.container||N(e,".e-daterangepicker.e-popup")&&!e.classList.contains("e-day")||(this.preventBlur=!1,this.isPopupOpen()&&(this.applyFunction(t),this.isMobile||(this.isRangeIconClicked=!1)))}},e.prototype.createInput=function(){this.inputWrapper=rs.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),A(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),rs.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),h(this.placeholder)||""===this.placeholder.trim()||rs.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),C([this.inputWrapper.container],"e-date-range-wrapper"),h(this.inputElement.getAttribute("name"))&&A(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate},e.prototype.setEleWidth=function(t){this.inputWrapper.container.style.width="string"==typeof t?this.width:"number"==typeof t?y(this.width):"100%"},e.prototype.refreshControl=function(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();var t=this.disabledDates();this.strictMode&&t&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&t&&this.clearRange(),h(this.endValue)||h(this.startValue)||t||this.disabledDateRender(),this.errorClass(),this.previousStartValue=h(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=h(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)},e.prototype.updateInput=function(){if(!h(this.endValue)&&!h(this.startValue)){var t={format:this.formatString,type:"date",skeleton:"yMd"},e=this.globalize.formatDate(this.startValue,t),n=this.globalize.formatDate(this.endValue,t);rs.setValue(e+" "+this.separator+" "+n,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&h(this.value)&&this.invalidValueString&&rs.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.checkInvalidRange=function(t){if(!h(t)){var e=!1,n=void 0,i=void 0,r=null,o=null,s=null,a=!1,l=!1,u=!1;if("string"==typeof t){var c=t.split(" "+this.separator+" ");2===c.length?(r=c[0],o=c[1]):(e=!0,s=t)}else t.length>0?(n=t[0],i=t[1]):(n=t.start,i=t.end),n instanceof Date||"object"==typeof n?n instanceof Date?a=!0:h(n)||(u=!0):r=this.getstringvalue(n),i instanceof Date||"object"==typeof i?i instanceof Date?l=!0:h(i)||(u=!0):o=this.getstringvalue(i);(h(r)&&!a&&!h(o)||!h(r)&&!l&&h(o))&&(e=!0),u&&(r=o=s=null,e=!0),r&&(e=e||this.checkInvalidValue(r)),o&&(e=e||this.checkInvalidValue(o)),e&&(a&&!u&&(r=n.toLocaleDateString()),l&&!u&&(o=i.toLocaleDateString()),h(r)||h(o)?h(r)?h(o)||(s=o):s=r:s=r+" "+this.separator+" "+o,this.invalidValueString=s,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}},e.prototype.getstringvalue=function(t){var e=null;return h(t)||"number"!=typeof t?h(t)||"string"!=typeof t||(e=""+t):e=t.toString(),e},e.prototype.checkInvalidValue=function(t){var e=t,n=!1,i=null;if(i={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof e)n=!0;else{var r=new Ki(this.locale);if(!this.checkDateValue(r.parseDate(e,i))){var o=null,s=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!o.test(e)&&!s.test(e)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(this.checkValue(e))))&&(n=!0)}}return n},e.prototype.isDateDisabled=function(t){if(h(t))return!1;var e=new Date(+t);if(+e<+this.min||+e>+this.max)return!0;this.virtualRenderCellArgs={date:e,isDisabled:!1};var n=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(n),!!n.isDisabled},e.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var t=new Date(+this.startValue),e=0;+t<=+this.endValue;){this.virtualRenderCellArgs={date:t,isDisabled:!1};var n=this.virtualRenderCellArgs;this.virtualRenderCellEvent(n),n.isDisabled&&(this.disabledDays.push(new Date(+n.date)),+t>+this.startValue&&+t<+this.endValue&&e++),this.addDay(t,1,null,this.max,this.min)}this.disabledDayCnt=e},e.prototype.virtualRenderCellEvent=function(t){c(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)},e.prototype.disabledDates=function(){var t=!1,e=!1;return h(this.endValue)||h(this.startValue)||(t=this.isDateDisabled(this.startValue),e=this.isDateDisabled(this.endValue),this.currentDate=null,this.setValue()),t||e},e.prototype.setModelValue=function(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?(+this.startDate==+this.value[0]&&+this.endDate==+this.value[1]||this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()},e.prototype.dispatchEvent=function(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n),this.firstHiddenChild.dispatchEvent(n)},e.prototype.changeTrigger=function(t){+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.trigger("change",this.rangeArgs(t))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)},e.prototype.navigateTo=function(e,n){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?t.prototype.navigateTo.call(this,e,n):(n<this.min?n=new Date(+this.min):n>=this.max&&(n=new Date(+this.max)),"Month"===e&&this.isSameMonth(n,this.max)?n=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(n,this.max)?n=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(n,this.max)&&(n=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=n,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),n="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=n,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}},e.prototype.navigate=function(e,n,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",t.prototype.navigateTo.call(this,i,n)},e.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){C([this.inputWrapper.container],["e-input-focus"]),this.inputElement.focus()}},e.prototype.focusOut=function(){var t=this.preventBlur;document.activeElement===this.inputElement&&(E([this.inputWrapper.container],["e-input-focus"]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=t)},e.prototype.destroy=function(){this.hide(null);var e={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(E([this.inputElement],["e-daterangepicker"]),ti.remove(this.inputElement,"blur",this.inputBlurHandler),rs.removeAttributes(e,this.inputElement),h(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),h(this.inputWrapper)||(ti.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),D(this.inputWrapper.container))),h(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),t.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler),h(this.firstHiddenChild)||h(this.secondHiddenChild)||(D(this.firstHiddenChild),D(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))},e.prototype.ensureInputAttribute=function(){for(var t=[],e=0;e<this.inputElement.attributes.length;e++)t[e]=this.inputElement.attributes[e].name;for(var e=0;e<t.length;e++)h(this.cloneElement.getAttribute(t[e]))?("value"===t[e].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(t[e])):("value"===t[e].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(t[e])),this.inputElement.setAttribute(t[e],this.cloneElement.getAttribute(t[e])))},e.prototype.getModuleName=function(){return"daterangepicker"},e.prototype.getPersistData=function(){var t=["startDate","endDate","value"];return this.addOnPersist(t)},e.prototype.getSelectedRange=function(){var t;return h(this.startValue)||h(this.endValue)?t=0:(t=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,this.disabledDateRender(),h(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:t}},e.prototype.show=function(t,e){if(this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),!(this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(t&&(this.targetElement=t),this.createPopup(),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:e||null,appendTo:document.body},this.trigger("open",this.openEventArgs),this.openEventArgs.cancel))){this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(t,e);var n=!this.isCustomRange||this.isMobile&&this.isCustomRange;!p(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&n&&this.setScrollPosition(),this.checkMinMaxDays(),this.isMobile&&!h(this.startDate)&&h(this.endDate)&&(this.endButton.element.classList.add("e-active"),this.startButton.element.classList.remove("e-active"),this.endButton.element.removeAttribute("disabled"),this.selectableDates())}},e.prototype.hide=function(t){this.popupObj&&(h(this.previousEndValue)&&h(this.previousStartValue)?this.clearRange():(h(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),h(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:t||null},this.trigger("close",this.closeEventArgs),this.closeEventArgs.cancel?E([this.inputWrapper.buttons[0]],"e-active"):(this.isMobile&&(h(this.startButton)||h(this.endButton)||(ti.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),ti.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick))),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),C([this.inputWrapper.container],["e-input-focus"]))),this.isMobile||(h(this.leftKeyboardModule)||h(this.rightKeyboardModule)||(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),h(this.presetElement)||this.presetKeyboardModule.destroy(),h(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,E([document.body],"e-range-overflow"),ti.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),this.isKeyPopup=this.dateDisabled=!1))),this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.element.removeAttribute("readonly")},e.prototype.setLocale=function(){this.globalize=new Ki(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),rs.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.changeTrigger()},e.prototype.refreshChange=function(){this.checkView(),this.refreshControl(),this.changeTrigger()},e.prototype.setDate=function(){rs.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()},e.prototype.enableInput=function(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),rs.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())},e.prototype.clearModelvalue=function(t,e){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),e.value&&e.value.length>0?this.setProperties({value:null},!0):e.value&&e.value.start?this.setProperties({value:{start:null,end:null}},!0):e.value&&!e.value.start&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()},e.prototype.createHiddenInput=function(){h(this.firstHiddenChild)&&h(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),h(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),A(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name")}),A(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name")});var t={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,t),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,t),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild),this.firstHiddenChild.style.display="none",this.secondHiddenChild.style.display="none"},e.prototype.onPropertyChanged=function(t,e){for(var n={format:this.formatString,type:"date",skeleton:"yMd"},i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];switch(this.hide(null),o){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:t.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":rs.setPlaceholder(t.placeholder,this.inputElement),this.setProperties({placeholder:t.placeholder},!0);break;case"readonly":rs.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.popupWrapper&&(this.popupWrapper.className+=" "+t.cssClass),this.inputWrapper.container.className+=" "+t.cssClass,this.setProperties({cssClass:t.cssClass},!0);break;case"enabled":this.setProperties({enabled:t.enabled},!0),rs.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:t.enableRtl},!0),rs.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0);break;case"format":this.setProperties({format:t.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new Ki(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),rs.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"showClearButton":rs.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof t.startDate&&(t.startDate=this.globalize.parseDate(t.startDate,n)),+this.initStartDate!=+t.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(t.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof t.endDate&&(t.endDate=this.globalize.parseDate(t.endDate,n)),+this.initEndDate!=+t.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(t.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(t.value),"string"==typeof t.value)if(this.invalidValueString)this.clearModelvalue(t,e);else{var s=t.value.split(" "+this.separator+" ");this.value=[new Date(s[0]),new Date(s[1])],this.updateValue(),this.setDate()}else!h(t.value)&&t.value.length>0||!h(t.value)&&t.value.start?(this.valueType=t.value,null===t.value[0]||null===t.value.start?1===t.value.length||t.value.start?this.clearModelvalue(t,e):null!==t.value[1]&&null!==t.value.start||this.clearModelvalue(t,e):+this.initStartDate==+t.value[0]&&+this.initEndDate==+t.value[1]&&+this.initStartDate==+(t.value.start||+this.initEndDate!=+t.value.start)||(1===t.value.length?this.modelValue=t.value:t.value.start&&(this.modelValue=t.value),this.updateValue(),this.setDate())):(h(this.value)||null==t.value.start)&&(this.valueType=t.value,this.startValue=null,this.endValue=null,this.clearModelvalue(t,e));break;case"minDays":this.setProperties({minDays:t.minDays},!0),this.refreshChange();break;case"maxDays":this.setProperties({maxDays:t.maxDays},!0),this.refreshChange();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(t.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:t.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:t.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=t.floatLabelType,rs.removeFloating(this.inputWrapper),rs.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:t.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:t.depth},!0),this.refreshChange()}}},Sl([G(null)],e.prototype,"value",void 0),Sl([G(!1)],e.prototype,"enablePersistence",void 0),Sl([G(!1)],e.prototype,"enableRtl",void 0),Sl([G(new Date(1900,0,1))],e.prototype,"min",void 0),Sl([G(new Date(2099,11,31))],e.prototype,"max",void 0),Sl([G(null)],e.prototype,"locale",void 0),Sl([G(null)],e.prototype,"firstDayOfWeek",void 0),Sl([G(!1)],e.prototype,"weekNumber",void 0),Sl([G("Gregorian")],e.prototype,"calendarMode",void 0),Sl([Q()],e.prototype,"created",void 0),Sl([Q()],e.prototype,"destroyed",void 0),Sl([Q()],e.prototype,"change",void 0),Sl([Q()],e.prototype,"navigated",void 0),Sl([Q()],e.prototype,"renderDayCell",void 0),Sl([G(null)],e.prototype,"startDate",void 0),Sl([G(null)],e.prototype,"endDate",void 0),Sl([K([{}],Fl)],e.prototype,"presets",void 0),Sl([G("")],e.prototype,"width",void 0),Sl([G(1e3)],e.prototype,"zIndex",void 0),Sl([G(!0)],e.prototype,"showClearButton",void 0),Sl([G(!0)],e.prototype,"showTodayButton",void 0),Sl([G("Month")],e.prototype,"start",void 0),Sl([G("Month")],e.prototype,"depth",void 0),Sl([G("")],e.prototype,"cssClass",void 0),Sl([G("-")],e.prototype,"separator",void 0),Sl([G(null)],e.prototype,"minDays",void 0),Sl([G(null)],e.prototype,"maxDays",void 0),Sl([G(!1)],e.prototype,"strictMode",void 0),Sl([G(null)],e.prototype,"format",void 0),Sl([G(!0)],e.prototype,"enabled",void 0),Sl([G(!1)],e.prototype,"readonly",void 0),Sl([G(!0)],e.prototype,"allowEdit",void 0),Sl([G("Never")],e.prototype,"floatLabelType",void 0),Sl([G(null)],e.prototype,"placeholder",void 0),Sl([Q()],e.prototype,"open",void 0),Sl([Q()],e.prototype,"close",void 0),Sl([Q()],e.prototype,"select",void 0),Sl([Q()],e.prototype,"focus",void 0),Sl([Q()],e.prototype,"blur",void 0),e=Sl([Z],e)}(lo),jl=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bl=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ul=(new Date).getDate(),ql=(new Date).getMonth(),zl=(new Date).getFullYear(),Wl="e-input-focus",Yl=fl.li;!function(t){function e(t,e,n,i,r,o){this.calendarMode;var s,a,l=6e4*o,u=[],c=[];for(s=+e.setMilliseconds(0),a=+n.setMilliseconds(0);a>=s;)c.push(s),u.push(i.formatDate(new Date(s),{format:r,type:"time"})),s+=l;return{collection:c,list:ea.createList(t,u,null,!0)}}t.createListItems=e}(ml||(ml={}));var Gl=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.liCollections=[],i.timeCollections=[],i.disableItemCollection=[],i.invalidValueString=null,i}return jl(e,t),e.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),E([this.cloneElement],["e-timepicker","e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=N(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},e.prototype.render=function(){this.initialize(),this.createInputElement(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value)},e.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):A(this.inputElement,{readonly:""}),this.clearIconState()},e.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&E([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?E([this.inputWrapper.container],["e-non-edit"]):C([this.inputWrapper.container],["e-non-edit"])},e.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},e.prototype.validationAttribute=function(t,e){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");e.setAttribute("name",n),t.removeAttribute("name");for(var i=["required","aria-required","form"],r=0;r<i.length;r++)if(!h(t.getAttribute(i[r]))){var o=t.getAttribute(i[r]);e.setAttribute(i[r],o),t.removeAttribute(i[r])}},e.prototype.initialize=function(){this.globalize=new Ki(this.locale),this.defaultCulture=new Ki("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkAttributes();var t={placeholder:this.placeholder};this.l10n=new pr("timepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,h(this.element.getAttribute("id"))?(this.element.id=d("ej2_timepicker"),null!==this.angularTag&&A(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),h(this.inputElement.getAttribute("name"))&&A(this.inputElement,{name:this.element.id})},e.prototype.checkTimeFormat=function(){if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(h(this.format.skeleton)||""===this.format.skeleton)this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"});else{var t=this.format.skeleton;this.formatString=this.globalize.getDatePattern({type:"time",skeleton:t})}else this.formatString=null},e.prototype.checkDateValue=function(t){return!h(t)&&t instanceof Date&&!isNaN(+t)?t:null},e.prototype.createInputElement=function(){this.inputWrapper=rs.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),A(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||rs.addAttributes({style:this.inputStyle},this.inputElement),C([this.inputWrapper.container],"e-time-wrapper")},e.prototype.getCldrDateTimeFormat=function(){var t=new Ki(this.locale),e=t.getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.CldrFormat("time"):this.formatString},e.prototype.checkInvalidValue=function(t){var e=!1;if("object"!=typeof t&&!h(t)){var n=t;"string"==typeof n&&(n=n.trim());var i=null,r=null;if("number"==typeof t?n=t.toString():"string"==typeof t&&(/^[a-zA-Z0-9- ]*$/.test(t)||(i=this.setCurrentDate(this.getDateObject(t)),h(i)&&(i=this.checkDateValue(this.globalize.parseDate(n,{format:this.getCldrDateTimeFormat(),type:"datetime"})),h(i)&&(i=this.checkDateValue(this.globalize.parseDate(n,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))))),r=this.globalize.parseDate(n,{format:this.getCldrDateTimeFormat(),type:"datetime"}),i=!h(r)&&r instanceof Date&&!isNaN(+r)?r:null,h(i)&&n.replace(/\s/g,"").length){var o=null,s=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(n)&&!s.test(n)||/^[a-zA-Z0-9- ]*$/.test(t)||isNaN(+new Date(""+n))?e=!0:i=new Date(""+n)}e?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:i},!0),this.initValue=this.value)}},e.prototype.CldrFormat=function(t){return"en"===this.locale||"en-US"===this.locale?o("timeFormats.short",at()):this.getCultureTimeObject(Wi,""+this.locale)},e.prototype.destroy=function(){this.hide(),this.unBindEvents();var e={"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"};this.inputElement&&(rs.removeAttributes(e,this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),h(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),h(this.cloneElement.getAttribute("disabled"))&&rs.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&P(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],h(this.rippleFn)||this.rippleFn(),t.prototype.destroy.call(this),this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.ensureInputAttribute=function(){for(var t=[],e=0;e<this.inputElement.attributes.length;e++)t[e]=this.inputElement.attributes[e].name;for(var e=0;e<t.length;e++)h(this.cloneElement.getAttribute(t[e]))?(this.inputElement.removeAttribute(t[e]),"value"===t[e].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(t[e],this.cloneElement.getAttribute(t[e])),"value"===t[e].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(t[e])))},e.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:"e-timepicker e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),h(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!h(this.step)&&this.step>0&&(this.generateList(),k([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),D(this.popupWrapper)},e.prototype.getPopupHeight=function(){var t=parseInt("240px",10),e=this.popupWrapper.getBoundingClientRect().height;return e>t?t:e},e.prototype.generateList=function(){this.createListItems(),this.wireListEvents();var t={duration:300,selector:"."+Yl};this.rippleFn=tt(this.listWrapper,t),this.liCollections=this.listWrapper.querySelectorAll("."+Yl)},e.prototype.renderPopup=function(){var t=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new yo(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:mi.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:mi.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:mi.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){t.popupWrapper.style.visibility="visible",C([t.inputWrapper.buttons[0]],"e-active")},close:function(){E([t.inputWrapper.buttons[0]],"e-active"),t.unWireListEvents(),t.inputElement.setAttribute("aria-activedescendant","null"),P(t.popupObj.element),t.popupObj.destroy(),t.popupWrapper.innerHTML="",t.listWrapper=t.popupWrapper=t.listTag=void 0}}),mi.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},e.prototype.getFormattedValue=function(t){return h(this.checkDateValue(t))?null:this.globalize.formatDate(t,{skeleton:"medium",type:"time"})},e.prototype.getDateObject=function(t){if(!this.isNullOrEmpty(t)){var e=this.createDateObj(t),n=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(e)){var i=n?this.initValue.getDate():Ul,r=n?this.initValue.getMonth():ql,o=n?this.initValue.getFullYear():zl;return new Date(o,r,i,e.getHours(),e.getMinutes(),e.getSeconds())}}return null},e.prototype.removeErrorClass=function(){E([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":"false"})},e.prototype.checkErrorState=function(t){var e=this.getDateObject(t);this.validateState(e)&&!this.invalidValueString?this.removeErrorClass():(C([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":"true"}))},e.prototype.validateInterval=function(){!h(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},e.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},e.prototype.disableElement=function(t){C(t,"e-disabled")},e.prototype.enableElement=function(t){E(t,"e-disabled")},e.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},e.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?o("dayPeriods.format.wide",at()):o("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",Wi)},e.prototype.getCursorSelection=function(){var t=this.inputElement,e=0,n=0;return isNaN(t.selectionStart)||(e=t.selectionStart,n=t.selectionEnd),{start:Math.abs(e),end:Math.abs(n)}},e.prototype.getActiveElement=function(){return h(this.popupWrapper)?null:this.popupWrapper.querySelectorAll(".e-active")},e.prototype.isNullOrEmpty=function(t){return!!(h(t)||"string"==typeof t&&""===t.trim())},e.prototype.setWidth=function(t){return t="number"==typeof t?y(t):"string"==typeof t?t.match(/px|%|em/)?t:y(t):"100%"},e.prototype.setPopupWidth=function(t){if(t=this.setWidth(t),t.indexOf("%")>-1){t=(this.containerStyle.width*parseFloat(t)/100).toString()+"px"}return t},e.prototype.setScrollPosition=function(){var t;this.getPopupHeight();t=this.selectedElement,h(t)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(t)},e.prototype.findScrollTop=function(t){var e=this.getPopupHeight(),n=t.nextElementSibling,i=n?n.offsetTop:t.offsetTop,r=t.getBoundingClientRect().height;i+t.offsetTop>e?this.popupWrapper.scrollTop=n?i-(e/2+r/2):i:this.popupWrapper.scrollTop=0},e.prototype.setScrollTo=function(){var t;if(h(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var e=this.popupWrapper.querySelectorAll("."+Yl);if(e.length){var n=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();t=e[Math.round((i-n)/(6e4*this.step))]}}h(t)?this.popupWrapper.scrollTop=0:this.findScrollTop(t)},e.prototype.getText=function(){return h(this.checkDateValue(this.value))?"":this.getValue(this.value)},e.prototype.getValue=function(t){return h(this.checkDateValue(t))?null:this.globalize.formatDate(t,{format:this.cldrTimeFormat(),type:"time"})},e.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?o("dateFormats.short",at()):this.getCultureDateObject(Wi,""+this.locale)},e.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?o("timeFormats.short",at()):this.getCultureTimeObject(Wi,""+this.locale):this.formatString},e.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?o("timeFormats.medium",at()):o("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",Wi)},e.prototype.getExactDateTime=function(t){return h(this.checkDateValue(t))?null:this.globalize.formatDate(t,{format:this.dateToNumeric(),type:"time"})},e.prototype.setValue=function(t){var e=this.checkValue(t);this.strictMode||this.validateState(e)?this.isNullOrEmpty(e)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(e):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},e.prototype.compareFormatChange=function(t){return h(t)?null:t!==this.getText()?this.getDateObject(t):this.getDateObject(this.value)},e.prototype.updatePlaceHolder=function(){rs.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},e.prototype.popupHandler=function(t){mi.isDevice&&this.element.setAttribute("readonly",""),t.preventDefault(),this.isPopupOpen()?this.closePopup(0,t):(this.inputElement.focus(),this.show(t))},e.prototype.mouseDownHandler=function(){if(!this.readonly){this.getCursorSelection();this.inputElement.setSelectionRange(0,0),ti.add(this.inputElement,"mouseup",this.mouseUpHandler,this)}},e.prototype.mouseUpHandler=function(t){if(!this.readonly){t.preventDefault(),ti.remove(this.inputElement,"mouseup",this.mouseUpHandler);var e=this.getCursorSelection();0===e.start&&e.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},e.prototype.focusSelection=function(){var t=new RegExp("^[a-zA-Z0-9]+$"),e=this.inputElement.value.split("");e.push(" ");var n=this.getCursorSelection(),i=0,r=0,o=!1;if(this.isTextSelected)i=n.start,r=n.end,this.isTextSelected=!1;else for(var s=0;s<e.length;s++)if(t.test(e[s])||(r=s,o=!0),o){if(n.start>=i&&n.end<=r){r=r,this.isTextSelected=!0;break}i=s+1,o=!1}return{start:i,end:r}},e.prototype.inputHandler=function(t){if(!this.readonly&&this.enabled)switch("right"!==t.action&&"left"!==t.action&&"tab"!==t.action&&t.preventDefault(),t.action){case"home":case"end":case"up":case"down":this.keyHandler(t);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,t)):this.updateValue(this.inputElement.value,t),this.hide(),C([this.inputWrapper.container],Wl),this.isNavigate=!1,this.isPopupOpen()&&t.stopPropagation();break;case"open":this.show(t);break;case"escape":rs.setValue(this.objToString(this.value),this.inputElement,this.floatLabelType,this.showClearButton),this.previousState(this.value),this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}},e.prototype.onMouseClick=function(t){var e=t.target,n=this.selectedElement=N(e,"."+Yl);this.setSelection(n,t),n&&n.classList.contains(Yl)&&(this.hide(),C([this.inputWrapper.container],Wl))},e.prototype.closePopup=function(t,e){if(this.isPopupOpen()&&this.popupWrapper){var n={popup:this.popupObj,event:e||null,cancel:!1,name:"open"};if(E([document.body],"e-time-overflow"),this.trigger("close",n),!n.cancel){var i={name:"FadeOut",duration:50,delay:t||0};this.popupObj.hide(new gi(i)),E([this.inputWrapper.container],["e-icon-anim"]),A(this.inputElement,{"aria-expanded":"false"}),ti.remove(document,"mousedown touchstart",this.documentClickHandler)}mi.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}mi.isDevice&&this.allowEdit&&!this.readonly&&this.element.removeAttribute("readonly")},e.prototype.checkValueChange=function(t,e){if(this.strictMode||this.validateState(this.valueWithMinutes))if(e){var n=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+n&&this.valueProcess(t,n)}else(this.prevValue!==this.inputElement.value||h(this.checkDateValue(this.value)))&&this.valueProcess(t,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(t)},e.prototype.onMouseOver=function(t){var e=N(t.target,"."+Yl);this.setHover(e,"e-hover")},e.prototype.setHover=function(t,e){this.enabled&&this.isValidLI(t)&&!t.classList.contains(e)&&(this.removeHover(e),C([t],e),"e-navigation"===e&&t.setAttribute("aria-selected","true"))},e.prototype.setSelection=function(t,e){this.isValidLI(t)&&!t.classList.contains("e-active")&&(this.checkValue(t.getAttribute("data-value")),this.selectedElement=t,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(t),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),C([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(e,!0))},e.prototype.onMouseLeave=function(){this.removeHover("e-hover")},e.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&mi.isDevice||this.hide()},e.prototype.setMinMax=function(t,e){h(this.checkDateValue(t))&&(this.initMin=this.getDateObject("12:00:00 AM")),h(this.checkDateValue(e))&&(this.initMax=this.getDateObject("11:59:59 PM"))},e.prototype.validateMinMax=function(t,e,n){var i=t instanceof Date?t:this.getDateObject(t);return h(this.checkDateValue(i))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():t=this.strictOperation(this.initMin,this.initMax,t,i),this.strictMode&&(t=this.valueIsDisable(t)?t:null),this.checkErrorState(t),t},e.prototype.valueIsDisable=function(t){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var e=t instanceof Date?this.objToString(t):t,n=0;n<this.disableItemCollection.length;n++)if(e===this.disableItemCollection[n])return!1}return!0},e.prototype.validateState=function(t){if(!this.strictMode){if(!this.valueIsDisable(t))return!1;var e=this.setCurrentDate(this.getDateObject(t)),n=this.setCurrentDate(this.getDateObject(this.initMax)),i=this.setCurrentDate(this.getDateObject(this.initMin));if(h(this.checkDateValue(e))){if(+n<+i||""!==this.inputElement.value)return!1}else if(+e>+n||+e<+i)return!1}return!0},e.prototype.strictOperation=function(t,e,n,i){var r=this.createDateObj(this.getFormattedValue(e)),o=this.createDateObj(this.getFormattedValue(t)),s=this.createDateObj(this.getFormattedValue(i));if(this.strictMode){if(+o>+r)return this.disableTimeIcon(),this.initValue=this.getDateObject(r),rs.setValue(this.getValue(this.initValue),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value;if(+o>=+s)return this.getDateObject(o);if(+s>=+r||+o==+r)return this.getDateObject(r)}else if(+o>+r&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(n))))return n;return n},e.prototype.bindEvents=function(){ti.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),ti.add(this.inputElement,"blur",this.inputBlurHandler,this),ti.add(this.inputElement,"focus",this.inputFocusHandler,this),ti.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&ti.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&ti.add(this.formElement,"reset",this.formResetHandler,this),mi.isDevice||(this.inputEvent=new hr(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&ti.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},e.prototype.formResetHandler=function(){if(!this.inputElement.disabled){var t=this.inputElement.getAttribute("value"),e=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(e=null,t="",this.inputElement.setAttribute("value","")),this.setProperties({value:e},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(rs.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.checkErrorState(t),this.prevValue=this.inputElement.value)}},e.prototype.inputChangeHandler=function(t){t.stopPropagation()},e.prototype.unBindEvents=function(){this.inputWrapper&&ti.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),ti.remove(this.inputElement,"blur",this.inputBlurHandler),ti.remove(this.inputElement,"focus",this.inputFocusHandler),ti.remove(this.inputElement,"change",this.inputChangeHandler),this.inputEvent&&this.inputEvent.destroy(),ti.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!h(this.inputWrapper.clearButton)&&ti.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&ti.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&ti.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},e.prototype.clearHandler=function(t){t.preventDefault(),h(this.value)||this.clear(t),this.popupWrapper&&(this.popupWrapper.scrollTop=0)},e.prototype.clear=function(t){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.changeEvent(t)},e.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},e.prototype.checkAttributes=function(){for(var t,e=["step","disabled","readonly","style","name","value","min","max","placeholder"],n=0,i=e;n<i.length;n++){var r=i[n];if(!h(this.inputElement.getAttribute(r)))switch(r){case"disabled":var o=h(this.inputElement.getAttribute(r));this.setProperties({enabled:o},!0);break;case"readonly":var s=!h(this.inputElement.getAttribute(r));this.setProperties({readonly:s},!0);break;case"style":this.inputStyle=this.inputElement.getAttribute(r);break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(r);break;case"min":t=new Date(this.inputElement.getAttribute(r)),h(this.checkDateValue(t))||this.setProperties({min:t},!0);break;case"max":t=new Date(this.inputElement.getAttribute(r)),h(this.checkDateValue(t))||this.setProperties({max:t},!0);break;case"value":t=new Date(this.inputElement.getAttribute(r)),h(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue))}}},e.prototype.setCurrentDate=function(t){return h(this.checkDateValue(t))?null:new Date(zl,ql,Ul,t.getHours(),t.getMinutes(),t.getSeconds())},e.prototype.getTextFormat=function(){var t=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))t=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var e=this.cldrTimeFormat().split(" "),n=0;n<e.length;n++)if(e[n].toLowerCase().indexOf("h")>=0){t=n;break}return t},e.prototype.updateValue=function(t,e){var n;if(this.isNullOrEmpty(t))this.resetState();else if(n=this.checkValue(t),this.strictMode){var i=null===n&&t.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;rs.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton)}this.checkValueChange(e,"string"!=typeof t)},e.prototype.previousState=function(t){for(var e=this.getDateObject(t),n=0;n<this.timeCollections.length;n++)if(+e===this.timeCollections[n]){this.activeIndex=n,this.selectedElement=this.liCollections[n],this.valueWithMinutes=new Date(this.timeCollections[n]);break}return this.prevValue},e.prototype.resetState=function(){this.removeSelection(),rs.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},e.prototype.objToString=function(t){return h(this.checkDateValue(t))?null:this.globalize.formatDate(t,{format:this.cldrTimeFormat(),type:"time"})},e.prototype.checkValue=function(t){if(!this.isNullOrEmpty(t)){var e=t instanceof Date?t:this.getDateObject(t);return this.validateValue(e,t)}return this.resetState(),this.valueWithMinutes=null},e.prototype.validateValue=function(t,e){var n,i=this.validateMinMax(e,this.min,this.max),r=this.createDateObj(i);if(this.getFormattedValue(r)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=h(r)?null:r,n=this.objToString(this.valueWithMinutes)):(this.strictMode&&(t=r),this.valueWithMinutes=this.checkDateValue(t),n=this.objToString(this.valueWithMinutes)),!this.strictMode&&h(n)){var o=i.trim().length>0?i:"";rs.setValue(o,this.inputElement,this.floatLabelType,this.showClearButton)}else rs.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton);return n},e.prototype.findNextElement=function(t){var e=this.inputElement.value,n=h(this.valueWithMinutes)?this.createDateObj(e):this.getDateObject(this.valueWithMinutes),i=null,r=this.liCollections.length;if(h(this.checkDateValue(n))&&h(this.activeIndex)){var o=this.validLiElement(0,"down"!==t.action);this.activeIndex=o,this.selectedElement=this.liCollections[o],this.elementValue(new Date(this.timeCollections[o]))}else{if("home"===t.action){var o=this.validLiElement(0);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("end"===t.action){var o=this.validLiElement(this.timeCollections.length-1,!0);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("down"===t.action)for(var s=0;s<r;s++){if(+n<this.timeCollections[s]){var o=this.validLiElement(s);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}if(s===r-1){var o=this.validLiElement(0);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(var s=r-1;s>=0;s--){if(+n>this.timeCollections[s]){var o=this.validLiElement(s,!0);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}if(0===s){var o=this.validLiElement(r-1);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(h(i)?null:new Date(i))}},e.prototype.elementValue=function(t){h(this.checkDateValue(t))||this.checkValue(t)},e.prototype.validLiElement=function(t,e){var n=null,i=h(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+Yl),r=!0;if(i.length)if(e)for(var o=t;o>=0;o--){if(!i[o].classList.contains("e-disabled")){n=o;break}0===o&&r&&(t=o=i.length,r=!1)}else for(var o=t;o<=i.length-1;o++){if(!i[o].classList.contains("e-disabled")){n=o;break}o===i.length-1&&r&&(t=o=-1,r=!1)}return n},e.prototype.keyHandler=function(t){if(!(h(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains("e-disabled"))){var e=this.timeCollections.length;if(h(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(h(this.value)&&h(this.activeIndex)){var n=this.validLiElement(0,"down"!==t.action);this.activeIndex=n,this.selectedElement=this.liCollections[n],this.elementValue(new Date(this.timeCollections[n]))}else this.findNextElement(t);else this.findNextElement(t);else{var i=void 0;if(t.keyCode>=37&&t.keyCode<=40){var n=40===t.keyCode||39===t.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=n=this.activeIndex===e?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?e-1:this.activeIndex,this.activeIndex=n=this.validLiElement(this.activeIndex,40!==t.keyCode&&39!==t.keyCode),i=h(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]}else if("home"===t.action){var n=this.validLiElement(0);this.activeIndex=n,i=this.timeCollections[n]}else if("end"===t.action){var n=this.validLiElement(e-1,!0);this.activeIndex=n,i=this.timeCollections[n]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,"e-navigation"),this.setActiveDescendant(),this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||t&&"click"===t.type||this.setScrollPosition()}},e.prototype.getCultureTimeObject=function(t,e){return o("main."+e+".dates.calendars.gregorian.timeFormats.short",t)},e.prototype.getCultureDateObject=function(t,e){return o("main."+e+".dates.calendars.gregorian.dateFormats.short",t)},e.prototype.wireListEvents=function(){ti.add(this.listWrapper,"click",this.onMouseClick,this),mi.isDevice||(ti.add(this.listWrapper,"mouseover",this.onMouseOver,this),ti.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},e.prototype.unWireListEvents=function(){this.listWrapper&&(ti.remove(this.listWrapper,"click",this.onMouseClick),mi.isDevice||(ti.remove(this.listWrapper,"mouseover",this.onMouseOver),ti.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},e.prototype.valueProcess=function(t,e){var n=h(this.checkDateValue(e))?null:e;+this.prevDate!=+n&&(this.initValue=n,this.changeEvent(t))},e.prototype.changeEvent=function(t){this.addSelection(),this.updateInput(!0,this.initValue);var e={event:t||null,value:this.value,text:this.inputElement.value,isInteracted:!h(t),element:this.element};e.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.trigger("change",e),this.invalidValueString=null,this.checkErrorState(this.value)},e.prototype.updateInput=function(t,e){t&&(this.prevValue=this.getValue(e)),this.prevDate=this.valueWithMinutes=e,"number"==typeof e&&(this.value&&+new Date(+this.value).setMilliseconds(0))===+e||this.setProperties({value:e},!0),!this.strictMode&&h(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),rs.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)),this.clearIconState()},e.prototype.setActiveDescendant=function(){h(this.selectedElement)?A(this.inputElement,{"aria-activedescendant":"null"}):A(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},e.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!h(this.popupWrapper)){var t=this.popupWrapper.querySelectorAll(".e-active");t.length&&(E(t,"e-active"),t[0].removeAttribute("aria-selected"))}},e.prototype.removeHover=function(t){var e=this.getHoverItem(t);e&&e.length&&(E(e,t),"e-navigation"===t&&e[0].removeAttribute("aria-selected"))},e.prototype.getHoverItem=function(t){var e;return h(this.popupWrapper)||(e=this.popupWrapper.querySelectorAll("."+t)),e},e.prototype.setActiveClass=function(){if(!h(this.popupWrapper)){var t=this.popupWrapper.querySelectorAll("."+Yl);if(t.length)for(var e=0;e<t.length;e++)if(this.timeCollections[e]===+this.getDateObject(this.valueWithMinutes)){t[e].setAttribute("aria-selected","true"),this.selectedElement=t[e],this.activeIndex=e;break}}},e.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),h(this.selectedElement)||(C([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},e.prototype.isValidLI=function(t){return t&&t.classList.contains(Yl)&&!t.classList.contains("e-disabled")},e.prototype.createDateObj=function(t){var e=this.globalize.formatDate(new Date,{skeleton:"short",type:"date"}),n=null;return"string"==typeof t?t.toUpperCase().indexOf("AM")>-1||t.toUpperCase().indexOf("PM")>-1?(e=this.defaultCulture.formatDate(new Date,{skeleton:"short",type:"date"}),n=isNaN(+new Date(e+" "+t))?null:new Date(new Date(e+" "+t).setMilliseconds(0)),h(n)&&(n=this.TimeParse(e,t))):n=this.TimeParse(e,t):t instanceof Date&&(n=t),n},e.prototype.TimeParse=function(t,e){var n;return n=this.globalize.parseDate(t+" "+e,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),n=h(n)?this.globalize.parseDate(t+" "+e,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):n,n=h(n)?n:new Date(n.setMilliseconds(0))},e.prototype.createListItems=function(){var t=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var e,n,i=6e4*this.step,r=[];for(this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0),n=+this.getDateObject(this.initMax).setMilliseconds(0);n>=e;)this.timeCollections.push(e),r.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=i;var o={itemCreated:function(e){var n={element:e.item,text:e.text,value:t.getDateObject(e.text),isDisabled:!1};t.trigger("itemRender",n),n.isDisabled&&n.element.classList.add("e-disabled"),n.element.classList.contains("e-disabled")&&t.disableItemCollection.push(n.element.getAttribute("data-value"))}};this.listTag=ea.createList(this.createElement,r,o,!0),A(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),k([this.listTag],this.listWrapper)},e.prototype.documentClickHandler=function(t){t.preventDefault();var e=t.target;N(e,"#"+this.popupObj.element.id)||e===this.inputElement||e===(this.inputWrapper&&this.inputWrapper.buttons[0])||e===(this.inputWrapper&&this.inputWrapper.clearButton)||e===(this.inputWrapper&&this.inputWrapper.container)?e!==this.inputElement&&(mi.isDevice||(this.isPreventBlur=(mi.isIE||"edge"===mi.info.name)&&document.activeElement===this.inputElement,t.preventDefault())):this.isPopupOpen()&&this.hide()},e.prototype.setEnableRtl=function(){rs.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},e.prototype.setEnable=function(){rs.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(E([this.inputWrapper.container],"e-disabled"),A(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),C([this.inputWrapper.container],"e-disabled"),A(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},e.prototype.getProperty=function(t,e){"min"===e?(this.initMin=this.checkDateValue(new Date(this.checkInValue(t.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(t.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},e.prototype.inputBlurHandler=function(t){if(this.isPreventBlur&&this.isPopupOpen())return void this.inputElement.focus();this.closePopup(0,t),E([this.inputWrapper.container],[Wl]);var e={model:this};this.trigger("blur",e),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,t):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)},e.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur();var t={model:this};this.trigger("blur",t)}},e.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-timepicker"))},e.prototype.inputFocusHandler=function(){var t={model:this};this.readonly||mi.isDevice||this.selectInputText(),this.trigger("focus",t),this.clearIconState()},e.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){this.inputElement.focus()}},e.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},e.prototype.show=function(t){if(!(this.enabled&&this.readonly||!this.enabled||this.popupWrapper))if(this.popupCreation(),mi.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className="e-timepicker e-time-modal",document.body.className+=" e-time-overflow",document.body.appendChild(this.modal)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:t||null,name:"open",appendTo:document.body},this.trigger("open",this.openPopupEventArgs),this.openPopupEventArgs.cancel||this.inputWrapper.buttons[0].classList.contains("e-disabled"))this.popupObj.destroy(),this.popupWrapper=this.listTag=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],this.popupObj=null;else{this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.popupAlignment(this.openPopupEventArgs),this.setScrollPosition(),mi.isDevice||this.inputElement.focus();var e={name:"FadeIn",duration:50};this.popupObj.refreshPosition(this.anchor),1e3===this.zIndex?this.popupObj.show(new gi(e),this.element):this.popupObj.show(new gi(e),null),this.setActiveDescendant(),A(this.inputElement,{"aria-expanded":"true"}),C([this.inputWrapper.container],Wl),ti.add(document,"mousedown",this.documentClickHandler,this)}},e.prototype.formatValues=function(t){var e;return"number"==typeof t?e=y(t):"string"==typeof t&&(e=t.match(/px|%|em/)?t:isNaN(parseInt(t,10))?t:y(t)),e},e.prototype.popupAlignment=function(t){if(t.popup.position.X=this.formatValues(t.popup.position.X),t.popup.position.Y=this.formatValues(t.popup.position.Y),isNaN(parseFloat(t.popup.position.X))&&isNaN(parseFloat(t.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(t.popup.position.X))||(this.popupObj.offsetX=parseFloat(t.popup.position.X)),isNaN(parseFloat(t.popup.position.Y))||(this.popupObj.offsetY=parseFloat(t.popup.position.Y)),mi.isDevice)"center"===t.popup.position.X&&"center"===t.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(t.popup.position.X){case"left":break;case"right":t.popup.offsetX=this.containerStyle.width;break;case"center":t.popup.offsetX=-this.containerStyle.width/2}switch(t.popup.position.Y){case"top":case"bottom":break;case"center":t.popup.offsetY=-this.containerStyle.height/2}"center"===t.popup.position.X&&"center"===t.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},e.prototype.getPersistData=function(){var t=["value"];return this.addOnPersist(t)},e.prototype.getModuleName=function(){return"timepicker"},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];switch(r){case"placeholder":rs.setPlaceholder(t.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",t.placeholder);break;case"readonly":rs.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"cssClass":this.inputWrapper.container.className+=" "+t.cssClass,this.popupWrapper&&(this.popupWrapper.className+=" "+t.cssClass),this.setProperties({cssClass:t.cssClass},!0);break;case"enabled":this.setProperties({enabled:t.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:t.enableRtl},!0),this.setEnableRtl();break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0),this.setZIndex();break;case"min":case"max":this.getProperty(t,r);break;case"showClearButton":rs.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:t.locale},!0),this.globalize=new Ki(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value);break;case"width":L(this.inputWrapper.container,{width:this.setWidth(t.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:t.format},!0),this.checkTimeFormat(),this.setValue(this.value);break;case"value":this.invalidValueString=null,this.checkInvalidValue(t.value),t.value=this.value,this.invalidValueString?(rs.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton),this.checkErrorState(this.invalidValueString)):("string"==typeof t.value?(this.setProperties({value:this.checkDateValue(new Date(t.value))},!0),t.value=this.value):(t.value&&+new Date(+t.value).setMilliseconds(0))!==+this.value&&(t.value=this.checkDateValue(new Date(""+t.value))),this.initValue=t.value,t.value=this.compareFormatChange(this.checkValue(t.value))),this.checkValueChange(null,!1);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,rs.removeFloating(this.inputWrapper),rs.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.invalidValueString=null,t.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:t.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(t.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:t.scrollTo},!0)):this.setProperties({scrollTo:null},!0)}}},e.prototype.checkInValue=function(t){return t instanceof Date?t.toUTCString():""+t},Bl([G(null)],e.prototype,"width",void 0),Bl([G(null)],e.prototype,"cssClass",void 0),Bl([G(!1)],e.prototype,"strictMode",void 0),Bl([G(null)],e.prototype,"format",void 0),Bl([G(!0)],e.prototype,"enabled",void 0),Bl([G(!1)],e.prototype,"readonly",void 0),Bl([G("Never")],e.prototype,"floatLabelType",void 0),Bl([G(null)],e.prototype,"placeholder",void 0),Bl([G(1e3)],e.prototype,"zIndex",void 0),Bl([G(!1)],e.prototype,"enablePersistence",void 0),Bl([G(!0)],e.prototype,"showClearButton",void 0),Bl([G(30)],e.prototype,"step",void 0),Bl([G(null)],e.prototype,"scrollTo",void 0),Bl([G(null)],e.prototype,"value",void 0),Bl([G(null)],e.prototype,"min",void 0),Bl([G(null)],e.prototype,"max",void 0),Bl([G(!0)],e.prototype,"allowEdit",void 0),Bl([G(!1)],e.prototype,"enableRtl",void 0),Bl([Q()],e.prototype,"change",void 0),Bl([Q()],e.prototype,"created",void 0),Bl([Q()],e.prototype,"destroyed",void 0),Bl([Q()],e.prototype,"open",void 0),Bl([Q()],e.prototype,"itemRender",void 0),Bl([Q()],e.prototype,"close",void 0),Bl([Q()],e.prototype,"blur",void 0),Bl([Q()],e.prototype,"focus",void 0),e=Bl([Z],e)}(tr),Xl=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kl=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ql=(new Date).getDate(),Zl=(new Date).getMonth(),Jl=(new Date).getFullYear(),$l=(new Date).getHours(),tu=(new Date).getMinutes(),eu=(new Date).getSeconds(),nu=(new Date).getMilliseconds(),iu=fl.li,ru=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.valueWithMinutes=null,i.previousDateTime=null,i}return Xl(e,t),e.prototype.focusHandler=function(){C([this.inputWrapper.container],"e-input-focus")},e.prototype.focusIn=function(){t.prototype.focusIn.call(this)},e.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),E([this.inputWrapper.container],["e-input-focus"]))},e.prototype.blurHandler=function(t){if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();E([this.inputWrapper.container],"e-input-focus");var e={model:this};this.isTimePopupOpen()&&this.hide(t),this.trigger("blur",e)},e.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],h(this.rippleFn)||this.rippleFn());var e={"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"};this.inputElement&&(rs.removeAttributes(e,this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&D(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),t.prototype.destroy.call(this)},e.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,this.checkAttributes();var e={placeholder:this.placeholder};this.l10n=new pr("datetimepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),t.prototype.render.call(this),this.createInputElement(),this.bindInputEvents(),this.setValue(),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1))},e.prototype.setValue=function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var e=this.validateMinMaxRange(this.initValue);rs.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else h(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,t.prototype.updateInput.call(this)},e.prototype.validateMinMaxRange=function(t){var e=t;return this.isDateObject(t)?e=this.validateValue(t):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(e),e},e.prototype.checkValidState=function(t){this.isValidState=!0,this.strictMode||(+t>+this.max||+t<+this.min)&&(this.isValidState=!1),this.checkErrorState()},e.prototype.checkErrorState=function(){this.isValidState?E([this.inputWrapper.container],"e-error"):C([this.inputWrapper.container],"e-error"),A(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},e.prototype.validateValue=function(t){var e=t;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),e=this.max):+t<+this.min?e=this.min:+t>+this.max&&(e=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),e=t),e},e.prototype.disablePopupButton=function(t){t?(C([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled"),this.hide()):E([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled")},e.prototype.getFormattedValue=function(t){var e;return h(t)?null:(e="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(t,e))},e.prototype.isDateObject=function(t){return!h(t)&&!isNaN(+t)},e.prototype.createInputElement=function(){E([this.inputElement],"e-datepicker"),E([this.inputWrapper.container],"e-date-wrapper"),C([this.inputWrapper.container],"e-datetime-wrapper"),C([this.inputElement],"e-datetimepicker"),this.renderTimeIcon()},e.prototype.renderTimeIcon=function(){this.timeIcon=rs.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},e.prototype.bindInputEvents=function(){ti.add(this.timeIcon,"mousedown",this.timeHandler,this),ti.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),ti.add(this.inputElement,"blur",this.blurHandler,this),ti.add(this.inputElement,"focus",this.focusHandler,this),this.keyboardHandler=new hr(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.keyConfigs})},e.prototype.unBindInputEvents=function(){ti.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),ti.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(ti.remove(this.inputElement,"blur",this.blurHandler),ti.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},e.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?o("timeFormats.short",at()):this.getCultureTimeObject(Wi,""+this.locale):this.timeFormat},e.prototype.cldrDateTimeFormat=function(){var t=new Ki(this.locale),e=t.getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.getCldrFormat("time"):this.formatString},e.prototype.getCldrFormat=function(t){return"en"===this.locale||"en-US"===this.locale?o("timeFormats.short",at()):this.getCultureTimeObject(Wi,""+this.locale)},e.prototype.isNullOrEmpty=function(t){return!!(h(t)||"string"==typeof t&&""===t.trim())},e.prototype.getCultureTimeObject=function(t,e){return"Gregorian"===this.calendarMode?o("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",t):o("main."+this.locale+".dates.calendars.islamic.timeFormats.short",t)},e.prototype.timeHandler=function(e){mi.isDevice&&this.element.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&t.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),C([this.inputWrapper.container],["e-input-focus"])))},e.prototype.dateHandler=function(t){t.currentTarget===this.inputWrapper.buttons[0]&&t.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(t),h(this.popupWrapper)||this.popupCreation("date",t))},e.prototype.show=function(e,n){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(n),t.prototype.show.call(this),this.popupCreation("date",n)):(this.isDatePopupOpen()&&this.hide(n),this.popupCreation("time",n)))},e.prototype.toggle=function(e){this.isDatePopupOpen()?(t.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),t.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},e.prototype.listCreation=function(){var t;t="Gregorian"===this.calendarMode?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var e=h(this.value)?""!==this.inputElement.value?t:new Date:this.value;this.valueWithMinutes=e,this.listWrapper=_("div",{className:"e-content",attrs:{tabindex:"0"}});var n=this.startTime(e),i=this.endTime(e),r=ml.createListItems(this.createElement,n,i,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=r.collection,this.listTag=r.list,A(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),k([r.list],this.listWrapper),this.wireTimeListEvents();var o={duration:300,selector:"."+iu};this.rippleFn=tt(this.listWrapper,o),this.liCollections=this.listWrapper.querySelectorAll("."+iu)},e.prototype.popupCreation=function(t,e){mi.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===t?!this.readonly&&this.popupWrapper&&(C([this.popupWrapper],"e-datetimepopup-wrapper"),A(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=_("div",{className:"e-datetimepicker e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),h(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!h(this.step)&&this.step>0&&(this.listCreation(),k([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(e),this.popupObject.refreshPosition(this.inputElement))},e.prototype.openPopup=function(t){if(this.preventArgs={cancel:!1,popup:this.popupObject,event:t||null},this.trigger("open",this.preventArgs),!this.preventArgs.cancel&&!this.readonly){var e={name:"FadeIn",duration:100};1e3===this.zIndex?this.popupObject.show(new gi(e),this.element):this.popupObject.show(new gi(e),null),C([this.inputWrapper.container],["e-icon-anim"]),A(this.inputElement,{"aria-expanded":"true"}),ti.add(document,"mousedown",this.documentClickHandler,this)}},e.prototype.documentClickHandler=function(t){t.preventDefault();var e=t.target;N(e,"#"+(this.popupObject&&this.popupObject.element.id))||e===this.inputElement||e===this.timeIcon||e===this.inputWrapper.container?e!==this.inputElement&&(mi.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(mi.isIE||"edge"===mi.info.name),t.preventDefault())):this.isTimePopupOpen()&&this.hide(t)},e.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains("e-datetimepicker"))},e.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-datetimepopup-wrapper"))},e.prototype.renderPopup=function(){var t=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),mi.isDevice&&(this.timeModal=_("div"),this.timeModal.className="e-datetimepicker e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal));this.popupObject=new yo(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:mi.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:mi.isDevice?document.body:this.inputWrapper.container,position:mi.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){t.dateTimeWrapper.style.visibility="visible",C([t.timeIcon],"e-active"),mi.isDevice||(t.inputEvent=new hr(t.inputWrapper.container,{keyAction:t.TimeKeyActionHandle.bind(t),keyConfigs:t.timekeyConfigure,eventName:"keydown"}))},close:function(){E([t.timeIcon],"e-active"),t.unWireTimeListEvents(),t.inputElement.setAttribute("aria-activedescendant","null"),P(t.popupObject.element),t.popupObject.destroy(),t.dateTimeWrapper.innerHTML="",t.listWrapper=t.dateTimeWrapper=void 0,t.inputEvent&&t.inputEvent.destroy()}}),this.popupObject.element.style.maxHeight="250px"},e.prototype.setDimension=function(t){return t="number"==typeof t?y(t):"string"==typeof t?t:"100%"},e.prototype.setPopupWidth=function(){var t=this.setDimension(this.width);if(t.indexOf("%")>-1){t=(this.containerStyle.width*parseFloat(t)/100).toString()+"px"}return t},e.prototype.wireTimeListEvents=function(){ti.add(this.listWrapper,"click",this.onMouseClick,this),mi.isDevice||(ti.add(this.listWrapper,"mouseover",this.onMouseOver,this),ti.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},e.prototype.unWireTimeListEvents=function(){this.listWrapper&&(ti.remove(this.listWrapper,"click",this.onMouseClick),ti.remove(document,"mousedown touchstart",this.documentClickHandler),mi.isDevice||(ti.add(this.listWrapper,"mouseover",this.onMouseOver,this),ti.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},e.prototype.onMouseOver=function(t){var e=N(t.target,"."+iu);this.setTimeHover(e,"e-hover")},e.prototype.onMouseLeave=function(){this.removeTimeHover("e-hover")},e.prototype.setTimeHover=function(t,e){this.enabled&&this.isValidLI(t)&&!t.classList.contains(e)&&(this.removeTimeHover(e),C([t],e))},e.prototype.getPopupHeight=function(){var t=parseInt("250px",10),e=this.dateTimeWrapper.getBoundingClientRect().height;return e>t?t:e},e.prototype.changeEvent=function(e){+this.previousDateTime!=+this.value&&(t.prototype.changeEvent.call(this,e),this.inputElement.focus(),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},e.prototype.updateValue=function(t){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:t||null,isInteracted:!h(t),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)},e.prototype.setTimeScrollPosition=function(){var t;t=this.selectedElement,h(t)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(t)},e.prototype.findScrollTop=function(t){var e=this.getPopupHeight(),n=t.nextElementSibling,i=n?n.offsetTop:t.offsetTop,r=t.getBoundingClientRect().height;i+t.offsetTop>e?this.dateTimeWrapper.scrollTop=n?i-(e/2+r/2):i:this.dateTimeWrapper.scrollTop=0},e.prototype.setScrollTo=function(){var t,e=this.dateTimeWrapper.querySelectorAll("."+iu);if(e.length>=0){var n=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();t=e[Math.round((i-n)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;h(t)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(t)},e.prototype.setInputValue=function(t){if("date"===t)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var e=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));rs.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}this.updateIconState()},e.prototype.getFullDateTime=function(){var t=null;return t=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(t)},e.prototype.combineDateTime=function(t){if(this.isDateObject(t)){var e=this.previousDate.getDate(),n=this.previousDate.getMonth(),i=this.previousDate.getFullYear(),r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return new Date(i,n,e,r,o,s)}return this.previousDate},e.prototype.onMouseClick=function(t){var e=t.target,n=this.selectedElement=N(e,"."+iu);n&&n.classList.contains(iu)&&(this.timeValue=n.getAttribute("data-value"),this.hide(t)),this.setSelection(n,t)},e.prototype.setSelection=function(t,e){if(this.isValidLI(t)&&!t.classList.contains("e-active")){t.getAttribute("data-value");this.selectedElement=t;var n=Array.prototype.slice.call(this.liCollections).indexOf(t);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),C([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(e)}},e.prototype.setTimeActiveClass=function(){var t=h(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!h(t)){var e=t.querySelectorAll("."+iu);if(e.length)for(var n=0;n<e.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){e[n].setAttribute("aria-selected","true"),this.selectedElement=e[n],this.activeIndex=n,this.setTimeActiveDescendant();break}}},e.prototype.setTimeActiveDescendant=function(){h(this.selectedElement)?A(this.inputElement,{"aria-activedescendant":"null"}):A(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},e.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),h(this.selectedElement)||(C([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},e.prototype.removeTimeSelection=function(){if(this.removeTimeHover("e-hover"),!h(this.dateTimeWrapper)){var t=this.dateTimeWrapper.querySelectorAll(".e-active");t.length&&(E(t,"e-active"),t[0].removeAttribute("aria-selected"))}},e.prototype.removeTimeHover=function(t){var e=this.getTimeHoverItem(t);e&&e.length&&E(e,t)},e.prototype.getTimeHoverItem=function(t){var e,n=h(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return h(n)||(e=n.querySelectorAll("."+t)),e},e.prototype.isValidLI=function(t){return t&&t.classList.contains(iu)&&!t.classList.contains("e-disabled")},e.prototype.calculateStartEnd=function(t,e,n){var i=t.getDate(),r=t.getMonth(),o=t.getFullYear(),s=t.getHours(),a=t.getMinutes(),l=t.getSeconds(),u=t.getMilliseconds();return e?"starttime"===n?new Date(o,r,i,0,0,0):new Date(o,r,i,23,59,59):new Date(o,r,i,s,a,l,u)},e.prototype.startTime=function(t){var e,n,i,r=this.min;return i=null===t?new Date:t,+i.getDate()==+r.getDate()&&+i.getMonth()==+r.getMonth()&&+i.getFullYear()==+r.getFullYear()||+new Date(i.getFullYear(),i.getMonth(),i.getDate())<=+new Date(r.getFullYear(),r.getMonth(),r.getDate())?(n=!1,e=this.min):+i<+this.max&&+i>+this.min?(n=!0,e=i):+i>=+this.max&&(n=!0,e=this.max),this.calculateStartEnd(e,n,"starttime")},e.prototype.endTime=function(t){var e,n,i,r=this.max;return i=null===t?new Date:t,+i.getDate()==+r.getDate()&&+i.getMonth()==+r.getMonth()&&+i.getFullYear()==+r.getFullYear()||+new Date(i.getUTCFullYear(),i.getMonth(),i.getDate())>=+new Date(r.getFullYear(),r.getMonth(),r.getDate())?(n=!1,e=this.max):+i<+this.max&&+i>+this.min?(n=!0,e=i):+i<=+this.min&&(n=!0,e=this.min),this.calculateStartEnd(e,n,"endtime")},e.prototype.hide=function(e){(this.popupObj||this.dateTimeWrapper)&&(this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null},h(this.popupObj)&&this.trigger("close",this.preventArgs),this.preventArgs.cancel||(this.isDatePopupOpen()?t.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),E([document.body],"e-time-overflow"),mi.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant()))),mi.isDevice&&this.allowEdit&&!this.readonly&&this.element.removeAttribute("readonly"),this.setAllowEdit()},e.prototype.closePopup=function(t){if(this.isTimePopupOpen()&&this.popupObject){var e={name:"FadeOut",duration:100,delay:0};this.popupObject.hide(new gi(e)),this.inputWrapper.container.classList.remove("e-icon-anim"),A(this.inputElement,{"aria-expanded":"false"}),ti.remove(document,"mousedown touchstart",this.documentClickHandler)}},e.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),t.prototype.preRender.call(this),E([this.inputElementCopy],["e-datetimepicker"])},e.prototype.getProperty=function(t,e){"min"===e?this.setProperties({min:this.validateValue(t.min)},!0):this.setProperties({max:this.validateValue(t.max)},!0)},e.prototype.checkAttributes=function(){for(var t,e=["style","name","step","disabled","readonly","value","min","max","placeholder","type"],n=0,i=e;n<i.length;n++){var r=i[n];if(!h(this.inputElement.getAttribute(r)))switch(r){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"readonly":var o=!h(this.inputElement.getAttribute(r));this.setProperties({readonly:o},!0);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(r);break;case"min":t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!0);break;case"disabled":var s=h(this.inputElement.getAttribute(r));this.setProperties({enabled:s},!0);break;case"max":t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!0)}}},e.prototype.requiredModules=function(){var t=[];return this&&t.push({args:[this],member:"islamic"}),t},e.prototype.getTimeActiveElement=function(){return h(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll(".e-active")},e.prototype.createDateObj=function(t){return t instanceof Date?t:null},e.prototype.getDateObject=function(t){if(!this.isNullOrEmpty(t)){var e=this.createDateObj(t),n=this.valueWithMinutes,i=!h(n);if(this.checkDateValue(e)){var r=i?n.getDate():Ql,o=i?n.getMonth():Zl,s=i?n.getFullYear():Jl,a=i?n.getHours():$l,l=i?n.getMinutes():tu,u=i?n.getSeconds():eu,c=i?n.getMilliseconds():nu;return new Date(s,o,r,a,l,u,c)}}return null},e.prototype.findNextTimeElement=function(t){var e=this.inputElement.value,n=h(this.valueWithMinutes)?this.createDateObj(e):this.getDateObject(this.valueWithMinutes),i=null,r=this.liCollections.length;if(!h(this.activeIndex)||!h(this.checkDateValue(n))){if("home"===t.action)i=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===t.action)i=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===t.action){for(var o=0;o<r;o++)if(+n<this.timeCollections[o]){i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(var o=r-1;o>=0;o--)if(+n>this.timeCollections[o]){i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(h(i)?null:new Date(i))}},e.prototype.setTimeValue=function(t,e){var n,i,r=this.validateMinMaxRange(e),o=this.createDateObj(r);return this.getFormattedValue(o)!==(h(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=h(o)?null:o,i=new Date(+this.valueWithMinutes)):(this.strictMode&&(t=o),this.valueWithMinutes=this.checkDateValue(t),i=new Date(+this.valueWithMinutes)),n="Gregorian"===this.calendarMode?this.globalize.formatDate(i,{format:h(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(i,{format:h(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&h(i),rs.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),i},e.prototype.timeElementValue=function(t){if(!h(this.checkDateValue(t))&&!this.isNullOrEmpty(t)){var e=t instanceof Date?t:this.getDateObject(t);return this.setTimeValue(e,t)}return null},e.prototype.timeKeyHandler=function(t){if(!(h(this.step)||this.step<=0)){var e=this.timeCollections.length;if(h(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(h(this.value)&&h(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(t));else{var n=void 0;if(t.keyCode>=37&&t.keyCode<=40){var i=40===t.keyCode||39===t.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=i=this.activeIndex===e?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?e-1:this.activeIndex,n=h(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else"home"===t.action?(this.activeIndex=0,n=this.timeCollections[0]):"end"===t.action&&(this.activeIndex=e-1,n=this.timeCollections[e-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||t&&"click"===t.type||this.setTimeScrollPosition()}},e.prototype.TimeKeyActionHandle=function(t){if(this.enabled)switch("right"!==t.action&&"left"!==t.action&&"tab"!==t.action&&t.preventDefault(),t.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(t);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(t),this.hide(t),C([this.inputWrapper.container],"e-input-focus"),this.isNavigate=!1,t.stopPropagation();break;case"escape":this.hide(t);break;default:this.isNavigate=!1}},e.prototype.inputKeyAction=function(t){switch(t.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(t)}},e.prototype.onPropertyChanged=function(e,n){for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];switch(o){case"value":this.cldrDateTimeFormat();this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),rs.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(e,o),this.updateInput();break;case"enableRtl":rs.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":rs.setCssClass(e.cssClass,[this.inputWrapper.container]),this.dateTimeWrapper&&(this.dateTimeWrapper.className+=" "+e.cssClass);break;case"locale":this.globalize=new Ki(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),rs.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),t.prototype.updateInput.call(this);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue();break;case"placeholder":rs.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":rs.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1),this.bindEvents();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":rs.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,rs.removeFloating(this.inputWrapper),rs.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0);break;default:t.prototype.onPropertyChanged.call(this,e,n)}this.hide(null)}},e.prototype.getModuleName=function(){return"datetimepicker"},e.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.inputElement.value},Kl([G(null)],e.prototype,"timeFormat",void 0),Kl([G(30)],e.prototype,"step",void 0),Kl([G(null)],e.prototype,"scrollTo",void 0),Kl([G(1e3)],e.prototype,"zIndex",void 0),Kl([G(!1)],e.prototype,"enableRtl",void 0),Kl([G(!1)],e.prototype,"enablePersistence",void 0),Kl([G(!0)],e.prototype,"allowEdit",void 0),Kl([G(!1)],e.prototype,"isMultiSelection",void 0),Kl([G(null)],e.prototype,"values",void 0),Kl([G(!0)],e.prototype,"showClearButton",void 0),Kl([G(null)],e.prototype,"placeholder",void 0),Kl([G(!1)],e.prototype,"strictMode",void 0),Kl([Q()],e.prototype,"open",void 0),Kl([Q()],e.prototype,"close",void 0),Kl([Q()],e.prototype,"blur",void 0),Kl([Q()],e.prototype,"focus",void 0),Kl([Q()],e.prototype,"created",void 0),Kl([Q()],e.prototype,"destroyed",void 0),e=Kl([Z],e)}(tl),ou=n("qbdv");n.d(e,"a",function(){return Yu}),n.d(e,!1,function(){return lo}),n.d(e,!1,function(){return uo}),n.d(e,!1,function(){return co}),n.d(e,!1,function(){return tl}),n.d(e,!1,function(){return Fl}),n.d(e,!1,function(){return Hl}),n.d(e,!1,function(){return ml}),n.d(e,!1,function(){return Gl}),n.d(e,!1,function(){return ru});var su=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),au=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},lu=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uu=["calendarMode","depth","enablePersistence","enableRtl","firstDayOfWeek","isMultiSelection","locale","max","min","showTodayButton","start","value","values","weekNumber"],cu=["focus","blur","change","created","destroyed","navigated","renderDayCell","valueChange","valuesChange"],hu=["value","values"],pu=du=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var s=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(s)&&o.injectedModules.push(s)}catch(t){}return o.registerEvents(cu),o.addTwoWay.call(o,hu),vt("currentInstance",o,o.viewContainerRef),o}return su(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(uo);pu.decorators=[{type:Gn.o,args:[{selector:"ejs-calendar",inputs:uu,outputs:cu,template:"",changeDetection:Gn.k.OnPush,providers:[{provide:Xn.d,useExisting:Object(Gn._24)(function(){return du}),multi:!0}],queries:{}}]}],pu.ctorParameters=function(){return[{type:Gn.v},{type:Gn._2},{type:Gn._18},{type:Gn.E}]},pu=du=au([dt([Vr,Rr]),lu("design:paramtypes",[Gn.v,Gn._2,Gn._18,Gn.E])],pu);var du,fu=function(){function t(){}return t}();fu.decorators=[{type:Gn.M,args:[{imports:[ou.b],declarations:[pu],exports:[pu]}]}],fu.ctorParameters=function(){return[]};var mu={provide:"CalendarsIslamic",useValue:co},vu=function(){function t(){}return t}();vu.decorators=[{type:Gn.M,args:[{imports:[ou.b,fu],exports:[fu],providers:[mu]}]}],vu.ctorParameters=function(){return[]};var yu=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gu=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bu=["allowEdit","calendarMode","cssClass","depth","enablePersistence","enableRtl","enabled","firstDayOfWeek","floatLabelType","format","isMultiSelection","locale","max","min","placeholder","readonly","showClearButton","showTodayButton","start","strictMode","value","values","weekNumber","width","zIndex"],wu=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],_u=["value"],Cu=Eu=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var s=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(s)&&o.injectedModules.push(s)}catch(t){}return o.registerEvents(wu),o.addTwoWay.call(o,_u),vt("currentInstance",o,o.viewContainerRef),o}return su(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(tl);Cu.decorators=[{type:Gn.o,args:[{selector:"ejs-datepicker",inputs:bu,outputs:wu,template:"",changeDetection:Gn.k.OnPush,providers:[{provide:Xn.d,useExisting:Object(Gn._24)(function(){return Eu}),multi:!0}],queries:{}}]}],Cu.ctorParameters=function(){return[{type:Gn.v},{type:Gn._2},{type:Gn._18},{type:Gn.E}]},Cu=Eu=yu([dt([Vr,Rr]),gu("design:paramtypes",[Gn.v,Gn._2,Gn._18,Gn.E])],Cu);var Eu,xu=function(){function t(){}return t}();xu.decorators=[{type:Gn.M,args:[{imports:[ou.b],declarations:[Cu],exports:[Cu]}]}],xu.ctorParameters=function(){return[]};var Su=function(){function t(){}return t}();Su.decorators=[{type:Gn.M,args:[{imports:[ou.b,xu],exports:[xu],providers:[]}]}],Su.ctorParameters=function(){return[]};var Tu=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ku=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mu=["allowEdit","cssClass","enablePersistence","enableRtl","enabled","floatLabelType","format","locale","max","min","placeholder","readonly","scrollTo","showClearButton","step","strictMode","value","width","zIndex"],Du=["blur","change","close","created","destroyed","focus","itemRender","open","valueChange"],Pu=["value"],Au=Ou=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[],o.registerEvents(Du),o.addTwoWay.call(o,Pu),vt("currentInstance",o,o.viewContainerRef),o}return su(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(Gl);Au.decorators=[{type:Gn.o,args:[{selector:"ejs-timepicker",inputs:Mu,outputs:Du,template:"",changeDetection:Gn.k.OnPush,providers:[{provide:Xn.d,useExisting:Object(Gn._24)(function(){return Ou}),multi:!0}],queries:{}}]}],Au.ctorParameters=function(){return[{type:Gn.v},{type:Gn._2},{type:Gn._18},{type:Gn.E}]},Au=Ou=Tu([dt([Vr,Rr]),ku("design:paramtypes",[Gn.v,Gn._2,Gn._18,Gn.E])],Au);var Ou,Iu=function(){function t(){}return t}();Iu.decorators=[{type:Gn.M,args:[{imports:[ou.b],declarations:[Au],exports:[Au]}]}],Iu.ctorParameters=function(){return[]};var Nu=function(){function t(){}return t}();Nu.decorators=[{type:Gn.M,args:[{imports:[ou.b,Iu],exports:[Iu],providers:[]}]}],Nu.ctorParameters=function(){return[]};var Lu=["end","label","start"],Vu=[],Ru=function(t){function e(e){var n=t.call(this)||this;return n.viewContainerRef=e,vt("currentInstance",n,n.viewContainerRef),n.registerEvents(Vu),n}return su(e,t),e}(Nr);Ru.decorators=[{type:Gn.u,args:[{selector:"e-presets>e-preset",inputs:Lu,outputs:Vu,queries:{}}]}],Ru.ctorParameters=function(){return[{type:Gn._18}]};var Fu=function(t){function e(){return t.call(this,"presets")||this}return su(e,t),e}(Lr);Fu.decorators=[{type:Gn.u,args:[{selector:"ejs-daterangepicker>e-presets",queries:{children:new Gn.t(Ru)}}]}],Fu.ctorParameters=function(){return[]};var Hu=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ju=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bu=["allowEdit","calendarMode","cssClass","depth","enablePersistence","enableRtl","enabled","endDate","firstDayOfWeek","floatLabelType","format","locale","max","maxDays","min","minDays","placeholder","presets","readonly","separator","showClearButton","start","startDate","strictMode","value","weekNumber","width","zIndex"],Uu=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","select","startDateChange","endDateChange","valueChange"],qu=["startDate","endDate","value"],zu=Wu=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.tags=["presets"],o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[],o.registerEvents(Uu),o.addTwoWay.call(o,qu),vt("currentInstance",o,o.viewContainerRef),o}return su(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(Hl);zu.decorators=[{type:Gn.o,args:[{selector:"ejs-daterangepicker",inputs:Bu,outputs:Uu,template:"",changeDetection:Gn.k.OnPush,providers:[{provide:Xn.d,useExisting:Object(Gn._24)(function(){return Wu}),multi:!0}],queries:{childPresets:new Gn.s(Fu)}}]}],zu.ctorParameters=function(){return[{type:Gn.v},{type:Gn._2},{type:Gn._18},{type:Gn.E}]},zu.propDecorators={start:[{type:Gn.s,args:["start"]}],end:[{type:Gn.s,args:["end"]}]},Hu([gt(),ju("design:type",Object)],zu.prototype,"start",void 0),Hu([gt(),ju("design:type",Object)],zu.prototype,"end",void 0),zu=Wu=Hu([dt([Vr,Rr]),ju("design:paramtypes",[Gn.v,Gn._2,Gn._18,Gn.E])],zu);var Wu,Yu=function(){function t(){}return t}();Yu.decorators=[{type:Gn.M,args:[{imports:[ou.b],declarations:[zu,Ru,Fu],exports:[zu,Ru,Fu]}]}],Yu.ctorParameters=function(){return[]};var Gu=function(){function t(){}return t}();Gu.decorators=[{type:Gn.M,args:[{imports:[ou.b,Yu],exports:[Yu],providers:[]}]}],Gu.ctorParameters=function(){return[]};var Xu=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ku=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qu=["allowEdit","calendarMode","cssClass","depth","enablePersistence","enableRtl","enabled","firstDayOfWeek","floatLabelType","format","isMultiSelection","locale","max","min","placeholder","readonly","scrollTo","showClearButton","showTodayButton","start","step","strictMode","timeFormat","value","values","weekNumber","width","zIndex"],Zu=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],Ju=["value"],$u=tc=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var s=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(s)&&o.injectedModules.push(s)}catch(t){}return o.registerEvents(Zu),o.addTwoWay.call(o,Ju),vt("currentInstance",o,o.viewContainerRef),o}return su(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(ru);$u.decorators=[{type:Gn.o,args:[{selector:"ejs-datetimepicker",inputs:Qu,outputs:Zu,template:"",changeDetection:Gn.k.OnPush,providers:[{provide:Xn.d,useExisting:Object(Gn._24)(function(){return tc}),multi:!0}],queries:{}}]}],$u.ctorParameters=function(){return[{type:Gn.v},{type:Gn._2},{type:Gn._18},{type:Gn.E}]},$u=tc=Xu([dt([Vr,Rr]),Ku("design:paramtypes",[Gn.v,Gn._2,Gn._18,Gn.E])],$u);var tc,ec=function(){function t(){}return t}();ec.decorators=[{type:Gn.M,args:[{imports:[ou.b],declarations:[$u],exports:[$u]}]}],ec.ctorParameters=function(){return[]};var nc=function(){function t(){}return t}();nc.decorators=[{type:Gn.M,args:[{imports:[ou.b,ec],exports:[ec],providers:[]}]}],nc.ctorParameters=function(){return[]}},RdI5:function(t,e,n){"use strict";function i(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function r(t){return o=t,i}var o,s=n("XRvs");e.tryCatch=r},"T14+":function(t,e,n){"use strict";function i(t){return t instanceof u||"syncErrorThrowable"in t&&t[l.rxSubscriber]}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("fclq"),s=n("xFbG"),a=n("LiYJ"),l=n("dkwD"),u=function(t){function e(e,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!e){this.destination=a.empty;break}if("object"==typeof e){if(i(e)){var o=e[l.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new c(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,n,r)}}return r(e,t),e.prototype[l.rxSubscriber]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(s.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,i,r){t.call(this),this._parentSubscriber=e;var s,l=this;o.isFunction(n)?s=n:n&&(s=n.next,i=n.error,r=n.complete,n!==a.empty&&(l=Object.create(n),o.isFunction(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=s,this._error=i,this._complete=r}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},TA58:function(t,e,n){"use strict";function i(t){var e=t[c.iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new d(t);if(!e)throw new TypeError("object is not iterable");return t[c.iterator]()}function r(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>f?f:e):e}function o(t){return"number"==typeof t&&l.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=n("zijX"),u=n("bKpL"),c=n("2B7B"),h=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=i(e)}return a(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,i=t.iterator,r=t.subscriber;if(n)return void r.error(t.error);var o=i.next();return o.done?void r.complete():(r.next(o.value),t.index=e+1,r.closed?void("function"==typeof i.return&&i.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,i=n.iterator,r=n.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:i,subscriber:t});for(;;){var o=i.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof i.return&&i.return();break}}},e}(u.Observable);e.IteratorObservable=h;var p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[c.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),d=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=r(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[c.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),f=Math.pow(2,53)-1},THYR:function(t,e,n){"use strict";function i(t,e){return r.every(t,e)(this)}var r=n("GiTH");e.every=i},TIdC:function(t,e,n){"use strict";function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeAll(t)(this)}var r=n("8rcZ");e.mergeAll=i},TQn8:function(t,e,n){"use strict";function i(t,e){return r.concatMap(t,e)(this)}var r=n("+FJ1");e.concatMap=i},TpsG:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.EmptyError=r},Tq0x:function(t,e,n){"use strict";function i(t,e){return arguments.length>=2?r.reduce(t,e)(this):r.reduce(t)(this)}var r=n("JwCl");e.reduce=i},WSkQ:function(t,e,n){"use strict";function i(t,e,n){return r.last(t,e,n)(this)}var r=n("zrH4");e.last=i},XRvs:function(t,e,n){"use strict";e.errorObject={e:{}}},XvrG:function(t,e,n){"use strict";function i(t){return function(e){return 0===t?new a.EmptyObservable:e.lift(new l(t))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("uT+d"),a=n("fcnB");e.takeLast=i;var l=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;if(e.length<n)e.push(t);else{e[i%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()},e}(o.Subscriber)},Yuqz:function(t,e,n){"use strict";function i(t){return t}e.identity=i},Z5ED:function(t,e,n){"use strict";function i(){}e.noop=i},aOKN:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return i(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,i=t.subscriber;if(e)return void i.complete();i.next(n),i.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(r.Observable);e.ScalarObservable=o},bKpL:function(t,e,n){"use strict";var i=n("zijX"),r=n("rf3q"),o=n("DP67"),s=n("vxPf"),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,o=r.toSubscriber(t,e,n);if(i?i.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var r;r=n.subscribe(function(e){if(r)try{t(e)}catch(t){i(t),r.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}();e.Observable=a},bm2B:function(t,e,n){"use strict";function i(t){return null==t||0===t.length}function r(t){return null!=t}function o(t){var e=Object(N._56)(t)?Object(V.fromPromise)(t):t;if(!Object(N._55)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function s(t,e){return e.map(function(e){return e(t)})}function a(t,e){return e.map(function(e){return e(t)})}function l(t){var e=t.reduce(function(t,e){return null!=e?Object.assign({},t,e):t},{});return 0===Object.keys(e).length?null:e}function u(){return/android (\d+)/.test((Object(F.c)()?Object(F.c)().getUserAgent():"").toLowerCase())}function c(t){return t.validate?function(e){return t.validate(e)}:t}function h(t){return t.validate?function(e){return t.validate(e)}:t}function p(){throw new Error("unimplemented")}function d(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function f(t){return t.split(":")[0]}function m(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function v(t){return t.split(":")[0]}function y(t,e){return e.path.concat([t])}function g(t,e){t||C(e,"Cannot find control with"),e.valueAccessor||C(e,"No value accessor for form control with"),t.validator=z.compose([t.validator,e.validator]),t.asyncValidator=z.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function b(t,e){e.valueAccessor.registerOnChange(function(){return _(e)}),e.valueAccessor.registerOnTouched(function(){return _(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function w(t,e){null==t&&C(e,"Cannot find control with"),t.validator=z.compose([t.validator,e.validator]),t.asyncValidator=z.composeAsync([t.asyncValidator,e.asyncValidator])}function _(t){return C(t,"There is no FormControl instance attached to form control element with")}function C(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function E(t){return null!=t?z.compose(t.map(c)):null}function x(t){return null!=t?z.composeAsync(t.map(h)):null}function S(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(N._57)(e,n.currentValue)}function T(t){return ht.some(function(e){return t.constructor===e})}function k(t,e){if(!e)return null;var n=void 0,i=void 0,r=void 0;return e.forEach(function(e){e.constructor===Q?n=e:T(e)?(i&&C(t,"More than one built-in value accessor matches form control with"),i=e):(r&&C(t,"More than one custom value accessor matches form control with"),r=e)}),r||(i||(n||(C(t,"No valid value accessor for form control with"),null)))}function M(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof bt?t.controls[e]||null:t instanceof wt?t.at(e)||null:null},t))}function D(t){return Array.isArray(t)?E(t):t||null}function P(t){return Array.isArray(t)?x(t):t||null}function A(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function O(t){return!(t instanceof Rt||t instanceof Lt||t instanceof Ht)}n.d(e,"d",function(){return W}),n.d(e,"a",function(){return gt}),n.d(e,"b",function(){return bt}),n.d(e,"c",function(){return se}),n.d(e,"e",function(){return ae});var I=n("6Xbx"),N=n("/oeL"),L=n("Fhmd"),V=(n.n(L),n("QU9E")),R=(n.n(V),n("lx+J")),F=(n.n(R),n("fc+i")),H=function(){function t(){}return t.prototype.control=function(){},Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I.a(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(H),B=new N.D("NgValidators"),U=new N.D("NgAsyncValidators"),q=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,z=function(){function t(){}return t.min=function(t){return function(e){if(i(e.value)||i(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(i(e.value)||i(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return i(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return q.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(i(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,r;return"string"==typeof e?(r="^"+e+"$",n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(i(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(r);return 0==e.length?null:function(t){return l(s(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(r);return 0==e.length?null:function(t){var n=a(t,e).map(o);return R.map.call(Object(L.forkJoin)(n),l)}},t}(),W=new N.D("NgValueAccessor"),Y={provide:W,useExisting:Object(N._24)(function(){return G}),multi:!0},G=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();G.decorators=[{type:N.u,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[Y]}]}],G.ctorParameters=function(){return[{type:N._2},{type:N.v}]};var X={provide:W,useExisting:Object(N._24)(function(){return Q}),multi:!0},K=new N.D("CompositionEventMode"),Q=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!u())}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();Q.decorators=[{type:N.u,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[X]}]}],Q.ctorParameters=function(){return[{type:N._2},{type:N.v},{type:void 0,decorators:[{type:N.S},{type:N.B,args:[K]}]}]};var Z={provide:W,useExisting:Object(N._24)(function(){return J}),multi:!0},J=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();J.decorators=[{type:N.u,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Z]}]}],J.ctorParameters=function(){return[{type:N._2},{type:N.v}]};var $=function(t){function e(){var e=t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return I.a(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return p()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return p()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(H),tt={provide:W,useExisting:Object(N._24)(function(){return nt}),multi:!0},et=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}();et.decorators=[{type:N.C}],et.ctorParameters=function(){return[]};var nt=function(){function t(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get($),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}();nt.decorators=[{type:N.u,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[tt]}]}],nt.ctorParameters=function(){return[{type:N._2},{type:N.v},{type:et},{type:N.E}]},nt.propDecorators={name:[{type:N.F}],formControlName:[{type:N.F}],value:[{type:N.F}]};var it={provide:W,useExisting:Object(N._24)(function(){return rt}),multi:!0},rt=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();rt.decorators=[{type:N.u,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[it]}]}],rt.ctorParameters=function(){return[{type:N._2},{type:N.v}]};var ot={provide:W,useExisting:Object(N._24)(function(){return st}),multi:!0},st=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=N._57}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=d(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null},t.prototype._getOptionValue=function(t){var e=f(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}();st.decorators=[{type:N.u,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[ot]}]}],st.ctorParameters=function(){return[{type:N._2},{type:N.v}]},st.propDecorators={compareWith:[{type:N.F}]};var at=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(d(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();at.decorators=[{type:N.u,args:[{selector:"option"}]}],at.ctorParameters=function(){return[{type:N.v},{type:N._2},{type:st,decorators:[{type:N.S},{type:N.y}]}]},at.propDecorators={ngValue:[{type:N.F,args:["ngValue"]}],value:[{type:N.F,args:["value"]}]};var lt={provide:W,useExisting:Object(N._24)(function(){return ut}),multi:!0},ut=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=N._57}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var i=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=e._getOptionValue(s.value);i.push(a)}else for(var r=n.options,o=0;o<r.length;o++){var s=r.item(o);if(s.selected){var a=e._getOptionValue(s.value);i.push(a)}}e.value=i,t(i)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null},t.prototype._getOptionValue=function(t){var e=v(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}();ut.decorators=[{type:N.u,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[lt]}]}],ut.ctorParameters=function(){return[{type:N._2},{type:N.v}]},ut.propDecorators={compareWith:[{type:N.F}]};var ct=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(m(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(m(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();ct.decorators=[{type:N.u,args:[{selector:"option"}]}],ct.ctorParameters=function(){return[{type:N.v},{type:N._2},{type:ut,decorators:[{type:N.S},{type:N.y}]}]},ct.propDecorators={ngValue:[{type:N.F,args:["ngValue"]}],value:[{type:N.F,args:["value"]}]};var ht=[G,rt,J,st,ut,nt],pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return y(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return E(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return x(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(j),dt=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),ft={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},mt=function(t){function e(e){return t.call(this,e)||this}return I.a(e,t),e}(dt);mt.decorators=[{type:N.u,args:[{selector:"[formControlName],[ngModel],[formControl]",host:ft}]}],mt.ctorParameters=function(){return[{type:$,decorators:[{type:N._7}]}]};var vt=function(t){function e(e){return t.call(this,e)||this}return I.a(e,t),e}(dt);vt.decorators=[{type:N.u,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:ft}]}],vt.ctorParameters=function(){return[{type:j,decorators:[{type:N._7}]}]};var yt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=D(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=P(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this._touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this._pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this._status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING";var n=o(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this._errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return M(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new N.x,this._statusChanges=new N.x},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this._pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this._touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),gt=function(t){function e(e,n,i){void 0===e&&(e=null);var r=t.call(this,D(n),P(i))||this;return r._onChange=[],r._applyFormState(e),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return I.a(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._value=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n._value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this._value,e)},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(yt),bt=function(t){function e(e,n,i){var r=t.call(this,n||null,i||null)||this;return r.controls=e,r._initObservables(),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return I.a(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){n._throwIfControlMissing(i),n.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(i){n.controls[i]&&n.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof gt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(i,r){n=n||e.contains(r)&&t(i)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(yt),wt=function(t){function e(e,n,i){var r=t.call(this,n||null,i||null)||this;return r.controls=e,r._initObservables(),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return I.a(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,i){n._throwIfControlMissing(i),n.at(i).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,i){n.at(i)&&n.at(i).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof gt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(yt),_t={provide:j,useExisting:Object(N._24)(function(){return Et})},Ct=Promise.resolve(null),Et=function(t){function e(e,n){var i=t.call(this)||this;return i._submitted=!1,i.ngSubmit=new N.x,i.form=new bt({},E(e),x(n)),i}return I.a(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Ct.then(function(){var n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),g(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Ct.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;Ct.then(function(){var n=e._findContainer(t.path),i=new bt({});w(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Ct.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Ct.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(j);Et.decorators=[{type:N.u,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[_t],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Et.ctorParameters=function(){return[{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]}]};var xt={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},St=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+xt.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+xt.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+xt.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+xt.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+xt.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+xt.ngModelGroup)},t}(),Tt={provide:j,useExisting:Object(N._24)(function(){return kt})},kt=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return I.a(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Et||St.modelGroupParentException()},e}(pt);kt.decorators=[{type:N.u,args:[{selector:"[ngModelGroup]",providers:[Tt],exportAs:"ngModelGroup"}]}],kt.ctorParameters=function(){return[{type:j,decorators:[{type:N.y},{type:N._8}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]}]},kt.propDecorators={name:[{type:N.F,args:["ngModelGroup"]}]};var Mt={provide:$,useExisting:Object(N._24)(function(){return Pt})},Dt=Promise.resolve(null),Pt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._control=new gt,o._registered=!1,o.update=new N.x,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=k(o,r),o}return I.a(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),S(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?y(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return E(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return x(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){g(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof kt)&&this._parent instanceof pt?St.formGroupNameException():this._parent instanceof kt||this._parent instanceof Et||St.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||St.missingNameException()},e.prototype._updateValue=function(t){var e=this;Dt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;Dt.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})},e}($);Pt.decorators=[{type:N.u,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Mt],exportAs:"ngModel"}]}],Pt.ctorParameters=function(){return[{type:j,decorators:[{type:N.S},{type:N.y}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[W]}]}]},Pt.propDecorators={name:[{type:N.F}],isDisabled:[{type:N.F,args:["disabled"]}],model:[{type:N.F,args:["ngModel"]}],options:[{type:N.F,args:["ngModelOptions"]}],update:[{type:N.T,args:["ngModelChange"]}]};var At=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xt.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+xt.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+xt.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+xt.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xt.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+xt.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),Ot={provide:$,useExisting:Object(N._24)(function(){return It})},It=function(t){function e(e,n,i){var r=t.call(this)||this;return r.update=new N.x,r._rawValidators=e||[],r._rawAsyncValidators=n||[],r.valueAccessor=k(r,i),r}return I.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){At.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(g(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),S(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return E(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return x(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}($);It.decorators=[{type:N.u,args:[{selector:"[formControl]",providers:[Ot],exportAs:"ngForm"}]}],It.ctorParameters=function(){return[{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[W]}]}]},It.propDecorators={form:[{type:N.F,args:["formControl"]}],model:[{type:N.F,args:["ngModel"]}],update:[{type:N.T,args:["ngModelChange"]}],isDisabled:[{type:N.F,args:["disabled"]}]};var Nt={provide:j,useExisting:Object(N._24)(function(){return Lt})},Lt=function(t){function e(e,n){var i=t.call(this)||this;return i._validators=e,i._asyncValidators=n,i._submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new N.x,i}return I.a(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return g(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){A(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);w(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);w(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e._control!==n&&(b(e._control,e),n&&g(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=E(this._validators);this.form.validator=z.compose([this.form.validator,t]);var e=x(this._asyncValidators);this.form.asyncValidator=z.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||At.missingFormException()},e}(j);Lt.decorators=[{type:N.u,args:[{selector:"[formGroup]",providers:[Nt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Lt.ctorParameters=function(){return[{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]}]},Lt.propDecorators={form:[{type:N.F,args:["formGroup"]}],ngSubmit:[{type:N.T}]};var Vt={provide:j,useExisting:Object(N._24)(function(){return Rt})},Rt=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return I.a(e,t),e.prototype._checkParentType=function(){O(this._parent)&&At.groupParentException()},e}(pt);Rt.decorators=[{type:N.u,args:[{selector:"[formGroupName]",providers:[Vt]}]}],Rt.ctorParameters=function(){return[{type:j,decorators:[{type:N.S},{type:N.y},{type:N._8}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]}]},Rt.propDecorators={name:[{type:N.F,args:["formGroupName"]}]};var Ft={provide:j,useExisting:Object(N._24)(function(){return Ht})},Ht=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return I.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return y(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return E(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return x(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){O(this._parent)&&At.arrayParentException()},e}(j);Ht.decorators=[{type:N.u,args:[{selector:"[formArrayName]",providers:[Ft]}]}],Ht.ctorParameters=function(){return[{type:j,decorators:[{type:N.S},{type:N.y},{type:N._8}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]}]},Ht.propDecorators={name:[{type:N.F,args:["formArrayName"]}]};var jt={provide:$,useExisting:Object(N._24)(function(){return Bt})},Bt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._added=!1,o.update=new N.x,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=k(o,r),o}return I.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){At.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),S(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return y(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return E(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return x(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Rt)&&this._parent instanceof pt?At.ngModelGroupException():this._parent instanceof Rt||this._parent instanceof Lt||this._parent instanceof Ht||At.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}($);Bt.decorators=[{type:N.u,args:[{selector:"[formControlName]",providers:[jt]}]}],Bt.ctorParameters=function(){return[{type:j,decorators:[{type:N.S},{type:N.y},{type:N._8}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[B]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[U]}]},{type:Array,decorators:[{type:N.S},{type:N._7},{type:N.B,args:[W]}]}]},Bt.propDecorators={name:[{type:N.F,args:["formControlName"]}],model:[{type:N.F,args:["ngModel"]}],update:[{type:N.T,args:["ngModelChange"]}],isDisabled:[{type:N.F,args:["disabled"]}]};var Ut={provide:B,useExisting:Object(N._24)(function(){return zt}),multi:!0},qt={provide:B,useExisting:Object(N._24)(function(){return Wt}),multi:!0},zt=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?z.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();zt.decorators=[{type:N.u,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Ut],host:{"[attr.required]":'required ? "" : null'}}]}],zt.ctorParameters=function(){return[]},zt.propDecorators={required:[{type:N.F}]};var Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I.a(e,t),e.prototype.validate=function(t){return this.required?z.requiredTrue(t):null},e}(zt);Wt.decorators=[{type:N.u,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[qt],host:{"[attr.required]":'required ? "" : null'}}]}],Wt.ctorParameters=function(){return[]};var Yt={provide:B,useExisting:Object(N._24)(function(){return Gt}),multi:!0},Gt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?z.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Gt.decorators=[{type:N.u,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[Yt]}]}],Gt.ctorParameters=function(){return[]},Gt.propDecorators={email:[{type:N.F}]};var Xt={provide:B,useExisting:Object(N._24)(function(){return Kt}),multi:!0},Kt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=z.minLength(parseInt(this.minlength,10))},t}();Kt.decorators=[{type:N.u,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[Xt],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],Kt.ctorParameters=function(){return[]},Kt.propDecorators={minlength:[{type:N.F}]};var Qt={provide:B,useExisting:Object(N._24)(function(){return Zt}),multi:!0},Zt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=z.maxLength(parseInt(this.maxlength,10))},t}();Zt.decorators=[{type:N.u,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Qt],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],Zt.ctorParameters=function(){return[]},Zt.propDecorators={maxlength:[{type:N.F}]};var Jt={provide:B,useExisting:Object(N._24)(function(){return $t}),multi:!0},$t=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=z.pattern(this.pattern)},t}();$t.decorators=[{type:N.u,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Jt],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],$t.ctorParameters=function(){return[]},$t.propDecorators={pattern:[{type:N.F}]};var te=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),i=null!=e?e.validator:null,r=null!=e?e.asyncValidator:null;return new bt(n,i,r)},t.prototype.control=function(t,e,n){return new gt(t,e,n)},t.prototype.array=function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new wt(r,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n},t.prototype._createControl=function(t){if(t instanceof gt||t instanceof bt||t instanceof wt)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(e,n,i)}return this.control(t)},t}();te.decorators=[{type:N.C}],te.ctorParameters=function(){return[]};var ee=(new N._15("4.4.7"),function(){function t(){}return t}());ee.decorators=[{type:N.u,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],ee.ctorParameters=function(){return[]};var ne=[ee,at,ct,Q,J,rt,G,st,ut,nt,mt,vt,zt,Kt,Zt,$t,Wt,Gt],ie=[Pt,kt,Et],re=[It,Lt,Bt,Rt,Ht],oe=function(){function t(){}return t}();oe.decorators=[{type:N.M,args:[{declarations:ne,exports:ne}]}],oe.ctorParameters=function(){return[]};var se=function(){function t(){}return t}();se.decorators=[{type:N.M,args:[{declarations:ie,providers:[et],exports:[oe,ie]}]}],se.ctorParameters=function(){return[]};var ae=function(){function t(){}return t}();ae.decorators=[{type:N.M,args:[{declarations:[re],providers:[te,et],exports:[oe,re]}]}],ae.ctorParameters=function(){return[]}},cPhF:function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeMap(t,e,n)(this)}var r=n("mjx3");e.mergeMap=i},ckYf:function(t,e,n){"use strict";function i(t){return function(e,n){return fh(t(e),n)}}function r(t,e){return[t,e]}function o(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=Ih?10:o>=Nh?5:o>=Lh?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Ih?10:o>=Nh?5:o>=Lh?2:1)}function s(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Ih?r*=10:o>=Nh?r*=5:o>=Lh&&(r*=2),e<t?-r:r}function a(t){return t.length}function l(t){return"translate("+(t+.5)+",0)"}function u(t){return"translate(0,"+(t+.5)+")"}function c(t){return function(e){return+t(e)}}function h(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function p(){return!this.__axis}function d(t,e){function n(n){var l=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,u=null==o?e.tickFormat?e.tickFormat.apply(e,i):tp:o,y=Math.max(s,0)+d,g=e.range(),b=+g[0]+.5,w=+g[g.length-1]+.5,_=(e.bandwidth?h:c)(e.copy()),C=n.selection?n.selection():n,E=C.selectAll(".domain").data([null]),x=C.selectAll(".tick").data(l,e).order(),S=x.exit(),T=x.enter().append("g").attr("class","tick"),k=x.select("line"),M=x.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(T),k=k.merge(T.append("line").attr("stroke","currentColor").attr(m+"2",f*s)),M=M.merge(T.append("text").attr("fill","currentColor").attr(m,f*y).attr("dy",t===ep?"0em":t===ip?"0.71em":"0.32em")),n!==C&&(E=E.transition(n),x=x.transition(n),k=k.transition(n),M=M.transition(n),S=S.transition(n).attr("opacity",op).attr("transform",function(t){return isFinite(t=_(t))?v(t):this.getAttribute("transform")}),T.attr("opacity",op).attr("transform",function(t){var e=this.parentNode.__axis;return v(e&&isFinite(e=e(t))?e:_(t))})),S.remove(),E.attr("d",t===rp||t==np?a?"M"+f*a+","+b+"H0.5V"+w+"H"+f*a:"M0.5,"+b+"V"+w:a?"M"+b+","+f*a+"V0.5H"+w+"V"+f*a:"M"+b+",0.5H"+w),x.attr("opacity",1).attr("transform",function(t){return v(_(t))}),k.attr(m+"2",f*s),M.attr(m,f*y).text(u),C.filter(p).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===np?"start":t===rp?"end":"middle"),C.each(function(){this.__axis=_})}var i=[],r=null,o=null,s=6,a=6,d=3,f=t===ep||t===rp?-1:1,m=t===rp||t===np?"x":"y",v=t===ep||t===ip?l:u;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=$h.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:$h.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(r=null==t?null:$h.call(t),n):r&&r.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(s=a=+t,n):s},n.tickSizeInner=function(t){return arguments.length?(s=+t,n):s},n.tickSizeOuter=function(t){return arguments.length?(a=+t,n):a},n.tickPadding=function(t){return arguments.length?(d=+t,n):d},n}function f(t){return d(ep,t)}function m(t){return d(np,t)}function v(t){return d(ip,t)}function y(t){return d(rp,t)}function g(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new b(i)}function b(t){this._=t}function w(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function _(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function C(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=sp,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function E(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===lp&&e.documentElement.namespaceURI===lp?e.createElement(t):e.createElementNS(n,t)}}function x(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function S(){}function T(){return[]}function k(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function M(t,e,n,i,r,o){for(var s,a=0,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new k(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function D(t,e,n,i,r,o,s){var a,l,u,c={},h=e.length,p=o.length,d=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(d[a]=u=_p+s.call(l,l.__data__,a,e),u in c?r[a]=l:c[u]=l);for(a=0;a<p;++a)u=_p+s.call(t,o[a],a,o),(l=c[u])?(i[a]=l,l.__data__=o[a],c[u]=null):n[a]=new k(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&c[d[a]]===l&&(r[a]=l)}function P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function A(t){return function(){this.removeAttribute(t)}}function O(t){return function(){this.removeAttributeNS(t.space,t.local)}}function I(t,e){return function(){this.setAttribute(t,e)}}function N(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function R(t){return function(){this.style.removeProperty(t)}}function F(t,e,n){return function(){this.style.setProperty(t,e,n)}}function H(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function j(t,e){return t.style.getPropertyValue(e)||Lp(t).getComputedStyle(t,null).getPropertyValue(e)}function B(t){return function(){delete this[t]}}function U(t,e){return function(){this[t]=e}}function q(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function z(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new Y(t)}function Y(t){this._node=t,this._names=z(t.getAttribute("class")||"")}function G(t,e){for(var n=W(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function X(t,e){for(var n=W(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function K(t){return function(){G(this,t)}}function Q(t){return function(){X(this,t)}}function Z(t,e){return function(){(e.apply(this,arguments)?G:X)(this,t)}}function J(){this.textContent=""}function $(t){return function(){this.textContent=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function et(){this.innerHTML=""}function nt(t){return function(){this.innerHTML=t}}function it(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function rt(){this.nextSibling&&this.parentNode.appendChild(this)}function ot(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function st(){return null}function at(){var t=this.parentNode;t&&t.removeChild(this)}function lt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ut(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function ct(t,e,n){return t=ht(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ht(t,e,n){return function(i){var r=Kp;Kp=i;try{t.call(this,this.__data__,e,n)}finally{Kp=r}}}function pt(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function dt(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function ft(t,e,n){var i=Xp.hasOwnProperty(t.type)?ct:ht;return function(r,o,s){var a,l=this.__on,u=i(e,o,s);if(l)for(var c=0,h=l.length;c<h;++c)if((a=l[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=e);this.addEventListener(t.type,u,n),a={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(a):this.__on=[a]}}function mt(t,e,n,i){var r=Kp;t.sourceEvent=Kp,Kp=t;try{return e.apply(n,i)}finally{Kp=r}}function vt(t,e,n){var i=Lp(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function yt(t,e){return function(){return vt(this,t,e)}}function gt(t,e){return function(){return vt(this,t,e.apply(this,arguments))}}function bt(t,e){this._groups=t,this._parents=e}function wt(){return new bt([[document.documentElement]],Jp)}function _t(){return new Ct}function Ct(){this._="@"+(++nd).toString(36)}function Et(){Kp.stopImmediatePropagation()}function xt(t,e){var n=t.document.documentElement,i=td(t).on("dragstart.drag",null);e&&(i.on("click.drag",ud,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function St(t,e,n,i,r,o,s,a,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=u}function Tt(){return!Kp.button}function kt(){return this.parentNode}function Mt(t){return null==t?{x:Kp.x,y:Kp.y}:t}function Dt(){return"ontouchstart"in this}function Pt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function At(){}function Ot(t){var e;return t=(t+"").trim().toLowerCase(),(e=yd.exec(t))?(e=parseInt(e[1],16),new Rt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=gd.exec(t))?It(parseInt(e[1],16)):(e=bd.exec(t))?new Rt(e[1],e[2],e[3],1):(e=wd.exec(t))?new Rt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_d.exec(t))?Nt(e[1],e[2],e[3],e[4]):(e=Cd.exec(t))?Nt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ed.exec(t))?Ht(e[1],e[2]/100,e[3]/100,1):(e=xd.exec(t))?Ht(e[1],e[2]/100,e[3]/100,e[4]):Sd.hasOwnProperty(t)?It(Sd[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function It(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Nt(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rt(t,e,n,i)}function Lt(t){return t instanceof At||(t=Ot(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function Vt(t,e,n,i){return 1===arguments.length?Lt(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ft(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Ht(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ut(t,e,n,i)}function jt(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);if(t instanceof At||(t=Ot(t)),!t)return new Ut;if(t instanceof Ut)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ut(s,a,l,t.opacity)}function Bt(t,e,n,i){return 1===arguments.length?jt(t):new Ut(t,e,n,null==i?1:i)}function Ut(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function qt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function zt(t){if(t instanceof Gt)return new Gt(t.l,t.a,t.b,t.opacity);if(t instanceof ee){if(isNaN(t.h))return new Gt(t.l,0,0,t.opacity);var e=t.h*Td;return new Gt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rt||(t=Lt(t));var n,i,r=Zt(t.r),o=Zt(t.g),s=Zt(t.b),a=Xt((.2225045*r+.7168786*o+.0606169*s)/Dd);return r===o&&o===s?n=i=a:(n=Xt((.4360747*r+.3850649*o+.1430804*s)/Md),i=Xt((.0139322*r+.0971045*o+.7141733*s)/Pd)),new Gt(116*a-16,500*(n-a),200*(a-i),t.opacity)}function Wt(t,e){return new Gt(t,0,0,null==e?1:e)}function Yt(t,e,n,i){return 1===arguments.length?zt(t):new Gt(t,e,n,null==i?1:i)}function Gt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Xt(t){return t>Nd?Math.pow(t,1/3):t/Id+Ad}function Kt(t){return t>Od?t*t*t:Id*(t-Ad)}function Qt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Zt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Jt(t){if(t instanceof ee)return new ee(t.h,t.c,t.l,t.opacity);if(t instanceof Gt||(t=zt(t)),0===t.a&&0===t.b)return new ee(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*kd;return new ee(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function $t(t,e,n,i){return 1===arguments.length?Jt(t):new ee(n,e,t,null==i?1:i)}function te(t,e,n,i){return 1===arguments.length?Jt(t):new ee(t,e,n,null==i?1:i)}function ee(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function ne(t){if(t instanceof re)return new re(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=Lt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(jd*i+Fd*e-Hd*n)/(jd+Fd-Hd),o=i-r,s=(Rd*(n-r)-Ld*o)/Vd,a=Math.sqrt(s*s+o*o)/(Rd*r*(1-r)),l=a?Math.atan2(s,o)*kd-120:NaN;return new re(l<0?l+360:l,a,r,t.opacity)}function ie(t,e,n,i){return 1===arguments.length?ne(t):new re(t,e,n,null==i?1:i)}function re(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function oe(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function se(t,e){return function(n){return t+n*e}}function ae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function le(t,e){var n=e-t;return n?se(t,n>180||n<-180?n-360*Math.round(n/360):n):Kd(isNaN(t)?e:t)}function ue(t){return 1==(t=+t)?ce:function(e,n){return n-e?ae(e,n,t):Kd(isNaN(e)?n:e)}}function ce(t,e){var n=e-t;return n?se(t,n):Kd(isNaN(t)?e:t)}function he(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=Vt(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}function pe(t){return function(){return t}}function de(t){return function(e){return t(e)+""}}function fe(t){return"none"===t?pf:(Bd||(Bd=document.createElement("DIV"),Ud=document.documentElement,qd=document.defaultView),Bd.style.transform=t,t=qd.getComputedStyle(Ud.appendChild(Bd),null).getPropertyValue("transform"),Ud.removeChild(Bd),t=t.slice(7,-1).split(","),df(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function me(t){return null==t?pf:(zd||(zd=document.createElementNS("http://www.w3.org/2000/svg","g")),zd.setAttribute("transform",t),(t=zd.transform.baseVal.consolidate())?(t=t.matrix,df(t.a,t.b,t.c,t.d,t.e,t.f)):pf)}function ve(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:ef(t,r)},{i:l-2,x:ef(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:ef(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ef(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function l(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:ef(t,n)},{i:a-2,x:ef(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function ye(t){return((t=Math.exp(t))+1/t)/2}function ge(t){return((t=Math.exp(t))-1/t)/2}function be(t){return((t=Math.exp(2*t))-1)/(t+1)}function we(t){return function(e,n){var i=t((e=Bt(e)).h,(n=Bt(n)).h),r=ce(e.s,n.s),o=ce(e.l,n.l),s=ce(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function _e(t,e){var n=ce((t=Yt(t)).l,(e=Yt(e)).l),i=ce(t.a,e.a),r=ce(t.b,e.b),o=ce(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function Ce(t){return function(e,n){var i=t((e=te(e)).h,(n=te(n)).h),r=ce(e.c,n.c),o=ce(e.l,n.l),s=ce(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function Ee(t){return function e(n){function i(e,i){var r=t((e=ie(e)).h,(i=ie(i)).h),o=ce(e.s,i.s),s=ce(e.l,i.l),a=ce(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function xe(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}function Se(){return Pf||(If(Te),Pf=Of.now()+Af)}function Te(){Pf=0}function ke(){this._call=this._time=this._next=null}function Me(t,e,n){var i=new ke;return i.restart(t,e,n),i}function De(){Se(),++Sf;for(var t,e=Wd;e;)(t=Pf-e._time)>=0&&e._call.call(null,t),e=e._next;--Sf}function Pe(){Pf=(Df=Of.now())+Af,Sf=Tf=0;try{De()}finally{Sf=0,Oe(),Pf=0}}function Ae(){var t=Of.now(),e=t-Df;e>Mf&&(Af-=e,Df=t)}function Oe(){for(var t,e,n=Wd,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wd=e);Yd=t,Ie(i)}function Ie(t){if(!Sf){Tf&&(Tf=clearTimeout(Tf));t-Pf>24?(t<1/0&&(Tf=setTimeout(Pe,t-Of.now()-Af)),kf&&(kf=clearInterval(kf))):(kf||(Df=Of.now(),kf=setInterval(Ae,Mf)),Sf=1,If(Pe))}}function Ne(t,e){var n=Ve(t,e);if(n.state>Ff)throw new Error("too late; already scheduled");return n}function Le(t,e){var n=Ve(t,e);if(n.state>Bf)throw new Error("too late; already running");return n}function Ve(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Re(t,e,n){function i(t){n.state=Hf,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var u,c,h,p;if(n.state!==Hf)return s();for(u in l)if(p=l[u],p.name===n.name){if(p.state===Bf)return Nf(r);p.state===Uf?(p.state=zf,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete l[u]):+u<e&&(p.state=zf,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete l[u])}if(Nf(function(){n.state===Bf&&(n.state=Uf,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=jf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===jf){for(n.state=Bf,a=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(a[++c]=p);a.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=qf,1),r=-1,o=a.length;++r<o;)a[r].call(t,i);n.state===qf&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=zf,n.timer.stop(),delete l[e];for(var i in l)return;delete t.__transition}var a,l=t.__transition;l[e]=n,n.timer=Me(i,0,n.time)}function Fe(t,e){var n,i;return function(){var r=Le(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function He(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Le(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}o.tween=r}}function je(t,e,n){var i=t._id;return t.each(function(){var t=Le(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ve(t,i).value[e]}}function Be(t){return function(){this.removeAttribute(t)}}function Ue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qe(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function ze(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function We(t,e,n){var i,r,o;return function(){var s,a,l=n(this);return null==l?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===i&&a===r?o:(r=a,o=e(i=s,l)))}}function Ye(t,e,n){var i,r,o;return function(){var s,a,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===i&&a===r?o:(r=a,o=e(i=s,l)))}}function Ge(t,e){return function(n){this.setAttribute(t,e(n))}}function Xe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}function Ke(t,e){function n(){var n=e.apply(this,arguments);return n!==r&&(i=(r=n)&&Xe(t,n)),i}var i,r;return n._value=e,n}function Qe(t,e){function n(){var n=e.apply(this,arguments);return n!==r&&(i=(r=n)&&Ge(t,n)),i}var i,r;return n._value=e,n}function Ze(t,e){return function(){Ne(this,t).delay=+e.apply(this,arguments)}}function Je(t,e){return e=+e,function(){Ne(this,t).delay=e}}function $e(t,e){return function(){Le(this,t).duration=+e.apply(this,arguments)}}function tn(t,e){return e=+e,function(){Le(this,t).duration=e}}function en(t,e){if("function"!=typeof e)throw new Error;return function(){Le(this,t).ease=e}}function nn(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function rn(t,e,n){var i,r,o=nn(e)?Ne:Le;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function on(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function sn(t,e){var n,i,r;return function(){var o=j(this,t),s=(this.style.removeProperty(t),j(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function an(t){return function(){this.style.removeProperty(t)}}function ln(t,e,n){var i,r,o=n+"";return function(){var s=j(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function un(t,e,n){var i,r,o;return function(){var s=j(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=j(this,t)),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}function cn(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var l=Le(this,t),u=l.on,c=null==l.value[s]?o||(o=an(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(a,r=c),l.on=i}}function hn(t,e,n){return function(i){this.style.setProperty(t,e(i),n)}}function pn(t,e,n){function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&hn(t,i,n)),r}var r,o;return i._value=e,i}function dn(t){return function(){this.textContent=t}}function fn(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function mn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function vn(t){return $p().transition(t)}function yn(){return++fm}function gn(t){return+t}function bn(t){return t*t}function wn(t){return t*(2-t)}function _n(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Cn(t){return t*t*t}function En(t){return--t*t*t+1}function xn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Sn(t){return 1-Math.cos(t*wm)}function Tn(t){return Math.sin(t*wm)}function kn(t){return(1-Math.cos(bm*t))/2}function Mn(t){return Math.pow(2,10*t-10)}function Dn(t){return 1-Math.pow(2,-10*t)}function Pn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function An(t){return 1-Math.sqrt(1-t*t)}function On(t){return Math.sqrt(1- --t*t)}function In(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Nn(t){return 1-Ln(1-t)}function Ln(t){return(t=+t)<_m?Pm*t*t:t<Em?Pm*(t-=Cm)*t+xm:t<Tm?Pm*(t-=Sm)*t+km:Pm*(t-=Mm)*t+Dm}function Vn(t){return((t*=2)<=1?1-Ln(1-t):Ln(t-1)+1)/2}function Rn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Fm.time=Se(),Fm;return n}function Fn(){Kp.stopImmediatePropagation()}function Hn(t){return{type:t}}function jn(){return!Kp.button}function Bn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Un(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function qn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function zn(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Wn(){return Gn(Km)}function Yn(){return Gn(Qm)}function Gn(t){function e(e){var i=e.property("__brush",s).selectAll(".overlay").data([Hn("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Jm.overlay).merge(i).each(function(){var t=Un(this).extent;td(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([Hn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Jm.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Jm[t.type]}),e.each(n).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",o)}function n(){var t=td(this),e=Un(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-h/2:e[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-h/2:e[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function o(){function e(){var t=od(E);!L||_||C||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?C=!0:_=!0),R=t,w=!0,zm(),r()}function r(){var t;switch(g=R[0]-V[0],b=R[1]-V[1],S){case Ym:case Wm:T&&(g=Math.max(A-c,Math.min(I-f,g)),h=c+g,m=f+g),k&&(b=Math.max(O-p,Math.min(N-v,b)),d=p+b,y=v+b);break;case Gm:T<0?(g=Math.max(A-c,Math.min(I-c,g)),h=c+g,m=f):T>0&&(g=Math.max(A-f,Math.min(I-f,g)),h=c,m=f+g),k<0?(b=Math.max(O-p,Math.min(N-p,b)),d=p+b,y=v):k>0&&(b=Math.max(O-v,Math.min(N-v,b)),d=p,y=v+b);break;case Xm:T&&(h=Math.max(A,Math.min(I,c-g*T)),m=Math.max(A,Math.min(I,f+g*T))),k&&(d=Math.max(O,Math.min(N,p-b*k)),y=Math.max(O,Math.min(N,v+b*k)))}m<h&&(T*=-1,t=c,c=f,f=t,t=h,h=m,m=t,x in $m&&j.attr("cursor",Jm[x=$m[x]])),y<d&&(k*=-1,t=p,p=v,v=t,t=d,d=y,y=t,x in tv&&j.attr("cursor",Jm[x=tv[x]])),M.selection&&(P=M.selection),_&&(h=P[0][0],m=P[1][0]),C&&(d=P[0][1],y=P[1][1]),P[0][0]===h&&P[0][1]===d&&P[1][0]===m&&P[1][1]===y||(M.selection=[[h,d],[m,y]],n.call(E),F.brush())}function o(){if(Fn(),Kp.touches){if(Kp.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500),H.on("touchmove.brush touchend.brush touchcancel.brush",null)}else xt(Kp.view,w),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),j.attr("cursor",Jm.overlay),M.selection&&(P=M.selection),qn(P)&&(M.selection=null,n.call(E)),F.end()}function s(){switch(Kp.keyCode){case 16:L=T&&k;break;case 18:S===Gm&&(T&&(f=m-g*T,c=h+g*T),k&&(v=y-b*k,p=d+b*k),S=Xm,r());break;case 32:S!==Gm&&S!==Xm||(T<0?f=m-g:T>0&&(c=h-g),k<0?v=y-b:k>0&&(p=d-b),S=Ym,j.attr("cursor",Jm.selection),r());break;default:return}zm()}function l(){switch(Kp.keyCode){case 16:L&&(_=C=L=!1,r());break;case 18:S===Xm&&(T<0?f=m:T>0&&(c=h),k<0?v=y:k>0&&(p=d),S=Gm,r());break;case 32:S===Ym&&(Kp.altKey?(T&&(f=m-g*T,c=h+g*T),k&&(v=y-b*k,p=d+b*k),S=Xm):(T<0?f=m:T>0&&(c=h),k<0?v=y:k>0&&(p=d),S=Gm),j.attr("cursor",Jm[x]),r());break;default:return}zm()}if(Kp.touches){if(Kp.changedTouches.length<Kp.touches.length)return zm()}else if(a)return;if(u.apply(this,arguments)){var c,h,p,d,f,m,v,y,g,b,w,_,C,E=this,x=Kp.target.__data__.type,S="selection"===(Kp.metaKey?x="overlay":x)?Wm:Kp.altKey?Xm:Gm,T=t===Qm?null:ev[x],k=t===Km?null:nv[x],M=Un(E),D=M.extent,P=M.selection,A=D[0][0],O=D[0][1],I=D[1][0],N=D[1][1],L=T&&k&&Kp.shiftKey,V=od(E),R=V,F=i(E,arguments).beforestart();"overlay"===x?M.selection=P=[[c=t===Qm?A:V[0],p=t===Km?O:V[1]],[f=t===Qm?I:c,v=t===Km?N:p]]:(c=P[0][0],p=P[0][1],f=P[1][0],v=P[1][1]),h=c,d=p,m=f,y=v;var H=td(E).attr("pointer-events","none"),j=H.selectAll(".overlay").attr("cursor",Jm[x]);if(Kp.touches)H.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",o,!0);else{var B=td(Kp.view).on("keydown.brush",s,!0).on("keyup.brush",l,!0).on("mousemove.brush",e,!0).on("mouseup.brush",o,!0);cd(Kp.view)}Fn(),Yf(E),n.call(E),F.start()}}function s(){var e=this.__brush||{selection:null};return e.extent=l.apply(this,arguments),e.dim=t,e}var a,l=Bn,u=jn,c=ap(e,"start","brush","end"),h=6;return e.move=function(e,r){e.selection?e.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function e(t){s.selection=1===t&&qn(u)?null:c(t),n.call(o),a.brush()}var o=this,s=o.__brush,a=i(o,arguments),l=s.selection,u=t.input("function"==typeof r?r.apply(this,arguments):r,s.extent),c=af(l,u);return l&&u?e:e(1)}):e.each(function(){var e=this,o=arguments,s=e.__brush,a=t.input("function"==typeof r?r.apply(e,o):r,s.extent),l=i(e,o).beforestart();Yf(e),s.selection=null==a||qn(a)?null:a,n.call(e),l.start().brush().end()})},r.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){mt(new qm(e,n,t.output(this.state.selection)),c.apply,c,[n,this.that,this.args])}},e.extent=function(t){return arguments.length?(l="function"==typeof t?t:Um([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):l},e.filter=function(t){return arguments.length?(u="function"==typeof t?t:Um(!!t),e):u},e.handleSize=function(t){return arguments.length?(h=+t,e):h},e.on=function(){var t=c.on.apply(c,arguments);return t===c?e:t},e}function Xn(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Kn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qn(){return new Kn}function Zn(t){return t.source}function Jn(t){return t.target}function $n(t){return t.radius}function ti(t){return t.startAngle}function ei(t){return t.endAngle}function ni(){}function ii(t,e){var n=new ni;if(t instanceof ni)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function ri(){return{}}function oi(t,e,n){t[e]=n}function si(){return gv()}function ai(t,e,n){t.set(e,n)}function li(){}function ui(t,e){var n=new li;if(t instanceof li)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function ci(t,e){for(var n=e[0],i=e[1],r=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var l=t[o],u=l[0],c=l[1],h=t[a],p=h[0],d=h[1];if(hi(l,h,e))return 0;c>i!=d>i&&n<(p-u)*(i-c)/(d-c)+u&&(r=-r)}return r}function hi(t,e,n){var i;return pi(t,e,n)&&di(t[i=+(t[0]===e[0])],n[i],e[i])}function pi(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}function di(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function fi(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=t.data[a+s*i]),a>=n&&(a>=o&&(l-=t.data[a-o+s*i]),e.data[a-n+s*i]=l/Math.min(a+1,i-1+o-a,o))}function mi(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=t.data[s+a*i]),a>=n&&(a>=o&&(l-=t.data[s+(a-o)*i]),e.data[s+(a-n)*i]=l/Math.min(a+1,r-1+o-a,o))}function vi(t){return t[0]}function yi(t){return t[1]}function gi(){return 1}function bi(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function wi(t,e){var n=bi(t);return function(i,r){return e(n(i),r,t)}}function _i(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function Ci(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Ei(t){return t<0?"-"+Ci(-t,6):t>9999?"+"+Ci(t,6):Ci(t,4)}function xi(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ei(t.getUTCFullYear(),4)+"-"+Ci(t.getUTCMonth()+1,2)+"-"+Ci(t.getUTCDate(),2)+(r?"T"+Ci(e,2)+":"+Ci(n,2)+":"+Ci(i,2)+"."+Ci(r,3)+"Z":i?"T"+Ci(e,2)+":"+Ci(n,2)+":"+Ci(i,2)+"Z":n||e?"T"+Ci(e,2)+":"+Ci(n,2)+"Z":"")}function Si(t){for(var e in t){var n,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(i))continue;i=new Date(i)}else i=n;else i=null;t[e]=i}return t}function Ti(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ki(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Mi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Di(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),ey(e,n).then(function(e){return t(e,i)})}}function Pi(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=jv(t);return ey(e,n).then(function(t){return r.parse(t,i)})}function Ai(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Oi(t){return function(e,n){return ey(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}function Ii(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,u,c,h,p,d=t._root,f={data:i},m=t._x0,v=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=f,t;for(;d.length;)if((u=e>=(o=(m+y)/2))?m=o:y=o,(c=n>=(s=(v+g)/2))?v=s:g=s,r=d,!(d=d[h=c<<1|u]))return r[h]=f,t;if(a=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===a&&n===l)return f.next=d,r?r[h]=f:t._root=f,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(m+y)/2))?m=o:y=o,(c=n>=(s=(v+g)/2))?v=s:g=s}while((h=c<<1|u)==(p=(l>=s)<<1|a>=o));return r[p]=d,r[h]=f,t}function Ni(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)Ii(this,s[n],a[n],t[n]);return this}function Li(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Vi(t){return t[0]}function Ri(t){return t[1]}function Fi(t,e,n){var i=new Hi(null==e?Vi:e,null==n?Ri:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Hi(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ji(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function Bi(t){return t.x+t.vx}function Ui(t){return t.y+t.vy}function qi(t){return t.index}function zi(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Wi(t){return t.x}function Yi(t){return t.y}function Gi(t){return new Xi(t)}function Xi(t){if(!(e=Hy.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Ki(t){return By=Qy(t),Uy=By.format,qy=By.formatPrefix,By}function Qi(){this.reset()}function Zi(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Ji(t){return t>1?0:t<-1?Ng:Math.acos(t)}function $i(t){return t>1?Lg:t<-1?-Lg:Math.asin(t)}function tr(t){return(t=Xg(t/2))*t}function er(){}function nr(t,e){t&&$g.hasOwnProperty(t.type)&&$g[t.type](t,e)}function ir(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function rr(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ir(t[n],e,1);e.polygonEnd()}function or(){ib.point=ar}function sr(){lr(eg,ng)}function ar(t,e){ib.point=lr,eg=t,ng=e,t*=Hg,e*=Hg,ig=t,rg=qg(e=e/2+Vg),og=Xg(e)}function lr(t,e){t*=Hg,e*=Hg,e=e/2+Vg;var n=t-ig,i=n>=0?1:-1,r=i*n,o=qg(e),s=Xg(e),a=og*s,l=rg*o+a*qg(r),u=a*i*Xg(r);eb.add(Ug(u,l)),ig=t,rg=o,og=s}function ur(t){return[Ug(t[1],t[0]),$i(t[2])]}function cr(t){var e=t[0],n=t[1],i=qg(n);return[i*qg(e),i*Xg(e),Xg(n)]}function hr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function dr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function fr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function mr(t){var e=Qg(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function vr(t,e){fg.push(mg=[sg=t,lg=t]),e<ag&&(ag=e),e>ug&&(ug=e)}function yr(t,e){var n=cr([t*Hg,e*Hg]);if(dg){var i=pr(dg,n),r=[i[1],-i[0],0],o=pr(r,i);mr(o),o=ur(o);var s,a=t-cg,l=a>0?1:-1,u=o[0]*Fg*l,c=jg(a)>180;c^(l*cg<u&&u<l*t)?(s=o[1]*Fg)>ug&&(ug=s):(u=(u+360)%360-180,c^(l*cg<u&&u<l*t)?(s=-o[1]*Fg)<ag&&(ag=s):(e<ag&&(ag=e),e>ug&&(ug=e))),c?t<cg?Er(sg,t)>Er(sg,lg)&&(lg=t):Er(t,lg)>Er(sg,lg)&&(sg=t):lg>=sg?(t<sg&&(sg=t),t>lg&&(lg=t)):t>cg?Er(sg,t)>Er(sg,lg)&&(lg=t):Er(t,lg)>Er(sg,lg)&&(sg=t)}else fg.push(mg=[sg=t,lg=t]);e<ag&&(ag=e),e>ug&&(ug=e),dg=n,cg=t}function gr(){sb.point=yr}function br(){mg[0]=sg,mg[1]=lg,sb.point=vr,dg=null}function wr(t,e){if(dg){var n=t-cg;ob.add(jg(n)>180?n+(n>0?360:-360):n)}else hg=t,pg=e;ib.point(t,e),yr(t,e)}function _r(){ib.lineStart()}function Cr(){wr(hg,pg),ib.lineEnd(),jg(ob)>Ig&&(sg=-(lg=180)),mg[0]=sg,mg[1]=lg,dg=null}function Er(t,e){return(e-=t)<0?e+360:e}function xr(t,e){return t[0]-e[0]}function Sr(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Tr(t,e){t*=Hg,e*=Hg;var n=qg(e);kr(n*qg(t),n*Xg(t),Xg(e))}function kr(t,e,n){++vg,gg+=(t-gg)/vg,bg+=(e-bg)/vg,wg+=(n-wg)/vg}function Mr(){lb.point=Dr}function Dr(t,e){t*=Hg,e*=Hg;var n=qg(e);Dg=n*qg(t),Pg=n*Xg(t),Ag=Xg(e),lb.point=Pr,kr(Dg,Pg,Ag)}function Pr(t,e){t*=Hg,e*=Hg;var n=qg(e),i=n*qg(t),r=n*Xg(t),o=Xg(e),s=Ug(Qg((s=Pg*o-Ag*r)*s+(s=Ag*i-Dg*o)*s+(s=Dg*r-Pg*i)*s),Dg*i+Pg*r+Ag*o);yg+=s,_g+=s*(Dg+(Dg=i)),Cg+=s*(Pg+(Pg=r)),Eg+=s*(Ag+(Ag=o)),kr(Dg,Pg,Ag)}function Ar(){lb.point=Tr}function Or(){lb.point=Nr}function Ir(){Lr(kg,Mg),lb.point=Tr}function Nr(t,e){kg=t,Mg=e,t*=Hg,e*=Hg,lb.point=Lr;var n=qg(e);Dg=n*qg(t),Pg=n*Xg(t),Ag=Xg(e),kr(Dg,Pg,Ag)}function Lr(t,e){t*=Hg,e*=Hg;var n=qg(e),i=n*qg(t),r=n*Xg(t),o=Xg(e),s=Pg*o-Ag*r,a=Ag*i-Dg*o,l=Dg*r-Pg*i,u=Qg(s*s+a*a+l*l),c=$i(u),h=u&&-c/u;xg+=h*s,Sg+=h*a,Tg+=h*l,yg+=c,_g+=c*(Dg+(Dg=i)),Cg+=c*(Pg+(Pg=r)),Eg+=c*(Ag+(Ag=o)),kr(Dg,Pg,Ag)}function Vr(t,e){return[jg(t)>Ng?t+Math.round(-t/Rg)*Rg:t,e]}function Rr(t,e,n){return(t%=Rg)?e||n?hb(Hr(t),jr(e,n)):Hr(t):e||n?jr(e,n):Vr}function Fr(t){return function(e,n){return e+=t,[e>Ng?e-Rg:e<-Ng?e+Rg:e,n]}}function Hr(t){var e=Fr(t);return e.invert=Fr(-t),e}function jr(t,e){function n(t,e){var n=qg(e),a=qg(t)*n,l=Xg(t)*n,u=Xg(e),c=u*i+a*r;return[Ug(l*o-c*s,a*i-u*r),$i(c*o+l*s)]}var i=qg(t),r=Xg(t),o=qg(e),s=Xg(e);return n.invert=function(t,e){var n=qg(e),a=qg(t)*n,l=Xg(t)*n,u=Xg(e),c=u*o-l*s;return[Ug(l*o+u*s,a*i+c*r),$i(c*i-a*r)]},n}function Br(t,e,n,i,r,o){if(n){var s=qg(e),a=Xg(e),l=i*n;null==r?(r=e+i*Rg,o=e-l/2):(r=Ur(s,r),o=Ur(s,o),(i>0?r<o:r>o)&&(r+=i*Rg));for(var u,c=r;i>0?c>o:c<o;c-=l)u=ur([s,-a*qg(c),-a*Xg(c)]),t.point(u[0],u[1])}}function Ur(t,e){e=cr(e),e[0]-=t,mr(e);var n=Ji(-e[1]);return((-e[2]<0?-n:n)+Rg-Ig)%Rg}function qr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function zr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Wr(t){return t.length>1}function Yr(t,e){return((t=t.x)[0]<0?t[1]-Lg-Ig:Lg-t[1])-((e=e.x)[0]<0?e[1]-Lg-Ig:Lg-e[1])}function Gr(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Ng:-Ng,l=jg(o-n);jg(l-Ng)<Ig?(t.point(n,i=(i+s)/2>0?Lg:-Lg),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=Ng&&(jg(n-r)<Ig&&(n-=r*Ig),jg(o-a)<Ig&&(o-=a*Ig),i=Xr(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Xr(t,e,n,i){var r,o,s=Xg(t-n);return jg(s)>Ig?Bg((Xg(e)*(o=qg(i))*Xg(n)-Xg(i)*(r=qg(e))*Xg(t))/(r*o*s)):(e+i)/2}function Kr(t,e,n,i){var r;if(null==t)r=n*Lg,i.point(-Ng,r),i.point(0,r),i.point(Ng,r),i.point(Ng,0),i.point(Ng,-r),i.point(0,-r),i.point(-Ng,-r),i.point(-Ng,0),i.point(-Ng,r);else if(jg(t[0]-e[0])>Ig){var o=t[0]<e[0]?Ng:-Ng;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Qr(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,u){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(i,r){return jg(i[0]-t)<Ig?r>0?0:3:jg(i[0]-n)<Ig?r>0?2:1:jg(i[1]-e)<Ig?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t,e){r(t,e)&&T.point(t,e)}function u(){for(var e=0,n=0,r=v.length;n<r;++n)for(var o,s,a=v[n],l=1,u=a.length,c=a[0],h=c[0],p=c[1];l<u;++l)o=h,s=p,c=a[l],h=c[0],p=c[1],s<=i?p>i&&(h-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(h-o)*(i-s)<(p-s)*(t-o)&&--e;return e}function c(){T=k,m=[],v=[],S=!0}function h(){var t=u(),e=S&&t,n=(m=Wh(m)).length;(e||n)&&(s.polygonStart(),e&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),n&&kb(m,a,t,o,s),s.polygonEnd()),T=s,m=v=y=null}function p(){M.point=f,v&&v.push(y=[]),x=!0,E=!1,_=C=NaN}function d(){m&&(f(g,b),w&&E&&k.rejoin(),m.push(k.result())),M.point=l,E&&T.lineEnd()}function f(o,s){var a=r(o,s);if(v&&y.push([o,s]),x)g=o,b=s,w=a,x=!1,a&&(T.lineStart(),T.point(o,s));else if(a&&E)T.point(o,s);else{var l=[_=Math.max(Lb,Math.min(Nb,_)),C=Math.max(Lb,Math.min(Nb,C))],u=[o=Math.max(Lb,Math.min(Nb,o)),s=Math.max(Lb,Math.min(Nb,s))];Ib(l,u,t,e,n,i)?(E||(T.lineStart(),T.point(l[0],l[1])),T.point(u[0],u[1]),a||T.lineEnd(),S=!1):a&&(T.lineStart(),T.point(o,s),S=!1)}_=o,C=s,E=a}var m,v,y,g,b,w,_,C,E,x,S,T=s,k=Sb(),M={point:l,lineStart:p,lineEnd:d,polygonStart:c,polygonEnd:h};return M}}function Zr(){Fb.point=$r,Fb.lineEnd=Jr}function Jr(){Fb.point=Fb.lineEnd=er}function $r(t,e){t*=Hg,e*=Hg,pb=t,db=Xg(e),fb=qg(e),Fb.point=to}function to(t,e){t*=Hg,e*=Hg;var n=Xg(e),i=qg(e),r=jg(t-pb),o=qg(r),s=Xg(r),a=i*s,l=fb*n-db*i*o,u=db*n+fb*i*o;Rb.add(Ug(Qg(a*a+l*l),u)),pb=t,db=n,fb=i}function eo(t,e){return!(!t||!zb.hasOwnProperty(t.type))&&zb[t.type](t,e)}function no(t,e){return 0===Ub(t,e)}function io(t,e){var n=Ub(t[0],t[1]);return Ub(t[0],e)+Ub(e,t[1])<=n+Ig}function ro(t,e){return!!Db(t.map(oo),so(e))}function oo(t){return t=t.map(so),t.pop(),t}function so(t){return[t[0]*Hg,t[1]*Hg]}function ao(t,e,n){var i=Oh(t,e-Ig,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function lo(t,e,n){var i=Oh(t,e-Ig,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function uo(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Oh(zg(o/v)*v,r,v).map(p).concat(Oh(zg(u/y)*y,l,y).map(d)).concat(Oh(zg(i/f)*f,n,f).filter(function(t){return jg(t%v)>Ig}).map(c)).concat(Oh(zg(a/m)*m,s,m).filter(function(t){return jg(t%y)>Ig}).map(h))}var n,i,r,o,s,a,l,u,c,h,p,d,f=10,m=f,v=90,y=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(l).slice(1),p(r).reverse().slice(1),d(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(g)):[[o,u],[r,l]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(g)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.stepMinor=function(e){return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(g=+e,c=ao(a,s,90),h=lo(i,n,g),p=ao(u,l,90),d=lo(o,r,g),t):g},t.extentMajor([[-180,-90+Ig],[180,90-Ig]]).extentMinor([[-180,-80-Ig],[180,80+Ig]])}function co(){return uo()()}function ho(){Qb.point=po}function po(t,e){Qb.point=fo,mb=yb=t,vb=gb=e}function fo(t,e){Kb.add(gb*t-yb*e),yb=t,gb=e}function mo(){fo(mb,vb)}function vo(t,e){t<Jb&&(Jb=t),t>tw&&(tw=t),e<$b&&($b=e),e>ew&&(ew=e)}function yo(t,e){rw+=t,ow+=e,++sw}function go(){dw.point=bo}function bo(t,e){dw.point=wo,yo(_b=t,Cb=e)}function wo(t,e){var n=t-_b,i=e-Cb,r=Qg(n*n+i*i);aw+=r*(_b+t)/2,lw+=r*(Cb+e)/2,uw+=r,yo(_b=t,Cb=e)}function _o(){dw.point=yo}function Co(){dw.point=xo}function Eo(){So(bb,wb)}function xo(t,e){dw.point=So,yo(bb=_b=t,wb=Cb=e)}function So(t,e){var n=t-_b,i=e-Cb,r=Qg(n*n+i*i);aw+=r*(_b+t)/2,lw+=r*(Cb+e)/2,uw+=r,r=Cb*t-_b*e,cw+=r*(_b+t),hw+=r*(Cb+e),pw+=3*r,yo(_b=t,Cb=e)}function To(t){this._context=t}function ko(t,e){_w.point=Mo,vw=gw=t,yw=bw=e}function Mo(t,e){gw-=t,bw-=e,ww.add(Qg(gw*gw+bw*bw)),gw=t,bw=e}function Do(){this._string=[]}function Po(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ao(t){return function(e){var n=new Oo;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Oo(){}function Io(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),tb(n,t.stream(iw)),e(iw.result()),null!=i&&t.clipExtent(i),t}function No(t,e,n){return Io(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function Lo(t,e,n){return No(t,[[0,0],e],n)}function Vo(t,e,n){return Io(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])},n)}function Ro(t,e,n){return Io(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])},n)}function Fo(t){return Ao({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Ho(t,e){function n(i,r,o,s,a,l,u,c,h,p,d,f,m,v){var y=u-i,g=c-r,b=y*y+g*g;if(b>4*e&&m--){var w=s+p,_=a+d,C=l+f,E=Qg(w*w+_*_+C*C),x=$i(C/=E),S=jg(jg(C)-1)<Ig||jg(o-h)<Ig?(o+h)/2:Ug(_,w),T=t(S,x),k=T[0],M=T[1],D=k-i,P=M-r,A=g*D-y*P;(A*A/b>e||jg((y*D+g*P)/b-.5)>.3||s*p+a*d+l*f<Tw)&&(n(i,r,o,s,a,l,k,M,S,w/=E,_/=E,C,m,v),v.point(k,M),n(k,M,S,w,_,C,u,c,h,p,d,f,m,v))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){y=NaN,C.point=o,e.lineStart()}function o(i,r){var o=cr([i,r]),s=t(i,r);n(y,g,v,b,w,_,y=s[0],g=s[1],v=i,b=o[0],w=o[1],_=o[2],Sw,e),e.point(y,g)}function s(){C.point=i,e.lineEnd()}function a(){r(),C.point=l,C.lineEnd=u}function l(t,e){o(c=t,e),h=y,p=g,d=b,f=w,m=_,C.point=o}function u(){n(y,g,v,b,w,_,h,p,c,d,f,m,Sw,e),C.lineEnd=s,s()}var c,h,p,d,f,m,v,y,g,b,w,_,C={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),C.lineStart=a},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}}function jo(t){return Ao({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function Bo(t,e,n){function i(i,r){return[e+t*i,n-t*r]}return i.invert=function(i,r){return[(i-e)/t,(n-r)/t]},i}function Uo(t,e,n,i){function r(t,i){return[a*t-l*i+e,n-l*t-a*i]}var o=qg(i),s=Xg(i),a=o*t,l=s*t,u=o/t,c=s/t,h=(s*n-o*e)/t,p=(s*e+o*n)/t;return r.invert=function(t,e){return[u*t-c*e+h,p-c*t-u*e]},r}function qo(t){return zo(function(){return t})()}function zo(t){function e(t){return p(t[0]*Hg,t[1]*Hg)}function n(t){return(t=p.invert(t[0],t[1]))&&[t[0]*Fg,t[1]*Fg]}function i(){var t=Uo(m,0,0,E).apply(null,o(g,b)),e=(E?Uo:Bo)(m,v-t[0],y-t[1],E);return s=Rr(w,_,C),h=hb(o,e),p=hb(s,h),c=kw(h,M),r()}function r(){return d=f=null,e}var o,s,a,l,u,c,h,p,d,f,m=150,v=480,y=250,g=0,b=0,w=0,_=0,C=0,E=0,x=null,S=Ab,T=null,k=Gb,M=.5;return e.stream=function(t){return d&&f===t?d:d=Mw(jo(s)(S(c(k(f=t)))))},e.preclip=function(t){return arguments.length?(S=t,x=void 0,r()):S},e.postclip=function(t){return arguments.length?(k=t,T=a=l=u=null,r()):k},e.clipAngle=function(t){return arguments.length?(S=+t?Ob(x=t*Hg):(x=null,Ab),r()):x*Fg},e.clipExtent=function(t){return arguments.length?(k=null==t?(T=a=l=u=null,Gb):Qr(T=+t[0][0],a=+t[0][1],l=+t[1][0],u=+t[1][1]),r()):null==T?null:[[T,a],[l,u]]},e.scale=function(t){return arguments.length?(m=+t,i()):m},e.translate=function(t){return arguments.length?(v=+t[0],y=+t[1],i()):[v,y]},e.center=function(t){return arguments.length?(g=t[0]%360*Hg,b=t[1]%360*Hg,i()):[g*Fg,b*Fg]},e.rotate=function(t){return arguments.length?(w=t[0]%360*Hg,_=t[1]%360*Hg,C=t.length>2?t[2]%360*Hg:0,i()):[w*Fg,_*Fg,C*Fg]},e.angle=function(t){return arguments.length?(E=t%360*Hg,i()):E*Fg},e.precision=function(t){return arguments.length?(c=kw(h,M=t*t),r()):Qg(M)},e.fitExtent=function(t,n){return No(e,t,n)},e.fitSize=function(t,n){return Lo(e,t,n)},e.fitWidth=function(t,n){return Vo(e,t,n)},e.fitHeight=function(t,n){return Ro(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function Wo(t){var e=0,n=Ng/3,i=zo(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Hg,n=t[1]*Hg):[e*Fg,n*Fg]},r}function Yo(t){function e(t,e){return[t*n,Xg(e)/n]}var n=qg(t);return e.invert=function(t,e){return[t/n,$i(e*n)]},e}function Go(t,e){function n(t,e){var n=Qg(o-2*r*Xg(e))/r;return[n*Xg(t*=r),s-n*qg(t)]}var i=Xg(t),r=(i+Xg(e))/2;if(jg(r)<Ig)return Yo(t);var o=1+i*(2*r-i),s=Qg(o)/r;return n.invert=function(t,e){var n=s-e;return[Ug(t,jg(n))/r*Kg(n),$i((o-(t*t+n*n)*r*r)/(2*r))]},n}function Xo(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ko(t){return function(e,n){var i=qg(e),r=qg(n),o=t(i*r);return[o*r*Xg(e),o*Xg(n)]}}function Qo(t){return function(e,n){var i=Qg(e*e+n*n),r=t(i),o=Xg(r),s=qg(r);return[Ug(e*o,i*s),$i(i&&n*o/i)]}}function Zo(t,e){return[t,Yg(Zg((Lg+e)/2))]}function Jo(t){function e(){var e=Ng*a(),s=o(Eb(o.rotate()).invert([0,0]));return u(null==c?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===Zo?[[Math.max(s[0]-e,c),n],[Math.min(s[0]+e,i),r]]:[[c,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,r)]])}var n,i,r,o=qo(t),s=o.center,a=o.scale,l=o.translate,u=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(l(t),e()):l()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}function $o(t){return Zg((Lg+t)/2)}function ts(t,e){function n(t,e){o>0?e<-Lg+Ig&&(e=-Lg+Ig):e>Lg-Ig&&(e=Lg-Ig);var n=o/Gg($o(e),r);return[n*Xg(r*t),o-n*qg(r*t)]}var i=qg(t),r=t===e?Xg(t):Yg(i/qg(e))/Yg($o(e)/$o(t)),o=i*Gg($o(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=Kg(r)*Qg(t*t+n*n);return[Ug(t,jg(n))/r*Kg(n),2*Bg(Gg(o/i,1/r))-Lg]},n):Zo}function es(t,e){return[t,e]}function ns(t,e){function n(t,e){var n=o-e,i=r*t;return[n*Xg(i),o-n*qg(i)]}var i=qg(t),r=t===e?Xg(t):(i-qg(e))/(e-t),o=i/r+t;return jg(r)<Ig?es:(n.invert=function(t,e){var n=o-e;return[Ug(t,jg(n))/r*Kg(n),o-Kg(r)*Qg(t*t+n*n)]},n)}function is(t,e){var n=$i(zw*Xg(e)),i=n*n,r=i*i*i;return[t*qg(n)/(zw*(jw+3*Bw*i+r*(7*Uw+9*qw*i))),n*(jw+Bw*i+r*(Uw+qw*i))]}function rs(t,e){var n=qg(e),i=qg(t)*n;return[n*Xg(t)/i,Xg(e)/i]}function os(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?Gb:Ao({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}function ss(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function as(t,e){return[qg(e)*Xg(t),Xg(e)]}function ls(t,e){var n=qg(e),i=1+qg(t)*n;return[n*Xg(t)/i,Xg(e)/i]}function us(t,e){return[Yg(Zg((Lg+e)/2)),-t]}function cs(t,e){return t.parent===e.parent?1:2}function hs(t){return t.reduce(ps,0)/t.length}function ps(t,e){return t+e.x}function ds(t){return 1+t.reduce(fs,0)}function fs(t,e){return Math.max(t,e.y)}function ms(t){for(var e;e=t.children;)t=e[0];return t}function vs(t){for(var e;e=t.children;)t=e[e.length-1];return t}function ys(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function gs(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function bs(t,e){var n,i,r,o,s,a=new xs(t),l=+t.value&&(a.value=t.value),u=[a];for(null==e&&(e=_s);n=u.pop();)if(l&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)u.push(i=n.children[o]=new xs(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Es)}function ws(){return bs(this).eachBefore(Cs)}function _s(t){return t.children}function Cs(t){t.data=t.data.data}function Es(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function xs(t){this.data=t,this.depth=this.height=0,this.parent=null}function Ss(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}function Ts(t,e){var n,i;if(Ds(e,t))return[e];for(n=0;n<t.length;++n)if(ks(e,t[n])&&Ds(Os(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(ks(Os(t[n],t[i]),e)&&ks(Os(t[n],e),t[i])&&ks(Os(t[i],e),t[n])&&Ds(Is(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function ks(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Ms(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Ds(t,e){for(var n=0;n<e.length;++n)if(!Ms(t,e[n]))return!1;return!0}function Ps(t){switch(t.length){case 1:return As(t[0]);case 2:return Os(t[0],t[1]);case 3:return Is(t[0],t[1],t[2])}}function As(t){return{x:t.x,y:t.y,r:t.r}}function Os(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,l=o-n,u=s-i,c=a-r,h=Math.sqrt(l*l+u*u);return{x:(n+o+l/h*c)/2,y:(i+s+u/h*c)/2,r:(h+r+a)/2}}function Is(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,l=e.r,u=n.x,c=n.y,h=n.r,p=i-s,d=i-u,f=r-a,m=r-c,v=l-o,y=h-o,g=i*i+r*r-o*o,b=g-s*s-a*a+l*l,w=g-u*u-c*c+h*h,_=d*f-p*m,C=(f*w-m*b)/(2*_)-i,E=(m*v-f*y)/_,x=(d*b-p*w)/(2*_)-r,S=(p*y-d*v)/_,T=E*E+S*S-1,k=2*(o+C*E+x*S),M=C*C+x*x-o*o,D=-(T?(k+Math.sqrt(k*k-4*T*M))/(2*T):M/k);return{x:i+C+E*D,y:r+x+S*D,r:D}}function Ns(t,e,n){var i,r,o,s,a=t.x-e.x,l=t.y-e.y,u=a*a+l*l;u?(r=e.r+n.r,r*=r,s=t.r+n.r,s*=s,r>s?(i=(u+s-r)/(2*u),o=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x-i*a-o*l,n.y=t.y-i*l+o*a):(i=(u+r-s)/(2*u),o=Math.sqrt(Math.max(0,r/u-i*i)),n.x=e.x+i*a-o*l,n.y=e.y+i*l+o*a)):(n.x=e.x+n.r,n.y=e.y)}function Ls(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Vs(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Rs(t){this._=t,this.next=null,this.previous=null}function Fs(t){if(!(r=t.length))return 0;var e,n,i,r,o,s,a,l,u,c,h;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Ns(n,e,i=t[2]),e=new Rs(e),n=new Rs(n),i=new Rs(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){Ns(e._,n._,i=t[a]),i=new Rs(i),l=n.next,u=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(Ls(l._,i._)){n=l,e.next=n,n.previous=e,--a;continue t}c+=l._.r,l=l.next}else{if(Ls(u._,i._)){e=u,e.next=n,n.previous=e,--a;continue t}h+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=Vs(e);(i=i.next)!==n;)(s=Vs(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=h_(e),a=0;a<r;++a)e=t[a],e.x-=i.x,e.y-=i.y;return i.r}function Hs(t){return null==t?null:js(t)}function js(t){if("function"!=typeof t)throw new Error;return t}function Bs(){return 0}function Us(t){return Math.sqrt(t.value)}function qs(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function zs(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=Fs(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function Ws(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Ys(t){return t.id}function Gs(t){return t.parentId}function Xs(t,e){return t.parent===e.parent?1:2}function Ks(t){var e=t.children;return e?e[0]:t.t}function Qs(t){var e=t.children;return e?e[e.length-1]:t.t}function Zs(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Js(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function $s(t,e,n){return t.a.parent===e.parent?t.a:n}function ta(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ea(t){for(var e,n,i,r,o,s=new ta(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new ta(i[r],r)),n.parent=e;return(s.parent=new ta(null,0)).children=[s],s}function na(t,e,n,i,r,o){for(var s,a,l,u,c,h,p,d,f,m,v,y=[],g=e.children,b=0,w=0,_=g.length,C=e.value;b<_;){l=r-n,u=o-i;do{c=g[w++].value}while(!c&&w<_);for(h=p=c,m=Math.max(u/l,l/u)/(C*t),v=c*c*m,f=Math.max(p/v,v/h);w<_;++w){if(c+=a=g[w].value,a<h&&(h=a),a>p&&(p=a),v=c*c*m,(d=Math.max(p/v,v/h))>f){c-=a;break}f=d}y.push(s={value:c,dice:l<u,children:g.slice(b,w)}),s.dice?v_(s,n,i,r,C?i+=u*c/C:o):E_(s,n,i,C?n+=l*c/C:r,o),C-=c,b=w}return y}function ia(t,e){return t[0]-e[0]||t[1]-e[1]}function ra(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&O_(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function oa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function sa(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}function aa(){function t(t){var o=t+"",s=e.get(o);if(!s){if(r!==Y_)return r;e.set(o,s=n.push(t))}return i[(s-1)%i.length]}var e=gv(),n=[],i=[],r=Y_;return t.domain=function(i){if(!arguments.length)return n.slice();n=[],e=gv();for(var r,o,s=-1,a=i.length;++s<a;)e.has(o=(r=i[s])+"")||e.set(o,n.push(r));return t},t.range=function(e){return arguments.length?(i=W_.call(e),t):i.slice()},t.unknown=function(e){return arguments.length?(r=e,t):r},t.copy=function(){return aa(n,i).unknown(r)},oa.apply(t,arguments),t}function la(){function t(){var t=r().length,i=s[1]<s[0],h=s[i-0],p=s[1-i];e=(p-h)/Math.max(1,t-l+2*u),a&&(e=Math.floor(e)),h+=(p-h-e*(t-l))*c,n=e*(1-l),a&&(h=Math.round(h),n=Math.round(n));var d=Oh(t).map(function(t){return h+e*t});return o(i?d.reverse():d)}var e,n,i=aa().unknown(void 0),r=i.domain,o=i.range,s=[0,1],a=!1,l=0,u=0,c=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],a=!0,t()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(e){return arguments.length?(a=!!e,t()):a},i.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),t()):l},i.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),t()):l},i.paddingOuter=function(e){return arguments.length?(u=+e,t()):u},i.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},i.copy=function(){return la(r(),s).round(a).paddingInner(l).paddingOuter(u).align(c)},oa.apply(t(),arguments)}function ua(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ua(e())},t}function ca(){return ua(la.apply(null,arguments).paddingInner(1))}function ha(t){return t}function pa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:G_(isNaN(e)?NaN:.5)}function da(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function fa(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=pa(r,i),o=n(s,o)):(i=pa(i,r),o=n(o,s)),function(t){return o(i(t))}}function ma(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=pa(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=bh(t,e,1,i)-1;return o[n](r[n](e))}}function va(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ya(){function t(){return o=Math.min(l.length,u.length)>2?ma:fa,s=a=null,e}function e(t){return isNaN(t=+t)?r:(s||(s=o(l.map(n),u,c)))(n(h(t)))}var n,i,r,o,s,a,l=K_,u=K_,c=af,h=ha;return e.invert=function(t){return h(i((a||(a=o(u,l.map(n),ef)))(t)))},e.domain=function(e){return arguments.length?(l=z_.call(e,X_),h===ha||(h=da(l)),t()):l.slice()},e.range=function(e){return arguments.length?(u=W_.call(e),t()):u.slice()},e.rangeRound=function(e){return u=W_.call(e),c=cf,t()},e.clamp=function(t){return arguments.length?(h=t?da(l):ha,e):h!==ha},e.interpolate=function(e){return arguments.length?(c=e,t()):c},e.unknown=function(t){return arguments.length?(r=t,e):r},function(e,r){return n=e,i=r,t()}}function ga(t,e){return ya()(t,e)}function ba(t){var e=t.domain;return t.ticks=function(t){var n=e();return Vh(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Q_(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),s=0,a=r.length-1,l=r[s],u=r[a];return u<l&&(i=l,l=u,u=i,i=s,s=a,a=i),i=o(l,u,n),i>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=o(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=o(l,u,n)),i>0?(r[s]=Math.floor(l/i)*i,r[a]=Math.ceil(u/i)*i,e(r)):i<0&&(r[s]=Math.ceil(l*i)/i,r[a]=Math.floor(u*i)/i,e(r)),t},t}function wa(){var t=ga(ha,ha);return t.copy=function(){return va(t,wa())},oa.apply(t,arguments),ba(t)}function _a(t){function e(t){return isNaN(t=+t)?n:t}var n;return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=z_.call(n,X_),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return _a(t).unknown(n)},t=arguments.length?z_.call(t,X_):[0,1],ba(e)}function Ca(t){return Math.log(t)}function Ea(t){return Math.exp(t)}function xa(t){return-Math.log(-t)}function Sa(t){return-Math.exp(-t)}function Ta(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ka(t){return 10===t?Ta:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Ma(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Da(t){return function(e){return-t(-e)}}function Pa(t){function e(){return n=Ma(s),i=ka(s),o()[0]<0?(n=Da(n),i=Da(i),t(xa,Sa)):t(Ca,Ea),r}var n,i,r=t(Ca,Ea),o=r.domain,s=10;return r.base=function(t){return arguments.length?(s=+t,e()):s},r.domain=function(t){return arguments.length?(o(t),e()):o()},r.ticks=function(t){var e,r=o(),a=r[0],l=r[r.length-1];(e=l<a)&&(p=a,a=l,l=p);var u,c,h,p=n(a),d=n(l),f=null==t?10:+t,m=[];if(!(s%1)&&d-p<f){if(p=Math.round(p)-1,d=Math.round(d)+1,a>0){for(;p<d;++p)for(c=1,u=i(p);c<s;++c)if(!((h=u*c)<a)){if(h>l)break;m.push(h)}}else for(;p<d;++p)for(c=s-1,u=i(p);c>=1;--c)if(!((h=u*c)<a)){if(h>l)break;m.push(h)}}else m=Vh(p,d,Math.min(d-p,f)).map(i);return e?m.reverse():m},r.tickFormat=function(t,e){if(null==e&&(e=10===s?".0e":","),"function"!=typeof e&&(e=Uy(e)),t===1/0)return e;null==t&&(t=10);var o=Math.max(1,s*t/r.ticks().length);return function(t){var r=t/i(Math.round(n(t)));return r*s<s-.5&&(r*=s),r<=o?e(t):""}},r.nice=function(){return o(Z_(o(),{floor:function(t){return i(Math.floor(n(t)))},ceil:function(t){return i(Math.ceil(n(t)))}}))},r}function Aa(){var t=Pa(ya()).domain([1,10]);return t.copy=function(){return va(t,Aa()).base(t.base())},oa.apply(t,arguments),t}function Oa(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ia(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Na(t){var e=1,n=t(Oa(e),Ia(e));return n.constant=function(n){return arguments.length?t(Oa(e=+n),Ia(e)):e},ba(n)}function La(){var t=Na(ya());return t.copy=function(){return va(t,La()).constant(t.constant())},oa.apply(t,arguments)}function Va(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ra(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fa(t){return t<0?-t*t:t*t}function Ha(t){function e(){return 1===i?t(ha,ha):.5===i?t(Ra,Fa):t(Va(i),Va(1/i))}var n=t(ha,ha),i=1;return n.exponent=function(t){return arguments.length?(i=+t,e()):i},ba(n)}function ja(){var t=Ha(ya());return t.copy=function(){return va(t,ja()).exponent(t.exponent())},oa.apply(t,arguments),t}function Ba(){return ja.apply(null,arguments).exponent(.5)}function Ua(){function t(){var t=0,n=Math.max(1,r.length);for(o=new Array(n-1);++t<n;)o[t-1]=Hh(i,t/n);return e}function e(t){return isNaN(t=+t)?n:r[bh(o,t)]}var n,i=[],r=[],o=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:i[0],e<o.length?o[e]:i[i.length-1]]},e.domain=function(e){if(!arguments.length)return i.slice();i=[];for(var n,r=0,o=e.length;r<o;++r)null==(n=e[r])||isNaN(n=+n)||i.push(n);return i.sort(fh),t()},e.range=function(e){return arguments.length?(r=W_.call(e),t()):r.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.quantiles=function(){return o.slice()},e.copy=function(){return Ua().domain(i).range(r).unknown(n)},oa.apply(e,arguments)}function qa(){function t(t){return t<=t?a[bh(s,t,0,o)]:n}function e(){var e=-1;for(s=new Array(o);++e<o;)s[e]=((e+1)*r-(e-o)*i)/(o+1);return t}var n,i=0,r=1,o=1,s=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],e()):[i,r]},t.range=function(t){return arguments.length?(o=(a=W_.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[i,s[0]]:e>=o?[s[o-1],r]:[s[e-1],s[e]]},t.unknown=function(e){return arguments.length?(n=e,t):t},t.thresholds=function(){return s.slice()},t.copy=function(){return qa().domain([i,r]).range(a).unknown(n)},oa.apply(ba(t),arguments)}function za(){function t(t){return t<=t?i[bh(n,t,0,r)]:e}var e,n=[.5],i=[0,1],r=1;return t.domain=function(e){return arguments.length?(n=W_.call(e),r=Math.min(n.length,i.length-1),t):n.slice()},t.range=function(e){return arguments.length?(i=W_.call(e),r=Math.min(n.length,i.length-1),t):i.slice()},t.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return za().domain(n).range(i).unknown(e)},oa.apply(t,arguments)}function Wa(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return Wa(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return J_.setTime(+e),$_.setTime(+i),t(J_),t($_),Math.floor(n(J_,$_))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}function Ya(t){return Wa(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*iC)/rC})}function Ga(t){return Wa(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/rC})}function Xa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ka(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qa(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Za(t){function e(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=yE[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function n(t,e){return function(n){var r,o,s=Qa(1900),a=i(s,t,n+="",0);if(a!=n.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=Ka(Qa(s.y)),o=r.getUTCDay(),r=o>4||0===o?GC.ceil(r):GC(r),r=zC.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(r=e(Qa(s.y)),o=r.getDay(),r=o>4||0===o?gC.ceil(r):gC(r),r=mC.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),o="Z"in s?Ka(Qa(s.y)).getUTCDay():e(Qa(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(o+5)%7:s.w+7*s.U-(o+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Ka(s)):e(s)}}function i(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=U[r in yE?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=P.exec(e.slice(n));return i?(t.p=A[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=N.exec(e.slice(n));return i?(t.w=L[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=O.exec(e.slice(n));return i?(t.w=I[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=F.exec(e.slice(n));return i?(t.m=H[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){var i=V.exec(e.slice(n));return i?(t.m=R[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){return i(t,C,e,n)}function c(t,e,n){return i(t,E,e,n)}function h(t,e,n){return i(t,x,e,n)}function p(t){return k[t.getDay()]}function d(t){return T[t.getDay()]}function f(t){return D[t.getMonth()]}function m(t){return M[t.getMonth()]}function v(t){return S[+(t.getHours()>=12)]}function y(t){return k[t.getUTCDay()]}function g(t){return T[t.getUTCDay()]}function b(t){return D[t.getUTCMonth()]}function w(t){return M[t.getUTCMonth()]}function _(t){return S[+(t.getUTCHours()>=12)]}var C=t.dateTime,E=t.date,x=t.time,S=t.periods,T=t.days,k=t.shortDays,M=t.months,D=t.shortMonths,P=tl(S),A=el(S),O=tl(T),I=el(T),N=tl(k),L=el(k),V=tl(M),R=el(M),F=tl(D),H=el(D),j={a:p,A:d,b:f,B:m,c:null,d:_l,e:_l,f:Tl,H:Cl,I:El,j:xl,L:Sl,m:kl,M:Ml,p:v,Q:nu,s:iu,S:Dl,u:Pl,U:Al,V:Ol,w:Il,W:Nl,x:null,X:null,y:Ll,Y:Vl,Z:Rl,"%":eu},B={a:y,A:g,b:b,B:w,c:null,d:Fl,e:Fl,f:ql,H:Hl,I:jl,j:Bl,L:Ul,m:zl,M:Wl,p:_,Q:nu,s:iu,S:Yl,u:Gl,U:Xl,V:Kl,w:Ql,W:Zl,x:null,X:null,y:Jl,Y:$l,Z:tu,"%":eu},U={a:o,A:s,b:a,B:l,c:u,d:hl,e:hl,f:yl,H:dl,I:dl,j:pl,L:vl,m:cl,M:fl,p:r,Q:bl,s:wl,S:ml,u:il,U:rl,V:ol,w:nl,W:sl,x:c,X:h,y:ll,Y:al,Z:ul,"%":gl};return j.x=e(E,j),j.X=e(x,j),j.c=e(C,j),B.x=e(E,B),B.X=e(x,B),B.c=e(C,B),{format:function(t){var n=e(t+="",j);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",Xa);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,Ka);return e.toString=function(){return t},e}}}function Ja(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function $a(t){return t.replace(wE,"\\$&")}function tl(t){return new RegExp("^(?:"+t.map($a).join("|")+")","i")}function el(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function nl(t,e,n){var i=gE.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function il(t,e,n){var i=gE.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function rl(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function ol(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function sl(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function al(t,e,n){var i=gE.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ll(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function ul(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function cl(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function hl(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function pl(t,e,n){var i=gE.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function dl(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function fl(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ml(t,e,n){var i=gE.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function vl(t,e,n){var i=gE.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function yl(t,e,n){var i=gE.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function gl(t,e,n){var i=bE.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function bl(t,e,n){var i=gE.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function wl(t,e,n){var i=gE.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function _l(t,e){return Ja(t.getDate(),e,2)}function Cl(t,e){return Ja(t.getHours(),e,2)}function El(t,e){return Ja(t.getHours()%12||12,e,2)}function xl(t,e){return Ja(1+mC.count(LC(t),t),e,3)}function Sl(t,e){return Ja(t.getMilliseconds(),e,3)}function Tl(t,e){return Sl(t,e)+"000"}function kl(t,e){return Ja(t.getMonth()+1,e,2)}function Ml(t,e){return Ja(t.getMinutes(),e,2)}function Dl(t,e){return Ja(t.getSeconds(),e,2)}function Pl(t){var e=t.getDay();return 0===e?7:e}function Al(t,e){return Ja(yC.count(LC(t),t),e,2)}function Ol(t,e){var n=t.getDay();return t=n>=4||0===n?_C(t):_C.ceil(t),Ja(_C.count(LC(t),t)+(4===LC(t).getDay()),e,2)}function Il(t){return t.getDay()}function Nl(t,e){return Ja(gC.count(LC(t),t),e,2)}function Ll(t,e){return Ja(t.getFullYear()%100,e,2)}function Vl(t,e){return Ja(t.getFullYear()%1e4,e,4)}function Rl(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ja(e/60|0,"0",2)+Ja(e%60,"0",2)}function Fl(t,e){return Ja(t.getUTCDate(),e,2)}function Hl(t,e){return Ja(t.getUTCHours(),e,2)}function jl(t,e){return Ja(t.getUTCHours()%12||12,e,2)}function Bl(t,e){return Ja(1+zC.count(mE(t),t),e,3)}function Ul(t,e){return Ja(t.getUTCMilliseconds(),e,3)}function ql(t,e){return Ul(t,e)+"000"}function zl(t,e){return Ja(t.getUTCMonth()+1,e,2)}function Wl(t,e){return Ja(t.getUTCMinutes(),e,2)}function Yl(t,e){return Ja(t.getUTCSeconds(),e,2)}function Gl(t){var e=t.getUTCDay();return 0===e?7:e}function Xl(t,e){return Ja(YC.count(mE(t),t),e,2)}function Kl(t,e){var n=t.getUTCDay();return t=n>=4||0===n?QC(t):QC.ceil(t),Ja(QC.count(mE(t),t)+(4===mE(t).getUTCDay()),e,2)}function Ql(t){return t.getUTCDay()}function Zl(t,e){return Ja(GC.count(mE(t),t),e,2)}function Jl(t,e){return Ja(t.getUTCFullYear()%100,e,2)}function $l(t,e){return Ja(t.getUTCFullYear()%1e4,e,4)}function tu(){return"+0000"}function eu(){return"%"}function nu(t){return+t}function iu(t){return Math.floor(+t/1e3)}function ru(t){return cE=Za(t),hE=cE.format,pE=cE.parse,dE=cE.utcFormat,fE=cE.utcParse,cE}function ou(t){return t.toISOString()}function su(t){var e=new Date(t);return isNaN(e)?null:e}function au(t){return new Date(t)}function lu(t){return t instanceof Date?+t:+new Date(+t)}function uu(t,e,n,i,r,o,a,l,u){function c(s){return(a(s)<s?m:o(s)<s?v:r(s)<s?y:i(s)<s?g:e(s)<s?n(s)<s?b:w:t(s)<s?_:C)(s)}function h(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,a=mh(function(t){return t[2]}).right(E,o);a===E.length?(r=s(n/AE,i/AE,e),e=t):a?(a=E[o/E[a-1][2]<E[a][2]/o?a-1:a],r=a[1],e=a[0]):(r=Math.max(s(n,i,e),1),e=l)}return null==r?e:e.every(r)}var p=ga(ha,ha),d=p.invert,f=p.domain,m=u(".%L"),v=u(":%S"),y=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),w=u("%b %d"),_=u("%B"),C=u("%Y"),E=[[a,1,SE],[a,5,5*SE],[a,15,15*SE],[a,30,30*SE],[o,1,TE],[o,5,5*TE],[o,15,15*TE],[o,30,30*TE],[r,1,kE],[r,3,3*kE],[r,6,6*kE],[r,12,12*kE],[i,1,ME],[i,2,2*ME],[n,1,DE],[e,1,PE],[e,3,3*PE],[t,1,AE]];return p.invert=function(t){return new Date(d(t))},p.domain=function(t){return arguments.length?f(z_.call(t,lu)):f().map(au)},p.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=h(t,r,o,e),n=n?n.range(r,o+1):[],s?n.reverse():n},p.tickFormat=function(t,e){return null==e?c:u(e)},p.nice=function(t,e){var n=f();return(t=h(t,n[0],n[n.length-1],e))?f(Z_(n,t)):p},p.copy=function(){return va(p,uu(t,e,n,i,r,o,a,l,u))},p}function cu(){function t(t){return isNaN(t=+t)?o:l(0===i?.5:(t=(r(t)-e)*i,u?Math.max(0,Math.min(1,t)):t))}var e,n,i,r,o,s=0,a=1,l=ha,u=!1;return t.domain=function(o){return arguments.length?(e=r(s=+o[0]),n=r(a=+o[1]),i=e===n?0:1/(n-e),t):[s,a]},t.clamp=function(e){return arguments.length?(u=!!e,t):u},t.interpolator=function(e){return arguments.length?(l=e,t):l},t.unknown=function(e){return arguments.length?(o=e,t):o},function(o){return r=o,e=o(s),n=o(a),i=e===n?0:1/(n-e),t}}function hu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pu(){var t=ba(cu()(ha));return t.copy=function(){return hu(t,pu())},sa.apply(t,arguments)}function du(){var t=Pa(cu()).domain([1,10]);return t.copy=function(){return hu(t,du()).base(t.base())},sa.apply(t,arguments)}function fu(){var t=Na(cu());return t.copy=function(){return hu(t,fu()).constant(t.constant())},sa.apply(t,arguments)}function mu(){var t=Ha(cu());return t.copy=function(){return hu(t,mu()).exponent(t.exponent())},sa.apply(t,arguments)}function vu(){return mu.apply(null,arguments).exponent(.5)}function yu(){function t(t){if(!isNaN(t=+t))return n((bh(e,t)-1)/(e.length-1))}var e=[],n=ha;return t.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var i,r=0,o=n.length;r<o;++r)null==(i=n[r])||isNaN(i=+i)||e.push(i);return e.sort(fh),t},t.interpolator=function(e){return arguments.length?(n=e,t):n},t.copy=function(){return yu(n).domain(e)},sa.apply(t,arguments)}function gu(){function t(t){return isNaN(t=+t)?a:(t=.5+((t=+s(t))-n)*(t<n?r:o),h(p?Math.max(0,Math.min(1,t)):t))}var e,n,i,r,o,s,a,l=0,u=.5,c=1,h=ha,p=!1;return t.domain=function(a){return arguments.length?(e=s(l=+a[0]),n=s(u=+a[1]),i=s(c=+a[2]),r=e===n?0:.5/(n-e),o=n===i?0:.5/(i-n),t):[l,u,c]},t.clamp=function(e){return arguments.length?(p=!!e,t):p},t.interpolator=function(e){return arguments.length?(h=e,t):h},t.unknown=function(e){return arguments.length?(a=e,t):a},function(a){return s=a,e=a(l),n=a(u),i=a(c),r=e===n?0:.5/(n-e),o=n===i?0:.5/(i-n),t}}function bu(){var t=ba(gu()(ha));return t.copy=function(){return hu(t,bu())},sa.apply(t,arguments)}function wu(){var t=Pa(gu()).domain([.1,1,10]);return t.copy=function(){return hu(t,wu()).base(t.base())},sa.apply(t,arguments)}function _u(){var t=Na(gu());return t.copy=function(){return hu(t,_u()).constant(t.constant())},sa.apply(t,arguments)}function Cu(){var t=Ha(gu());return t.copy=function(){return hu(t,Cu()).exponent(t.exponent())},sa.apply(t,arguments)}function Eu(){return Cu.apply(null,arguments).exponent(.5)}function xu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Su(t){return t>1?0:t<-1?dS:Math.acos(t)}function Tu(t){return t>=1?fS:t<=-1?-fS:Math.asin(t)}function ku(t){return t.innerRadius}function Mu(t){return t.outerRadius}function Du(t){return t.startAngle}function Pu(t){return t.endAngle}function Au(t){return t&&t.padAngle}function Ou(t,e,n,i,r,o,s,a){var l=n-t,u=i-e,c=s-r,h=a-o,p=h*l-c*u;if(!(p*p<pS))return p=(c*(e-o)-h*(t-r))/p,[t+p*l,e+p*u]}function Iu(t,e,n,i,r,o,s){var a=t-n,l=e-i,u=(s?o:-o)/hS(a*a+l*l),c=u*l,h=-u*a,p=t+c,d=e+h,f=n+c,m=i+h,v=(p+f)/2,y=(d+m)/2,g=f-p,b=m-d,w=g*g+b*b,_=r-o,C=p*m-f*d,E=(b<0?-1:1)*hS(lS(0,_*_*w-C*C)),x=(C*b-g*E)/w,S=(-C*g-b*E)/w,T=(C*b+g*E)/w,k=(-C*g+b*E)/w,M=x-v,D=S-y,P=T-v,A=k-y;return M*M+D*D>P*P+A*A&&(x=T,S=k),{cx:x,cy:S,x01:-c,y01:-h,x11:x*(r/_-1),y11:S*(r/_-1)}}function Nu(t){this._context=t}function Lu(t){return t[0]}function Vu(t){return t[1]}function Ru(t){this._curve=t}function Fu(t){function e(e){return new Ru(t(e))}return e._curve=t,e}function Hu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Fu(t)):e()._curve},t}function ju(t){return t.source}function Bu(t){return t.target}function Uu(t){function e(){var e,a=kS.call(arguments),l=n.apply(this,a),u=i.apply(this,a);if(s||(s=e=vv()),t(s,+r.apply(this,(a[0]=l,a)),+o.apply(this,a),+r.apply(this,(a[0]=u,a)),+o.apply(this,a)),e)return s=null,e+""||null}var n=ju,i=Bu,r=Lu,o=Vu,s=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(i=t,e):i},e.x=function(t){return arguments.length?(r="function"==typeof t?t:rS(+t),e):r},e.y=function(t){return arguments.length?(o="function"==typeof t?t:rS(+t),e):o},e.context=function(t){return arguments.length?(s=null==t?null:t,e):s},e}function qu(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function zu(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Wu(t,e,n,i,r){var o=TS(e,n),s=TS(e,n=(n+r)/2),a=TS(i,n),l=TS(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function Yu(){return Uu(qu)}function Gu(){return Uu(zu)}function Xu(){var t=Uu(Wu);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ku(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Qu(t){this._context=t}function Zu(t){this._context=t}function Ju(t){this._context=t}function $u(t,e){this._basis=new Qu(t),this._beta=e}function tc(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ec(t,e){this._context=t,this._k=(1-e)/6}function nc(t,e){this._context=t,this._k=(1-e)/6}function ic(t,e){this._context=t,this._k=(1-e)/6}function rc(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>pS){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>pS){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function oc(t,e){this._context=t,this._alpha=e}function sc(t,e){this._context=t,this._alpha=e}function ac(t,e){this._context=t,this._alpha=e}function lc(t){this._context=t}function uc(t){return t<0?-1:1}function cc(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(uc(o)+uc(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function hc(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pc(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function dc(t){this._context=t}function fc(t){this._context=new mc(t)}function mc(t){this._context=t}function vc(t){return new dc(t)}function yc(t){return new fc(t)}function gc(t){this._context=t}function bc(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function wc(t,e){this._context=t,this._t=e}function _c(t){return new wc(t,0)}function Cc(t){return new wc(t,1)}function Ec(t,e){return t[e]}function xc(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}function Sc(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function Tc(t){return t[0]}function kc(t){return t[1]}function Mc(){this._=null}function Dc(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pc(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ac(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Oc(t){for(;t.L;)t=t.L;return t}function Ic(t,e,n,i){var r=[null,null],o=ET.push(r)-1;return r.left=t,r.right=e,n&&Lc(r,t,e,n),i&&Lc(r,e,t,i),_T[t.index].halfedges.push(o),_T[e.index].halfedges.push(o),r}function Nc(t,e,n){var i=[e,n];return i.left=t,i}function Lc(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Vc(t,e,n,i,r){var o,s=t[0],a=t[1],l=s[0],u=s[1],c=a[0],h=a[1],p=0,d=1,f=c-l,m=h-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<p)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>p&&(p=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>p&&(p=o)}else if(f>0){if(o<p)return;o<d&&(d=o)}if(o=n-u,m||!(o>0)){if(o/=m,m<0){if(o<p)return;o<d&&(d=o)}else if(m>0){if(o>d)return;o>p&&(p=o)}if(o=r-u,m||!(o<0)){if(o/=m,m<0){if(o>d)return;o>p&&(p=o)}else if(m>0){if(o<p)return;o<d&&(d=o)}return!(p>0||d<1)||(p>0&&(t[0]=[l+p*f,u+p*m]),d<1&&(t[1]=[l+d*f,u+d*m]),!0)}}}}}function Rc(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,l=t[0],u=t.left,c=t.right,h=u[0],p=u[1],d=c[0],f=c[1],m=(h+d)/2,v=(p+f)/2;if(f===p){if(m<e||m>=i)return;if(h>d){if(l){if(l[1]>=r)return}else l=[m,n];o=[m,r]}else{if(l){if(l[1]<n)return}else l=[m,r];o=[m,n]}}else if(s=(h-d)/(f-p),a=v-s*m,s<-1||s>1)if(h>d){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(p<f){if(l){if(l[0]>=i)return}else l=[e,s*e+a];o=[i,s*i+a]}else{if(l){if(l[0]<e)return}else l=[i,s*i+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function Fc(t,e,n,i){for(var r,o=ET.length;o--;)Rc(r=ET[o],t,e,n,i)&&Vc(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>kT||Math.abs(r[0][1]-r[1][1])>kT)||delete ET[o]}function Hc(t){return _T[t.index]={site:t,halfedges:[]}}function jc(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Bc(t,e){return e[+(e.left!==t.site)]}function Uc(t,e){return e[+(e.left===t.site)]}function qc(){for(var t,e,n,i,r=0,o=_T.length;r<o;++r)if((t=_T[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=jc(t,ET[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}function zc(t,e,n,i){var r,o,s,a,l,u,c,h,p,d,f,m,v=_T.length,y=!0;for(r=0;r<v;++r)if(o=_T[r]){for(s=o.site,l=o.halfedges,a=l.length;a--;)ET[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)d=Uc(o,ET[l[a]]),f=d[0],m=d[1],c=Bc(o,ET[l[++a%u]]),h=c[0],p=c[1],(Math.abs(f-h)>kT||Math.abs(m-p)>kT)&&(l.splice(a,0,ET.push(Nc(s,d,Math.abs(f-t)<kT&&i-m>kT?[t,Math.abs(h-t)<kT?p:i]:Math.abs(m-i)<kT&&n-f>kT?[Math.abs(p-i)<kT?h:n,i]:Math.abs(f-n)<kT&&m-e>kT?[n,Math.abs(h-n)<kT?p:e]:Math.abs(m-e)<kT&&f-t>kT?[Math.abs(p-e)<kT?h:t,e]:null))-1),++u);u&&(y=!1)}if(y){var g,b,w,_=1/0;for(r=0,y=null;r<v;++r)(o=_T[r])&&(s=o.site,g=s[0]-t,b=s[1]-e,(w=g*g+b*b)<_&&(_=w,y=o));if(y){var C=[t,e],E=[t,i],x=[n,i],S=[n,e];y.halfedges.push(ET.push(Nc(s=y.site,C,E))-1,ET.push(Nc(s,E,x))-1,ET.push(Nc(s,x,S))-1,ET.push(Nc(s,S,C))-1)}}for(r=0;r<v;++r)(o=_T[r])&&(o.halfedges.length||delete _T[r])}function Wc(){Dc(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yc(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,u=i[1]-a,c=o[0]-s,h=o[1]-a,p=2*(l*h-u*c);if(!(p>=-MT)){var d=l*l+u*u,f=c*c+h*h,m=(h*d-u*f)/p,v=(l*f-c*d)/p,y=ST.pop()||new Wc;y.arc=t,y.site=r,y.x=m+s,y.y=(y.cy=v+a)+Math.sqrt(m*m+v*v),t.circle=y;for(var g=null,b=CT._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}CT.insert(g,y),g||(bT=y)}}}}function Gc(t){var e=t.circle;e&&(e.P||(bT=e.N),CT.remove(e),ST.push(e),Dc(e),t.circle=null)}function Xc(){Dc(this),this.edge=this.site=this.circle=null}function Kc(t){var e=TT.pop()||new Xc;return e.site=t,e}function Qc(t){Gc(t),wT.remove(t),TT.push(t),Dc(t)}function Zc(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Qc(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<kT&&Math.abs(i-l.circle.cy)<kT;)o=l.P,a.unshift(l),Qc(l),l=o;a.unshift(l),Gc(l);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<kT&&Math.abs(i-u.circle.cy)<kT;)s=u.N,a.push(u),Qc(u),u=s;a.push(u),Gc(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Lc(u.edge,l.site,u.site,r);l=a[0],u=a[h-1],u.edge=Ic(l.site,u.site,null,r),Yc(l),Yc(u)}function Jc(t){for(var e,n,i,r,o=t[0],s=t[1],a=wT._;a;)if((i=$c(a,s)-o)>kT)a=a.L;else{if(!((r=o-th(a,s))>kT)){i>-kT?(e=a.P,n=a):r>-kT?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}Hc(t);var l=Kc(t);if(wT.insert(e,l),e||n){if(e===n)return Gc(e),n=Kc(e.site),wT.insert(l,n),l.edge=n.edge=Ic(e.site,l.site),Yc(e),void Yc(n);if(!n)return void(l.edge=Ic(e.site,l.site));Gc(e),Gc(n);var u=e.site,c=u[0],h=u[1],p=t[0]-c,d=t[1]-h,f=n.site,m=f[0]-c,v=f[1]-h,y=2*(p*v-d*m),g=p*p+d*d,b=m*m+v*v,w=[(v*g-d*b)/y+c,(p*b-m*g)/y+h];Lc(n.edge,u,f,w),l.edge=Ic(u,t,null,w),n.edge=Ic(t,f,null,w),Yc(e),Yc(n)}}function $c(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;n=s.site;var a=n[0],l=n[1],u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,p=c/u;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function th(t,e){var n=t.N;if(n)return $c(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function eh(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function nh(t,e){return e[1]-t[1]||e[0]-t[0]}function ih(t,e){var n,i,r,o=t.sort(nh).pop();for(ET=[],_T=new Array(t.length),wT=new xT,CT=new xT;;)if(r=bT,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Jc(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Zc(r.arc)}if(qc(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1];Fc(s,a,l,u),zc(s,a,l,u)}this.edges=ET,this.cells=_T,wT=CT=ET=_T=null}function rh(t,e,n){this.target=t,this.type=e,this.transform=n}function oh(t,e,n){this.k=t,this.x=e,this.y=n}function sh(t){return t.__zoom||AT}function ah(){Kp.stopImmediatePropagation()}function lh(){return!Kp.button}function uh(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function ch(){return this.__zoom||AT}function hh(){return-Kp.deltaY*(Kp.deltaMode?120:1)/500}function ph(){return"ontouchstart"in this}function dh(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}var fh=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},mh=function(t){return 1===t.length&&(t=i(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}},vh=mh(fh),yh=vh.right,gh=vh.left,bh=yh,wh=function(t,e){null==e&&(e=r);for(var n=0,i=t.length-1,o=t[0],s=new Array(i<0?0:i);n<i;)s[n]=e(o,o=t[++n]);return s},_h=function(t,e,n){var i,o,s,a,l=t.length,u=e.length,c=new Array(l*u);for(null==n&&(n=r),i=s=0;i<l;++i)for(a=t[i],o=0;o<u;++o,++s)c[s]=n(a,e[o]);return c},Ch=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Eh=function(t){return null===t?NaN:+t},xh=function(t,e){var n,i,r=t.length,o=0,s=-1,a=0,l=0;if(null==e)for(;++s<r;)isNaN(n=Eh(t[s]))||(i=n-a,a+=i/++o,l+=i*(n-a));else for(;++s<r;)isNaN(n=Eh(e(t[s],s,t)))||(i=n-a,a+=i/++o,l+=i*(n-a));if(o>1)return l/(o-1)},Sh=function(t,e){var n=xh(t,e);return n?Math.sqrt(n):n},Th=function(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},kh=Array.prototype,Mh=kh.slice,Dh=kh.map,Ph=function(t){return function(){return t}},Ah=function(t){return t},Oh=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},Ih=Math.sqrt(50),Nh=Math.sqrt(10),Lh=Math.sqrt(2),Vh=function(t,e,n){var i,r,s,a,l=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=o(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),s=new Array(r=Math.ceil(e-t+1));++l<r;)s[l]=(t+l)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),s=new Array(r=Math.ceil(t-e+1));++l<r;)s[l]=(t-l)/a;return i&&s.reverse(),s},Rh=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Fh=function(){function t(t){var r,o,a=t.length,l=new Array(a);for(r=0;r<a;++r)l[r]=e(t[r],r,t);var u=n(l),c=u[0],h=u[1],p=i(l,c,h);Array.isArray(p)||(p=s(c,h,p),p=Oh(Math.ceil(c/p)*p,h,p));for(var d=p.length;p[0]<=c;)p.shift(),--d;for(;p[d-1]>h;)p.pop(),--d;var f,m=new Array(d+1);for(r=0;r<=d;++r)f=m[r]=[],f.x0=r>0?p[r-1]:c,f.x1=r<d?p[r]:h;for(r=0;r<a;++r)o=l[r],c<=o&&o<=h&&m[bh(p,o,0,d)].push(t[r]);return m}var e=Ah,n=Th,i=Rh;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Ph(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Ph([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Ph(Array.isArray(e)?Mh.call(e):e),t):i},t},Hh=function(t,e,n){if(null==n&&(n=Eh),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(r-o)}},jh=function(t,e,n){return t=Dh.call(t,Eh).sort(fh),Math.ceil((n-e)/(2*(Hh(t,.75)-Hh(t,.25))*Math.pow(t.length,-1/3)))},Bh=function(t,e,n){return Math.ceil((n-e)/(3.5*Sh(t)*Math.pow(t.length,-1/3)))},Uh=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},qh=function(t,e){var n,i=t.length,r=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=Eh(t[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=Eh(e(t[o],o,t)))?--r:s+=n;if(r)return s/r},zh=function(t,e){var n,i=t.length,r=-1,o=[];if(null==e)for(;++r<i;)isNaN(n=Eh(t[r]))||o.push(n);else for(;++r<i;)isNaN(n=Eh(e(t[r],r,t)))||o.push(n);return Hh(o.sort(fh),.5)},Wh=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n},Yh=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i},Gh=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Xh=function(t,e){if(n=t.length){var n,i,r=0,o=0,s=t[o];for(null==e&&(e=fh);++r<n;)(e(i=t[r],s)<0||0!==e(s,s))&&(s=i,o=r);return 0===e(s,s)?o:void 0}},Kh=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},Qh=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},Zh=function(t){if(!(r=t.length))return[];for(var e=-1,n=Yh(t,a),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i},Jh=function(){return Zh(arguments)},$h=Array.prototype.slice,tp=function(t){return t},ep=1,np=2,ip=3,rp=4,op=1e-6,sp={value:function(){}};b.prototype=g.prototype={constructor:b,on:function(t,e){var n,i=this._,r=w(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=C(i[n],t.name,e);else if(null==e)for(n in i)i[n]=C(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=_(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new b(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var ap=g,lp="http://www.w3.org/1999/xhtml",up={svg:"http://www.w3.org/2000/svg",xhtml:lp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cp=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),up.hasOwnProperty(e)?{space:up[e],local:t}:t},hp=function(t){var e=cp(t);return(e.local?x:E)(e)},pp=function(t){return null==t?S:function(){return this.querySelector(t)}},dp=function(t){"function"!=typeof t&&(t=pp(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],l=a.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new bt(i,this._parents)},fp=function(t){return null==t?T:function(){return this.querySelectorAll(t)}},mp=function(t){"function"!=typeof t&&(t=fp(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,u=0;u<l;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new bt(i,r)},vp=function(t){return function(){return this.matches(t)}},yp=function(t){"function"!=typeof t&&(t=vp(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new bt(i,this._parents)},gp=function(t){return new Array(t.length)},bp=function(){return new bt(this._enter||this._groups.map(gp),this._parents)};k.prototype={constructor:k,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var wp=function(t){return function(){return t}},_p="$",Cp=function(t,e){if(!t)return d=new Array(this.size()),u=-1,this.each(function(t){d[++u]=t}),d;var n=e?D:M,i=this._parents,r=this._groups;"function"!=typeof t&&(t=wp(t));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],h=r[u],p=h.length,d=t.call(c,c&&c.__data__,u,i),f=d.length,m=a[u]=new Array(f),v=s[u]=new Array(f);n(c,h,m,v,l[u]=new Array(p),d,e);for(var y,g,b=0,w=0;b<f;++b)if(y=m[b]){for(b>=w&&(w=b+1);!(g=v[w])&&++w<f;);y._next=g||null}}return s=new bt(s,i),s._enter=a,s._exit=l,s},Ep=function(){return new bt(this._exit||this._groups.map(gp),this._parents)},xp=function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},Sp=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,p=s[a]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(p[d]=l);for(;a<i;++a)s[a]=e[a];return new bt(s,this._parents)},Tp=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},kp=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=P);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,u=r[o]=new Array(l),c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new bt(r,this._parents).order()},Mp=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Dp=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Pp=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},Ap=function(){var t=0;return this.each(function(){++t}),t},Op=function(){return!this.node()},Ip=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},Np=function(t,e){var n=cp(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?O:A:"function"==typeof e?n.local?V:L:n.local?N:I)(n,e))},Lp=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Vp=function(t,e,n){return arguments.length>1?this.each((null==e?R:"function"==typeof e?H:F)(t,e,null==n?"":n)):j(this.node(),t)},Rp=function(t,e){return arguments.length>1?this.each((null==e?B:"function"==typeof e?q:U)(t,e)):this.node()[t]};Y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Fp=function(t,e){var n=z(t+"");if(arguments.length<2){for(var i=W(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Z:e?K:Q)(n,e))},Hp=function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?tt:$)(t)):this.node().textContent},jp=function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?it:nt)(t)):this.node().innerHTML},Bp=function(){return this.each(rt)},Up=function(){return this.each(ot)},qp=function(t){var e="function"==typeof t?t:hp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},zp=function(t,e){var n="function"==typeof t?t:hp(t),i=null==e?st:"function"==typeof e?e:pp(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Wp=function(){return this.each(at)},Yp=function(t){return this.select(t?ut:lt)},Gp=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Xp={},Kp=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(Xp={mouseenter:"mouseover",mouseleave:"mouseout"})}var Qp=function(t,e,n){var i,r,o=pt(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?ft:dt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value}},Zp=function(t,e){return this.each(("function"==typeof e?gt:yt)(t,e))},Jp=[null];bt.prototype=wt.prototype={constructor:bt,select:dp,selectAll:mp,filter:yp,data:Cp,enter:bp,exit:Ep,join:xp,merge:Sp,order:Tp,sort:kp,call:Mp,nodes:Dp,node:Pp,size:Ap,empty:Op,each:Ip,attr:Np,style:Vp,property:Rp,classed:Fp,text:Hp,html:jp,raise:Bp,lower:Up,append:qp,insert:zp,remove:Wp,clone:Yp,datum:Gp,on:Qp,dispatch:Zp};var $p=wt,td=function(t){return"string"==typeof t?new bt([[document.querySelector(t)]],[document.documentElement]):new bt([[t]],Jp)},ed=function(t){return td(hp(t).call(document.documentElement))},nd=0;Ct.prototype=_t.prototype={constructor:Ct,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var id=function(){for(var t,e=Kp;t=e.sourceEvent;)e=t;return e},rd=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},od=function(t){var e=id();return e.changedTouches&&(e=e.changedTouches[0]),rd(t,e)},sd=function(t){return"string"==typeof t?new bt([document.querySelectorAll(t)],[document.documentElement]):new bt([null==t?[]:t],Jp)},ad=function(t,e,n){arguments.length<3&&(n=e,e=id().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return rd(t,i);return null},ld=function(t,e){null==e&&(e=id().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=rd(t,e[n]);return r},ud=function(){Kp.preventDefault(),Kp.stopImmediatePropagation()},cd=function(t){var e=t.document.documentElement,n=td(t).on("dragstart.drag",ud,!0);"onselectstart"in e?n.on("selectstart.drag",ud,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},hd=function(t){return function(){return t}};St.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pd=function(){function t(t){t.on("mousedown.drag",e).filter(m).on("touchstart.drag",r).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var t=a("mouse",d.apply(this,arguments),od,this,arguments);t&&(td(Kp.view).on("mousemove.drag",n,!0).on("mouseup.drag",i,!0),cd(Kp.view),Et(),c=!1,l=Kp.clientX,u=Kp.clientY,t("start"))}}function n(){if(ud(),!c){var t=Kp.clientX-l,e=Kp.clientY-u;c=t*t+e*e>b}v.mouse("drag")}function i(){td(Kp.view).on("mousemove.drag mouseup.drag",null),xt(Kp.view,c),ud(),v.mouse("end")}function r(){if(p.apply(this,arguments)){var t,e,n=Kp.changedTouches,i=d.apply(this,arguments),r=n.length;for(t=0;t<r;++t)(e=a(n[t].identifier,i,ad,this,arguments))&&(Et(),e("start"))}}function o(){var t,e,n=Kp.changedTouches,i=n.length;for(t=0;t<i;++t)(e=v[n[t].identifier])&&(ud(),e("drag"))}function s(){var t,e,n=Kp.changedTouches,i=n.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),t=0;t<i;++t)(e=v[n[t].identifier])&&(Et(),e("end"))}function a(e,n,i,r,o){var s,a,l,u=i(n,e),c=y.copy();if(mt(new St(t,"beforestart",s,e,g,u[0],u[1],0,0,c),function(){return null!=(Kp.subject=s=f.apply(r,o))&&(a=s.x-u[0]||0,l=s.y-u[1]||0,!0)}))return function h(p){var d,f=u;switch(p){case"start":v[e]=h,d=g++;break;case"end":delete v[e],--g;case"drag":u=i(n,e),d=g}mt(new St(t,p,s,e,d,u[0]+a,u[1]+l,u[0]-f[0],u[1]-f[1],c),c.apply,c,[p,r,o])}}var l,u,c,h,p=Tt,d=kt,f=Mt,m=Dt,v={},y=ap("start","drag","end"),g=0,b=0;return t.filter=function(e){return arguments.length?(p="function"==typeof e?e:hd(!!e),t):p},t.container=function(e){return arguments.length?(d="function"==typeof e?e:hd(e),t):d},t.subject=function(e){return arguments.length?(f="function"==typeof e?e:hd(e),t):f},t.touchable=function(e){return arguments.length?(m="function"==typeof e?e:hd(!!e),t):m},t.on=function(){var e=y.on.apply(y,arguments);return e===y?t:e},t.clickDistance=function(e){return arguments.length?(b=(e=+e)*e,t):Math.sqrt(b)},t},dd=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},fd="\\s*([+-]?\\d+)\\s*",md="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yd=/^#([0-9a-f]{3})$/,gd=/^#([0-9a-f]{6})$/,bd=new RegExp("^rgb\\("+[fd,fd,fd]+"\\)$"),wd=new RegExp("^rgb\\("+[vd,vd,vd]+"\\)$"),_d=new RegExp("^rgba\\("+[fd,fd,fd,md]+"\\)$"),Cd=new RegExp("^rgba\\("+[vd,vd,vd,md]+"\\)$"),Ed=new RegExp("^hsl\\("+[md,vd,vd]+"\\)$"),xd=new RegExp("^hsla\\("+[md,vd,vd,md]+"\\)$"),Sd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dd(At,Ot,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),dd(Rt,Vt,Pt(At,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Ft(this.r)+Ft(this.g)+Ft(this.b)},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),dd(Ut,Bt,Pt(At,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Rt(qt(t>=240?t-240:t+120,r,i),qt(t,r,i),qt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Td=Math.PI/180,kd=180/Math.PI,Md=.96422,Dd=1,Pd=.82521,Ad=4/29,Od=6/29,Id=3*Od*Od,Nd=Od*Od*Od;dd(Gt,Yt,Pt(At,{brighter:function(t){return new Gt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Gt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Md*Kt(e),t=Dd*Kt(t),n=Pd*Kt(n),new Rt(Qt(3.1338561*e-1.6168667*t-.4906146*n),Qt(-.9787684*e+1.9161415*t+.033454*n),Qt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),dd(ee,te,Pt(At,{brighter:function(t){return new ee(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ee(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return zt(this).rgb()}}));var Ld=-.29227,Vd=-.90649,Rd=1.97294,Fd=Rd*Vd,Hd=1.78277*Rd,jd=1.78277*Ld- -.14861*Vd;dd(re,ie,Pt(At,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new re(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new re(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Td,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Rt(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(Ld*i+Vd*r)),255*(e+n*(Rd*i)),this.opacity)}}));var Bd,Ud,qd,zd,Wd,Yd,Gd=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return oe((n-i/e)*e,s,r,o,a)}},Xd=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return oe((n-i/e)*e,r,o,s,a)}},Kd=function(t){return function(){return t}},Qd=function t(e){function n(t,e){var n=i((t=Vt(t)).r,(e=Vt(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=ce(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=ue(e);return n.gamma=t,n}(1),Zd=he(Gd),Jd=he(Xd),$d=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=af(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},tf=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},ef=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},nf=function(t,e){var n,i={},r={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=af(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},rf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,of=new RegExp(rf.source,"g"),sf=function(t,e){var n,i,r,o=rf.lastIndex=of.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=rf.exec(t))&&(i=of.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ef(n,i)})),o=of.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?de(l[0].x):pe(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},af=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Kd(e):("number"===i?ef:"string"===i?(n=Ot(e))?(e=n,Qd):sf:e instanceof Ot?Qd:e instanceof Date?tf:Array.isArray(e)?$d:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?nf:ef)(t,e)},lf=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},uf=function(t,e){var n=le(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},cf=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},hf=180/Math.PI,pf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},df=function(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*hf,skewX:Math.atan(l)*hf,scaleX:s,scaleY:a}},ff=ve(fe,"px, ","px)","deg)"),mf=ve(me,", ",")",")"),vf=Math.SQRT2,yf=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],u=e[2],c=a-r,h=l-o,p=c*c+h*h;if(p<1e-12)i=Math.log(u/s)/vf,n=function(t){return[r+t*c,o+t*h,s*Math.exp(vf*t*i)]};else{var d=Math.sqrt(p),f=(u*u-s*s+4*p)/(2*s*2*d),m=(u*u-s*s-4*p)/(2*u*2*d),v=Math.log(Math.sqrt(f*f+1)-f),y=Math.log(Math.sqrt(m*m+1)-m);i=(y-v)/vf,n=function(t){var e=t*i,n=ye(v),a=s/(2*d)*(n*be(vf*e+v)-ge(v));return[r+a*c,o+a*h,s*n/ye(vf*e+v)]}}return n.duration=1e3*i,n},gf=we(le),bf=we(ce),wf=Ce(le),_f=Ce(ce),Cf=Ee(le),Ef=Ee(ce),xf=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Sf=0,Tf=0,kf=0,Mf=1e3,Df=0,Pf=0,Af=0,Of="object"==typeof performance&&performance.now?performance:Date,If="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};ke.prototype=Me.prototype={constructor:ke,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Se():+n)+(null==e?0:+e),this._next||Yd===this||(Yd?Yd._next=this:Wd=this,Yd=this),this._call=t,this._time=n,Ie()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ie())}};var Nf=function(t,e,n){var i=new ke;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},Lf=function(t,e,n){var i=new ke,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Se():+n,i.restart(function o(s){s+=r,i.restart(o,r+=e,n),t(s)},e,n),i)},Vf=ap("start","end","cancel","interrupt"),Rf=[],Ff=0,Hf=1,jf=2,Bf=3,Uf=4,qf=5,zf=6,Wf=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Re(t,n,{name:e,index:i,group:r,on:Vf,tween:Rf,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ff})},Yf=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>jf&&n.state<qf,n.state=zf,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},Gf=function(t){return this.each(function(){Yf(this,t)})},Xf=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ve(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Fe:He)(n,t,e))},Kf=function(t,e){var n;return("number"==typeof e?ef:e instanceof Ot?Qd:(n=Ot(e))?(e=n,Qd):sf)(t,e)},Qf=function(t,e){var n=cp(t),i="transform"===n?mf:Kf;return this.attrTween(t,"function"==typeof e?(n.local?Ye:We)(n,i,je(this,"attr."+t,e)):null==e?(n.local?Ue:Be)(n):(n.local?ze:qe)(n,i,e))},Zf=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=cp(t);return this.tween(n,(i.local?Ke:Qe)(i,e))},Jf=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ze:Je)(e,t)):Ve(this.node(),e).delay},$f=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$e:tn)(e,t)):Ve(this.node(),e).duration},tm=function(t){var e=this._id;return arguments.length?this.each(en(e,t)):Ve(this.node(),e).ease},em=function(t){"function"!=typeof t&&(t=vp(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new mn(i,this._parents,this._name,this._id)},nm=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,p=s[a]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(p[d]=l);for(;a<i;++a)s[a]=e[a];return new mn(s,this._parents,this._name,this._id)},im=function(t,e){var n=this._id;return arguments.length<2?Ve(this.node(),n).on.on(t):this.each(rn(n,t,e))},rm=function(){return this.on("end.remove",on(this._id))},om=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pp(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,u=i[s],c=u.length,h=o[s]=new Array(c),p=0;p<c;++p)(a=u[p])&&(l=t.call(a,a.__data__,p,u))&&("__data__"in a&&(l.__data__=a.__data__),h[p]=l,Wf(h[p],e,n,p,h,Ve(a,n)));return new mn(o,this._parents,e,n)},sm=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=fp(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,u=i[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var p,d=t.call(l,l.__data__,h,u),f=Ve(l,n),m=0,v=d.length;m<v;++m)(p=d[m])&&Wf(p,e,n,m,d,f);o.push(d),s.push(l)}return new mn(o,s,e,n)},am=$p.prototype.constructor,lm=function(){return new am(this._groups,this._parents)},um=function(t,e,n){var i="transform"==(t+="")?ff:Kf;return null==e?this.styleTween(t,sn(t,i)).on("end.style."+t,an(t)):"function"==typeof e?this.styleTween(t,un(t,i,je(this,"style."+t,e))).each(cn(this._id,t)):this.styleTween(t,ln(t,i,e),n).on("end.style."+t,null)},cm=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,pn(t,e,null==n?"":n))},hm=function(t){return this.tween("text","function"==typeof t?fn(je(this,"text",t)):dn(null==t?"":t+""))},pm=function(){for(var t=this._name,e=this._id,n=yn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)if(s=a[u]){var c=Ve(s,e);Wf(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new mn(i,this._parents,t,n)},dm=function(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each(function(){var n=Le(this,i),r=n.on;r!==t&&(e=(t=r).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})})},fm=0,mm=$p.prototype;mn.prototype=vn.prototype={constructor:mn,select:om,selectAll:sm,filter:em,merge:nm,selection:lm,transition:pm,call:mm.call,nodes:mm.nodes,node:mm.node,size:mm.size,empty:mm.empty,each:mm.each,on:im,attr:Qf,attrTween:Zf,style:um,styleTween:cm,text:hm,remove:rm,tween:Xf,delay:Jf,duration:$f,ease:tm,end:dm};var vm=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),ym=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),gm=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),bm=Math.PI,wm=bm/2,_m=4/11,Cm=6/11,Em=8/11,xm=.75,Sm=9/11,Tm=10/11,km=.9375,Mm=21/22,Dm=63/64,Pm=1/_m/_m,Am=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Om=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Im=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Nm=2*Math.PI,Lm=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Nm);return i.amplitude=function(e){return t(e,n*Nm)},i.period=function(n){return t(e,n)},i}(1,.3),Vm=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Nm);return i.amplitude=function(e){return t(e,n*Nm)},i.period=function(n){return t(e,n)},i}(1,.3),Rm=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Nm);return i.amplitude=function(e){return t(e,n*Nm)},i.period=function(n){return t(e,n)},i}(1,.3),Fm={time:null,delay:0,duration:250,ease:xn},Hm=function(t){var e,n;t instanceof mn?(e=t._id,t=t._name):(e=yn(),(n=Fm).time=Se(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)(s=a[u])&&Wf(s,t,e,u,a,n||Rn(s,e));return new mn(i,this._parents,t,e)};$p.prototype.interrupt=Gf,$p.prototype.transition=Hm;var jm=[null],Bm=function(t,e){var n,i,r=t.__transition;if(r){e=null==e?null:e+"";for(i in r)if((n=r[i]).state>Hf&&n.name===e)return new mn([[t]],jm,e,+i)}return null},Um=function(t){return function(){return t}},qm=function(t,e,n){this.target=t,this.type=e,this.selection=n},zm=function(){Kp.preventDefault(),Kp.stopImmediatePropagation()},Wm={name:"drag"},Ym={name:"space"},Gm={name:"handle"},Xm={name:"center"},Km={name:"x",handles:["e","w"].map(Hn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Qm={name:"y",handles:["n","s"].map(Hn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Zm={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Hn),input:function(t){return t},output:function(t){return t}},Jm={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$m={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},tv={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ev={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},nv={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},iv=function(){return Gn(Zm)},rv=Math.cos,ov=Math.sin,sv=Math.PI,av=sv/2,lv=2*sv,uv=Math.max,cv=function(){function t(t){var o,s,a,l,u,c,h=t.length,p=[],d=Oh(h),f=[],m=[],v=m.groups=new Array(h),y=new Array(h*h);for(o=0,u=-1;++u<h;){for(s=0,c=-1;++c<h;)s+=t[u][c];p.push(s),f.push(Oh(h)),o+=s}for(n&&d.sort(function(t,e){return n(p[t],p[e])}),i&&f.forEach(function(e,n){e.sort(function(e,r){return i(t[n][e],t[n][r])})}),o=uv(0,lv-e*h)/o,l=o?e:lv/h,s=0,u=-1;++u<h;){for(a=s,c=-1;++c<h;){var g=d[u],b=f[g][c],w=t[g][b],_=s,C=s+=w*o;y[b*h+g]={index:g,subindex:b,startAngle:_,endAngle:C,value:w}}v[g]={index:g,startAngle:a,endAngle:s,value:p[g]},s+=l}for(u=-1;++u<h;)for(c=u-1;++c<h;){var E=y[c*h+u],x=y[u*h+c];(E.value||x.value)&&m.push(E.value<x.value?{source:x,target:E}:{source:E,target:x})}return r?m.sort(r):m}var e=0,n=null,i=null,r=null;return t.padAngle=function(n){return arguments.length?(e=uv(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(i=e,t):i},t.sortChords=function(e){return arguments.length?(null==e?r=null:(r=Xn(e))._=e,t):r&&r._},t},hv=Array.prototype.slice,pv=function(t){return function(){return t}},dv=Math.PI,fv=2*dv,mv=fv-1e-6;Kn.prototype=Qn.prototype={constructor:Kn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,l=i-e,u=o-t,c=s-e,h=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*a-l*u)>1e-6&&r){var p=n-o,d=i-s,f=a*a+l*l,m=p*p+d*d,v=Math.sqrt(f),y=Math.sqrt(h),g=r*Math.tan((dv-Math.acos((f+h-m)/(2*v*y)))/2),b=g/y,w=g/v;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*u)+","+(e+b*c)),this._+="A"+r+","+r+",0,0,"+ +(c*p>u*d)+","+(this._x1=t+w*a)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n;var s=n*Math.cos(i),a=n*Math.sin(i),l=t+s,u=e+a,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%fv+fv),h>mv?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=dv)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var vv=Qn,yv=function(){function t(){var t,a=hv.call(arguments),l=e.apply(this,a),u=n.apply(this,a),c=+i.apply(this,(a[0]=l,a)),h=r.apply(this,a)-av,p=o.apply(this,a)-av,d=c*rv(h),f=c*ov(h),m=+i.apply(this,(a[0]=u,a)),v=r.apply(this,a)-av,y=o.apply(this,a)-av;if(s||(s=t=vv()),s.moveTo(d,f),s.arc(0,0,c,h,p),h===v&&p===y||(s.quadraticCurveTo(0,0,m*rv(v),m*ov(v)),s.arc(0,0,m,v,y)),s.quadraticCurveTo(0,0,d,f),s.closePath(),t)return s=null,t+""||null}var e=Zn,n=Jn,i=$n,r=ti,o=ei,s=null;return t.radius=function(e){return arguments.length?(i="function"==typeof e?e:pv(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:pv(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:pv(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(s=null==e?null:e,t):s},t};ni.prototype=ii.prototype={constructor:ni,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var gv=ii,bv=function(){function t(e,r,s,a){if(r>=o.length)return null!=n&&e.sort(n),null!=i?i(e):e;for(var l,u,c,h=-1,p=e.length,d=o[r++],f=gv(),m=s();++h<p;)(c=f.get(l=d(u=e[h])+""))?c.push(u):f.set(l,[u]);return f.each(function(e,n){a(m,n,t(e,r,s,a))}),m}function e(t,n){if(++n>o.length)return t;var r,a=s[n-1];return null!=i&&n>=o.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=a?r.sort(function(t,e){return a(t.key,e.key)}):r}var n,i,r,o=[],s=[];return r={object:function(e){return t(e,0,ri,oi)},map:function(e){return t(e,0,si,ai)},entries:function(n){return e(t(n,0,si,ai),0)},key:function(t){return o.push(t),r},sortKeys:function(t){return s[o.length-1]=t,r},sortValues:function(t){return n=t,r},rollup:function(t){return i=t,r}}},wv=gv.prototype;li.prototype=ui.prototype={constructor:li,has:wv.has,add:function(t){return t+="",this["$"+t]=t,this},remove:wv.remove,clear:wv.clear,values:wv.keys,size:wv.size,empty:wv.empty,each:wv.each};var _v=ui,Cv=function(t){var e=[];for(var n in t)e.push(n);return e},Ev=function(t){var e=[];for(var n in t)e.push(t[n]);return e},xv=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Sv=Array.prototype,Tv=Sv.slice,kv=function(t,e){return t-e},Mv=function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i},Dv=function(t){return function(){return t}},Pv=function(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=ci(t,e[i]))return n;return 0},Av=function(){},Ov=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Iv=function(){function t(t){var n=l(t);if(Array.isArray(n))n=n.slice().sort(kv);else{var i=Th(t),r=i[0],o=i[1];n=s(r,o,n),n=Oh(Math.floor(r/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return e(t,n)})}function e(t,e){var i=[],r=[];return n(t,e,function(n){u(n,t,e),Mv(n)>0?i.push([n]):r.push(n)}),r.forEach(function(t){for(var e,n=0,r=i.length;n<r;++n)if(-1!==Pv((e=i[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:e,coordinates:i}}function n(t,e,n){function r(t){var e,r,o=[t[0][0]+s,t[0][1]+l],a=[t[1][0]+s,t[1][1]+l],u=i(o),c=i(a);(e=f[u])?(r=d[c])?(delete f[e.end],delete d[r.start],e===r?(e.ring.push(a),n(e.ring)):d[e.start]=f[r.end]={start:e.start,end:r.end,ring:e.ring.concat(r.ring)}):(delete f[e.end],e.ring.push(a),f[e.end=c]=e):(e=d[c])?(r=f[u])?(delete d[e.start],delete f[r.end],e===r?(e.ring.push(a),n(e.ring)):d[r.start]=f[e.end]={start:r.start,end:e.end,ring:r.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(o),d[e.start=u]=e):d[u]=f[c]={start:u,end:c,ring:[o,a]}}var s,l,u,c,h,p,d=new Array,f=new Array;for(s=l=-1,c=t[0]>=e,Ov[c<<1].forEach(r);++s<o-1;)u=c,c=t[s+1]>=e,Ov[u|c<<1].forEach(r);for(Ov[c<<0].forEach(r);++l<a-1;){for(s=-1,c=t[l*o+o]>=e,h=t[l*o]>=e,Ov[c<<1|h<<2].forEach(r);++s<o-1;)u=c,c=t[l*o+o+s+1]>=e,p=h,h=t[l*o+s+1]>=e,Ov[u|c<<1|h<<2|p<<3].forEach(r);Ov[c|h<<3].forEach(r)}for(s=-1,h=t[l*o]>=e,Ov[h<<2].forEach(r);++s<o-1;)p=h,h=t[l*o+s+1]>=e,Ov[h<<2|p<<3].forEach(r);Ov[h<<3].forEach(r)}function i(t){return 2*t[0]+t[1]*(o+1)*4}function r(t,e,n){t.forEach(function(t){var i,r=t[0],s=t[1],l=0|r,u=0|s,c=e[u*o+l];r>0&&r<o&&l===r&&(i=e[u*o+l-1],t[0]=r+(n-i)/(c-i)-.5),s>0&&s<a&&u===s&&(i=e[(u-1)*o+l],t[1]=s+(n-i)/(c-i)-.5)})}var o=1,a=1,l=Rh,u=r;return t.contour=e,t.size=function(e){if(!arguments.length)return[o,a];var n=Math.ceil(e[0]),i=Math.ceil(e[1]);if(!(n>0&&i>0))throw new Error("invalid size");return o=n,a=i,t},t.thresholds=function(e){return arguments.length?(l="function"==typeof e?e:Dv(Array.isArray(e)?Tv.call(e):e),t):l},t.smooth=function(e){return arguments.length?(u=e?r:Av,t):u===r},t},Nv=function(){function t(t){var n=new Float32Array(m*v),i=new Float32Array(m*v);t.forEach(function(t,e,i){var r=+a(t,e,i)+f>>d,o=+l(t,e,i)+f>>d,s=+u(t,e,i);r>=0&&r<m&&o>=0&&o<v&&(n[r+o*m]+=s)}),fi({width:m,height:v,data:n},{width:m,height:v,data:i},p>>d),mi({width:m,height:v,data:i},{width:m,height:v,data:n},p>>d),fi({width:m,height:v,data:n},{width:m,height:v,data:i},p>>d),mi({width:m,height:v,data:i},{width:m,height:v,data:n},p>>d),fi({width:m,height:v,data:n},{width:m,height:v,data:i},p>>d),mi({width:m,height:v,data:i},{width:m,height:v,data:n},p>>d);var r=y(n);if(!Array.isArray(r)){var o=Uh(n);r=s(0,o,r),r=Oh(0,Math.floor(o/r)*r,r),r.shift()}return Iv().thresholds(r).size([m,v])(n).map(e)}function e(t){return t.value*=Math.pow(2,-2*d),t.coordinates.forEach(n),t}function n(t){t.forEach(i)}function i(t){t.forEach(r)}function r(t){t[0]=t[0]*Math.pow(2,d)-f,t[1]=t[1]*Math.pow(2,d)-f}function o(){return f=3*p,m=c+2*f>>d,v=h+2*f>>d,t}var a=vi,l=yi,u=gi,c=960,h=500,p=20,d=2,f=3*p,m=c+2*f>>d,v=h+2*f>>d,y=Dv(20);return t.x=function(e){return arguments.length?(a="function"==typeof e?e:Dv(+e),t):a},t.y=function(e){return arguments.length?(l="function"==typeof e?e:Dv(+e),t):l},t.weight=function(e){return arguments.length?(u="function"==typeof e?e:Dv(+e),t):u},t.size=function(t){if(!arguments.length)return[c,h];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return c=e,h=n,o()},t.cellSize=function(t){if(!arguments.length)return 1<<d;if(!((t=+t)>=1))throw new Error("invalid cell size");return d=Math.floor(Math.log(t)/Math.LN2),o()},t.thresholds=function(e){return arguments.length?(y="function"==typeof e?e:Dv(Array.isArray(e)?Tv.call(e):e),t):y},t.bandwidth=function(t){if(!arguments.length)return Math.sqrt(p*(p+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return p=Math.round((Math.sqrt(4*t*t+1)-1)/2),o()},t},Lv={},Vv={},Rv=34,Fv=10,Hv=13,jv=function(t){function e(t,e){var i,r,o=n(t,function(t,n){if(i)return i(t,n-1);r=t,i=e?wi(t,e):bi(t)});return o.columns=r||[],o}function n(t,e){function n(){if(l)return Vv;if(u)return u=!1,Lv;var e,n,i=s;if(t.charCodeAt(i)===Rv){for(;s++<o&&t.charCodeAt(s)!==Rv||t.charCodeAt(++s)===Rv;);return(e=s)>=o?l=!0:(n=t.charCodeAt(s++))===Fv?u=!0:n===Hv&&(u=!0,t.charCodeAt(s)===Fv&&++s),t.slice(i+1,e-1).replace(/""/g,'"')}for(;s<o;){if((n=t.charCodeAt(e=s++))===Fv)u=!0;else if(n===Hv)u=!0,t.charCodeAt(s)===Fv&&++s;else if(n!==c)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}var i,r=[],o=t.length,s=0,a=0,l=o<=0,u=!1;for(t.charCodeAt(o-1)===Fv&&--o,t.charCodeAt(o-1)===Hv&&--o;(i=n())!==Vv;){for(var h=[];i!==Lv&&i!==Vv;)h.push(i),i=n();e&&null==(h=e(h,a++))||r.push(h)}return r}function i(e,n){return e.map(function(e){return n.map(function(t){return l(e[t])}).join(t)})}function r(e,n){return null==n&&(n=_i(e)),[n.map(l).join(t)].concat(i(e,n)).join("\n")}function o(t,e){return null==e&&(e=_i(t)),i(t,e).join("\n")}function s(t){return t.map(a).join("\n")}function a(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?xi(t):u.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n\r]"),c=t.charCodeAt(0);return{parse:e,parseRows:n,format:r,formatBody:o,formatRows:s}},Bv=jv(","),Uv=Bv.parse,qv=Bv.parseRows,zv=Bv.format,Wv=Bv.formatBody,Yv=Bv.formatRows,Gv=jv("\t"),Xv=Gv.parse,Kv=Gv.parseRows,Qv=Gv.format,Zv=Gv.formatBody,Jv=Gv.formatRows,$v=function(t,e){return fetch(t,e).then(Ti)},ty=function(t,e){return fetch(t,e).then(ki)},ey=function(t,e){return fetch(t,e).then(Mi)},ny=Di(Uv),iy=Di(Xv),ry=function(t,e){return new Promise(function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t})},oy=function(t,e){return fetch(t,e).then(Ai)},sy=Oi("application/xml"),ay=Oi("text/html"),ly=Oi("image/svg+xml"),uy=function(t,e){function n(){var n,r,o=i.length,s=0,a=0;for(n=0;n<o;++n)r=i[n],s+=r.x,a+=r.y;for(s=s/o-t,a=a/o-e,n=0;n<o;++n)r=i[n],r.x-=s,r.y-=a}var i;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},cy=function(t){return function(){return t}},hy=function(){return 1e-6*(Math.random()-.5)},py=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Ii(this.cover(e,n),e,n,t)},dy=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,l=r-n,u=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,s=new Array(4),s[a]=u,u=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},fy=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},my=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},vy=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},yy=function(t,e,n){var i,r,o,s,a,l,u,c=this._x0,h=this._y0,p=this._x1,d=this._y1,f=[],m=this._root;for(m&&f.push(new vy(m,c,h,p,d)),null==n?n=1/0:(c=t-n,h=e-n,p=t+n,d=e+n,n*=n);l=f.pop();)if(!(!(m=l.node)||(r=l.x0)>p||(o=l.y0)>d||(s=l.x1)<c||(a=l.y1)<h))if(m.length){var v=(r+s)/2,y=(o+a)/2;f.push(new vy(m[3],v,y,s,a),new vy(m[2],r,y,v,a),new vy(m[1],v,o,s,y),new vy(m[0],r,o,v,y)),(u=(e>=y)<<1|t>=v)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-u],f[f.length-1-u]=l)}else{var g=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),w=g*g+b*b;if(w<n){var _=Math.sqrt(n=w);c=t-_,h=e-_,p=t+_,d=e+_,i=m.data}}return i},gy=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,u,c,h,p,d=this._root,f=this._x0,m=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(a=(f+v)/2))?f=a:v=a,(c=s>=(l=(m+y)/2))?m=l:y=l,e=d,!(d=d[h=c<<1|u]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,p=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=r,this)},by=function(){return this._root},wy=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},_y=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new vy(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var u=(i+o)/2,c=(r+s)/2;(n=l[3])&&a.push(new vy(n,u,c,o,s)),(n=l[2])&&a.push(new vy(n,i,c,u,s)),(n=l[1])&&a.push(new vy(n,u,r,o,c)),(n=l[0])&&a.push(new vy(n,i,r,u,c))}return this},Cy=function(t){var e,n=[],i=[];for(this._root&&n.push(new vy(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,u=e.y1,c=(s+l)/2,h=(a+u)/2;(o=r[0])&&n.push(new vy(o,s,a,c,h)),(o=r[1])&&n.push(new vy(o,c,a,l,h)),(o=r[2])&&n.push(new vy(o,s,h,c,u)),(o=r[3])&&n.push(new vy(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ey=function(t){return arguments.length?(this._x=t,this):this._x},xy=function(t){return arguments.length?(this._y=t,this):this._y},Sy=Fi.prototype=Hi.prototype;Sy.copy=function(){var t,e,n=new Hi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ji(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ji(e));return n},Sy.add=py,Sy.addAll=Ni,Sy.cover=dy,Sy.data=fy,Sy.extent=my,Sy.find=yy,Sy.remove=gy,Sy.removeAll=Li,Sy.root=by,Sy.size=wy,Sy.visit=_y,Sy.visitAfter=Cy,Sy.x=Ey,Sy.y=xy;var Ty=function(t){function e(){function t(t,e,n,i,r){var o=t.data,a=t.r,d=h+a;{if(!o)return e>u+d||i<u-d||n>c+d||r<c-d;if(o.index>l.index){var f=u-o.x-o.vx,m=c-o.y-o.vy,v=f*f+m*m;v<d*d&&(0===f&&(f=hy(),v+=f*f),0===m&&(m=hy(),v+=m*m),v=(d-(v=Math.sqrt(v)))/v*s,l.vx+=(f*=v)*(d=(a*=a)/(p+a)),l.vy+=(m*=v)*d,o.vx-=f*(d=1-d),o.vy-=m*d)}}}for(var e,i,l,u,c,h,p,d=r.length,f=0;f<a;++f)for(i=Fi(r,Bi,Ui).visitAfter(n),e=0;e<d;++e)l=r[e],h=o[l.index],p=h*h,u=l.x+l.vx,c=l.y+l.vy,i.visit(t)}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function i(){if(r){var e,n,i=r.length;for(o=new Array(i),e=0;e<i;++e)n=r[e],o[n.index]=+t(n,e,r)}}var r,o,s=1,a=1;return"function"!=typeof t&&(t=cy(null==t?1:+t)),e.initialize=function(t){r=t,i()},e.iterations=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(s=+t,e):s},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:cy(+n),i(),e):t},e},ky=function(t){function e(t){return 1/Math.min(u[t.source.index],u[t.target.index])}function n(e){for(var n=0,i=t.length;n<f;++n)for(var r,o,l,u,h,p,d,m=0;m<i;++m)r=t[m],o=r.source,l=r.target,u=l.x+l.vx-o.x-o.vx||hy(),h=l.y+l.vy-o.y-o.vy||hy(),p=Math.sqrt(u*u+h*h),p=(p-a[m])/p*e*s[m],u*=p,h*=p,l.vx-=u*(d=c[m]),l.vy-=h*d,o.vx+=u*(d=1-d),o.vy+=h*d}function i(){if(l){var e,n,i=l.length,p=t.length,d=gv(l,h);for(e=0,u=new Array(i);e<p;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=zi(d,n.source)),"object"!=typeof n.target&&(n.target=zi(d,n.target)),u[n.source.index]=(u[n.source.index]||0)+1,u[n.target.index]=(u[n.target.index]||0)+1;for(e=0,c=new Array(p);e<p;++e)n=t[e],c[e]=u[n.source.index]/(u[n.source.index]+u[n.target.index]);s=new Array(p),r(),a=new Array(p),o()}}function r(){if(l)for(var e=0,n=t.length;e<n;++e)s[e]=+p(t[e],e,t)}function o(){if(l)for(var e=0,n=t.length;e<n;++e)a[e]=+d(t[e],e,t)}var s,a,l,u,c,h=qi,p=e,d=cy(30),f=1;return null==t&&(t=[]),n.initialize=function(t){l=t,i()},n.links=function(e){return arguments.length?(t=e,i(),n):t},n.id=function(t){return arguments.length?(h=t,n):h},n.iterations=function(t){return arguments.length?(f=+t,n):f},n.strength=function(t){return arguments.length?(p="function"==typeof t?t:cy(+t),r(),n):p},n.distance=function(t){return arguments.length?(d="function"==typeof t?t:cy(+t),o(),n):d},n},My=10,Dy=Math.PI*(3-Math.sqrt(5)),Py=function(t){function e(){n(),d.call("tick",o),s<a&&(p.stop(),d.call("end",o))}function n(e){var n,i,r=t.length;void 0===e&&(e=1);for(var a=0;a<e;++a)for(s+=(u-s)*l,h.each(function(t){t(s)}),n=0;n<r;++n)i=t[n],null==i.fx?i.x+=i.vx*=c:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=c:(i.y=i.fy,i.vy=0);return o}function i(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=My*Math.sqrt(n),o=n*Dy;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function r(e){return e.initialize&&e.initialize(t),e}var o,s=1,a=.001,l=1-Math.pow(a,1/300),u=0,c=.6,h=gv(),p=Me(e),d=ap("tick","end");return null==t&&(t=[]),i(),o={tick:n,restart:function(){return p.restart(e),o},stop:function(){return p.stop(),o},nodes:function(e){return arguments.length?(t=e,i(),h.each(r),o):t},alpha:function(t){return arguments.length?(s=+t,o):s},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(l=+t,o):+l},alphaTarget:function(t){return arguments.length?(u=+t,o):u},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,r(e)),o):h.get(t)},find:function(e,n,i){var r,o,s,a,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)a=t[u],r=e-a.x,o=n-a.y,(s=r*r+o*o)<i&&(l=a,i=s);return l},on:function(t,e){return arguments.length>1?(d.on(t,e),o):d.on(t)}}},Ay=function(){function t(t){var e,a=r.length,l=Fi(r,Wi,Yi).visitAfter(n);for(s=t,e=0;e<a;++e)o=r[e],l.visit(i)}function e(){if(r){var t,e,n=r.length;for(a=new Array(n),t=0;t<n;++t)e=r[t],a[e.index]=+l(e,t,r)}}function n(t){var e,n,i,r,o,s=0,l=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,r+=n*e.y);t.x=i/l,t.y=r/l}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=a[e.data.index]}while(e=e.next)}t.value=s}function i(t,e,n,i){if(!t.value)return!0;var r=t.x-o.x,l=t.y-o.y,p=i-e,d=r*r+l*l;if(p*p/h<d)return d<c&&(0===r&&(r=hy(),d+=r*r),0===l&&(l=hy(),d+=l*l),d<u&&(d=Math.sqrt(u*d)),o.vx+=r*t.value*s/d,o.vy+=l*t.value*s/d),!0;if(!(t.length||d>=c)){(t.data!==o||t.next)&&(0===r&&(r=hy(),d+=r*r),0===l&&(l=hy(),d+=l*l),d<u&&(d=Math.sqrt(u*d)));do{t.data!==o&&(p=a[t.data.index]*s/d,o.vx+=r*p,o.vy+=l*p)}while(t=t.next)}}var r,o,s,a,l=cy(-30),u=1,c=1/0,h=.81;return t.initialize=function(t){r=t,e()},t.strength=function(n){return arguments.length?(l="function"==typeof n?n:cy(+n),e(),t):l},t.distanceMin=function(e){return arguments.length?(u=e*e,t):Math.sqrt(u)},t.distanceMax=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t},Oy=function(t,e,n){function i(t){for(var i=0,r=o.length;i<r;++i){var l=o[i],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),p=(a[i]-h)*s[i]*t/h;l.vx+=u*p,l.vy+=c*p}}function r(){if(o){var e,n=o.length;for(s=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(o[e],e,o),s[e]=isNaN(a[e])?0:+l(o[e],e,o)}}var o,s,a,l=cy(.1);return"function"!=typeof t&&(t=cy(+t)),null==e&&(e=0),null==n&&(n=0),i.initialize=function(t){o=t,r()},i.strength=function(t){return arguments.length?(l="function"==typeof t?t:cy(+t),r(),i):l},i.radius=function(e){return arguments.length?(t="function"==typeof e?e:cy(+e),r(),i):t},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(t){return arguments.length?(n=+t,i):n},i},Iy=function(t){function e(t){for(var e,n=0,s=i.length;n<s;++n)e=i[n],e.vx+=(o[n]-e.x)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=cy(.1);return"function"!=typeof t&&(t=cy(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:cy(+t),n(),e):s},e.x=function(i){return arguments.length?(t="function"==typeof i?i:cy(+i),n(),e):t},e},Ny=function(t){function e(t){for(var e,n=0,s=i.length;n<s;++n)e=i[n],e.vy+=(o[n]-e.y)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=cy(.1);return"function"!=typeof t&&(t=cy(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:cy(+t),n(),e):s},e.y=function(i){return arguments.length?(t="function"==typeof i?i:cy(+i),n(),e):t},e},Ly=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Vy=function(t){return t=Ly(Math.abs(t)),t?t[1]:NaN},Ry=function(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}},Fy=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},Hy=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Gi.prototype=Xi.prototype,Xi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var jy,By,Uy,qy,zy=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t},Wy=function(t,e){var n=Ly(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(jy=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ly(t,Math.max(0,e+o-1))[0]},Yy=function(t,e){var n=Ly(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Gy={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Yy(100*t,e)},r:Yy,s:Wy,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Xy=function(t){return t},Ky=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Qy=function(t){function e(t){function e(t){var e,r,a,c=y,_=g;if("c"===v)_=b(t)+_,t="";else{t=+t;var C=t<0;if(t=b(Math.abs(t),f),m&&(t=zy(t)),C&&0==+t&&(C=!1),c=(C?"("===u?u:"-":"-"===u||"("===u?"":u)+c,_=("s"===v?Ky[8+jy/3]:"")+_+(C&&"("===u?")":""),w)for(e=-1,r=t.length;++e<r;)if(48>(a=t.charCodeAt(e))||a>57){_=(46===a?o+t.slice(e+1):t.slice(e))+_,t=t.slice(0,e);break}}d&&!h&&(t=i(t,1/0));var E=c.length+t.length+_.length,x=E<p?new Array(p-E+1).join(n):"";switch(d&&h&&(t=i(x+t,x.length?p-_.length:1/0),x=""),l){case"<":t=c+t+_+x;break;case"=":t=c+x+t+_;break;case"^":t=x.slice(0,E=x.length>>1)+c+t+_+x.slice(E);break;default:t=x+c+t+_}return s(t)}t=Gi(t);var n=t.fill,l=t.align,u=t.sign,c=t.symbol,h=t.zero,p=t.width,d=t.comma,f=t.precision,m=t.trim,v=t.type;"n"===v?(d=!0,v="g"):Gy[v]||(null==f&&(f=12),m=!0,v="g"),(h||"0"===n&&"="===l)&&(h=!0,n="0",l="=");var y="$"===c?r[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",g="$"===c?r[1]:/[%p]/.test(v)?a:"",b=Gy[v],w=/[defgprs%]/.test(v);return f=null==f?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=Gi(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Vy(n)/3))),o=Math.pow(10,-r),s=Ky[8+r/3];return function(t){return i(o*t)+s}}var i=t.grouping&&t.thousands?Ry(t.grouping,t.thousands):Xy,r=t.currency,o=t.decimal,s=t.numerals?Fy(t.numerals):Xy,a=t.percent||"%";return{format:e,formatPrefix:n}};Ki({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Zy=function(t){return Math.max(0,-Vy(Math.abs(t)))},Jy=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vy(e)/3)))-Vy(Math.abs(t)))},$y=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vy(e)-Vy(t))+1},tg=function(){return new Qi};Qi.prototype={constructor:Qi,reset:function(){this.s=this.t=0},add:function(t){Zi(Og,t,this.t),Zi(this,Og.s,this.s),this.s?this.t+=Og.t:this.s=Og.t},valueOf:function(){return this.s}};var eg,ng,ig,rg,og,sg,ag,lg,ug,cg,hg,pg,dg,fg,mg,vg,yg,gg,bg,wg,_g,Cg,Eg,xg,Sg,Tg,kg,Mg,Dg,Pg,Ag,Og=new Qi,Ig=1e-6,Ng=Math.PI,Lg=Ng/2,Vg=Ng/4,Rg=2*Ng,Fg=180/Ng,Hg=Ng/180,jg=Math.abs,Bg=Math.atan,Ug=Math.atan2,qg=Math.cos,zg=Math.ceil,Wg=Math.exp,Yg=(Math.floor,Math.log),Gg=Math.pow,Xg=Math.sin,Kg=Math.sign||function(t){return t>0?1:t<0?-1:0},Qg=Math.sqrt,Zg=Math.tan,Jg={Feature:function(t,e){nr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)nr(n[i].geometry,e)}},$g={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ir(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ir(n[i],e,0)},Polygon:function(t,e){rr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)rr(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)nr(n[i],e)}},tb=function(t,e){t&&Jg.hasOwnProperty(t.type)?Jg[t.type](t,e):nr(t,e)},eb=tg(),nb=tg(),ib={point:er,lineStart:er,lineEnd:er,polygonStart:function(){eb.reset(),ib.lineStart=or,ib.lineEnd=sr},polygonEnd:function(){var t=+eb;nb.add(t<0?Rg+t:t),this.lineStart=this.lineEnd=this.point=er},sphere:function(){nb.add(Rg)}},rb=function(t){return nb.reset(),tb(t,ib),2*nb},ob=tg(),sb={point:vr,lineStart:gr,lineEnd:br,polygonStart:function(){sb.point=wr,sb.lineStart=_r,sb.lineEnd=Cr,ob.reset(),ib.polygonStart()},polygonEnd:function(){ib.polygonEnd(),sb.point=vr,sb.lineStart=gr,sb.lineEnd=br,eb<0?(sg=-(lg=180),ag=-(ug=90)):ob>Ig?ug=90:ob<-Ig&&(ag=-90),mg[0]=sg,mg[1]=lg}},ab=function(t){var e,n,i,r,o,s,a;if(ug=lg=-(sg=ag=1/0),fg=[],tb(t,sb),n=fg.length){for(fg.sort(xr),e=1,i=fg[0],o=[i];e<n;++e)r=fg[e],Sr(i,r[0])||Sr(i,r[1])?(Er(i[0],r[1])>Er(i[0],i[1])&&(i[1]=r[1]),Er(r[0],i[1])>Er(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(a=Er(i[1],r[0]))>s&&(s=a,sg=r[0],lg=i[1])}return fg=mg=null,sg===1/0||ag===1/0?[[NaN,NaN],[NaN,NaN]]:[[sg,ag],[lg,ug]]},lb={sphere:er,point:Tr,lineStart:Mr,lineEnd:Ar,polygonStart:function(){lb.lineStart=Or,lb.lineEnd=Ir},polygonEnd:function(){lb.lineStart=Mr,lb.lineEnd=Ar}},ub=function(t){vg=yg=gg=bg=wg=_g=Cg=Eg=xg=Sg=Tg=0,tb(t,lb);var e=xg,n=Sg,i=Tg,r=e*e+n*n+i*i;return r<1e-12&&(e=_g,n=Cg,i=Eg,yg<Ig&&(e=gg,n=bg,i=wg),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[Ug(n,e)*Fg,$i(i/Qg(r))*Fg]},cb=function(t){return function(){return t}},hb=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};Vr.invert=Vr;var pb,db,fb,mb,vb,yb,gb,bb,wb,_b,Cb,Eb=function(t){function e(e){return e=t(e[0]*Hg,e[1]*Hg),e[0]*=Fg,e[1]*=Fg,e}return t=Rr(t[0]*Hg,t[1]*Hg,t.length>2?t[2]*Hg:0),e.invert=function(e){return e=t.invert(e[0]*Hg,e[1]*Hg),e[0]*=Fg,e[1]*=Fg,e},e},xb=function(){function t(t,e){n.push(t=i(t,e)),t[0]*=Fg,t[1]*=Fg}function e(){var t=r.apply(this,arguments),e=o.apply(this,arguments)*Hg,l=s.apply(this,arguments)*Hg;return n=[],i=Rr(-t[0]*Hg,-t[1]*Hg,0).invert,Br(a,e,l,1),t={type:"Polygon",coordinates:[n]},n=i=null,t}var n,i,r=cb([0,0]),o=cb(90),s=cb(6),a={point:t};return e.center=function(t){return arguments.length?(r="function"==typeof t?t:cb([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:cb(+t),e):o},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:cb(+t),e):s},e},Sb=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:er,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Tb=function(t,e){return jg(t[0]-e[0])<Ig&&jg(t[1]-e[1])<Ig},kb=function(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(Tb(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a.push(n=new qr(i,t,null,!0)),l.push(n.o=new qr(i,null,n,!1)),a.push(n=new qr(s,t,null,!1)),l.push(n.o=new qr(s,null,n,!0))}}),a.length){for(l.sort(e),zr(a),zr(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,h=a[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;u=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(d)for(u=p.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(p.x,p.p.x,-1,r);p=p.p}p=p.o,u=p.z,d=!d}while(!p.v);r.lineEnd()}}},Mb=tg(),Db=function(t,e){var n=e[0],i=e[1],r=Xg(i),o=[Xg(n),-qg(n),0],s=0,a=0;Mb.reset(),1===r?i=Lg+Ig:-1===r&&(i=-Lg-Ig);for(var l=0,u=t.length;l<u;++l)if(h=(c=t[l]).length)for(var c,h,p=c[h-1],d=p[0],f=p[1]/2+Vg,m=Xg(f),v=qg(f),y=0;y<h;++y,d=b,m=_,v=C,p=g){var g=c[y],b=g[0],w=g[1]/2+Vg,_=Xg(w),C=qg(w),E=b-d,x=E>=0?1:-1,S=x*E,T=S>Ng,k=m*_;if(Mb.add(Ug(k*x*Xg(S),v*C+k*qg(S))),s+=T?E+x*Rg:E,T^d>=n^b>=n){var M=pr(cr(p),cr(g));mr(M);var D=pr(o,M);mr(D);var P=(T^E>=0?-1:1)*$i(D[2]);(i>P||i===P&&(M[0]||M[1]))&&(a+=T^E>=0?1:-1)}}return(s<-Ig||s<Ig&&Mb<-Ig)^1&a},Pb=function(t,e,n,i){return function(r){function o(e,n){t(e,n)&&r.point(e,n)}function s(t,e){m.point(t,e)}function a(){b.point=s,m.lineStart()}function l(){b.point=o,m.lineEnd()}function u(t,e){f.push([t,e]),y.point(t,e)}function c(){y.lineStart(),f=[]}function h(){u(f[0][0],f[0][1]),y.lineEnd();var t,e,n,i,o=y.clean(),s=v.result(),a=s.length;if(f.pop(),p.push(f),f=null,a)if(1&o){if(n=s[0],(e=n.length-1)>0){for(g||(r.polygonStart(),g=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else a>1&&2&o&&s.push(s.pop().concat(s.shift())),d.push(s.filter(Wr))}var p,d,f,m=e(r),v=Sb(),y=e(v),g=!1,b={point:o,lineStart:a,lineEnd:l,polygonStart:function(){b.point=u,b.lineStart=c,b.lineEnd=h,d=[],p=[]},polygonEnd:function(){b.point=o,b.lineStart=a,b.lineEnd=l,d=Wh(d);var t=Db(p,i);d.length?(g||(r.polygonStart(),g=!0),kb(d,Yr,t,n,r)):t&&(g||(r.polygonStart(),g=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),g&&(r.polygonEnd(),g=!1),d=p=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};return b}},Ab=Pb(function(){return!0},Gr,Kr,[-Ng,-Lg]),Ob=function(t){function e(e,n,i,r){Br(r,t,a,i,e,n)}function n(t,e){return qg(t)*qg(e)>s}function i(t){var e,i,s,a,c;return{lineStart:function(){a=s=!1,c=1},point:function(h,p){var d,f=[h,p],m=n(h,p),v=l?m?0:o(h,p):m?o(h+(h<0?Ng:-Ng),p):0;if(!e&&(a=s=m)&&t.lineStart(),m!==s&&(!(d=r(e,f))||Tb(e,d)||Tb(f,d))&&(f[0]+=Ig,f[1]+=Ig,m=n(f[0],f[1])),m!==s)c=0,m?(t.lineStart(),d=r(f,e),t.point(d[0],d[1])):(d=r(e,f),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(u&&e&&l^m){var y;v&i||!(y=r(f,e,!0))||(c=0,l?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&Tb(e,f)||t.point(f[0],f[1]),e=f,s=m,i=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(a&&s)<<1}}}function r(t,e,n){var i=cr(t),r=cr(e),o=[1,0,0],a=pr(i,r),l=hr(a,a),u=a[0],c=l-u*u;if(!c)return!n&&t;var h=s*l/c,p=-s*u/c,d=pr(o,a),f=fr(o,h);dr(f,fr(a,p));var m=d,v=hr(f,m),y=hr(m,m),g=v*v-y*(hr(f,f)-1);if(!(g<0)){var b=Qg(g),w=fr(m,(-v-b)/y);if(dr(w,f),w=ur(w),!n)return w;var _,C=t[0],E=e[0],x=t[1],S=e[1];E<C&&(_=C,C=E,E=_);var T=E-C,k=jg(T-Ng)<Ig,M=k||T<Ig;if(!k&&S<x&&(_=x,x=S,S=_),M?k?x+S>0^w[1]<(jg(w[0]-C)<Ig?x:S):x<=w[1]&&w[1]<=S:T>Ng^(C<=w[0]&&w[0]<=E)){var D=fr(m,(-v+b)/y);return dr(D,f),[w,ur(D)]}}}function o(e,n){var i=l?t:Ng-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var s=qg(t),a=6*Hg,l=s>0,u=jg(s)>Ig;return Pb(n,i,e,l?[0,-t]:[-Ng,t-Ng])},Ib=function(t,e,n,i,r,o){var s,a=t[0],l=t[1],u=e[0],c=e[1],h=0,p=1,d=u-a,f=c-l;if(s=n-a,d||!(s>0)){if(s/=d,d<0){if(s<h)return;s<p&&(p=s)}else if(d>0){if(s>p)return;s>h&&(h=s)}if(s=r-a,d||!(s<0)){if(s/=d,d<0){if(s>p)return;s>h&&(h=s)}else if(d>0){if(s<h)return;s<p&&(p=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<h)return;s<p&&(p=s)}else if(f>0){if(s>p)return;s>h&&(h=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>p)return;s>h&&(h=s)}else if(f>0){if(s<h)return;s<p&&(p=s)}return h>0&&(t[0]=a+h*d,t[1]=l+h*f),p<1&&(e[0]=a+p*d,e[1]=l+p*f),!0}}}}},Nb=1e9,Lb=-Nb,Vb=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Qr(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},Rb=tg(),Fb={sphere:er,point:er,lineStart:Zr,lineEnd:er,polygonStart:er,polygonEnd:er},Hb=function(t){return Rb.reset(),tb(t,Fb),+Rb},jb=[null,null],Bb={type:"LineString",coordinates:jb},Ub=function(t,e){return jb[0]=t,jb[1]=e,Hb(Bb)},qb={Feature:function(t,e){return eo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(eo(n[i].geometry,e))return!0;return!1}},zb={Sphere:function(){return!0},Point:function(t,e){return no(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(no(n[i],e))return!0;return!1},LineString:function(t,e){return io(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(io(n[i],e))return!0;return!1},Polygon:function(t,e){return ro(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(ro(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(eo(n[i],e))return!0;return!1}},Wb=function(t,e){return(t&&qb.hasOwnProperty(t.type)?qb[t.type]:eo)(t,e)},Yb=function(t,e){var n=t[0]*Hg,i=t[1]*Hg,r=e[0]*Hg,o=e[1]*Hg,s=qg(i),a=Xg(i),l=qg(o),u=Xg(o),c=s*qg(n),h=s*Xg(n),p=l*qg(r),d=l*Xg(r),f=2*$i(Qg(tr(o-i)+s*l*tr(r-n))),m=Xg(f),v=f?function(t){var e=Xg(t*=f)/m,n=Xg(f-t)/m,i=n*c+e*p,r=n*h+e*d,o=n*a+e*u;return[Ug(r,i)*Fg,Ug(o,Qg(i*i+r*r))*Fg]}:function(){return[n*Fg,i*Fg]};return v.distance=f,v},Gb=function(t){return t},Xb=tg(),Kb=tg(),Qb={point:er,lineStart:er,lineEnd:er,polygonStart:function(){Qb.lineStart=ho,Qb.lineEnd=mo},polygonEnd:function(){Qb.lineStart=Qb.lineEnd=Qb.point=er,Xb.add(jg(Kb)),Kb.reset()},result:function(){var t=Xb/2;return Xb.reset(),t}},Zb=Qb,Jb=1/0,$b=Jb,tw=-Jb,ew=tw,nw={point:vo,lineStart:er,lineEnd:er,polygonStart:er,polygonEnd:er,result:function(){var t=[[Jb,$b],[tw,ew]];return tw=ew=-($b=Jb=1/0),t}},iw=nw,rw=0,ow=0,sw=0,aw=0,lw=0,uw=0,cw=0,hw=0,pw=0,dw={point:yo,lineStart:go,lineEnd:_o,polygonStart:function(){dw.lineStart=Co,dw.lineEnd=Eo},polygonEnd:function(){dw.point=yo,dw.lineStart=go,dw.lineEnd=_o},result:function(){var t=pw?[cw/pw,hw/pw]:uw?[aw/uw,lw/uw]:sw?[rw/sw,ow/sw]:[NaN,NaN];return rw=ow=sw=aw=lw=uw=cw=hw=pw=0,t}},fw=dw;To.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Rg)}},result:er};var mw,vw,yw,gw,bw,ww=tg(),_w={point:er,lineStart:function(){_w.point=ko},lineEnd:function(){mw&&Mo(vw,yw),_w.point=er},polygonStart:function(){mw=!0},polygonEnd:function(){mw=null},result:function(){var t=+ww;return ww.reset(),t}},Cw=_w;Do.prototype={_radius:4.5,_circle:Po(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Po(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Ew=function(t,e){function n(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),tb(t,i(r))),r.result()}var i,r,o=4.5;return n.area=function(t){return tb(t,i(Zb)),Zb.result()},n.measure=function(t){return tb(t,i(Cw)),Cw.result()},n.bounds=function(t){return tb(t,i(iw)),iw.result()},n.centroid=function(t){return tb(t,i(fw)),fw.result()},n.projection=function(e){return arguments.length?(i=null==e?(t=null,Gb):(t=e).stream,n):t},n.context=function(t){return arguments.length?(r=null==t?(e=null,new Do):new To(e=t),"function"!=typeof o&&r.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),n):o},n.projection(t).context(e)},xw=function(t){return{stream:Ao(t)}};Oo.prototype={constructor:Oo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sw=16,Tw=qg(30*Hg),kw=function(t,e){return+e?Ho(t,e):Fo(t)},Mw=Ao({point:function(t,e){this.stream.point(t*Hg,e*Hg)}}),Dw=function(){return Wo(Go).scale(155.424).center([0,33.6442])},Pw=function(){return Dw().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Aw=function(){function t(t){var e=t[0],n=t[1];return a=null,r.point(e,n),a||(o.point(e,n),a)||(s.point(e,n),a)}function e(){return n=i=null,t}var n,i,r,o,s,a,l=Pw(),u=Dw().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Dw().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){a=[t,e]}};return t.invert=function(t){var e=l.scale(),n=l.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:l).invert(t)},t.stream=function(t){return n&&i===t?n:n=Xo([l.stream(i=t),u.stream(t),c.stream(t)])},t.precision=function(t){return arguments.length?(l.precision(t),u.precision(t),c.precision(t),e()):l.precision()},t.scale=function(e){return arguments.length?(l.scale(e),u.scale(.35*e),c.scale(e),t.translate(l.translate())):l.scale()},t.translate=function(t){if(!arguments.length)return l.translate();var n=l.scale(),i=+t[0],a=+t[1];return r=l.translate(t).clipExtent([[i-.455*n,a-.238*n],[i+.455*n,a+.238*n]]).stream(h),o=u.translate([i-.307*n,a+.201*n]).clipExtent([[i-.425*n+Ig,a+.12*n+Ig],[i-.214*n-Ig,a+.234*n-Ig]]).stream(h),s=c.translate([i-.205*n,a+.212*n]).clipExtent([[i-.214*n+Ig,a+.166*n+Ig],[i-.115*n-Ig,a+.234*n-Ig]]).stream(h),e()},t.fitExtent=function(e,n){return No(t,e,n)},t.fitSize=function(e,n){return Lo(t,e,n)},t.fitWidth=function(e,n){return Vo(t,e,n)},t.fitHeight=function(e,n){return Ro(t,e,n)},t.scale(1070)},Ow=Ko(function(t){return Qg(2/(1+t))});Ow.invert=Qo(function(t){return 2*$i(t/2)});var Iw=function(){return qo(Ow).scale(124.75).clipAngle(179.999)},Nw=Ko(function(t){return(t=Ji(t))&&t/Xg(t)});Nw.invert=Qo(function(t){return t});var Lw=function(){return qo(Nw).scale(79.4188).clipAngle(179.999)};Zo.invert=function(t,e){return[t,2*Bg(Wg(e))-Lg]};var Vw=function(){return Jo(Zo).scale(961/Rg)},Rw=function(){return Wo(ts).scale(109.5).parallels([30,30])};es.invert=es;var Fw=function(){return qo(es).scale(152.63)},Hw=function(){return Wo(ns).scale(131.154).center([0,13.9389])},jw=1.340264,Bw=-.081106,Uw=893e-6,qw=.003796,zw=Qg(3)/2;is.invert=function(t,e){for(var n,i,r,o=e,s=o*o,a=s*s*s,l=0;l<12&&(i=o*(jw+Bw*s+a*(Uw+qw*s))-e,r=jw+3*Bw*s+a*(7*Uw+9*qw*s),o-=n=i/r,s=o*o,a=s*s*s,!(jg(n)<1e-12));++l);return[zw*t*(jw+3*Bw*s+a*(7*Uw+9*qw*s))/qg(o),$i(Xg(o)/zw)]};var Ww=function(){return qo(is).scale(177.158)};rs.invert=Qo(Bg);var Yw=function(){return qo(rs).scale(144.049).clipAngle(60)},Gw=function(){function t(){return r=o=null,s}var e,n,i,r,o,s,a=1,l=0,u=0,c=1,h=1,p=Gb,d=null,f=Gb;return s={stream:function(t){return r&&o===t?r:r=p(f(o=t))},postclip:function(r){return arguments.length?(f=r,d=e=n=i=null,t()):f},clipExtent:function(r){return arguments.length?(f=null==r?(d=e=n=i=null,Gb):Qr(d=+r[0][0],e=+r[0][1],n=+r[1][0],i=+r[1][1]),t()):null==d?null:[[d,e],[n,i]]},scale:function(e){return arguments.length?(p=os((a=+e)*c,a*h,l,u),t()):a},translate:function(e){return arguments.length?(p=os(a*c,a*h,l=+e[0],u=+e[1]),t()):[l,u]},reflectX:function(e){return arguments.length?(p=os(a*(c=e?-1:1),a*h,l,u),t()):c<0},reflectY:function(e){return arguments.length?(p=os(a*c,a*(h=e?-1:1),l,u),t()):h<0},fitExtent:function(t,e){return No(s,t,e)},fitSize:function(t,e){return Lo(s,t,e)},fitWidth:function(t,e){return Vo(s,t,e)},fitHeight:function(t,e){return Ro(s,t,e)}}};ss.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(jg(n)>Ig&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var Xw=function(){return qo(ss).scale(175.295)};as.invert=Qo($i);var Kw=function(){return qo(as).scale(249.5).clipAngle(90+Ig)};ls.invert=Qo(function(t){return 2*Bg(t)});var Qw=function(){return qo(ls).scale(250).clipAngle(142)};us.invert=function(t,e){return[-e,2*Bg(Wg(t))-Lg]};var Zw=function(){var t=Jo(us),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},Jw=function(){function t(t){var o,s=0;t.eachAfter(function(t){var n=t.children;n?(t.x=hs(n),t.y=ds(n)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)});var a=ms(t),l=vs(t),u=a.x-e(a,l)/2,c=l.x+e(l,a)/2;return t.eachAfter(r?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-u)/(c-u)*n,e.y=(1-(t.y?e.y/t.y:1))*i})}var e=cs,n=1,i=1,r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(r=!1,n=+e[0],i=+e[1],t):r?null:[n,i]},t.nodeSize=function(e){return arguments.length?(r=!0,n=+e[0],i=+e[1],t):r?[n,i]:null},t},$w=function(){return this.eachAfter(ys)},t_=function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},e_=function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},n_=function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},i_=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},r_=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},o_=function(t){for(var e=this,n=gs(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},s_=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},a_=function(){var t=[];return this.each(function(e){t.push(e)}),t},l_=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},u_=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};xs.prototype=bs.prototype={constructor:xs,count:$w,each:t_,eachAfter:n_,eachBefore:e_,sum:i_,sort:r_,path:o_,ancestors:s_,descendants:a_,leaves:l_,links:u_,copy:ws};var c_=Array.prototype.slice,h_=function(t){for(var e,n,i=0,r=(t=Ss(c_.call(t))).length,o=[];i<r;)e=t[i],n&&Ms(n,e)?++i:(n=Ps(o=Ts(o,e)),i=0);return n},p_=function(t){return Fs(t),t},d_=function(t){return function(){return t}},f_=function(){function t(t){return t.x=n/2,t.y=i/2,e?t.eachBefore(qs(e)).eachAfter(zs(r,.5)).eachBefore(Ws(1)):t.eachBefore(qs(Us)).eachAfter(zs(Bs,1)).eachAfter(zs(r,t.r/Math.min(n,i))).eachBefore(Ws(Math.min(n,i)/(2*t.r))),t}var e=null,n=1,i=1,r=Bs;return t.radius=function(n){return arguments.length?(e=Hs(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:d_(+e),t):r},t},m_=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},v_=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(i-e)/t.value;++a<l;)o=s[a],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*u},y_=function(){function t(t){var s=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=i/s,t.eachBefore(e(i,s)),o&&t.eachBefore(m_),t}function e(t,e){return function(n){n.children&&v_(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,s=n.x1-r,a=n.y1-r;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),n.x0=i,n.y0=o,n.x1=s,n.y1=a}}var n=1,i=1,r=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r=+e,t):r},t},g_="$",b_={depth:-1},w_={},__=function(){function t(t){var i,r,o,s,a,l,u,c=t.length,h=new Array(c),p={};for(r=0;r<c;++r)i=t[r],a=h[r]=new xs(i),null!=(l=e(i,r,t))&&(l+="")&&(u=g_+(a.id=l),p[u]=u in p?w_:a);for(r=0;r<c;++r)if(a=h[r],null!=(l=n(t[r],r,t))&&(l+="")){if(!(s=p[g_+l]))throw new Error("missing: "+l);if(s===w_)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=b_,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(Es),o.parent=null,c>0)throw new Error("cycle");return o}var e=Ys,n=Gs;return t.id=function(n){return arguments.length?(e=js(n),t):e},t.parentId=function(e){return arguments.length?(n=js(e),t):n},t};ta.prototype=Object.create(xs.prototype);var C_=function(){function t(t){var i=ea(t);if(i.eachAfter(e),i.parent.m=-i.z,i.eachBefore(n),l)t.eachBefore(r);else{var u=t,c=t,h=t;t.eachBefore(function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var p=u===c?1:o(u,c)/2,d=p-u.x,f=s/(c.x+p+d),m=a/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*f,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){Js(t);var s=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+o(t._,r._),t.m=t.z-s):t.z=s}else r&&(t.z=r.z+o(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var i,r=t,s=t,a=e,l=r.parent.children[0],u=r.m,c=s.m,h=a.m,p=l.m;a=Qs(a),r=Ks(r),a&&r;)l=Ks(l),s=Qs(s),s.a=t,i=a.z+h-r.z-u+o(a._,r._),i>0&&(Zs($s(a,t,n),t,i),u+=i,c+=i),h+=a.m,u+=r.m,p+=l.m,c+=s.m;a&&!Qs(s)&&(s.t=a,s.m+=h-c),r&&!Ks(l)&&(l.t=r,l.m+=u-p,n=t)}return n}function r(t){t.x*=s,t.y=t.depth*a}var o=Xs,s=1,a=1,l=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(l=!1,s=+e[0],a=+e[1],t):l?null:[s,a]},t.nodeSize=function(e){return arguments.length?(l=!0,s=+e[0],a=+e[1],t):l?[s,a]:null},t},E_=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(r-n)/t.value;++a<l;)o=s[a],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*u},x_=(1+Math.sqrt(5))/2,S_=function t(e){function n(t,n,i,r,o){na(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(x_),T_=function(){function t(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(e),s=[0],i&&t.eachBefore(m_),t}function e(t){var e=s[t.depth],i=t.x0+e,r=t.y0+e,o=t.x1-e,p=t.y1-e;o<i&&(i=o=(i+o)/2),p<r&&(r=p=(r+p)/2),t.x0=i,t.y0=r,t.x1=o,t.y1=p,t.children&&(e=s[t.depth+1]=a(t)/2,i+=h(t)-e,r+=l(t)-e,o-=u(t)-e,p-=c(t)-e,o<i&&(i=o=(i+o)/2),p<r&&(r=p=(r+p)/2),n(t,i,r,o,p))}var n=S_,i=!1,r=1,o=1,s=[0],a=Bs,l=Bs,u=Bs,c=Bs,h=Bs;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(n=js(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:d_(+e),t):a},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(l="function"==typeof e?e:d_(+e),t):l},t.paddingRight=function(e){return arguments.length?(u="function"==typeof e?e:d_(+e),t):u},t.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:d_(+e),t):c},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:d_(+e),t):h},t},k_=function(t,e,n,i,r){function o(t,e,n,i,r,s,a){if(t>=e-1){var u=l[t];return u.x0=i,u.y0=r,u.x1=s,u.y1=a,void 0}for(var h=c[t],p=n/2+h,d=t+1,f=e-1;d<f;){var m=d+f>>>1;c[m]<p?d=m+1:f=m}p-c[d-1]<c[d]-p&&t+1<d&&--d;var v=c[d]-h,y=n-v;if(s-i>a-r){var g=(i*y+s*v)/n;o(t,d,v,i,r,g,a),o(d,e,y,g,r,s,a)}else{var b=(r*y+a*v)/n;o(t,d,v,i,r,s,b),o(d,e,y,i,b,s,a)}}var s,a,l=t.children,u=l.length,c=new Array(u+1);for(c[0]=a=s=0;s<u;++s)c[s+1]=a+=l[s].value;o(0,u,t.value,e,n,i,r)},M_=function(t,e,n,i,r){(1&t.depth?E_:v_)(t,e,n,i,r)},D_=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,u,c,h=-1,p=s.length,d=t.value;++h<p;){for(a=s[h],l=a.children,u=a.value=0,c=l.length;u<c;++u)a.value+=l[u].value;a.dice?v_(a,n,i,r,i+=(o-i)*a.value/d):E_(a,n,i,n+=(r-n)*a.value/d,o),d-=a.value}else t._squarify=s=na(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(x_),P_=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},A_=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],l=0;++i<r;)e=a,a=t[i],l+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return l*=3,[o/l,s/l]},O_=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},I_=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(ia),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=ra(i),s=ra(r),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[i[o[e]][2]]);for(e=+a;e<s.length-l;++e)u.push(t[i[s[e]][2]]);return u},N_=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],l=o[0],u=o[1],c=!1,h=0;h<r;++h)o=t[h],n=o[0],i=o[1],i>a!=u>a&&s<(l-n)*(a-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},L_=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],l=0;++i<r;)e=s,n=a,o=t[i],s=o[0],a=o[1],e-=s,n-=a,l+=Math.sqrt(e*e+n*n);return l},V_=function(){return Math.random()},R_=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(V_),F_=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(V_),H_=function t(e){function n(){var t=F_.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(V_),j_=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(V_),B_=function t(e){function n(t){var n=j_.source(e)(t);return function(){return n()/t}}return n.source=t,n}(V_),U_=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(V_),q_=Array.prototype,z_=q_.map,W_=q_.slice,Y_={name:"implicit"},G_=function(t){return function(){return t}},X_=function(t){return+t},K_=[0,1],Q_=function(t,e,n,i){var r,o=s(t,e,n);switch(i=Gi(null==i?",f":i),i.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=Jy(o,a))||(i.precision=r),qy(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=$y(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=Zy(o))||(i.precision=r-2*("%"===i.type))}return Uy(i)},Z_=function(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t},J_=new Date,$_=new Date,tC=Wa(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});tC.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Wa(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):tC:null};var eC=tC,nC=tC.range,iC=6e4,rC=6048e5,oC=Wa(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),sC=oC,aC=oC.range,lC=Wa(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*iC)},function(t,e){return(e-t)/iC},function(t){return t.getMinutes()}),uC=lC,cC=lC.range,hC=Wa(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*iC)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),pC=hC,dC=hC.range,fC=Wa(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*iC)/864e5},function(t){return t.getDate()-1}),mC=fC,vC=fC.range,yC=Ya(0),gC=Ya(1),bC=Ya(2),wC=Ya(3),_C=Ya(4),CC=Ya(5),EC=Ya(6),xC=yC.range,SC=gC.range,TC=bC.range,kC=wC.range,MC=_C.range,DC=CC.range,PC=EC.range,AC=Wa(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),OC=AC,IC=AC.range,NC=Wa(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});NC.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Wa(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var LC=NC,VC=NC.range,RC=Wa(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*iC)},function(t,e){return(e-t)/iC},function(t){return t.getUTCMinutes()}),FC=RC,HC=RC.range,jC=Wa(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),BC=jC,UC=jC.range,qC=Wa(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),zC=qC,WC=qC.range,YC=Ga(0),GC=Ga(1),XC=Ga(2),KC=Ga(3),QC=Ga(4),ZC=Ga(5),JC=Ga(6),$C=YC.range,tE=GC.range,eE=XC.range,nE=KC.range,iE=QC.range,rE=ZC.range,oE=JC.range,sE=Wa(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),aE=sE,lE=sE.range,uE=Wa(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});uE.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Wa(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var cE,hE,pE,dE,fE,mE=uE,vE=uE.range,yE={"-":"",_:" ",0:"0"},gE=/^\s*\d+/,bE=/^%/,wE=/[\\^$*+?|[\]().{}]/g;ru({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _E=Date.prototype.toISOString?ou:dE("%Y-%m-%dT%H:%M:%S.%LZ"),CE=_E,EE=+new Date("2000-01-01T00:00:00.000Z")?su:fE("%Y-%m-%dT%H:%M:%S.%LZ"),xE=EE,SE=1e3,TE=60*SE,kE=60*TE,ME=24*kE,DE=7*ME,PE=30*ME,AE=365*ME,OE=function(){return oa.apply(uu(LC,OC,yC,mC,pC,uC,sC,eC,hE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},IE=function(){return oa.apply(uu(mE,aE,YC,zC,BC,FC,sC,eC,dE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},NE=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n},LE=NE("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),VE=NE("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),RE=NE("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),FE=NE("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),HE=NE("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),jE=NE("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),BE=NE("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),UE=NE("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),qE=NE("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),zE=function(t){return Zd(t[t.length-1])},WE=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(NE),YE=zE(WE),GE=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(NE),XE=zE(GE),KE=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(NE),QE=zE(KE),ZE=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(NE),JE=zE(ZE),$E=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(NE),tx=zE($E),ex=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(NE),nx=zE(ex),ix=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(NE),rx=zE(ix),ox=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(NE),sx=zE(ox),ax=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(NE),lx=zE(ax),ux=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(NE),cx=zE(ux),hx=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(NE),px=zE(hx),dx=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(NE),fx=zE(dx),mx=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(NE),vx=zE(mx),yx=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(NE),gx=zE(yx),bx=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(NE),wx=zE(bx),_x=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(NE),Cx=zE(_x),Ex=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(NE),xx=zE(Ex),Sx=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(NE),Tx=zE(Sx),kx=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(NE),Mx=zE(kx),Dx=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(NE),Px=zE(Dx),Ax=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(NE),Ox=zE(Ax),Ix=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(NE),Nx=zE(Ix),Lx=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(NE),Vx=zE(Lx),Rx=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(NE),Fx=zE(Rx),Hx=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(NE),jx=zE(Hx),Bx=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(NE),Ux=zE(Bx),qx=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(NE),zx=zE(qx),Wx=Ef(ie(300,.5,0),ie(-240,.5,1)),Yx=Ef(ie(-100,.75,.35),ie(80,1.5,.8)),Gx=Ef(ie(260,.75,.35),ie(80,1.5,.8)),Xx=ie(),Kx=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Xx.h=360*t-100,Xx.s=1.5-1.5*e,Xx.l=.8-.9*e,Xx+""},Qx=Vt(),Zx=Math.PI/3,Jx=2*Math.PI/3,$x=function(t){var e;return t=(.5-t)*Math.PI,Qx.r=255*(e=Math.sin(t))*e,Qx.g=255*(e=Math.sin(t+Zx))*e,Qx.b=255*(e=Math.sin(t+Jx))*e,Qx+""},tS=xu(NE("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),eS=xu(NE("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),nS=xu(NE("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),iS=xu(NE("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),rS=function(t){return function(){return t}},oS=Math.abs,sS=Math.atan2,aS=Math.cos,lS=Math.max,uS=Math.min,cS=Math.sin,hS=Math.sqrt,pS=1e-12,dS=Math.PI,fS=dS/2,mS=2*dS,vS=function(){function t(){var t,u,c=+e.apply(this,arguments),h=+n.apply(this,arguments),p=o.apply(this,arguments)-fS,d=s.apply(this,arguments)-fS,f=oS(d-p),m=d>p;if(l||(l=t=vv()),h<c&&(u=h,h=c,c=u),h>pS)if(f>mS-pS)l.moveTo(h*aS(p),h*cS(p)),l.arc(0,0,h,p,d,!m),c>pS&&(l.moveTo(c*aS(d),c*cS(d)),l.arc(0,0,c,d,p,m));else{var v,y,g=p,b=d,w=p,_=d,C=f,E=f,x=a.apply(this,arguments)/2,S=x>pS&&(r?+r.apply(this,arguments):hS(c*c+h*h)),T=uS(oS(h-c)/2,+i.apply(this,arguments)),k=T,M=T;if(S>pS){var D=Tu(S/c*cS(x)),P=Tu(S/h*cS(x));(C-=2*D)>pS?(D*=m?1:-1,w+=D,_-=D):(C=0,w=_=(p+d)/2),(E-=2*P)>pS?(P*=m?1:-1,g+=P,b-=P):(E=0,g=b=(p+d)/2)}var A=h*aS(g),O=h*cS(g),I=c*aS(_),N=c*cS(_);if(T>pS){var L,V=h*aS(b),R=h*cS(b),F=c*aS(w),H=c*cS(w);if(f<dS&&(L=Ou(A,O,F,H,V,R,I,N))){var j=A-L[0],B=O-L[1],U=V-L[0],q=R-L[1],z=1/cS(Su((j*U+B*q)/(hS(j*j+B*B)*hS(U*U+q*q)))/2),W=hS(L[0]*L[0]+L[1]*L[1]);k=uS(T,(c-W)/(z-1)),M=uS(T,(h-W)/(z+1))}}E>pS?M>pS?(v=Iu(F,H,A,O,h,M,m),y=Iu(V,R,I,N,h,M,m),l.moveTo(v.cx+v.x01,v.cy+v.y01),M<T?l.arc(v.cx,v.cy,M,sS(v.y01,v.x01),sS(y.y01,y.x01),!m):(l.arc(v.cx,v.cy,M,sS(v.y01,v.x01),sS(v.y11,v.x11),!m),l.arc(0,0,h,sS(v.cy+v.y11,v.cx+v.x11),sS(y.cy+y.y11,y.cx+y.x11),!m),l.arc(y.cx,y.cy,M,sS(y.y11,y.x11),sS(y.y01,y.x01),!m))):(l.moveTo(A,O),l.arc(0,0,h,g,b,!m)):l.moveTo(A,O),c>pS&&C>pS?k>pS?(v=Iu(I,N,V,R,c,-k,m),y=Iu(A,O,F,H,c,-k,m),l.lineTo(v.cx+v.x01,v.cy+v.y01),k<T?l.arc(v.cx,v.cy,k,sS(v.y01,v.x01),sS(y.y01,y.x01),!m):(l.arc(v.cx,v.cy,k,sS(v.y01,v.x01),sS(v.y11,v.x11),!m),l.arc(0,0,c,sS(v.cy+v.y11,v.cx+v.x11),sS(y.cy+y.y11,y.cx+y.x11),m),l.arc(y.cx,y.cy,k,sS(y.y11,y.x11),sS(y.y01,y.x01),!m))):l.arc(0,0,c,_,w,m):l.lineTo(I,N)}else l.moveTo(0,0);if(l.closePath(),t)return l=null,t+""||null}var e=ku,n=Mu,i=rS(0),r=null,o=Du,s=Pu,a=Au,l=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-dS/2;return[aS(i)*t,cS(i)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:rS(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:rS(+e),t):n},t.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:rS(+e),t):i},t.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:rS(+e),t):r},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:rS(+e),t):o},t.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:rS(+e),t):s},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:rS(+e),t):a},t.context=function(e){return arguments.length?(l=null==e?null:e,t):l},t};Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var yS=function(t){return new Nu(t)},gS=function(){function t(t){var a,l,u,c=t.length,h=!1;for(null==r&&(s=o(u=vv())),a=0;a<=c;++a)!(a<c&&i(l=t[a],a,t))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(l,a,t),+n(l,a,t));if(u)return s=null,u+""||null}var e=Lu,n=Vu,i=rS(!0),r=null,o=yS,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:rS(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:rS(+e),t):n},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:rS(!!e),t):i},t.curve=function(e){return arguments.length?(o=e,null!=r&&(s=o(r)),t):o},t.context=function(e){return arguments.length?(null==e?r=s=null:s=o(r=e),t):r},t},bS=function(){function t(t){var e,c,h,p,d,f=t.length,m=!1,v=new Array(f),y=new Array(f);for(null==a&&(u=l(d=vv())),e=0;e<=f;++e){if(!(e<f&&s(p=t[e],e,t))===m)if(m=!m)c=e,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),h=e-1;h>=c;--h)u.point(v[h],y[h]);u.lineEnd(),u.areaEnd()}m&&(v[e]=+n(p,e,t),y[e]=+r(p,e,t),u.point(i?+i(p,e,t):v[e],o?+o(p,e,t):y[e]))}if(d)return u=null,d+""||null}function e(){return gS().defined(s).curve(l).context(a)}var n=Lu,i=null,r=rS(0),o=Vu,s=rS(!0),a=null,l=yS,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:rS(+e),i=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:rS(+e),t):n},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:rS(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:rS(+e),o=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:rS(+e),t):r},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:rS(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(r)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(i).y(r)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:rS(!!e),t):s},t.curve=function(e){return arguments.length?(l=e,null!=a&&(u=l(a)),t):l},t.context=function(e){return arguments.length?(null==e?a=u=null:u=l(a=e),t):a},t},wS=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},_S=function(t){return t},CS=function(){function t(t){var a,l,u,c,h,p=t.length,d=0,f=new Array(p),m=new Array(p),v=+r.apply(this,arguments),y=Math.min(mS,Math.max(-mS,o.apply(this,arguments)-v)),g=Math.min(Math.abs(y)/p,s.apply(this,arguments)),b=g*(y<0?-1:1);for(a=0;a<p;++a)(h=m[f[a]=a]=+e(t[a],a,t))>0&&(d+=h);for(null!=n?f.sort(function(t,e){return n(m[t],m[e])}):null!=i&&f.sort(function(e,n){return i(t[e],t[n])}),a=0,u=d?(y-p*b)/d:0;a<p;++a,v=c)l=f[a],h=m[l],c=v+(h>0?h*u:0)+b,m[l]={data:t[l],index:a,value:h,startAngle:v,endAngle:c,padAngle:g};return m}var e=_S,n=wS,i=null,r=rS(0),o=rS(mS),s=rS(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:rS(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,i=null,t):n},t.sort=function(e){return arguments.length?(i=e,n=null,t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:rS(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:rS(+e),t):o},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:rS(+e),t):s},t},ES=Fu(yS);Ru.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var xS=function(){return Hu(gS().curve(ES))},SS=function(){var t=bS().curve(ES),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Hu(n())},delete t.lineX0,t.lineEndAngle=function(){return Hu(i())},delete t.lineX1,t.lineInnerRadius=function(){return Hu(r())},delete t.lineY0,t.lineOuterRadius=function(){return Hu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Fu(t)):e()._curve},t},TS=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},kS=Array.prototype.slice,MS={draw:function(t,e){var n=Math.sqrt(e/dS);t.moveTo(n,0),t.arc(0,0,n,0,mS)}},DS={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},PS=Math.sqrt(1/3),AS=2*PS,OS={draw:function(t,e){var n=Math.sqrt(e/AS),i=n*PS;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},IS=Math.sin(dS/10)/Math.sin(7*dS/10),NS=Math.sin(mS/10)*IS,LS=-Math.cos(mS/10)*IS,VS={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=NS*n,r=LS*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=mS*o/5,a=Math.cos(s),l=Math.sin(s);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},RS={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},FS=Math.sqrt(3),HS={draw:function(t,e){var n=-Math.sqrt(e/(3*FS));t.moveTo(0,2*n),t.lineTo(-FS*n,-n),t.lineTo(FS*n,-n),t.closePath()}},jS=Math.sqrt(3)/2,BS=1/Math.sqrt(12),US=3*(BS/2+1),qS={draw:function(t,e){var n=Math.sqrt(e/US),i=n/2,r=n*BS,o=i,s=n*BS+n,a=-o,l=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(-.5*i-jS*r,jS*i+-.5*r),t.lineTo(-.5*o-jS*s,jS*o+-.5*s),t.lineTo(-.5*a-jS*l,jS*a+-.5*l),t.lineTo(-.5*i+jS*r,-.5*r-jS*i),t.lineTo(-.5*o+jS*s,-.5*s-jS*o),t.lineTo(-.5*a+jS*l,-.5*l-jS*a),t.closePath()}},zS=[MS,DS,OS,RS,VS,HS,qS],WS=function(){function t(){var t;if(i||(i=t=vv()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}var e=rS(MS),n=rS(64),i=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:rS(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:rS(+e),t):n},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},YS=function(){};Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ku(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var GS=function(t){return new Qu(t)};Zu.prototype={areaStart:YS,areaEnd:YS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var XS=function(t){return new Zu(t)};Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var KS=function(t){return new Ju(t)};$u.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*s),this._beta*e[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var QS=function t(e){function n(t){return 1===e?new Qu(t):new $u(t,e)}return n.beta=function(e){return t(+e)},n}(.85);ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:tc(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ZS=function t(e){function n(t){return new ec(t,e)}return n.tension=function(e){return t(+e)},n}(0);nc.prototype={areaStart:YS,areaEnd:YS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:tc(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var JS=function t(e){function n(t){return new nc(t,e)}return n.tension=function(e){return t(+e)},n}(0);ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tc(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $S=function t(e){function n(t){return new ic(t,e)}return n.tension=function(e){return t(+e)},n}(0);oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:rc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tT=function t(e){function n(t){return e?new oc(t,e):new ec(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);sc.prototype={areaStart:YS,areaEnd:YS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var eT=function t(e){function n(t){return e?new sc(t,e):new nc(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nT=function t(e){function n(t){return e?new ac(t,e):new ic(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);lc.prototype={areaStart:YS,areaEnd:YS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var iT=function(t){return new lc(t)};dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pc(this,this._t0,hc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pc(this,hc(this,n=cc(this,t,e)),n);break;default:pc(this,this._t0,n=cc(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(fc.prototype=Object.create(dc.prototype)).point=function(t,e){dc.prototype.point.call(this,e,t)},mc.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},gc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=bc(t),r=bc(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var rT=function(t){return new gc(t)};wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var oT=function(t){return new wc(t,.5)},sT=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},aT=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},lT=function(){function t(t){var o,s,a=e.apply(this,arguments),l=t.length,u=a.length,c=new Array(u);for(o=0;o<u;++o){for(var h,p=a[o],d=c[o]=new Array(l),f=0;f<l;++f)d[f]=h=[0,+r(t[f],p,f,t)],h.data=t[f];d.key=p}for(o=0,s=n(c);o<u;++o)c[s[o]].index=o;return i(c,s),c}var e=rS([]),n=aT,i=sT,r=Ec;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:rS(kS.call(n)),t):e},t.value=function(e){return arguments.length?(r="function"==typeof e?e:rS(+e),t):r},t.order=function(e){return arguments.length?(n=null==e?aT:"function"==typeof e?e:rS(kS.call(e)),t):n},t.offset=function(e){return arguments.length?(i=null==e?sT:e,t):i},t},uT=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}sT(t,e)}},cT=function(t,e){if((a=t.length)>0)for(var n,i,r,o,s,a,l=0,u=t[e[0]].length;l<u;++l)for(o=s=0,n=0;n<a;++n)(r=(i=t[e[n]][l])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):i[0]=o},hT=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}sT(t,e)}},pT=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,u=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,p=c[s-1][1]||0,d=(h-p)/2,f=0;f<a;++f){var m=t[e[f]];d+=(m[s][1]||0)-(m[s-1][1]||0)}l+=h,u+=d*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=u/l)}n[s-1][1]+=n[s-1][0]=o,sT(t,e)}},dT=function(t){var e=t.map(xc);return aT(t).sort(function(t,n){return e[t]-e[n]})},fT=function(t){var e=t.map(Sc);return aT(t).sort(function(t,n){return e[t]-e[n]})},mT=function(t){return fT(t).reverse()},vT=function(t){var e,n,i=t.length,r=t.map(Sc),o=dT(t),s=0,a=0,l=[],u=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],l.push(n)):(a+=r[n],u.push(n));return u.reverse().concat(l)},yT=function(t){return aT(t).reverse()},gT=function(t){return function(){return t}};Mc.prototype={constructor:Mc,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Oc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Pc(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Ac(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Ac(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Pc(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?Oc(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Pc(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ac(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Pc(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Ac(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Pc(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ac(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var bT,wT,_T,CT,ET,xT=Mc,ST=[],TT=[],kT=1e-6,MT=1e-12;ih.prototype={constructor:ih,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Bc(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,l=-1,u=e[r[o-1]],c=u.left===a?u.right:u.left;++l<o;)s=c,u=e[r[l]],c=u.left===a?u.right:u.left,s&&c&&i<s.index&&i<c.index&&eh(a,s,c)<0&&t.push([a.data,s.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=s],s=null,r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],u=e-a[1],h=l*l+u*u;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=i,null==n||c<=n*n?r.site:null}};var DT=function(){function t(t){return new ih(t.map(function(i,r){var o=[Math.round(e(i,r,t)/kT)*kT,Math.round(n(i,r,t)/kT)*kT];return o.index=r,o.data=i,o}),i)}var e=Tc,n=kc,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:gT(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:gT(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t},PT=function(t){return function(){return t}};oh.prototype={constructor:oh,scale:function(t){return 1===t?this:new oh(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new oh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var AT=new oh(1,0,0);sh.prototype=oh.prototype;var OT=function(){Kp.preventDefault(),Kp.stopImmediatePropagation()},IT=function(){function t(t){t.property("__zoom",ch).on("wheel.zoom",a).on("mousedown.zoom",l).on("dblclick.zoom",u).filter(b).on("touchstart.zoom",c).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){return e=Math.max(w[0],Math.min(w[1],e)),e===t.k?t:new oh(e,t.x,t.y)}function n(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new oh(t.k,i,r)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function r(t,e,n){t.on("start.zoom",function(){o(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){o(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,s=o(t,r),a=v.apply(t,r),l=n||i(a),u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,r):e,p=E(c.invert(l).concat(u/c.k),h.invert(l).concat(u/h.k));return function(t){if(1===t)t=h;else{var e=p(t),n=u/e[2];t=new oh(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}})}function o(t,e){for(var n,i=0,r=x.length;i<r;++i)if((n=x[i]).that===t)return n;return new s(t,e)}function s(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=v.apply(t,e)}function a(){function t(){i.wheel=null,i.end()}if(m.apply(this,arguments)){var i=o(this,arguments),r=this.__zoom,s=Math.max(w[0],Math.min(w[1],r.k*Math.pow(2,g.apply(this,arguments)))),a=od(this);if(i.wheel)i.mouse[0][0]===a[0]&&i.mouse[0][1]===a[1]||(i.mouse[1]=r.invert(i.mouse[0]=a)),clearTimeout(i.wheel);else{if(r.k===s)return;i.mouse=[a,r.invert(a)],Yf(this),i.start()}OT(),i.wheel=setTimeout(t,k),i.zoom("mouse",y(n(e(r,s),i.mouse[0],i.mouse[1]),i.extent,_))}}function l(){function t(){if(OT(),!i.moved){var t=Kp.clientX-a,e=Kp.clientY-l;i.moved=t*t+e*e>M}i.zoom("mouse",y(n(i.that.__zoom,i.mouse[0]=od(i.that),i.mouse[1]),i.extent,_))}function e(){r.on("mousemove.zoom mouseup.zoom",null),xt(Kp.view,i.moved),OT(),i.end()}if(!f&&m.apply(this,arguments)){var i=o(this,arguments),r=td(Kp.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),s=od(this),a=Kp.clientX,l=Kp.clientY;cd(Kp.view),ah(),i.mouse=[s,this.__zoom.invert(s)],Yf(this),i.start()}}function u(){if(m.apply(this,arguments)){var i=this.__zoom,o=od(this),s=i.invert(o),a=i.k*(Kp.shiftKey?.5:2),l=y(n(e(i,a),o,s),v.apply(this,arguments),_);OT(),C>0?td(this).transition().duration(C).call(r,l,o):td(this).call(t.transform,l)}}function c(){if(m.apply(this,arguments)){var t,e,n,i,r=o(this,arguments),s=Kp.changedTouches,a=s.length;for(ah(),e=0;e<a;++e)n=s[e],i=ad(this,s,n.identifier),i=[i,this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,t=!0);if(d&&(d=clearTimeout(d),!r.touch1))return r.end(),void((i=td(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(d=setTimeout(function(){d=null},T),Yf(this),r.start())}}function h(){var t,i,r,s,a=o(this,arguments),l=Kp.changedTouches,u=l.length;for(OT(),d&&(d=clearTimeout(d)),t=0;t<u;++t)i=l[t],r=ad(this,l,i.identifier),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=r);if(i=a.that.__zoom,a.touch1){var c=a.touch0[0],h=a.touch0[1],p=a.touch1[0],f=a.touch1[1],m=(m=p[0]-c[0])*m+(m=p[1]-c[1])*m,v=(v=f[0]-h[0])*v+(v=f[1]-h[1])*v;i=e(i,Math.sqrt(m/v)),r=[(c[0]+p[0])/2,(c[1]+p[1])/2],s=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],s=a.touch0[1]}a.zoom("touch",y(n(i,r,s),a.extent,_))}function p(){var t,e,n=o(this,arguments),i=Kp.changedTouches,r=i.length;for(ah(),f&&clearTimeout(f),f=setTimeout(function(){f=null},T),t=0;t<r;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var d,f,m=lh,v=uh,y=dh,g=hh,b=ph,w=[0,1/0],_=[[-1/0,-1/0],[1/0,1/0]],C=250,E=yf,x=[],S=ap("start","zoom","end"),T=500,k=150,M=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",ch),t!==n?r(t,e):n.interrupt().each(function(){o(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(r,o){t.transform(r,function(){var t=v.apply(this,arguments),r=this.__zoom,s=i(t),a=r.invert(s),l="function"==typeof o?o.apply(this,arguments):o;return y(n(e(r,l),s,a),t,_)})},t.translateBy=function(e,n,i){t.transform(e,function(){return y(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),v.apply(this,arguments),_)})},t.translateTo=function(e,n,r){t.transform(e,function(){var t=v.apply(this,arguments),e=this.__zoom,o=i(t);return y(AT.translate(o[0],o[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),t,_)})},s.prototype={start:function(){return 1==++this.active&&(this.index=x.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(x.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){mt(new rh(t,e,this.that.__zoom),S.apply,S,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(g="function"==typeof e?e:PT(+e),t):g},t.filter=function(e){return arguments.length?(m="function"==typeof e?e:PT(!!e),t):m},t.touchable=function(e){return arguments.length?(b="function"==typeof e?e:PT(!!e),t):b},t.extent=function(e){return arguments.length?(v="function"==typeof e?e:PT([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):v},t.scaleExtent=function(e){return arguments.length?(w[0]=+e[0],w[1]=+e[1],t):[w[0],w[1]]},t.translateExtent=function(e){return arguments.length?(_[0][0]=+e[0][0],_[1][0]=+e[1][0],_[0][1]=+e[0][1],_[1][1]=+e[1][1],t):[[_[0][0],_[0][1]],[_[1][0],_[1][1]]]},t.constrain=function(e){return arguments.length?(y=e,t):y},t.duration=function(e){return arguments.length?(C=+e,t):C},t.interpolate=function(e){return arguments.length?(E=e,t):E},t.on=function(){var e=S.on.apply(S,arguments);return e===S?t:e},t.clickDistance=function(e){return arguments.length?(M=(e=+e)*e,t):Math.sqrt(M)},t};n.d(e,!1,function(){return"5.9.2"}),n.d(e,!1,function(){return bh}),n.d(e,!1,function(){return yh}),n.d(e,!1,function(){return gh}),n.d(e,!1,function(){return fh}),n.d(e,!1,function(){return mh}),n.d(e,!1,function(){return _h}),n.d(e,!1,function(){return Ch}),n.d(e,!1,function(){return Sh}),n.d(e,!1,function(){return Th}),n.d(e,!1,function(){return Fh}),n.d(e,!1,function(){return jh}),n.d(e,!1,function(){return Bh}),n.d(e,!1,function(){return Rh}),n.d(e,!1,function(){return Uh}),n.d(e,!1,function(){return qh}),n.d(e,!1,function(){return zh}),n.d(e,!1,function(){return Wh}),n.d(e,!1,function(){return Yh}),n.d(e,!1,function(){return wh}),n.d(e,!1,function(){return Gh}),n.d(e,!1,function(){return Hh}),n.d(e,!1,function(){return Oh}),n.d(e,!1,function(){return Xh}),n.d(e,!1,function(){return Kh}),n.d(e,!1,function(){return Qh}),n.d(e,!1,function(){return Vh}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return Zh}),n.d(e,!1,function(){return xh}),n.d(e,!1,function(){return Jh}),n.d(e,!1,function(){return f}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return iv}),n.d(e,!1,function(){return Wn}),n.d(e,!1,function(){return Yn}),n.d(e,!1,function(){return zn}),n.d(e,!1,function(){return cv}),n.d(e,!1,function(){return yv}),n.d(e,!1,function(){return bv}),n.d(e,!1,function(){return _v}),n.d(e,!1,function(){return gv}),n.d(e,!1,function(){return Cv}),n.d(e,!1,function(){return Ev}),n.d(e,!1,function(){return xv}),n.d(e,!1,function(){return Ot}),n.d(e,!1,function(){return Vt}),n.d(e,!1,function(){return Bt}),n.d(e,!1,function(){return Yt}),n.d(e,!1,function(){return te}),n.d(e,!1,function(){return $t}),n.d(e,!1,function(){return Wt}),n.d(e,!1,function(){return ie}),n.d(e,!1,function(){return Iv}),n.d(e,!1,function(){return Nv}),n.d(e,!1,function(){return ap}),n.d(e,!1,function(){return pd}),n.d(e,!1,function(){return cd}),n.d(e,!1,function(){return xt}),n.d(e,!1,function(){return jv}),n.d(e,!1,function(){return Uv}),n.d(e,!1,function(){return qv}),n.d(e,!1,function(){return zv}),n.d(e,!1,function(){return Wv}),n.d(e,!1,function(){return Yv}),n.d(e,!1,function(){return Xv}),n.d(e,!1,function(){return Kv}),n.d(e,!1,function(){return Qv}),n.d(e,!1,function(){return Zv}),n.d(e,!1,function(){return Jv}),n.d(e,!1,function(){return Si}),n.d(e,!1,function(){return gn}),n.d(e,!1,function(){return _n}),n.d(e,!1,function(){return bn}),n.d(e,!1,function(){return wn}),n.d(e,!1,function(){return _n}),n.d(e,!1,function(){return xn}),n.d(e,!1,function(){return Cn}),n.d(e,!1,function(){return En}),n.d(e,!1,function(){return xn}),n.d(e,!1,function(){return gm}),n.d(e,!1,function(){return vm}),n.d(e,!1,function(){return ym}),n.d(e,!1,function(){return gm}),n.d(e,!1,function(){return kn}),n.d(e,!1,function(){return Sn}),n.d(e,!1,function(){return Tn}),n.d(e,!1,function(){return kn}),n.d(e,!1,function(){return Pn}),n.d(e,!1,function(){return Mn}),n.d(e,!1,function(){return Dn}),n.d(e,!1,function(){return Pn}),n.d(e,!1,function(){return In}),n.d(e,!1,function(){return An}),n.d(e,!1,function(){return On}),n.d(e,!1,function(){return In}),n.d(e,!1,function(){return Ln}),n.d(e,!1,function(){return Nn}),n.d(e,!1,function(){return Ln}),n.d(e,!1,function(){return Vn}),n.d(e,!1,function(){return Im}),n.d(e,!1,function(){return Am}),n.d(e,!1,function(){return Om}),n.d(e,!1,function(){return Im}),n.d(e,!1,function(){return Vm}),n.d(e,!1,function(){return Lm}),n.d(e,!1,function(){return Vm}),n.d(e,!1,function(){return Rm}),n.d(e,!1,function(){return $v}),n.d(e,!1,function(){return ty}),n.d(e,!1,function(){return Pi}),n.d(e,!1,function(){return ny}),n.d(e,!1,function(){return iy}),n.d(e,!1,function(){return ry}),n.d(e,!1,function(){return oy}),n.d(e,!1,function(){return ey}),n.d(e,!1,function(){return sy}),n.d(e,!1,function(){return ay}),n.d(e,!1,function(){return ly}),n.d(e,!1,function(){return uy}),n.d(e,!1,function(){return Ty}),n.d(e,!1,function(){return ky}),n.d(e,!1,function(){return Ay}),n.d(e,!1,function(){return Oy}),n.d(e,!1,function(){return Py}),n.d(e,!1,function(){return Iy}),n.d(e,!1,function(){return Ny}),n.d(e,!1,function(){return Ki}),n.d(e,!1,function(){return Uy}),n.d(e,!1,function(){return qy}),n.d(e,!1,function(){return Qy}),n.d(e,!1,function(){return Gi}),n.d(e,!1,function(){return Zy}),n.d(e,!1,function(){return Jy}),n.d(e,!1,function(){return $y}),n.d(e,!1,function(){return rb}),n.d(e,!1,function(){return ab}),n.d(e,!1,function(){return ub}),n.d(e,!1,function(){return xb}),n.d(e,!1,function(){return Ab}),n.d(e,!1,function(){return Ob}),n.d(e,!1,function(){return Vb}),n.d(e,!1,function(){return Qr}),n.d(e,!1,function(){return Wb}),n.d(e,!1,function(){return Ub}),n.d(e,!1,function(){return uo}),n.d(e,!1,function(){return co}),n.d(e,!1,function(){return Yb}),n.d(e,!1,function(){return Hb}),n.d(e,!1,function(){return Ew}),n.d(e,!1,function(){return Pw}),n.d(e,!1,function(){return Aw}),n.d(e,!1,function(){return Iw}),n.d(e,!1,function(){return Ow}),n.d(e,!1,function(){return Lw}),n.d(e,!1,function(){return Nw}),n.d(e,!1,function(){return Rw}),n.d(e,!1,function(){return ts}),n.d(e,!1,function(){return Dw}),n.d(e,!1,function(){return Go}),n.d(e,!1,function(){return Hw}),n.d(e,!1,function(){return ns}),n.d(e,!1,function(){return Ww}),n.d(e,!1,function(){return is}),n.d(e,!1,function(){return Fw}),n.d(e,!1,function(){return es}),n.d(e,!1,function(){return Yw}),n.d(e,!1,function(){return rs}),n.d(e,!1,function(){return Gw}),n.d(e,!1,function(){return qo}),n.d(e,!1,function(){return zo}),n.d(e,!1,function(){return Vw}),n.d(e,!1,function(){return Zo}),n.d(e,!1,function(){return Xw}),n.d(e,!1,function(){return ss}),n.d(e,!1,function(){return Kw}),n.d(e,!1,function(){return as}),n.d(e,!1,function(){return Qw}),n.d(e,!1,function(){return ls}),n.d(e,!1,function(){return Zw}),n.d(e,!1,function(){return us}),n.d(e,!1,function(){return Eb}),n.d(e,!1,function(){return tb}),n.d(e,!1,function(){return xw}),n.d(e,!1,function(){return Jw}),n.d(e,!1,function(){return bs}),n.d(e,!1,function(){return f_}),n.d(e,!1,function(){return p_}),n.d(e,!1,function(){return h_}),n.d(e,!1,function(){return y_}),n.d(e,!1,function(){return __}),n.d(e,!1,function(){return C_}),n.d(e,!1,function(){return T_}),n.d(e,!1,function(){return k_}),n.d(e,!1,function(){return v_}),n.d(e,!1,function(){return E_}),n.d(e,!1,function(){return M_});n.d(e,!1,function(){return S_}),n.d(e,!1,function(){return D_}),n.d(e,"c",function(){return af}),n.d(e,!1,function(){return $d}),n.d(e,!1,function(){return Gd}),n.d(e,!1,function(){return Xd}),n.d(e,!1,function(){return tf}),n.d(e,!1,function(){return lf}),n.d(e,!1,function(){return uf}),n.d(e,!1,function(){return ef}),n.d(e,!1,function(){return nf}),n.d(e,!1,function(){return cf}),n.d(e,!1,function(){return sf}),n.d(e,!1,function(){return ff}),n.d(e,!1,function(){return mf}),n.d(e,!1,function(){return yf}),n.d(e,!1,function(){return Qd}),n.d(e,!1,function(){return Zd}),n.d(e,!1,function(){return Jd}),n.d(e,!1,function(){return gf}),n.d(e,!1,function(){return bf}),n.d(e,!1,function(){return _e}),n.d(e,!1,function(){return wf}),n.d(e,!1,function(){return _f}),n.d(e,!1,function(){return Cf}),n.d(e,!1,function(){return Ef}),n.d(e,!1,function(){return xe}),n.d(e,!1,function(){return xf}),n.d(e,!1,function(){return vv}),n.d(e,!1,function(){return P_}),n.d(e,!1,function(){return A_}),n.d(e,!1,function(){return I_}),n.d(e,!1,function(){return N_}),n.d(e,!1,function(){return L_}),n.d(e,!1,function(){return Fi}),n.d(e,!1,function(){return R_}),n.d(e,!1,function(){return F_}),n.d(e,!1,function(){return H_}),n.d(e,!1,function(){return B_}),n.d(e,!1,function(){return j_}),n.d(e,!1,function(){return U_}),n.d(e,!1,function(){return la}),n.d(e,!1,function(){return ca}),n.d(e,!1,function(){return _a}),n.d(e,!1,function(){return wa}),n.d(e,!1,function(){return Aa}),n.d(e,!1,function(){return La}),n.d(e,"e",function(){return aa}),n.d(e,!1,function(){return Y_}),n.d(e,!1,function(){return ja}),n.d(e,!1,function(){return Ba}),n.d(e,!1,function(){return Ua}),n.d(e,!1,function(){return qa}),n.d(e,!1,function(){return za}),n.d(e,!1,function(){return OE}),n.d(e,!1,function(){return IE}),n.d(e,!1,function(){return pu}),n.d(e,!1,function(){return du}),n.d(e,!1,function(){return mu}),n.d(e,!1,function(){return vu}),n.d(e,!1,function(){return fu}),n.d(e,!1,function(){return yu}),n.d(e,!1,function(){return bu}),n.d(e,!1,function(){return wu}),n.d(e,!1,function(){return Cu}),n.d(e,!1,function(){return Eu}),n.d(e,!1,function(){return _u}),n.d(e,!1,function(){return Q_}),n.d(e,!1,function(){return LE}),n.d(e,!1,function(){return VE}),n.d(e,!1,function(){return RE}),n.d(e,!1,function(){return FE}),n.d(e,!1,function(){return HE}),n.d(e,!1,function(){return jE}),n.d(e,!1,function(){return BE}),n.d(e,!1,function(){return UE}),n.d(e,!1,function(){return qE}),n.d(e,!1,function(){return YE}),n.d(e,!1,function(){return WE}),n.d(e,!1,function(){return XE}),n.d(e,!1,function(){return GE}),n.d(e,!1,function(){return QE}),n.d(e,!1,function(){return KE}),n.d(e,!1,function(){return JE}),n.d(e,!1,function(){return ZE}),n.d(e,!1,function(){return tx}),n.d(e,!1,function(){return $E}),n.d(e,!1,function(){return nx}),n.d(e,!1,function(){return ex}),n.d(e,!1,function(){return rx}),n.d(e,!1,function(){return ix}),n.d(e,!1,function(){return sx}),n.d(e,!1,function(){return ox}),n.d(e,!1,function(){return lx}),n.d(e,!1,function(){return ax}),n.d(e,!1,function(){return cx}),n.d(e,!1,function(){return ux}),n.d(e,!1,function(){return px}),n.d(e,!1,function(){return hx}),n.d(e,!1,function(){return fx}),n.d(e,!1,function(){return dx}),n.d(e,!1,function(){return vx}),n.d(e,!1,function(){return mx}),n.d(e,!1,function(){return gx}),n.d(e,!1,function(){return yx}),n.d(e,!1,function(){return wx}),n.d(e,!1,function(){return bx}),n.d(e,!1,function(){return Cx}),n.d(e,!1,function(){return _x}),n.d(e,!1,function(){return xx}),n.d(e,!1,function(){return Ex}),n.d(e,!1,function(){return Tx}),n.d(e,!1,function(){return Sx}),n.d(e,!1,function(){return Mx}),n.d(e,!1,function(){return kx}),n.d(e,!1,function(){return Px}),n.d(e,!1,function(){return Dx}),n.d(e,!1,function(){return Ox}),n.d(e,!1,function(){return Ax}),n.d(e,!1,function(){return Nx}),n.d(e,!1,function(){return Ix}),n.d(e,!1,function(){return Vx}),n.d(e,!1,function(){return Lx}),n.d(e,!1,function(){return Fx}),n.d(e,!1,function(){return Rx}),n.d(e,!1,function(){return jx}),n.d(e,!1,function(){return Hx}),n.d(e,!1,function(){return Ux}),n.d(e,!1,function(){return Bx}),n.d(e,!1,function(){return zx}),n.d(e,!1,function(){return qx}),n.d(e,!1,function(){return Wx}),n.d(e,!1,function(){return Kx}),n.d(e,!1,function(){return Yx}),n.d(e,!1,function(){return Gx}),n.d(e,!1,function(){return $x}),n.d(e,!1,function(){return tS}),n.d(e,!1,function(){return eS}),n.d(e,!1,function(){return nS}),n.d(e,!1,function(){return iS}),n.d(e,!1,function(){return ed}),n.d(e,!1,function(){return hp}),n.d(e,!1,function(){return _t}),n.d(e,!1,function(){return vp}),n.d(e,!1,function(){return od}),n.d(e,!1,function(){return cp}),n.d(e,!1,function(){return up}),n.d(e,!1,function(){return rd}),n.d(e,"f",function(){return td}),n.d(e,"g",function(){return sd}),n.d(e,!1,function(){return $p}),n.d(e,!1,function(){return pp}),n.d(e,!1,function(){return fp}),n.d(e,!1,function(){return j}),n.d(e,!1,function(){return ad}),n.d(e,!1,function(){return ld}),n.d(e,!1,function(){return Lp}),n.d(e,"b",function(){return Kp}),n.d(e,!1,function(){return mt}),n.d(e,"a",function(){return vS}),n.d(e,!1,function(){return bS}),n.d(e,!1,function(){return gS}),n.d(e,"d",function(){return CS}),n.d(e,!1,function(){return SS}),n.d(e,!1,function(){return SS}),n.d(e,!1,function(){return xS}),n.d(e,!1,function(){return xS}),n.d(e,!1,function(){return TS}),n.d(e,!1,function(){return Yu}),n.d(e,!1,function(){return Gu}),n.d(e,!1,function(){return Xu}),n.d(e,!1,function(){return WS}),n.d(e,!1,function(){return zS}),n.d(e,!1,function(){return MS}),n.d(e,!1,function(){return DS}),n.d(e,!1,function(){return OS}),n.d(e,!1,function(){return RS}),n.d(e,!1,function(){return VS}),n.d(e,!1,function(){return HS}),n.d(e,!1,function(){return qS}),n.d(e,!1,function(){return XS}),n.d(e,!1,function(){return KS}),n.d(e,!1,function(){return GS}),n.d(e,!1,function(){return QS}),n.d(e,!1,function(){return JS}),n.d(e,!1,function(){return $S}),n.d(e,!1,function(){return ZS}),n.d(e,!1,function(){return eT}),n.d(e,!1,function(){return nT}),n.d(e,!1,function(){return tT}),n.d(e,!1,function(){return iT}),n.d(e,!1,function(){return yS}),n.d(e,!1,function(){return vc}),n.d(e,!1,function(){return yc}),n.d(e,!1,function(){return rT}),n.d(e,!1,function(){return oT}),n.d(e,!1,function(){return Cc}),n.d(e,!1,function(){return _c}),n.d(e,!1,function(){return lT}),n.d(e,!1,function(){return uT});n.d(e,!1,function(){return cT}),n.d(e,!1,function(){return sT}),n.d(e,!1,function(){return hT}),n.d(e,!1,function(){return pT}),n.d(e,!1,function(){return dT}),n.d(e,!1,function(){return fT}),n.d(e,!1,function(){return mT}),n.d(e,!1,function(){return vT}),n.d(e,!1,function(){return aT}),n.d(e,!1,function(){return yT}),n.d(e,!1,function(){return Wa}),n.d(e,!1,function(){return eC}),n.d(e,!1,function(){return nC}),n.d(e,!1,function(){return eC}),n.d(e,!1,function(){return nC}),n.d(e,!1,function(){return sC}),n.d(e,!1,function(){return aC}),n.d(e,!1,function(){return sC}),n.d(e,!1,function(){return aC}),n.d(e,!1,function(){return uC}),n.d(e,!1,function(){return cC}),n.d(e,!1,function(){return pC}),n.d(e,!1,function(){return dC}),n.d(e,!1,function(){return mC}),n.d(e,!1,function(){return vC}),n.d(e,!1,function(){return yC}),n.d(e,!1,function(){return xC}),n.d(e,!1,function(){return yC}),n.d(e,!1,function(){return xC}),n.d(e,!1,function(){return gC}),n.d(e,!1,function(){return SC}),n.d(e,!1,function(){return bC}),n.d(e,!1,function(){return TC}),n.d(e,!1,function(){return wC}),n.d(e,!1,function(){return kC}),n.d(e,!1,function(){return _C}),n.d(e,!1,function(){return MC}),n.d(e,!1,function(){return CC}),n.d(e,!1,function(){return DC}),n.d(e,!1,function(){return EC}),n.d(e,!1,function(){return PC}),n.d(e,!1,function(){return OC}),n.d(e,!1,function(){return IC}),n.d(e,!1,function(){return LC}),n.d(e,!1,function(){return VC}),n.d(e,!1,function(){return FC}),n.d(e,!1,function(){return HC}),n.d(e,!1,function(){return BC}),n.d(e,!1,function(){return UC}),n.d(e,!1,function(){return zC}),n.d(e,!1,function(){return WC}),n.d(e,!1,function(){return YC}),n.d(e,!1,function(){return $C}),n.d(e,!1,function(){return YC}),n.d(e,!1,function(){return $C}),n.d(e,!1,function(){return GC}),n.d(e,!1,function(){return tE}),n.d(e,!1,function(){return XC}),n.d(e,!1,function(){return eE}),n.d(e,!1,function(){return KC}),n.d(e,!1,function(){return nE}),n.d(e,!1,function(){return QC}),n.d(e,!1,function(){return iE}),n.d(e,!1,function(){return ZC}),n.d(e,!1,function(){return rE}),n.d(e,!1,function(){return JC}),n.d(e,!1,function(){return oE}),n.d(e,!1,function(){return aE}),n.d(e,!1,function(){return lE}),n.d(e,!1,function(){return mE}),n.d(e,!1,function(){return vE}),n.d(e,!1,function(){return ru}),n.d(e,!1,function(){return hE}),n.d(e,!1,function(){return pE}),n.d(e,!1,function(){return dE}),n.d(e,!1,function(){return fE}),n.d(e,!1,function(){return Za}),n.d(e,!1,function(){return CE}),n.d(e,!1,function(){return xE}),n.d(e,!1,function(){return Se}),n.d(e,!1,function(){return Me}),n.d(e,!1,function(){return De}),n.d(e,!1,function(){return Nf}),n.d(e,!1,function(){return Lf}),n.d(e,!1,function(){return vn}),n.d(e,!1,function(){return Bm}),n.d(e,!1,function(){return Yf}),n.d(e,!1,function(){return DT}),n.d(e,!1,function(){return IT}),n.d(e,!1,function(){return sh}),n.d(e,!1,function(){return AT})},dkwD:function(t,e,n){"use strict";var i=n("zijX"),r=i.root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"fc+i":function(t,e,n){"use strict";function i(){return N}function r(t){N||(N=t)}function o(){return U||(U=document.querySelector("base"))?U.getAttribute("href"):null}function s(t){return j||(j=document.createElement("a")),j.setAttribute("href",t),"/"===j.pathname.charAt(0)?j.pathname:"/"+j.pathname}function a(){return!!window.history.pushState}function l(t,e,n){return function(){n.get(I.e).donePromise.then(function(){var n=i();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}function u(t,e){Q||(I._51.ng=Q=I._51.ng||{}),Q[t]=e}function c(t){return Object(I._25)(t)}function h(t,e){var n=(t||[]).concat(e||[]);return u(J,c),u($,Object.assign({},Z,p(n||[]))),function(){return c}}function p(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function d(t){return ct.replace(lt,t)}function f(t){return ut.replace(lt,t)}function m(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?m(t,r,n):(r=r.replace(lt,t),n.push(r))}return n}function v(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function y(t,e){if(t.charCodeAt(0)===dt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function g(){try{return!!window.DOMParser}catch(t){return!1}}function b(t){return t=String(t),t.match(Tt)||t.match(kt)?t:(Object(I._27)()&&i().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function w(t){return t=String(t),t.split(",").map(function(t){return b(t.trim())}).join(", ")}function _(t){for(var e={},n=0,i=t.split(",");n<i.length;n++){e[i[n]]=!0}return e}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}function E(t){return t.replace(/&/g,"&amp;").replace(jt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Bt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function x(t,e){var n=i(),r=null;try{xt=xt||new St(t,n);var o=e?String(e):"";r=xt.getInertBodyElement(o);var s=5,a=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=a,a=n.getInnerHTML(r),r=xt.getInertBodyElement(o)}while(o!==a);var l=new Ht,u=l.sanitizeChildren(n.getTemplateContent(r)||r);return Object(I._27)()&&l.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}finally{if(r)for(var c=n.getTemplateContent(r)||r,h=0,p=n.childNodesAsList(c);h<p.length;h++){var d=p[h];n.removeChild(c,d)}}}function S(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}function T(t){if(!(t=String(t).trim()))return"";var e=t.match(qt);return e&&b(e[1])===e[1]||t.match(Ut)&&S(t)?t:(Object(I._27)()&&i().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function k(){B.makeCurrent(),X.init()}function M(){return new I.w}function D(){return document}n.d(e,"a",function(){return te}),n.d(e,"b",function(){return Jt}),n.d(e,"c",function(){return i});var P,A=n("6Xbx"),O=n("qbdv"),I=n("/oeL"),N=null,L=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,i){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),V=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=e.getStyle(n,i[r]+"AnimationName")){e._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return A.a(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(L),R={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},F={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};I._51.Node&&(P=I._51.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var j,B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A.a(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){r(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return R},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return P.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var i=n.createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n[i];e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&H.hasOwnProperty(e)&&(e=H[e]))}return F[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=o();return null==e?null:s(e)},e.prototype.resetBaseElement=function(){U=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(O.k)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(V),U=null,q=O.c,z=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return A.a(e,t),e.prototype._init=function(){this._location=i().getLocation(),this._history=i().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return i().getBaseHref(this._doc)},e.prototype.onPopState=function(t){i().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){i().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){a()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){a()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(O.i);z.decorators=[{type:I.C}],z.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var W=function(){function t(t){this._doc=t,this._dom=i()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,i){return i&&t.push(n._getOrCreateElement(i,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),i=this.getTag(n);if(i&&this._containsAttributes(t,i))return i}var r=this._dom.createElement("meta");this._setMetaElementAttributes(t,r);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,r),r},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(i){return n._dom.setAttribute(e,i,t[i])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(i){return n._dom.getAttribute(e,i)===t[i]})},t}();W.decorators=[{type:I.C}],W.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var Y=new I.D("TRANSITION_ID"),G=[{provide:I.d,useFactory:l,deps:[Y,q,I.E],multi:!0}],X=function(){function t(){}return t.init=function(){Object(I._32)(new t)},t.prototype.addToWindow=function(t){I._51.getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},I._51.getAllAngularTestabilities=function(){return t.getAllTestabilities()},I._51.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=I._51.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})};I._51.frameworkStabilizers||(I._51.frameworkStabilizers=[]),I._51.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?i().isShadowRoot(e)?this.findTestabilityInTree(t,i().getHost(e),!0):this.findTestabilityInTree(t,i().parentElement(e),!0):null},t}(),K=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return i().getTitle(this._doc)},t.prototype.setTitle=function(t){i().setTitle(this._doc,t)},t}();K.decorators=[{type:I.C}],K.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var Q,Z={ApplicationRef:I.g,NgZone:I.R},J="probe",$="coreTokens",tt=function(){function t(t,e){this.name=t,this.token=e}return t}(),et=[{provide:I.d,useFactory:h,deps:[[tt,new I.S],[I.Q,new I.S]],multi:!0}],nt=new I.D("EventManagerPlugins"),it=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}();it.decorators=[{type:I.C}],it.ctorParameters=function(){return[{type:Array,decorators:[{type:I.B,args:[nt]}]},{type:I.R}]};var rt=function(){function t(t){this._doc=t}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var r=i().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),ot=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();ot.decorators=[{type:I.C}],ot.ctorParameters=function(){return[]};var st=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return A.a(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return i().remove(t)})},e}(ot);st.decorators=[{type:I.C}],st.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g,ut="_nghost-%COMP%",ct="_ngcontent-%COMP%",ht=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new pt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case I._19.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case I._19.Native:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=m(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();ht.decorators=[{type:I.C}],ht.ctorParameters=function(){return[{type:it},{type:st}]};var pt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(at[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var r=at[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=at[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&I._4.DashCase?t.style.setProperty(e,n,i&I._4.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&I._4.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){y(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return y(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,v(n)):this.eventManager.addEventListener(t,e,v(n))},t}(),dt="@".charCodeAt(0),ft=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.component=i;var o=m(i.id,i.styles,[]);return n.addStyles(o),r.contentAttr=d(i.id),r.hostAttr=f(i.id),r}return A.a(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(pt),mt=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=m(r.id,r.styles,[]),a=0;a<s.length;a++){var l=document.createElement("style");l.textContent=s[a],o.shadowRoot.appendChild(l)}return o}return A.a(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(pt),vt=function(t){function e(e){return t.call(this,e)||this}return A.a(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e}(rt);vt.decorators=[{type:I.C}],vt.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var yt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},gt=new I.D("HammerGestureConfig"),bt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();bt.decorators=[{type:I.C}],bt.ctorParameters=function(){return[]};var wt=function(t){function e(e,n){var i=t.call(this,e)||this;return i._config=n,i}return A.a(e,t),e.prototype.supports=function(t){if(!yt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var i=this,r=this.manager.getZone();return e=e.toLowerCase(),r.runOutsideAngular(function(){var o=i._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(rt);wt.decorators=[{type:I.C}],wt.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]},{type:bt,decorators:[{type:I.B,args:[gt]}]}]};var _t=["alt","control","meta","shift"],Ct={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Et=function(t){function e(e){return t.call(this,e)||this}return A.a(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var o=e.parseEventName(n),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return i().onAndCancel(t,o.domEventName,s)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),o="";if(_t.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=i().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_t.forEach(function(i){if(i!=n){(0,Ct[i])(t)&&(e+=i+".")}}),e+=n},e.eventCallback=function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded(function(){return n(r)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(rt);Et.decorators=[{type:I.C}],Et.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var xt,St=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var i=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(i,this.inertBodyElement),this.DOM.appendChild(n,i)}return this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),this.inertBodyElement.querySelector&&!this.inertBodyElement.querySelector("svg")?void(this.getInertBodyElement=this.getInertBodyElement_XHR):(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&g()?void(this.getInertBodyElement=this.getInertBodyElement_DOMParser):void(this.getInertBodyElement=this.getInertBodyElement_InertDocument))}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,i){"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.DOM.removeAttribute(t,i)});for(var n=0,i=this.DOM.childNodesAsList(t);n<i.length;n++){var r=i[n];this.DOM.isElementNode(r)&&this.stripCustomNsAttrs(r)}},t}(),Tt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,kt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Mt=_("area,br,col,hr,img,wbr"),Dt=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pt=_("rp,rt"),At=C(Pt,Dt),Ot=C(Dt,_("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),It=C(Pt,_("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nt=C(Mt,Ot,It,At),Lt=_("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vt=_("srcset"),Rt=_("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ft=C(Lt,Vt,Rt),Ht=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=i()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();if(!Nt.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var i=n.toLowerCase();if(!Ft.hasOwnProperty(i))return void(e.sanitizedSomething=!0);Lt[i]&&(t=b(t)),Vt[i]&&(t=w(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(E(t)),e.buf.push('"')}),this.buf.push(">")},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();Nt.hasOwnProperty(e)&&!Mt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(E(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bt=/([^\#-~ |!])/g,Ut=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),qt=/^url\(([^)]+)\)$/,zt=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),Wt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return A.a(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case I._6.NONE:return e;case I._6.HTML:return e instanceof Gt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),x(this._doc,String(e)));case I._6.STYLE:return e instanceof Xt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),T(e));case I._6.SCRIPT:if(e instanceof Kt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case I._6.URL:return e instanceof Zt||e instanceof Qt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),b(String(e)));case I._6.RESOURCE_URL:if(e instanceof Zt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Yt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Gt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Xt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Kt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Qt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Zt(t)},e}(zt);Wt.decorators=[{type:I.C}],Wt.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.B,args:[q]}]}]};var Yt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A.a(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Yt),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A.a(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Yt),Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A.a(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Yt),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A.a(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Yt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A.a(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Yt),Jt=[{provide:I.V,useValue:O.j},{provide:I.W,useValue:k,multi:!0},{provide:O.i,useClass:z},{provide:q,useFactory:D,deps:[]}],$t=[{provide:I._5,useExisting:zt},{provide:zt,useClass:Wt}],te=(Object(I._22)(I._29,"browser",Jt),function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:I.c,useValue:e.appId},{provide:Y,useExisting:I.c},G]}},t}());te.decorators=[{type:I.M,args:[{providers:[$t,{provide:I.w,useFactory:M,deps:[]},{provide:nt,useClass:vt,multi:!0},{provide:nt,useClass:Et,multi:!0},{provide:nt,useClass:wt,multi:!0},{provide:gt,useClass:bt},ht,{provide:I._3,useExisting:ht},{provide:ot,useExisting:st},st,I._13,it,et,W,K],exports:[O.b,I.f]}]}],te.ctorParameters=function(){return[{type:te,decorators:[{type:I.S},{type:I._8}]}]};var ee="undefined"!=typeof window&&window||{},ne=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}();(function(){function t(t){this.appRef=t.injector.get(I.g)}t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=ee.console.profile;e&&n&&ee.console.profile("Change Detection");for(var r=i().performanceNow(),o=0;o<5||i().performanceNow()-r<500;)this.appRef.tick(),o++;var s=i().performanceNow();e&&n&&ee.console.profileEnd("Change Detection");var a=(s-r)/o;return ee.console.log("ran "+o+" change detection cycles"),ee.console.log(a.toFixed(2)+" ms per check"),new ne(a,o)}})(),function(){function t(){}t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&i().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}}}(),new I._15("4.4.7")},fclq:function(t,e,n){"use strict";function i(t){return"function"==typeof t}e.isFunction=i},fcnB:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=function(t){function e(e){t.call(this),this.scheduler=e}return i(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(r.Observable);e.EmptyObservable=o},g0Kb:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("xFbG"),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(r.Subscription);e.SubjectSubscription=o},g1RG:function(t,e,n){"use strict";function i(t){return function(e){var n=new a(t),i=e.lift(n);return n.caught=i}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("yW9Z"),s=n("ktfo");e.catchError=i;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.selector,this.caught))},t}(),l=function(t){function e(e,n,i){t.call(this,e),this.selector=n,this.caught=i}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(s.subscribeToResult(this,n))}},e}(o.OuterSubscriber)},gvep:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("rlar"),o=n("Lhvy"),s=function(t){function e(e){t.call(this),this._value=e}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject);e.BehaviorSubject=s},jUlM:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("fcnB"),s=n("NSJx"),a=n("ktfo"),l=n("yW9Z"),u=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return i(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new o.EmptyObservable;var i=null;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,i)},e.prototype._subscribe=function(t){return new c(t,this.sources,this.resultSelector)},e}(r.Observable);e.ForkJoinObservable=u;var c=function(t){function e(e,n,i){t.call(this,e),this.sources=n,this.resultSelector=i,this.completed=0,this.haveValues=0;var r=n.length;this.total=r,this.values=new Array(r);for(var o=0;o<r;o++){var s=n[o],l=a.subscribeToResult(this,s,null,o);l&&(l.outerIndex=o,this.add(l))}}return i(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,i=n.haveValues,r=n.resultSelector,o=n.values,s=o.length;if(!t._hasValue)return void e.complete();if(++this.completed===s){if(i===s){var a=r?r.apply(this,o):o;e.next(a)}e.complete()}},e}(l.OuterSubscriber)},kWk1:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("T14+"),o=function(t){function e(e,n,i){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r.Subscriber);e.InnerSubscriber=o},ktfo:function(t,e,n){"use strict";function i(t,e,n,i){var p=new c.InnerSubscriber(t,n,i);if(p.closed)return null;if(e instanceof l.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):(p.syncErrorThrowable=!0,e.subscribe(p));if(o.isArrayLike(e)){for(var d=0,f=e.length;d<f&&!p.closed;d++)p.next(e[d]);p.closed||p.complete()}else{if(s.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){r.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[u.iterator])for(var m=e[u.iterator]();;){var v=m.next();if(v.done){p.complete();break}if(p.next(v.value),p.closed)break}else if(e&&"function"==typeof e[h.observable]){var y=e[h.observable]();if("function"==typeof y.subscribe)return y.subscribe(new c.InnerSubscriber(t,n,i));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=a.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(b))}}return null}var r=n("zijX"),o=n("lhZu"),s=n("mUVF"),a=n("H6Sg"),l=n("bKpL"),u=n("2B7B"),c=n("kWk1"),h=n("DP67");e.subscribeToResult=i},lhZu:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},"lx+J":function(t,e,n){"use strict";function i(t,e){return r.map(t,e)(this)}var r=n("L8VJ");e.map=i},mUVF:function(t,e,n){"use strict";function i(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=i},mihg:function(t,e,n){"use strict";function i(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function r(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("zijX"),a=n("bKpL"),l=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(i,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(i,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(r,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=l},mjx3:function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return"number"==typeof e&&(n=e,e=null),i.lift(new a(t,e,n))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("ktfo"),s=n("yW9Z");e.mergeMap=i;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var l=function(t){function e(e,n,i,r){void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=i,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){this.resultSelector?this._notifyResultSelector(t,e,n,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,i){var r;try{r=this.resultSelector(t,e,n,i)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=l},qbdv:function(t,e,n){"use strict";function i(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function r(t){return t.replace(/\/index.html$/,"")}function o(t,e,n){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function s(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,i=n.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(n)),o=i.length,s=parseInt(i,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?j.One:j.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?j.One:j.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===n?j.One:j.Other;case"ar":return 0===n?j.Zero:1===n?j.One:2===n?j.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?j.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?j.Many:j.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===o?j.One:j.Other;case"be":return n%10==1&&n%100!=11?j.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?j.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?j.Many:j.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?j.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?j.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?j.Few:0!==n&&n%1e6==0?j.Many:j.Other;case"bs":case"hr":case"sr":return 0===o&&r%10==1&&r%100!=11||s%10==1&&s%100!=11?j.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?j.Few:j.Other;case"cs":case"sk":return 1===r&&0===o?j.One:r===Math.floor(r)&&r>=2&&r<=4&&0===o?j.Few:0!==o?j.Many:j.Other;case"cy":return 0===n?j.Zero:1===n?j.One:2===n?j.Two:3===n?j.Few:6===n?j.Many:j.Other;case"da":return 1===n||0!==a&&(0===r||1===r)?j.One:j.Other;case"dsb":case"hsb":return 0===o&&r%100==1||s%100==1?j.One:0===o&&r%100==2||s%100==2?j.Two:0===o&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?j.Few:j.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?j.One:j.Other;case"fil":return 0===o&&(1===r||2===r||3===r)||0===o&&r%10!=4&&r%10!=6&&r%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?j.One:j.Other;case"ga":return 1===n?j.One:2===n?j.Two:n===Math.floor(n)&&n>=3&&n<=6?j.Few:n===Math.floor(n)&&n>=7&&n<=10?j.Many:j.Other;case"gd":return 1===n||11===n?j.One:2===n||12===n?j.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?j.Few:j.Other;case"gv":return 0===o&&r%10==1?j.One:0===o&&r%10==2?j.Two:0!==o||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==o?j.Many:j.Other:j.Few;case"he":return 1===r&&0===o?j.One:2===r&&0===o?j.Two:0!==o||n>=0&&n<=10||n%10!=0?j.Other:j.Many;case"is":return 0===a&&r%10==1&&r%100!=11||0!==a?j.One:j.Other;case"ksh":return 0===n?j.Zero:1===n?j.One:j.Other;case"kw":case"naq":case"se":case"smn":return 1===n?j.One:2===n?j.Two:j.Other;case"lag":return 0===n?j.Zero:0!==r&&1!==r||0===n?j.Other:j.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?j.Few:0!==s?j.Many:j.Other:j.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?j.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?j.One:j.Other;case"mk":return 0===o&&r%10==1||s%10==1?j.One:j.Other;case"mt":return 1===n?j.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?j.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?j.Many:j.Other;case"pl":return 1===r&&0===o?j.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?j.Few:0===o&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===o&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===o&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?j.Many:j.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?j.One:j.Other;case"ro":return 1===r&&0===o?j.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?j.Few:j.Other;case"ru":case"uk":return 0===o&&r%10==1&&r%100!=11?j.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?j.Few:0===o&&r%10==0||0===o&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===o&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?j.Many:j.Other;case"shi":return 0===r||1===n?j.One:n===Math.floor(n)&&n>=2&&n<=10?j.Few:j.Other;case"si":return 0===n||1===n||0===r&&1===s?j.One:j.Other;case"sl":return 0===o&&r%100==1?j.One:0===o&&r%100==2?j.Two:0===o&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==o?j.Few:j.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?j.One:j.Other;default:return j.Other}}function a(t,e){e=encodeURIComponent(e);for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],o=r.indexOf("="),s=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],a=s[0],l=s[1];if(a.trim()===e)return decodeURIComponent(l)}return null}function l(t){return t.name||typeof t}function u(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(P._69)(t)+"'")}function c(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}function h(t){return function(e,n){var i=t(e,n);return 1==i.length?"0"+i:i}}function p(t){return function(e,n){return t(e,n).split(" ")[0]}}function d(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function f(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var i=d(t,n,e);return i?i.substring(3):""}}function m(t,e){return t.hour12=e,t}function v(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function y(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function g(t){return t.reduce(function(t,e){return Object.assign({},t,e)},{})}function b(t){return function(e,n){return d(e,n,t)}}function w(t,e,n){var i=ft[t];if(i)return i(e,n);var r=t,o=vt.get(r);if(!o){o=[];var s=void 0;dt.exec(t);for(var a=t;a;)s=dt.exec(a),s?(o=o.concat(s.slice(1)),a=o.pop()):(o.push(a),a=null);vt.set(r,o)}return o.reduce(function(t,i){var r=mt[i];return t+(r?r(e,n):_(i))},"")}function _(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function C(t,e,n,i,r,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&x(n)?+n:n))throw u(t,n);var a=void 0,l=void 0,c=void 0;if(i!==ht.Currency&&(a=1,l=0,c=3),r){var h=r.match(gt);if(null===h)throw new Error(r+" is not a valid digit info for number pipes");null!=h[1]&&(a=E(h[1])),null!=h[3]&&(l=E(h[3])),null!=h[5]&&(c=E(h[5]))}return pt.format(n,e,i,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}function E(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function x(t){return!isNaN(t-parseFloat(t))}function S(t){return null==t||""===t}function T(t){return t instanceof Date&&!isNaN(t.valueOf())}function k(t){var e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=M(t[9]+t[10]),i=M(t[9]+t[11])),r.call(e,M(t[1]),M(t[2])-1,M(t[3]));var s=M(t[4]||"0")-n,a=M(t[5]||"0")-i,l=M(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,u),e}function M(t){return parseInt(t,10)}n.d(e,"k",function(){return a}),n.d(e,"b",function(){return Pt}),n.d(e,"c",function(){return Ot}),n.d(e,"j",function(){return It}),n.d(e,"i",function(){return A}),n.d(e,"e",function(){return O}),n.d(e,"g",function(){return I}),n.d(e,"a",function(){return N}),n.d(e,"d",function(){return V}),n.d(e,"h",function(){return R}),n.d(e,"f",function(){return L});var D=n("6Xbx"),P=n("/oeL"),A=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},t.prototype.pathname=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),O=new P.D("Location Initialized"),I=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,i){},t.prototype.replaceState=function(t,e,n,i){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),N=new P.D("appBaseHref"),L=function(){function t(e){var n=this;this._subject=new P.x,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(r(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(i(this._baseHref,r(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-("/"===t[n-1]?1:0);return t.slice(0,i)+t.slice(n)},t}();L.decorators=[{type:P.C}],L.ctorParameters=function(){return[{type:I}]};var V=function(t){function e(e,n){var i=t.call(this)||this;return i._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return D.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=L.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(I);V.decorators=[{type:P.C}],V.ctorParameters=function(){return[{type:A},{type:void 0,decorators:[{type:P.S},{type:P.B,args:[N]}]}]};var R=function(t){function e(e,n){var i=t.call(this)||this;if(i._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return D.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return L.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+L.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(I);R.decorators=[{type:P.C}],R.ctorParameters=function(){return[{type:A},{type:void 0,decorators:[{type:P.S},{type:P.B,args:[N]}]}]};var F=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),H=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return D.a(e,t),e.prototype.getPluralCategory=function(t){switch(s(this.locale,t)){case j.Zero:return"zero";case j.One:return"one";case j.Two:return"two";case j.Few:return"few";case j.Many:return"many";default:return"other"}},e}(F);H.decorators=[{type:P.C}],H.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.B,args:[P.I]}]}]};var j={};j.Zero=0,j.One=1,j.Two=2,j.Few=3,j.Many=4,j.Other=5,j[j.Zero]="Zero",j[j.One]="One",j[j.Two]="Two",j[j.Few]="Few",j[j.Many]="Many",j[j.Other]="Other";var B=function(){function t(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(P._54)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(P._69)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(i){null!=t[i]&&n._toggleClass(i,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();B.decorators=[{type:P.u,args:[{selector:"[ngClass]"}]}],B.ctorParameters=function(){return[{type:P.G},{type:P.H},{type:P.v},{type:P._1}]},B.propDecorators={klass:[{type:P.F,args:["class"]}],ngClass:[{type:P.F}]};var U=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(P.P);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(P.q),r=i.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();U.decorators=[{type:P.u,args:[{selector:"[ngComponentOutlet]"}]}],U.ctorParameters=function(){return[{type:P._18}]},U.propDecorators={ngComponentOutlet:[{type:P.F}],ngComponentOutletInjector:[{type:P.F}],ngComponentOutletContent:[{type:P.F}],ngComponentOutletNgModuleFactory:[{type:P.F}]};var q=function(){function t(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),z=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(P._27)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+l(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new q(null,e.ngForOf,-1,-1),r),s=new W(t,o);n.push(s)}else if(null==r)e._viewContainer.remove(i);else{var o=e._viewContainer.get(i);e._viewContainer.move(o,r);var s=new W(t,o);n.push(s)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var i=0,r=this._viewContainer.length;i<r;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=r}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();z.decorators=[{type:P.u,args:[{selector:"[ngFor][ngForOf]"}]}],z.ctorParameters=function(){return[{type:P._18},{type:P._12},{type:P.G}]},z.propDecorators={ngForOf:[{type:P.F}],ngForTrackBy:[{type:P.F}],ngForTemplate:[{type:P.F}]};var W=function(){function t(t,e){this.record=t,this.view=e}return t}(),Y=function(){function t(t,e){this._viewContainer=t,this._context=new G,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();Y.decorators=[{type:P.u,args:[{selector:"[ngIf]"}]}],Y.ctorParameters=function(){return[{type:P._18},{type:P._12}]},Y.propDecorators={ngIf:[{type:P.F}],ngIfThen:[{type:P.F}],ngIfElse:[{type:P.F}]};var G=function(){function t(){this.$implicit=null,this.ngIf=null}return t}(),X=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),K=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();K.decorators=[{type:P.u,args:[{selector:"[ngSwitch]"}]}],K.ctorParameters=function(){return[]},K.propDecorators={ngSwitch:[{type:P.F}]};var Q=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new X(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();Q.decorators=[{type:P.u,args:[{selector:"[ngSwitchCase]"}]}],Q.ctorParameters=function(){return[{type:P._18},{type:P._12},{type:K,decorators:[{type:P.y}]}]},Q.propDecorators={ngSwitchCase:[{type:P.F}]};var Z=function(){function t(t,e,n){n._addDefault(new X(t,e))}return t}();Z.decorators=[{type:P.u,args:[{selector:"[ngSwitchDefault]"}]}],Z.ctorParameters=function(){return[{type:P._18},{type:P._12},{type:K,decorators:[{type:P.y}]}]};var J=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=o(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();J.decorators=[{type:P.u,args:[{selector:"[ngPlural]"}]}],J.ctorParameters=function(){return[{type:F}]},J.propDecorators={ngPlural:[{type:P.F}]};var $=function(){function t(t,e,n,i){this.value=t;var r=!isNaN(Number(t));i.addCase(r?"="+t:t,new X(n,e))}return t}();$.decorators=[{type:P.u,args:[{selector:"[ngPluralCase]"}]}],$.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.h,args:["ngPluralCase"]}]},{type:P._12},{type:P._18},{type:J,decorators:[{type:P.y}]}]};var tt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),i=n[0],r=n[1];e=null!=e&&r?""+e+r:e,this._renderer.setElementStyle(this._ngEl.nativeElement,i,e)},t}();tt.decorators=[{type:P.u,args:[{selector:"[ngStyle]"}]}],tt.ctorParameters=function(){return[{type:P.H},{type:P.v},{type:P._1}]},tt.propDecorators={ngStyle:[{type:P.F}]};var et=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();et.decorators=[{type:P.u,args:[{selector:"[ngTemplateOutlet]"}]}],et.ctorParameters=function(){return[{type:P._18}]},et.propDecorators={ngTemplateOutletContext:[{type:P.F}],ngTemplateOutlet:[{type:P.F}],ngOutletContext:[{type:P.F}]};var nt=[B,U,z,Y,et,tt,K,Q,Z,J,$],it=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),rt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),ot=new rt,st=new it,at=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,P._20.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(P._56)(e))return ot;if(Object(P._55)(e))return st;throw u(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();at.decorators=[{type:P.X,args:[{name:"async",pure:!1}]}],at.ctorParameters=function(){return[{type:P.l}]};var lt=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toLowerCase()},t}();lt.decorators=[{type:P.X,args:[{name:"lowercase"}]}],lt.ctorParameters=function(){return[]};var ut=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.split(/\b/g).map(function(t){return c(t)}).join("")},t}();ut.decorators=[{type:P.X,args:[{name:"titlecase"}]}],ut.ctorParameters=function(){return[]};var ct=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toUpperCase()},t}();ct.decorators=[{type:P.X,args:[{name:"uppercase"}]}],ct.ctorParameters=function(){return[]};var ht={};ht.Decimal=0,ht.Percent=1,ht.Currency=2,ht[ht.Decimal]="Decimal",ht[ht.Percent]="Percent",ht[ht.Currency]="Currency";var pt=function(){function t(){}return t.format=function(t,e,n,i){void 0===i&&(i={});var r=i.minimumIntegerDigits,o=i.minimumFractionDigits,s=i.maximumFractionDigits,a=i.currency,l=i.currencyAsSymbol,u=void 0!==l&&l,c={minimumIntegerDigits:r,minimumFractionDigits:o,maximumFractionDigits:s,style:ht[n].toLowerCase()};return n==ht.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=u?"symbol":"code"),new Intl.NumberFormat(e,c).format(t)},t}(),dt=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ft={yMMMdjms:b(g([v("year",1),y("month",3),v("day",1),v("hour",1),v("minute",1),v("second",1)])),yMdjm:b(g([v("year",1),v("month",1),v("day",1),v("hour",1),v("minute",1)])),yMMMMEEEEd:b(g([v("year",1),y("month",4),y("weekday",4),v("day",1)])),yMMMMd:b(g([v("year",1),y("month",4),v("day",1)])),yMMMd:b(g([v("year",1),y("month",3),v("day",1)])),yMd:b(g([v("year",1),v("month",1),v("day",1)])),jms:b(g([v("hour",1),v("second",1),v("minute",1)])),jm:b(g([v("hour",1),v("minute",1)]))},mt={yyyy:b(v("year",4)),yy:b(v("year",2)),y:b(v("year",1)),MMMM:b(y("month",4)),MMM:b(y("month",3)),MM:b(v("month",2)),M:b(v("month",1)),LLLL:b(y("month",4)),L:b(y("month",1)),dd:b(v("day",2)),d:b(v("day",1)),HH:h(p(b(m(v("hour",2),!1)))),H:p(b(m(v("hour",1),!1))),hh:h(p(b(m(v("hour",2),!0)))),h:p(b(m(v("hour",1),!0))),jj:b(v("hour",2)),j:b(v("hour",1)),mm:h(b(v("minute",2))),m:b(v("minute",1)),ss:h(b(v("second",2))),s:b(v("second",1)),sss:b(v("second",3)),EEEE:b(y("weekday",4)),EEE:b(y("weekday",3)),EE:b(y("weekday",2)),E:b(y("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(b(m(v("hour",1),!0))),Z:f("short"),z:f("long"),ww:b({}),w:b({}),G:b(y("era",1)),GG:b(y("era",2)),GGG:b(y("era",3)),GGGG:b(y("era",4))},vt=new Map,yt=function(){function t(){}return t.format=function(t,e,n){return w(n,t,e)},t}(),gt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,bt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return C(t,this._locale,e,ht.Decimal,n)},t}();bt.decorators=[{type:P.X,args:[{name:"number"}]}],bt.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.B,args:[P.I]}]}]};var wt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return C(t,this._locale,e,ht.Percent,n)},t}();wt.decorators=[{type:P.X,args:[{name:"percent"}]}],wt.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.B,args:[P.I]}]}]};var _t=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,i,r){return void 0===n&&(n="USD"),void 0===i&&(i=!1),C(t,this._locale,e,ht.Currency,r,n,i)},t}();_t.decorators=[{type:P.X,args:[{name:"currency"}]}],_t.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.B,args:[P.I]}]}]};var Ct=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Et=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var i;if(S(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),T(e))i=e;else if(x(e))i=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=e.split("-").map(function(t){return parseInt(t,10)}),o=r[0],s=r[1],a=r[2];i=new Date(o,s-1,a)}else i=new Date(e);if(!T(i)){var l=void 0;if("string"!=typeof e||!(l=e.match(Ct)))throw u(t,e);i=k(l)}return yt.format(i,this._locale,t._ALIASES[n]||n)},t}();Et._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Et.decorators=[{type:P.X,args:[{name:"date",pure:!0}]}],Et.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.B,args:[P.I]}]}]};var xt=/#/g,St=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw u(t,n);return n[o(e,Object.keys(n),this._localization)].replace(xt,e.toString())},t}();St.decorators=[{type:P.X,args:[{name:"i18nPlural",pure:!0}]}],St.ctorParameters=function(){return[{type:F}]};var Tt=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw u(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();Tt.decorators=[{type:P.X,args:[{name:"i18nSelect",pure:!0}]}],Tt.ctorParameters=function(){return[]};var kt=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();kt.decorators=[{type:P.X,args:[{name:"json",pure:!1}]}],kt.ctorParameters=function(){return[]};var Mt=function(){function t(){}return t.prototype.transform=function(e,n,i){if(null==e)return e;if(!this.supports(e))throw u(t,e);return e.slice(n,i)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();Mt.decorators=[{type:P.X,args:[{name:"slice",pure:!1}]}],Mt.ctorParameters=function(){return[]};var Dt=[at,ct,lt,kt,Mt,bt,wt,ut,_t,Et,St,Tt],Pt=function(){function t(){}return t}();Pt.decorators=[{type:P.M,args:[{declarations:[nt,Dt],exports:[nt,Dt],providers:[{provide:F,useClass:H}]}]}],Pt.ctorParameters=function(){return[]};var At=function(){function t(){}return t}();At.decorators=[{type:P.M,args:[{declarations:[],exports:[]}]}],At.ctorParameters=function(){return[]};var Ot=new P.D("DocumentToken"),It="browser";new P._15("4.4.7")},rP7Y:function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},rf3q:function(t,e,n){"use strict";function i(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(s.empty)}var r=n("T14+"),o=n("dkwD"),s=n("LiYJ");e.toSubscriber=i},rlar:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("T14+"),s=n("xFbG"),a=n("Lhvy"),l=n("g0Kb"),u=n("dkwD"),c=function(t){function e(e){t.call(this,e),this.destination=e}return i(e,t),e}(o.Subscriber);e.SubjectSubscriber=c;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return i(e,t),e.prototype[u.rxSubscriber]=function(){return new c(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(r.Observable);e.Subject=h;var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},"uT+d":function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.ArgumentOutOfRangeError=r},ueUM:function(t,e,n){"use strict";function i(t){return r.catchError(t)(this)}var r=n("g1RG");e._catch=i},vxPf:function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r(t)}function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:o.noop}var o=n("Z5ED");e.pipe=i,e.pipeFromArray=r},wCVK:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("aOKN"),s=n("fcnB"),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,n){var i=t.length;return 0===i?new s.EmptyObservable:1===i?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,i=t.length,r=t.subscriber;if(!r.closed){if(n>=i)return void r.complete();r.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,i=n.arrayLike,r=n.scheduler,o=i.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:i,index:0,length:o,subscriber:t});for(var s=0;s<o&&!t.closed;s++)t.next(i[s]);t.complete()},e}(r.Observable);e.ArrayLikeObservable=a},wZOE:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("aOKN"),s=n("fcnB"),a=n("MicL"),l=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var i=t[t.length-1];a.isScheduler(i)?t.pop():i=null;var r=t.length;return r>1?new e(t,i):1===r?new o.ScalarObservable(t[0],i):new s.EmptyObservable(i)},e.dispatch=function(t){var e=t.array,n=t.index,i=t.count,r=t.subscriber;if(n>=i)return void r.complete();r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,i=n.length,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{array:n,index:0,count:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(r.Observable);e.ArrayObservable=l},xFbG:function(t,e,n){"use strict";function i(t){return t.reduce(function(t,e){return t.concat(e instanceof u.UnsubscriptionError?e.errors:e)},[])}var r=n("NSJx"),o=n("H6Sg"),s=n("fclq"),a=n("RdI5"),l=n("XRvs"),u=n("Emqh"),c=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,c=n._parent,h=n._parents,p=n._unsubscribe,d=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,m=h?h.length:0;c;)c.remove(this),c=++f<m&&h[f]||null;if(s.isFunction(p)){var v=a.tryCatch(p).call(this);v===l.errorObject&&(e=!0,t=t||(l.errorObject.e instanceof u.UnsubscriptionError?i(l.errorObject.e.errors):[l.errorObject.e]))}if(r.isArray(d))for(f=-1,m=d.length;++f<m;){var y=d[f];if(o.isObject(y)){var v=a.tryCatch(y.unsubscribe).call(y);if(v===l.errorObject){e=!0,t=t||[];var g=l.errorObject.e;g instanceof u.UnsubscriptionError?t=t.concat(i(g.errors)):t.push(g)}}}if(e)throw new u.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;n=new t,n._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,i=e._parents;n&&n!==t?i?-1===i.indexOf(t)&&i.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=c},xKl2:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("rlar"),o=n("bKpL"),s=n("T14+"),a=n("xFbG"),l=n("F9px"),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new a.Subscription,t.add(this.source.subscribe(new h(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return l.refCount()(this)},e}(o.Observable);e.ConnectableObservable=u;var c=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var h=function(t){function e(e,n){t.call(this,e),this.connectable=n}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.SubjectSubscriber),p=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new p(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}(),function(t){function e(e,n){t.call(this,e),this.connectable=n}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()},e}(s.Subscriber))},xpf9:function(t,e,n){"use strict";var i=n("bKpL"),r=n("ueUM");i.Observable.prototype.catch=r._catch,i.Observable.prototype._catch=r._catch},yW9Z:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("T14+"),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.Subscriber);e.OuterSubscriber=o},zijX:function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r=void 0!==t&&t,o=n||r||i;e.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n("fRUx"))},zrH4:function(t,e,n){"use strict";function i(t,e,n){return function(i){return i.lift(new a(t,e,n,i))}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("TpsG");e.last=i;var a=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),l=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.hasValue=!1,this.index=0,void 0!==r&&(this.lastValue=r,this.hasValue=!0)}return r(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)}});